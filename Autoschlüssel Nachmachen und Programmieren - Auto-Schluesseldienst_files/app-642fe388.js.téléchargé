var Id="top",jm="bottom",Zm="right",Ld="left",IV="auto",PO=[Id,jm,Zm,Ld],r2="start",hO="end",Rre="clippingParents",see="viewport",eO="popper",Mre="reference",hQ=PO.reduce(function(i,r){return i.concat([r+"-"+r2,r+"-"+hO])},[]),ree=[].concat(PO,[IV]).reduce(function(i,r){return i.concat([r,r+"-"+r2,r+"-"+hO])},[]),$re="beforeRead",Pre="read",Bre="afterRead",Ire="beforeMain",Lre="main",Fre="afterMain",Hre="beforeWrite",Vre="write",zre="afterWrite",Wre=[$re,Pre,Bre,Ire,Lre,Fre,Hre,Vre,zre];function g1(i){return i?(i.nodeName||"").toLowerCase():null}function np(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var r=i.ownerDocument;return r&&r.defaultView||window}return i}function i2(i){var r=np(i).Element;return i instanceof r||i instanceof Element}function Xh(i){var r=np(i).HTMLElement;return i instanceof r||i instanceof HTMLElement}function iee(i){if(typeof ShadowRoot>"u")return!1;var r=np(i).ShadowRoot;return i instanceof r||i instanceof ShadowRoot}function Mue(i){var r=i.state;Object.keys(r.elements).forEach(function(l){var h=r.styles[l]||{},y=r.attributes[l]||{},w=r.elements[l];!Xh(w)||!g1(w)||(Object.assign(w.style,h),Object.keys(y).forEach(function(E){var A=y[E];A===!1?w.removeAttribute(E):w.setAttribute(E,A===!0?"":A)}))})}function $ue(i){var r=i.state,l={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,l.popper),r.styles=l,r.elements.arrow&&Object.assign(r.elements.arrow.style,l.arrow),function(){Object.keys(r.elements).forEach(function(h){var y=r.elements[h],w=r.attributes[h]||{},E=Object.keys(r.styles.hasOwnProperty(h)?r.styles[h]:l[h]),A=E.reduce(function(R,H){return R[H]="",R},{});!Xh(y)||!g1(y)||(Object.assign(y.style,A),Object.keys(w).forEach(function(R){y.removeAttribute(R)}))})}}const aee={name:"applyStyles",enabled:!0,phase:"write",fn:Mue,effect:$ue,requires:["computeStyles"]};function m1(i){return i.split("-")[0]}var XE=Math.max,dV=Math.min,pO=Math.round;function pQ(){var i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function Ure(){return!/^((?!chrome|android).)*safari/i.test(pQ())}function gO(i,r,l){r===void 0&&(r=!1),l===void 0&&(l=!1);var h=i.getBoundingClientRect(),y=1,w=1;r&&Xh(i)&&(y=i.offsetWidth>0&&pO(h.width)/i.offsetWidth||1,w=i.offsetHeight>0&&pO(h.height)/i.offsetHeight||1);var E=i2(i)?np(i):window,A=E.visualViewport,R=!Ure()&&l,H=(h.left+(R&&A?A.offsetLeft:0))/y,j=(h.top+(R&&A?A.offsetTop:0))/w,Q=h.width/y,le=h.height/w;return{width:Q,height:le,top:j,right:H+Q,bottom:j+le,left:H,x:H,y:j}}function cee(i){var r=gO(i),l=i.offsetWidth,h=i.offsetHeight;return Math.abs(r.width-l)<=1&&(l=r.width),Math.abs(r.height-h)<=1&&(h=r.height),{x:i.offsetLeft,y:i.offsetTop,width:l,height:h}}function jre(i,r){var l=r.getRootNode&&r.getRootNode();if(i.contains(r))return!0;if(l&&iee(l)){var h=r;do{if(h&&i.isSameNode(h))return!0;h=h.parentNode||h.host}while(h)}return!1}function w0(i){return np(i).getComputedStyle(i)}function Pue(i){return["table","td","th"].indexOf(g1(i))>=0}function hw(i){return((i2(i)?i.ownerDocument:i.document)||window.document).documentElement}function LV(i){return g1(i)==="html"?i:i.assignedSlot||i.parentNode||(iee(i)?i.host:null)||hw(i)}function foe(i){return!Xh(i)||w0(i).position==="fixed"?null:i.offsetParent}function Bue(i){var r=/firefox/i.test(pQ()),l=/Trident/i.test(pQ());if(l&&Xh(i)){var h=w0(i);if(h.position==="fixed")return null}var y=LV(i);for(iee(y)&&(y=y.host);Xh(y)&&["html","body"].indexOf(g1(y))<0;){var w=w0(y);if(w.transform!=="none"||w.perspective!=="none"||w.contain==="paint"||["transform","perspective"].indexOf(w.willChange)!==-1||r&&w.willChange==="filter"||r&&w.filter&&w.filter!=="none")return y;y=y.parentNode}return null}function X$(i){for(var r=np(i),l=foe(i);l&&Pue(l)&&w0(l).position==="static";)l=foe(l);return l&&(g1(l)==="html"||g1(l)==="body"&&w0(l).position==="static")?r:l||Bue(i)||r}function lee(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function w$(i,r,l){return XE(i,dV(r,l))}function Iue(i,r,l){var h=w$(i,r,l);return h>l?l:h}function Zre(){return{top:0,right:0,bottom:0,left:0}}function Kre(i){return Object.assign({},Zre(),i)}function qre(i,r){return r.reduce(function(l,h){return l[h]=i,l},{})}var Lue=function(r,l){return r=typeof r=="function"?r(Object.assign({},l.rects,{placement:l.placement})):r,Kre(typeof r!="number"?r:qre(r,PO))};function Fue(i){var r,l=i.state,h=i.name,y=i.options,w=l.elements.arrow,E=l.modifiersData.popperOffsets,A=m1(l.placement),R=lee(A),H=[Ld,Zm].indexOf(A)>=0,j=H?"height":"width";if(!(!w||!E)){var Q=Lue(y.padding,l),le=cee(w),pe=R==="y"?Id:Ld,me=R==="y"?jm:Zm,ve=l.rects.reference[j]+l.rects.reference[R]-E[R]-l.rects.popper[j],Ee=E[R]-l.rects.reference[R],Me=X$(w),ce=Me?R==="y"?Me.clientHeight||0:Me.clientWidth||0:0,q=ve/2-Ee/2,ke=Q[pe],ze=ce-le[j]-Q[me],We=ce/2-le[j]/2+q,J=w$(ke,We,ze),Te=R;l.modifiersData[h]=(r={},r[Te]=J,r.centerOffset=J-We,r)}}function Hue(i){var r=i.state,l=i.options,h=l.element,y=h===void 0?"[data-popper-arrow]":h;y!=null&&(typeof y=="string"&&(y=r.elements.popper.querySelector(y),!y)||jre(r.elements.popper,y)&&(r.elements.arrow=y))}const Gre={name:"arrow",enabled:!0,phase:"main",fn:Fue,effect:Hue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bO(i){return i.split("-")[1]}var Vue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zue(i){var r=i.x,l=i.y,h=window,y=h.devicePixelRatio||1;return{x:pO(r*y)/y||0,y:pO(l*y)/y||0}}function moe(i){var r,l=i.popper,h=i.popperRect,y=i.placement,w=i.variation,E=i.offsets,A=i.position,R=i.gpuAcceleration,H=i.adaptive,j=i.roundOffsets,Q=i.isFixed,le=E.x,pe=le===void 0?0:le,me=E.y,ve=me===void 0?0:me,Ee=typeof j=="function"?j({x:pe,y:ve}):{x:pe,y:ve};pe=Ee.x,ve=Ee.y;var Me=E.hasOwnProperty("x"),ce=E.hasOwnProperty("y"),q=Ld,ke=Id,ze=window;if(H){var We=X$(l),J="clientHeight",Te="clientWidth";if(We===np(l)&&(We=hw(l),w0(We).position!=="static"&&A==="absolute"&&(J="scrollHeight",Te="scrollWidth")),We=We,y===Id||(y===Ld||y===Zm)&&w===hO){ke=jm;var Ge=Q&&We===ze&&ze.visualViewport?ze.visualViewport.height:We[J];ve-=Ge-h.height,ve*=R?1:-1}if(y===Ld||(y===Id||y===jm)&&w===hO){q=Zm;var Ue=Q&&We===ze&&ze.visualViewport?ze.visualViewport.width:We[Te];pe-=Ue-h.width,pe*=R?1:-1}}var ye=Object.assign({position:A},H&&Vue),ie=j===!0?zue({x:pe,y:ve}):{x:pe,y:ve};if(pe=ie.x,ve=ie.y,R){var Tt;return Object.assign({},ye,(Tt={},Tt[ke]=ce?"0":"",Tt[q]=Me?"0":"",Tt.transform=(ze.devicePixelRatio||1)<=1?"translate("+pe+"px, "+ve+"px)":"translate3d("+pe+"px, "+ve+"px, 0)",Tt))}return Object.assign({},ye,(r={},r[ke]=ce?ve+"px":"",r[q]=Me?pe+"px":"",r.transform="",r))}function Wue(i){var r=i.state,l=i.options,h=l.gpuAcceleration,y=h===void 0?!0:h,w=l.adaptive,E=w===void 0?!0:w,A=l.roundOffsets,R=A===void 0?!0:A,H={placement:m1(r.placement),variation:bO(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:y,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,moe(Object.assign({},H,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:E,roundOffsets:R})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,moe(Object.assign({},H,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:R})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const uee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Wue,data:{}};var b8={passive:!0};function Uue(i){var r=i.state,l=i.instance,h=i.options,y=h.scroll,w=y===void 0?!0:y,E=h.resize,A=E===void 0?!0:E,R=np(r.elements.popper),H=[].concat(r.scrollParents.reference,r.scrollParents.popper);return w&&H.forEach(function(j){j.addEventListener("scroll",l.update,b8)}),A&&R.addEventListener("resize",l.update,b8),function(){w&&H.forEach(function(j){j.removeEventListener("scroll",l.update,b8)}),A&&R.removeEventListener("resize",l.update,b8)}}const dee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Uue,data:{}};var jue={left:"right",right:"left",bottom:"top",top:"bottom"};function j8(i){return i.replace(/left|right|bottom|top/g,function(r){return jue[r]})}var Zue={start:"end",end:"start"};function hoe(i){return i.replace(/start|end/g,function(r){return Zue[r]})}function fee(i){var r=np(i),l=r.pageXOffset,h=r.pageYOffset;return{scrollLeft:l,scrollTop:h}}function mee(i){return gO(hw(i)).left+fee(i).scrollLeft}function Kue(i,r){var l=np(i),h=hw(i),y=l.visualViewport,w=h.clientWidth,E=h.clientHeight,A=0,R=0;if(y){w=y.width,E=y.height;var H=Ure();(H||!H&&r==="fixed")&&(A=y.offsetLeft,R=y.offsetTop)}return{width:w,height:E,x:A+mee(i),y:R}}function que(i){var r,l=hw(i),h=fee(i),y=(r=i.ownerDocument)==null?void 0:r.body,w=XE(l.scrollWidth,l.clientWidth,y?y.scrollWidth:0,y?y.clientWidth:0),E=XE(l.scrollHeight,l.clientHeight,y?y.scrollHeight:0,y?y.clientHeight:0),A=-h.scrollLeft+mee(i),R=-h.scrollTop;return w0(y||l).direction==="rtl"&&(A+=XE(l.clientWidth,y?y.clientWidth:0)-w),{width:w,height:E,x:A,y:R}}function hee(i){var r=w0(i),l=r.overflow,h=r.overflowX,y=r.overflowY;return/auto|scroll|overlay|hidden/.test(l+y+h)}function Yre(i){return["html","body","#document"].indexOf(g1(i))>=0?i.ownerDocument.body:Xh(i)&&hee(i)?i:Yre(LV(i))}function C$(i,r){var l;r===void 0&&(r=[]);var h=Yre(i),y=h===((l=i.ownerDocument)==null?void 0:l.body),w=np(h),E=y?[w].concat(w.visualViewport||[],hee(h)?h:[]):h,A=r.concat(E);return y?A:A.concat(C$(LV(E)))}function gQ(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Gue(i,r){var l=gO(i,!1,r==="fixed");return l.top=l.top+i.clientTop,l.left=l.left+i.clientLeft,l.bottom=l.top+i.clientHeight,l.right=l.left+i.clientWidth,l.width=i.clientWidth,l.height=i.clientHeight,l.x=l.left,l.y=l.top,l}function poe(i,r,l){return r===see?gQ(Kue(i,l)):i2(r)?Gue(r,l):gQ(que(hw(i)))}function Yue(i){var r=C$(LV(i)),l=["absolute","fixed"].indexOf(w0(i).position)>=0,h=l&&Xh(i)?X$(i):i;return i2(h)?r.filter(function(y){return i2(y)&&jre(y,h)&&g1(y)!=="body"}):[]}function Xue(i,r,l,h){var y=r==="clippingParents"?Yue(i):[].concat(r),w=[].concat(y,[l]),E=w[0],A=w.reduce(function(R,H){var j=poe(i,H,h);return R.top=XE(j.top,R.top),R.right=dV(j.right,R.right),R.bottom=dV(j.bottom,R.bottom),R.left=XE(j.left,R.left),R},poe(i,E,h));return A.width=A.right-A.left,A.height=A.bottom-A.top,A.x=A.left,A.y=A.top,A}function Xre(i){var r=i.reference,l=i.element,h=i.placement,y=h?m1(h):null,w=h?bO(h):null,E=r.x+r.width/2-l.width/2,A=r.y+r.height/2-l.height/2,R;switch(y){case Id:R={x:E,y:r.y-l.height};break;case jm:R={x:E,y:r.y+r.height};break;case Zm:R={x:r.x+r.width,y:A};break;case Ld:R={x:r.x-l.width,y:A};break;default:R={x:r.x,y:r.y}}var H=y?lee(y):null;if(H!=null){var j=H==="y"?"height":"width";switch(w){case r2:R[H]=R[H]-(r[j]/2-l[j]/2);break;case hO:R[H]=R[H]+(r[j]/2-l[j]/2);break}}return R}function vO(i,r){r===void 0&&(r={});var l=r,h=l.placement,y=h===void 0?i.placement:h,w=l.strategy,E=w===void 0?i.strategy:w,A=l.boundary,R=A===void 0?Rre:A,H=l.rootBoundary,j=H===void 0?see:H,Q=l.elementContext,le=Q===void 0?eO:Q,pe=l.altBoundary,me=pe===void 0?!1:pe,ve=l.padding,Ee=ve===void 0?0:ve,Me=Kre(typeof Ee!="number"?Ee:qre(Ee,PO)),ce=le===eO?Mre:eO,q=i.rects.popper,ke=i.elements[me?ce:le],ze=Xue(i2(ke)?ke:ke.contextElement||hw(i.elements.popper),R,j,E),We=gO(i.elements.reference),J=Xre({reference:We,element:q,strategy:"absolute",placement:y}),Te=gQ(Object.assign({},q,J)),Ge=le===eO?Te:We,Ue={top:ze.top-Ge.top+Me.top,bottom:Ge.bottom-ze.bottom+Me.bottom,left:ze.left-Ge.left+Me.left,right:Ge.right-ze.right+Me.right},ye=i.modifiersData.offset;if(le===eO&&ye){var ie=ye[y];Object.keys(Ue).forEach(function(Tt){var vt=[Zm,jm].indexOf(Tt)>=0?1:-1,xt=[Id,jm].indexOf(Tt)>=0?"y":"x";Ue[Tt]+=ie[xt]*vt})}return Ue}function Jue(i,r){r===void 0&&(r={});var l=r,h=l.placement,y=l.boundary,w=l.rootBoundary,E=l.padding,A=l.flipVariations,R=l.allowedAutoPlacements,H=R===void 0?ree:R,j=bO(h),Q=j?A?hQ:hQ.filter(function(me){return bO(me)===j}):PO,le=Q.filter(function(me){return H.indexOf(me)>=0});le.length===0&&(le=Q);var pe=le.reduce(function(me,ve){return me[ve]=vO(i,{placement:ve,boundary:y,rootBoundary:w,padding:E})[m1(ve)],me},{});return Object.keys(pe).sort(function(me,ve){return pe[me]-pe[ve]})}function Que(i){if(m1(i)===IV)return[];var r=j8(i);return[hoe(i),r,hoe(r)]}function ede(i){var r=i.state,l=i.options,h=i.name;if(!r.modifiersData[h]._skip){for(var y=l.mainAxis,w=y===void 0?!0:y,E=l.altAxis,A=E===void 0?!0:E,R=l.fallbackPlacements,H=l.padding,j=l.boundary,Q=l.rootBoundary,le=l.altBoundary,pe=l.flipVariations,me=pe===void 0?!0:pe,ve=l.allowedAutoPlacements,Ee=r.options.placement,Me=m1(Ee),ce=Me===Ee,q=R||(ce||!me?[j8(Ee)]:Que(Ee)),ke=[Ee].concat(q).reduce(function(so,Mo){return so.concat(m1(Mo)===IV?Jue(r,{placement:Mo,boundary:j,rootBoundary:Q,padding:H,flipVariations:me,allowedAutoPlacements:ve}):Mo)},[]),ze=r.rects.reference,We=r.rects.popper,J=new Map,Te=!0,Ge=ke[0],Ue=0;Ue<ke.length;Ue++){var ye=ke[Ue],ie=m1(ye),Tt=bO(ye)===r2,vt=[Id,jm].indexOf(ie)>=0,xt=vt?"width":"height",I=vO(r,{placement:ye,boundary:j,rootBoundary:Q,altBoundary:le,padding:H}),ln=vt?Tt?Zm:Ld:Tt?jm:Id;ze[xt]>We[xt]&&(ln=j8(ln));var ot=j8(ln),Xn=[];if(w&&Xn.push(I[ie]<=0),A&&Xn.push(I[ln]<=0,I[ot]<=0),Xn.every(function(so){return so})){Ge=ye,Te=!1;break}J.set(ye,Xn)}if(Te)for(var hn=me?3:1,lt=function(Mo){var at=ke.find(function(wt){var Y=J.get(wt);if(Y)return Y.slice(0,Mo).every(function(vr){return vr})});if(at)return Ge=at,"break"},mo=hn;mo>0;mo--){var ks=lt(mo);if(ks==="break")break}r.placement!==Ge&&(r.modifiersData[h]._skip=!0,r.placement=Ge,r.reset=!0)}}const Jre={name:"flip",enabled:!0,phase:"main",fn:ede,requiresIfExists:["offset"],data:{_skip:!1}};function goe(i,r,l){return l===void 0&&(l={x:0,y:0}),{top:i.top-r.height-l.y,right:i.right-r.width+l.x,bottom:i.bottom-r.height+l.y,left:i.left-r.width-l.x}}function boe(i){return[Id,Zm,jm,Ld].some(function(r){return i[r]>=0})}function tde(i){var r=i.state,l=i.name,h=r.rects.reference,y=r.rects.popper,w=r.modifiersData.preventOverflow,E=vO(r,{elementContext:"reference"}),A=vO(r,{altBoundary:!0}),R=goe(E,h),H=goe(A,y,w),j=boe(R),Q=boe(H);r.modifiersData[l]={referenceClippingOffsets:R,popperEscapeOffsets:H,isReferenceHidden:j,hasPopperEscaped:Q},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":Q})}const Qre={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:tde};function nde(i,r,l){var h=m1(i),y=[Ld,Id].indexOf(h)>=0?-1:1,w=typeof l=="function"?l(Object.assign({},r,{placement:i})):l,E=w[0],A=w[1];return E=E||0,A=(A||0)*y,[Ld,Zm].indexOf(h)>=0?{x:A,y:E}:{x:E,y:A}}function ode(i){var r=i.state,l=i.options,h=i.name,y=l.offset,w=y===void 0?[0,0]:y,E=ree.reduce(function(j,Q){return j[Q]=nde(Q,r.rects,w),j},{}),A=E[r.placement],R=A.x,H=A.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=R,r.modifiersData.popperOffsets.y+=H),r.modifiersData[h]=E}const eie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ode};function sde(i){var r=i.state,l=i.name;r.modifiersData[l]=Xre({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const pee={name:"popperOffsets",enabled:!0,phase:"read",fn:sde,data:{}};function rde(i){return i==="x"?"y":"x"}function ide(i){var r=i.state,l=i.options,h=i.name,y=l.mainAxis,w=y===void 0?!0:y,E=l.altAxis,A=E===void 0?!1:E,R=l.boundary,H=l.rootBoundary,j=l.altBoundary,Q=l.padding,le=l.tether,pe=le===void 0?!0:le,me=l.tetherOffset,ve=me===void 0?0:me,Ee=vO(r,{boundary:R,rootBoundary:H,padding:Q,altBoundary:j}),Me=m1(r.placement),ce=bO(r.placement),q=!ce,ke=lee(Me),ze=rde(ke),We=r.modifiersData.popperOffsets,J=r.rects.reference,Te=r.rects.popper,Ge=typeof ve=="function"?ve(Object.assign({},r.rects,{placement:r.placement})):ve,Ue=typeof Ge=="number"?{mainAxis:Ge,altAxis:Ge}:Object.assign({mainAxis:0,altAxis:0},Ge),ye=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,ie={x:0,y:0};if(We){if(w){var Tt,vt=ke==="y"?Id:Ld,xt=ke==="y"?jm:Zm,I=ke==="y"?"height":"width",ln=We[ke],ot=ln+Ee[vt],Xn=ln-Ee[xt],hn=pe?-Te[I]/2:0,lt=ce===r2?J[I]:Te[I],mo=ce===r2?-Te[I]:-J[I],ks=r.elements.arrow,so=pe&&ks?cee(ks):{width:0,height:0},Mo=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:Zre(),at=Mo[vt],wt=Mo[xt],Y=w$(0,J[I],so[I]),vr=q?J[I]/2-hn-Y-at-Ue.mainAxis:lt-Y-at-Ue.mainAxis,_o=q?-J[I]/2+hn+Y+wt+Ue.mainAxis:mo+Y+wt+Ue.mainAxis,Ho=r.elements.arrow&&X$(r.elements.arrow),we=Ho?ke==="y"?Ho.clientTop||0:Ho.clientLeft||0:0,Ze=(Tt=ye==null?void 0:ye[ke])!=null?Tt:0,je=ln+vr-Ze-we,pt=ln+_o-Ze,Ye=w$(pe?dV(ot,je):ot,ln,pe?XE(Xn,pt):Xn);We[ke]=Ye,ie[ke]=Ye-ln}if(A){var Ae,Jt=ke==="x"?Id:Ld,Wt=ke==="x"?jm:Zm,st=We[ze],Bt=ze==="y"?"height":"width",tn=st+Ee[Jt],vn=st-Ee[Wt],nn=[Id,Ld].indexOf(Me)!==-1,kn=(Ae=ye==null?void 0:ye[ze])!=null?Ae:0,lo=nn?tn:st-J[Bt]-Te[Bt]-kn+Ue.altAxis,vo=nn?st+J[Bt]+Te[Bt]-kn-Ue.altAxis:vn,Qn=pe&&nn?Iue(lo,st,vo):w$(pe?lo:tn,st,pe?vo:vn);We[ze]=Qn,ie[ze]=Qn-st}r.modifiersData[h]=ie}}const tie={name:"preventOverflow",enabled:!0,phase:"main",fn:ide,requiresIfExists:["offset"]};function ade(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function cde(i){return i===np(i)||!Xh(i)?fee(i):ade(i)}function lde(i){var r=i.getBoundingClientRect(),l=pO(r.width)/i.offsetWidth||1,h=pO(r.height)/i.offsetHeight||1;return l!==1||h!==1}function ude(i,r,l){l===void 0&&(l=!1);var h=Xh(r),y=Xh(r)&&lde(r),w=hw(r),E=gO(i,y,l),A={scrollLeft:0,scrollTop:0},R={x:0,y:0};return(h||!h&&!l)&&((g1(r)!=="body"||hee(w))&&(A=cde(r)),Xh(r)?(R=gO(r,!0),R.x+=r.clientLeft,R.y+=r.clientTop):w&&(R.x=mee(w))),{x:E.left+A.scrollLeft-R.x,y:E.top+A.scrollTop-R.y,width:E.width,height:E.height}}function dde(i){var r=new Map,l=new Set,h=[];i.forEach(function(w){r.set(w.name,w)});function y(w){l.add(w.name);var E=[].concat(w.requires||[],w.requiresIfExists||[]);E.forEach(function(A){if(!l.has(A)){var R=r.get(A);R&&y(R)}}),h.push(w)}return i.forEach(function(w){l.has(w.name)||y(w)}),h}function fde(i){var r=dde(i);return Wre.reduce(function(l,h){return l.concat(r.filter(function(y){return y.phase===h}))},[])}function mde(i){var r;return function(){return r||(r=new Promise(function(l){Promise.resolve().then(function(){r=void 0,l(i())})})),r}}function hde(i){var r=i.reduce(function(l,h){var y=l[h.name];return l[h.name]=y?Object.assign({},y,h,{options:Object.assign({},y.options,h.options),data:Object.assign({},y.data,h.data)}):h,l},{});return Object.keys(r).map(function(l){return r[l]})}var voe={placement:"bottom",modifiers:[],strategy:"absolute"};function yoe(){for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return!r.some(function(h){return!(h&&typeof h.getBoundingClientRect=="function")})}function FV(i){i===void 0&&(i={});var r=i,l=r.defaultModifiers,h=l===void 0?[]:l,y=r.defaultOptions,w=y===void 0?voe:y;return function(A,R,H){H===void 0&&(H=w);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},voe,w),modifiersData:{},elements:{reference:A,popper:R},attributes:{},styles:{}},Q=[],le=!1,pe={state:j,setOptions:function(Me){var ce=typeof Me=="function"?Me(j.options):Me;ve(),j.options=Object.assign({},w,j.options,ce),j.scrollParents={reference:i2(A)?C$(A):A.contextElement?C$(A.contextElement):[],popper:C$(R)};var q=fde(hde([].concat(h,j.options.modifiers)));return j.orderedModifiers=q.filter(function(ke){return ke.enabled}),me(),pe.update()},forceUpdate:function(){if(!le){var Me=j.elements,ce=Me.reference,q=Me.popper;if(yoe(ce,q)){j.rects={reference:ude(ce,X$(q),j.options.strategy==="fixed"),popper:cee(q)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(Ue){return j.modifiersData[Ue.name]=Object.assign({},Ue.data)});for(var ke=0;ke<j.orderedModifiers.length;ke++){if(j.reset===!0){j.reset=!1,ke=-1;continue}var ze=j.orderedModifiers[ke],We=ze.fn,J=ze.options,Te=J===void 0?{}:J,Ge=ze.name;typeof We=="function"&&(j=We({state:j,options:Te,name:Ge,instance:pe})||j)}}}},update:mde(function(){return new Promise(function(Ee){pe.forceUpdate(),Ee(j)})}),destroy:function(){ve(),le=!0}};if(!yoe(A,R))return pe;pe.setOptions(H).then(function(Ee){!le&&H.onFirstUpdate&&H.onFirstUpdate(Ee)});function me(){j.orderedModifiers.forEach(function(Ee){var Me=Ee.name,ce=Ee.options,q=ce===void 0?{}:ce,ke=Ee.effect;if(typeof ke=="function"){var ze=ke({state:j,name:Me,instance:pe,options:q}),We=function(){};Q.push(ze||We)}})}function ve(){Q.forEach(function(Ee){return Ee()}),Q=[]}return pe}}var pde=FV(),gde=[dee,pee,uee,aee],bde=FV({defaultModifiers:gde}),vde=[dee,pee,uee,aee,eie,Jre,tie,Gre,Qre],gee=FV({defaultModifiers:vde});const nie=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Fre,afterRead:Bre,afterWrite:zre,applyStyles:aee,arrow:Gre,auto:IV,basePlacements:PO,beforeMain:Ire,beforeRead:$re,beforeWrite:Hre,bottom:jm,clippingParents:Rre,computeStyles:uee,createPopper:gee,createPopperBase:pde,createPopperLite:bde,detectOverflow:vO,end:hO,eventListeners:dee,flip:Jre,hide:Qre,left:Ld,main:Lre,modifierPhases:Wre,offset:eie,placements:ree,popper:eO,popperGenerator:FV,popperOffsets:pee,preventOverflow:tie,read:Pre,reference:Mre,right:Zm,start:r2,top:Id,variationPlacements:hQ,viewport:see,write:Vre},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const yde=1e6,_de=1e3,bQ="transitionend",wde=i=>i==null?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),Cde=i=>{do i+=Math.floor(Math.random()*yde);while(document.getElementById(i));return i},oie=i=>{let r=i.getAttribute("data-bs-target");if(!r||r==="#"){let l=i.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),r=l&&l!=="#"?l.trim():null}return r},sie=i=>{const r=oie(i);return r&&document.querySelector(r)?r:null},p0=i=>{const r=oie(i);return r?document.querySelector(r):null},Sde=i=>{if(!i)return 0;let{transitionDuration:r,transitionDelay:l}=window.getComputedStyle(i);const h=Number.parseFloat(r),y=Number.parseFloat(l);return!h&&!y?0:(r=r.split(",")[0],l=l.split(",")[0],(Number.parseFloat(r)+Number.parseFloat(l))*_de)},rie=i=>{i.dispatchEvent(new Event(bQ))},g0=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),sw=i=>g0(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(i):null,BO=i=>{if(!g0(i)||i.getClientRects().length===0)return!1;const r=getComputedStyle(i).getPropertyValue("visibility")==="visible",l=i.closest("details:not([open])");if(!l)return r;if(l!==i){const h=i.closest("summary");if(h&&h.parentNode!==l||h===null)return!1}return r},rw=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",iie=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){const r=i.getRootNode();return r instanceof ShadowRoot?r:null}return i instanceof ShadowRoot?i:i.parentNode?iie(i.parentNode):null},fV=()=>{},J$=i=>{i.offsetHeight},aie=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,SJ=[],Ede=i=>{document.readyState==="loading"?(SJ.length||document.addEventListener("DOMContentLoaded",()=>{for(const r of SJ)r()}),SJ.push(i)):i()},Jh=()=>document.documentElement.dir==="rtl",op=i=>{Ede(()=>{const r=aie();if(r){const l=i.NAME,h=r.fn[l];r.fn[l]=i.jQueryInterface,r.fn[l].Constructor=i,r.fn[l].noConflict=()=>(r.fn[l]=h,i.jQueryInterface)}})},f0=i=>{typeof i=="function"&&i()},cie=(i,r,l=!0)=>{if(!l){f0(i);return}const h=5,y=Sde(r)+h;let w=!1;const E=({target:A})=>{A===r&&(w=!0,r.removeEventListener(bQ,E),f0(i))};r.addEventListener(bQ,E),setTimeout(()=>{w||rie(r)},y)},bee=(i,r,l,h)=>{const y=i.length;let w=i.indexOf(r);return w===-1?!l&&h?i[y-1]:i[0]:(w+=l?1:-1,h&&(w=(w+y)%y),i[Math.max(0,Math.min(w,y-1))])},xde=/[^.]*(?=\..*)\.|.*/,Tde=/\..*/,kde=/::\d+$/,EJ={};let _oe=1;const lie={mouseenter:"mouseover",mouseleave:"mouseout"},Ade=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function uie(i,r){return r&&`${r}::${_oe++}`||i.uidEvent||_oe++}function die(i){const r=uie(i);return i.uidEvent=r,EJ[r]=EJ[r]||{},EJ[r]}function Ode(i,r){return function l(h){return vee(h,{delegateTarget:i}),l.oneOff&&Qt.off(i,h.type,r),r.apply(i,[h])}}function Dde(i,r,l){return function h(y){const w=i.querySelectorAll(r);for(let{target:E}=y;E&&E!==this;E=E.parentNode)for(const A of w)if(A===E)return vee(y,{delegateTarget:E}),h.oneOff&&Qt.off(i,y.type,r,l),l.apply(E,[y])}}function fie(i,r,l=null){return Object.values(i).find(h=>h.callable===r&&h.delegationSelector===l)}function mie(i,r,l){const h=typeof r=="string",y=h?l:r||l;let w=hie(i);return Ade.has(w)||(w=i),[h,y,w]}function woe(i,r,l,h,y){if(typeof r!="string"||!i)return;let[w,E,A]=mie(r,l,h);r in lie&&(E=(me=>function(ve){if(!ve.relatedTarget||ve.relatedTarget!==ve.delegateTarget&&!ve.delegateTarget.contains(ve.relatedTarget))return me.call(this,ve)})(E));const R=die(i),H=R[A]||(R[A]={}),j=fie(H,E,w?l:null);if(j){j.oneOff=j.oneOff&&y;return}const Q=uie(E,r.replace(xde,"")),le=w?Dde(i,l,E):Ode(i,E);le.delegationSelector=w?l:null,le.callable=E,le.oneOff=y,le.uidEvent=Q,H[Q]=le,i.addEventListener(A,le,w)}function vQ(i,r,l,h,y){const w=fie(r[l],h,y);w&&(i.removeEventListener(l,w,Boolean(y)),delete r[l][w.uidEvent])}function Nde(i,r,l,h){const y=r[l]||{};for(const w of Object.keys(y))if(w.includes(h)){const E=y[w];vQ(i,r,l,E.callable,E.delegationSelector)}}function hie(i){return i=i.replace(Tde,""),lie[i]||i}const Qt={on(i,r,l,h){woe(i,r,l,h,!1)},one(i,r,l,h){woe(i,r,l,h,!0)},off(i,r,l,h){if(typeof r!="string"||!i)return;const[y,w,E]=mie(r,l,h),A=E!==r,R=die(i),H=R[E]||{},j=r.startsWith(".");if(typeof w<"u"){if(!Object.keys(H).length)return;vQ(i,R,E,w,y?l:null);return}if(j)for(const Q of Object.keys(R))Nde(i,R,Q,r.slice(1));for(const Q of Object.keys(H)){const le=Q.replace(kde,"");if(!A||r.includes(le)){const pe=H[Q];vQ(i,R,E,pe.callable,pe.delegationSelector)}}},trigger(i,r,l){if(typeof r!="string"||!i)return null;const h=aie(),y=hie(r),w=r!==y;let E=null,A=!0,R=!0,H=!1;w&&h&&(E=h.Event(r,l),h(i).trigger(E),A=!E.isPropagationStopped(),R=!E.isImmediatePropagationStopped(),H=E.isDefaultPrevented());let j=new Event(r,{bubbles:A,cancelable:!0});return j=vee(j,l),H&&j.preventDefault(),R&&i.dispatchEvent(j),j.defaultPrevented&&E&&E.preventDefault(),j}};function vee(i,r){for(const[l,h]of Object.entries(r||{}))try{i[l]=h}catch{Object.defineProperty(i,l,{configurable:!0,get(){return h}})}return i}const Z_=new Map,xJ={set(i,r,l){Z_.has(i)||Z_.set(i,new Map);const h=Z_.get(i);if(!h.has(r)&&h.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(h.keys())[0]}.`);return}h.set(r,l)},get(i,r){return Z_.has(i)&&Z_.get(i).get(r)||null},remove(i,r){if(!Z_.has(i))return;const l=Z_.get(i);l.delete(r),l.size===0&&Z_.delete(i)}};function Coe(i){if(i==="true")return!0;if(i==="false")return!1;if(i===Number(i).toString())return Number(i);if(i===""||i==="null")return null;if(typeof i!="string")return i;try{return JSON.parse(decodeURIComponent(i))}catch{return i}}function TJ(i){return i.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const b0={setDataAttribute(i,r,l){i.setAttribute(`data-bs-${TJ(r)}`,l)},removeDataAttribute(i,r){i.removeAttribute(`data-bs-${TJ(r)}`)},getDataAttributes(i){if(!i)return{};const r={},l=Object.keys(i.dataset).filter(h=>h.startsWith("bs")&&!h.startsWith("bsConfig"));for(const h of l){let y=h.replace(/^bs/,"");y=y.charAt(0).toLowerCase()+y.slice(1,y.length),r[y]=Coe(i.dataset[h])}return r},getDataAttribute(i,r){return Coe(i.getAttribute(`data-bs-${TJ(r)}`))}};class Q${static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,l){const h=g0(l)?b0.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof h=="object"?h:{},...g0(l)?b0.getDataAttributes(l):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,l=this.constructor.DefaultType){for(const h of Object.keys(l)){const y=l[h],w=r[h],E=g0(w)?"element":wde(w);if(!new RegExp(y).test(E))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${h}" provided type "${E}" but expected type "${y}".`)}}}const Rde="5.2.3";class wg extends Q${constructor(r,l){super(),r=sw(r),r&&(this._element=r,this._config=this._getConfig(l),xJ.set(this._element,this.constructor.DATA_KEY,this))}dispose(){xJ.remove(this._element,this.constructor.DATA_KEY),Qt.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,l,h=!0){cie(r,l,h)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return xJ.get(sw(r),this.DATA_KEY)}static getOrCreateInstance(r,l={}){return this.getInstance(r)||new this(r,typeof l=="object"?l:null)}static get VERSION(){return Rde}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const HV=(i,r="hide")=>{const l=`click.dismiss${i.EVENT_KEY}`,h=i.NAME;Qt.on(document,l,`[data-bs-dismiss="${h}"]`,function(y){if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),rw(this))return;const w=p0(this)||this.closest(`.${h}`);i.getOrCreateInstance(w)[r]()})},Mde="alert",$de="bs.alert",pie=`.${$de}`,Pde=`close${pie}`,Bde=`closed${pie}`,Ide="fade",Lde="show";class VV extends wg{static get NAME(){return Mde}close(){if(Qt.trigger(this._element,Pde).defaultPrevented)return;this._element.classList.remove(Lde);const l=this._element.classList.contains(Ide);this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),Qt.trigger(this._element,Bde),this.dispose()}static jQueryInterface(r){return this.each(function(){const l=VV.getOrCreateInstance(this);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r](this)}})}}HV(VV,"close");op(VV);const Fde="button",Hde="bs.button",Vde=`.${Hde}`,zde=".data-api",Wde="active",Soe='[data-bs-toggle="button"]',Ude=`click${Vde}${zde}`;class zV extends wg{static get NAME(){return Fde}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Wde))}static jQueryInterface(r){return this.each(function(){const l=zV.getOrCreateInstance(this);r==="toggle"&&l[r]()})}}Qt.on(document,Ude,Soe,i=>{i.preventDefault();const r=i.target.closest(Soe);zV.getOrCreateInstance(r).toggle()});op(zV);const Ts={find(i,r=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(r,i))},findOne(i,r=document.documentElement){return Element.prototype.querySelector.call(r,i)},children(i,r){return[].concat(...i.children).filter(l=>l.matches(r))},parents(i,r){const l=[];let h=i.parentNode.closest(r);for(;h;)l.push(h),h=h.parentNode.closest(r);return l},prev(i,r){let l=i.previousElementSibling;for(;l;){if(l.matches(r))return[l];l=l.previousElementSibling}return[]},next(i,r){let l=i.nextElementSibling;for(;l;){if(l.matches(r))return[l];l=l.nextElementSibling}return[]},focusableChildren(i){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(r,i).filter(l=>!rw(l)&&BO(l))}},jde="swipe",IO=".bs.swipe",Zde=`touchstart${IO}`,Kde=`touchmove${IO}`,qde=`touchend${IO}`,Gde=`pointerdown${IO}`,Yde=`pointerup${IO}`,Xde="touch",Jde="pen",Qde="pointer-event",efe=40,tfe={endCallback:null,leftCallback:null,rightCallback:null},nfe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class mV extends Q${constructor(r,l){super(),this._element=r,!(!r||!mV.isSupported())&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return tfe}static get DefaultType(){return nfe}static get NAME(){return jde}dispose(){Qt.off(this._element,IO)}_start(r){if(!this._supportPointerEvents){this._deltaX=r.touches[0].clientX;return}this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX)}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),f0(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=efe)return;const l=r/this._deltaX;this._deltaX=0,l&&f0(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Qt.on(this._element,Gde,r=>this._start(r)),Qt.on(this._element,Yde,r=>this._end(r)),this._element.classList.add(Qde)):(Qt.on(this._element,Zde,r=>this._start(r)),Qt.on(this._element,Kde,r=>this._move(r)),Qt.on(this._element,qde,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType===Jde||r.pointerType===Xde)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ofe="carousel",sfe="bs.carousel",pw=`.${sfe}`,gie=".data-api",rfe="ArrowLeft",ife="ArrowRight",afe=500,u$="next",qA="prev",tO="left",Z8="right",cfe=`slide${pw}`,kJ=`slid${pw}`,lfe=`keydown${pw}`,ufe=`mouseenter${pw}`,dfe=`mouseleave${pw}`,ffe=`dragstart${pw}`,mfe=`load${pw}${gie}`,hfe=`click${pw}${gie}`,bie="carousel",v8="active",pfe="slide",gfe="carousel-item-end",bfe="carousel-item-start",vfe="carousel-item-next",yfe="carousel-item-prev",vie=".active",yie=".carousel-item",_fe=vie+yie,wfe=".carousel-item img",Cfe=".carousel-indicators",Sfe="[data-bs-slide], [data-bs-slide-to]",Efe='[data-bs-ride="carousel"]',xfe={[rfe]:Z8,[ife]:tO},Tfe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},kfe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class eP extends wg{constructor(r,l){super(r,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ts.findOne(Cfe,this._element),this._addEventListeners(),this._config.ride===bie&&this.cycle()}static get Default(){return Tfe}static get DefaultType(){return kfe}static get NAME(){return ofe}next(){this._slide(u$)}nextWhenVisible(){!document.hidden&&BO(this._element)&&this.next()}prev(){this._slide(qA)}pause(){this._isSliding&&rie(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Qt.one(this._element,kJ,()=>this.cycle());return}this.cycle()}}to(r){const l=this._getItems();if(r>l.length-1||r<0)return;if(this._isSliding){Qt.one(this._element,kJ,()=>this.to(r));return}const h=this._getItemIndex(this._getActive());if(h===r)return;const y=r>h?u$:qA;this._slide(y,l[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&Qt.on(this._element,lfe,r=>this._keydown(r)),this._config.pause==="hover"&&(Qt.on(this._element,ufe,()=>this.pause()),Qt.on(this._element,dfe,()=>this._maybeEnableCycle())),this._config.touch&&mV.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const h of Ts.find(wfe,this._element))Qt.on(h,ffe,y=>y.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(tO)),rightCallback:()=>this._slide(this._directionToOrder(Z8)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),afe+this._config.interval))}};this._swipeHelper=new mV(this._element,l)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const l=xfe[r.key];l&&(r.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const l=Ts.findOne(vie,this._indicatorsElement);l.classList.remove(v8),l.removeAttribute("aria-current");const h=Ts.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);h&&(h.classList.add(v8),h.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const l=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(r,l=null){if(this._isSliding)return;const h=this._getActive(),y=r===u$,w=l||bee(this._getItems(),h,y,this._config.wrap);if(w===h)return;const E=this._getItemIndex(w),A=pe=>Qt.trigger(this._element,pe,{relatedTarget:w,direction:this._orderToDirection(r),from:this._getItemIndex(h),to:E});if(A(cfe).defaultPrevented||!h||!w)return;const H=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(E),this._activeElement=w;const j=y?bfe:gfe,Q=y?vfe:yfe;w.classList.add(Q),J$(w),h.classList.add(j),w.classList.add(j);const le=()=>{w.classList.remove(j,Q),w.classList.add(v8),h.classList.remove(v8,Q,j),this._isSliding=!1,A(kJ)};this._queueCallback(le,h,this._isAnimated()),H&&this.cycle()}_isAnimated(){return this._element.classList.contains(pfe)}_getActive(){return Ts.findOne(_fe,this._element)}_getItems(){return Ts.find(yie,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return Jh()?r===tO?qA:u$:r===tO?u$:qA}_orderToDirection(r){return Jh()?r===qA?tO:Z8:r===qA?Z8:tO}static jQueryInterface(r){return this.each(function(){const l=eP.getOrCreateInstance(this,r);if(typeof r=="number"){l.to(r);return}if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}})}}Qt.on(document,hfe,Sfe,function(i){const r=p0(this);if(!r||!r.classList.contains(bie))return;i.preventDefault();const l=eP.getOrCreateInstance(r),h=this.getAttribute("data-bs-slide-to");if(h){l.to(h),l._maybeEnableCycle();return}if(b0.getDataAttribute(this,"slide")==="next"){l.next(),l._maybeEnableCycle();return}l.prev(),l._maybeEnableCycle()});Qt.on(window,mfe,()=>{const i=Ts.find(Efe);for(const r of i)eP.getOrCreateInstance(r)});op(eP);const Afe="collapse",Ofe="bs.collapse",tP=`.${Ofe}`,Dfe=".data-api",Nfe=`show${tP}`,Rfe=`shown${tP}`,Mfe=`hide${tP}`,$fe=`hidden${tP}`,Pfe=`click${tP}${Dfe}`,AJ="show",sO="collapse",y8="collapsing",Bfe="collapsed",Ife=`:scope .${sO} .${sO}`,Lfe="collapse-horizontal",Ffe="width",Hfe="height",Vfe=".collapse.show, .collapse.collapsing",yQ='[data-bs-toggle="collapse"]',zfe={parent:null,toggle:!0},Wfe={parent:"(null|element)",toggle:"boolean"};class P$ extends wg{constructor(r,l){super(r,l),this._isTransitioning=!1,this._triggerArray=[];const h=Ts.find(yQ);for(const y of h){const w=sie(y),E=Ts.find(w).filter(A=>A===this._element);w!==null&&E.length&&this._triggerArray.push(y)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zfe}static get DefaultType(){return Wfe}static get NAME(){return Afe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(Vfe).filter(A=>A!==this._element).map(A=>P$.getOrCreateInstance(A,{toggle:!1}))),r.length&&r[0]._isTransitioning||Qt.trigger(this._element,Nfe).defaultPrevented)return;for(const A of r)A.hide();const h=this._getDimension();this._element.classList.remove(sO),this._element.classList.add(y8),this._element.style[h]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const y=()=>{this._isTransitioning=!1,this._element.classList.remove(y8),this._element.classList.add(sO,AJ),this._element.style[h]="",Qt.trigger(this._element,Rfe)},E=`scroll${h[0].toUpperCase()+h.slice(1)}`;this._queueCallback(y,this._element,!0),this._element.style[h]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||Qt.trigger(this._element,Mfe).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,J$(this._element),this._element.classList.add(y8),this._element.classList.remove(sO,AJ);for(const y of this._triggerArray){const w=p0(y);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([y],!1)}this._isTransitioning=!0;const h=()=>{this._isTransitioning=!1,this._element.classList.remove(y8),this._element.classList.add(sO),Qt.trigger(this._element,$fe)};this._element.style[l]="",this._queueCallback(h,this._element,!0)}_isShown(r=this._element){return r.classList.contains(AJ)}_configAfterMerge(r){return r.toggle=Boolean(r.toggle),r.parent=sw(r.parent),r}_getDimension(){return this._element.classList.contains(Lfe)?Ffe:Hfe}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(yQ);for(const l of r){const h=p0(l);h&&this._addAriaAndCollapsedClass([l],this._isShown(h))}}_getFirstLevelChildren(r){const l=Ts.find(Ife,this._config.parent);return Ts.find(r,this._config.parent).filter(h=>!l.includes(h))}_addAriaAndCollapsedClass(r,l){if(r.length)for(const h of r)h.classList.toggle(Bfe,!l),h.setAttribute("aria-expanded",l)}static jQueryInterface(r){const l={};return typeof r=="string"&&/show|hide/.test(r)&&(l.toggle=!1),this.each(function(){const h=P$.getOrCreateInstance(this,l);if(typeof r=="string"){if(typeof h[r]>"u")throw new TypeError(`No method named "${r}"`);h[r]()}})}}Qt.on(document,Pfe,yQ,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();const r=sie(this),l=Ts.find(r);for(const h of l)P$.getOrCreateInstance(h,{toggle:!1}).toggle()});op(P$);const Eoe="dropdown",Ufe="bs.dropdown",m2=`.${Ufe}`,yee=".data-api",jfe="Escape",xoe="Tab",Zfe="ArrowUp",Toe="ArrowDown",Kfe=2,qfe=`hide${m2}`,Gfe=`hidden${m2}`,Yfe=`show${m2}`,Xfe=`shown${m2}`,_ie=`click${m2}${yee}`,wie=`keydown${m2}${yee}`,Jfe=`keyup${m2}${yee}`,nO="show",Qfe="dropup",eme="dropend",tme="dropstart",nme="dropup-center",ome="dropdown-center",KE='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',sme=`${KE}.${nO}`,K8=".dropdown-menu",rme=".navbar",ime=".navbar-nav",ame=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",cme=Jh()?"top-end":"top-start",lme=Jh()?"top-start":"top-end",ume=Jh()?"bottom-end":"bottom-start",dme=Jh()?"bottom-start":"bottom-end",fme=Jh()?"left-start":"right-start",mme=Jh()?"right-start":"left-start",hme="top",pme="bottom",gme={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},bme={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class h1 extends wg{constructor(r,l){super(r,l),this._popper=null,this._parent=this._element.parentNode,this._menu=Ts.next(this._element,K8)[0]||Ts.prev(this._element,K8)[0]||Ts.findOne(K8,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return gme}static get DefaultType(){return bme}static get NAME(){return Eoe}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rw(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!Qt.trigger(this._element,Yfe,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ime))for(const h of[].concat(...document.body.children))Qt.on(h,"mouseover",fV);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(nO),this._element.classList.add(nO),Qt.trigger(this._element,Xfe,r)}}hide(){if(rw(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!Qt.trigger(this._element,qfe,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))Qt.off(h,"mouseover",fV);this._popper&&this._popper.destroy(),this._menu.classList.remove(nO),this._element.classList.remove(nO),this._element.setAttribute("aria-expanded","false"),b0.removeDataAttribute(this._menu,"popper"),Qt.trigger(this._element,Gfe,r)}}_getConfig(r){if(r=super._getConfig(r),typeof r.reference=="object"&&!g0(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${Eoe.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(typeof nie>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:g0(this._config.reference)?r=sw(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const l=this._getPopperConfig();this._popper=gee(r,this._menu,l)}_isShown(){return this._menu.classList.contains(nO)}_getPlacement(){const r=this._parent;if(r.classList.contains(eme))return fme;if(r.classList.contains(tme))return mme;if(r.classList.contains(nme))return hme;if(r.classList.contains(ome))return pme;const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains(Qfe)?l?lme:cme:l?dme:ume}_detectNavbar(){return this._element.closest(rme)!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(l=>Number.parseInt(l,10)):typeof r=="function"?l=>r(l,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(b0.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...typeof this._config.popperConfig=="function"?this._config.popperConfig(r):this._config.popperConfig}}_selectMenuItem({key:r,target:l}){const h=Ts.find(ame,this._menu).filter(y=>BO(y));h.length&&bee(h,l,r===Toe,!h.includes(l)).focus()}static jQueryInterface(r){return this.each(function(){const l=h1.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof l[r]>"u")throw new TypeError(`No method named "${r}"`);l[r]()}})}static clearMenus(r){if(r.button===Kfe||r.type==="keyup"&&r.key!==xoe)return;const l=Ts.find(sme);for(const h of l){const y=h1.getInstance(h);if(!y||y._config.autoClose===!1)continue;const w=r.composedPath(),E=w.includes(y._menu);if(w.includes(y._element)||y._config.autoClose==="inside"&&!E||y._config.autoClose==="outside"&&E||y._menu.contains(r.target)&&(r.type==="keyup"&&r.key===xoe||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const A={relatedTarget:y._element};r.type==="click"&&(A.clickEvent=r),y._completeHide(A)}}static dataApiKeydownHandler(r){const l=/input|textarea/i.test(r.target.tagName),h=r.key===jfe,y=[Zfe,Toe].includes(r.key);if(!y&&!h||l&&!h)return;r.preventDefault();const w=this.matches(KE)?this:Ts.prev(this,KE)[0]||Ts.next(this,KE)[0]||Ts.findOne(KE,r.delegateTarget.parentNode),E=h1.getOrCreateInstance(w);if(y){r.stopPropagation(),E.show(),E._selectMenuItem(r);return}E._isShown()&&(r.stopPropagation(),E.hide(),w.focus())}}Qt.on(document,wie,KE,h1.dataApiKeydownHandler);Qt.on(document,wie,K8,h1.dataApiKeydownHandler);Qt.on(document,_ie,h1.clearMenus);Qt.on(document,Jfe,h1.clearMenus);Qt.on(document,_ie,KE,function(i){i.preventDefault(),h1.getOrCreateInstance(this).toggle()});op(h1);const koe=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Aoe=".sticky-top",_8="padding-right",Ooe="margin-right";class _Q{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,_8,l=>l+r),this._setElementAttributes(koe,_8,l=>l+r),this._setElementAttributes(Aoe,Ooe,l=>l-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,_8),this._resetElementAttributes(koe,_8),this._resetElementAttributes(Aoe,Ooe)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,l,h){const y=this.getWidth(),w=E=>{if(E!==this._element&&window.innerWidth>E.clientWidth+y)return;this._saveInitialAttribute(E,l);const A=window.getComputedStyle(E).getPropertyValue(l);E.style.setProperty(l,`${h(Number.parseFloat(A))}px`)};this._applyManipulationCallback(r,w)}_saveInitialAttribute(r,l){const h=r.style.getPropertyValue(l);h&&b0.setDataAttribute(r,l,h)}_resetElementAttributes(r,l){const h=y=>{const w=b0.getDataAttribute(y,l);if(w===null){y.style.removeProperty(l);return}b0.removeDataAttribute(y,l),y.style.setProperty(l,w)};this._applyManipulationCallback(r,h)}_applyManipulationCallback(r,l){if(g0(r)){l(r);return}for(const h of Ts.find(r,this._element))l(h)}}const Cie="backdrop",vme="fade",Doe="show",Noe=`mousedown.bs.${Cie}`,yme={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},_me={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Sie extends Q${constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return yme}static get DefaultType(){return _me}static get NAME(){return Cie}show(r){if(!this._config.isVisible){f0(r);return}this._append();const l=this._getElement();this._config.isAnimated&&J$(l),l.classList.add(Doe),this._emulateAnimation(()=>{f0(r)})}hide(r){if(!this._config.isVisible){f0(r);return}this._getElement().classList.remove(Doe),this._emulateAnimation(()=>{this.dispose(),f0(r)})}dispose(){this._isAppended&&(Qt.off(this._element,Noe),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add(vme),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=sw(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),Qt.on(r,Noe,()=>{f0(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){cie(r,this._getElement(),this._config.isAnimated)}}const wme="focustrap",Cme="bs.focustrap",hV=`.${Cme}`,Sme=`focusin${hV}`,Eme=`keydown.tab${hV}`,xme="Tab",Tme="forward",Roe="backward",kme={autofocus:!0,trapElement:null},Ame={autofocus:"boolean",trapElement:"element"};class Eie extends Q${constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return kme}static get DefaultType(){return Ame}static get NAME(){return wme}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Qt.off(document,hV),Qt.on(document,Sme,r=>this._handleFocusin(r)),Qt.on(document,Eme,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Qt.off(document,hV))}_handleFocusin(r){const{trapElement:l}=this._config;if(r.target===document||r.target===l||l.contains(r.target))return;const h=Ts.focusableChildren(l);h.length===0?l.focus():this._lastTabNavDirection===Roe?h[h.length-1].focus():h[0].focus()}_handleKeydown(r){r.key===xme&&(this._lastTabNavDirection=r.shiftKey?Roe:Tme)}}const Ome="modal",Dme="bs.modal",Cg=`.${Dme}`,Nme=".data-api",Rme="Escape",Mme=`hide${Cg}`,$me=`hidePrevented${Cg}`,xie=`hidden${Cg}`,Tie=`show${Cg}`,Pme=`shown${Cg}`,Bme=`resize${Cg}`,Ime=`click.dismiss${Cg}`,Lme=`mousedown.dismiss${Cg}`,Fme=`keydown.dismiss${Cg}`,Hme=`click${Cg}${Nme}`,Moe="modal-open",Vme="fade",$oe="show",OJ="modal-static",zme=".modal.show",Wme=".modal-dialog",Ume=".modal-body",jme='[data-bs-toggle="modal"]',Zme={backdrop:!0,focus:!0,keyboard:!0},Kme={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class yO extends wg{constructor(r,l){super(r,l),this._dialog=Ts.findOne(Wme,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _Q,this._addEventListeners()}static get Default(){return Zme}static get DefaultType(){return Kme}static get NAME(){return Ome}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||Qt.trigger(this._element,Tie,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Moe),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){!this._isShown||this._isTransitioning||Qt.trigger(this._element,Mme).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($oe),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const r of[window,this._dialog])Qt.off(r,Cg);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Sie({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Eie({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=Ts.findOne(Ume,this._dialog);l&&(l.scrollTop=0),J$(this._element),this._element.classList.add($oe);const h=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Qt.trigger(this._element,Pme,{relatedTarget:r})};this._queueCallback(h,this._dialog,this._isAnimated())}_addEventListeners(){Qt.on(this._element,Fme,r=>{if(r.key===Rme){if(this._config.keyboard){r.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),Qt.on(window,Bme,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Qt.on(this._element,Lme,r=>{Qt.one(this._element,Ime,l=>{if(!(this._element!==r.target||this._element!==l.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Moe),this._resetAdjustments(),this._scrollBar.reset(),Qt.trigger(this._element,xie)})}_isAnimated(){return this._element.classList.contains(Vme)}_triggerBackdropTransition(){if(Qt.trigger(this._element,$me).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,h=this._element.style.overflowY;h==="hidden"||this._element.classList.contains(OJ)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(OJ),this._queueCallback(()=>{this._element.classList.remove(OJ),this._queueCallback(()=>{this._element.style.overflowY=h},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),h=l>0;if(h&&!r){const y=Jh()?"paddingLeft":"paddingRight";this._element.style[y]=`${l}px`}if(!h&&r){const y=Jh()?"paddingRight":"paddingLeft";this._element.style[y]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,l){return this.each(function(){const h=yO.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof h[r]>"u")throw new TypeError(`No method named "${r}"`);h[r](l)}})}}Qt.on(document,Hme,jme,function(i){const r=p0(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),Qt.one(r,Tie,y=>{y.defaultPrevented||Qt.one(r,xie,()=>{BO(this)&&this.focus()})});const l=Ts.findOne(zme);l&&yO.getInstance(l).hide(),yO.getOrCreateInstance(r).toggle(this)});HV(yO);op(yO);const qme="offcanvas",Gme="bs.offcanvas",S0=`.${Gme}`,kie=".data-api",Yme=`load${S0}${kie}`,Xme="Escape",Poe="show",Boe="showing",Ioe="hiding",Jme="offcanvas-backdrop",Aie=".offcanvas.show",Qme=`show${S0}`,ehe=`shown${S0}`,the=`hide${S0}`,Loe=`hidePrevented${S0}`,Oie=`hidden${S0}`,nhe=`resize${S0}`,ohe=`click${S0}${kie}`,she=`keydown.dismiss${S0}`,rhe='[data-bs-toggle="offcanvas"]',ihe={backdrop:!0,keyboard:!0,scroll:!1},ahe={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class iw extends wg{constructor(r,l){super(r,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ihe}static get DefaultType(){return ahe}static get NAME(){return qme}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){if(this._isShown||Qt.trigger(this._element,Qme,{relatedTarget:r}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new _Q().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Boe);const h=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Poe),this._element.classList.remove(Boe),Qt.trigger(this._element,ehe,{relatedTarget:r})};this._queueCallback(h,this._element,!0)}hide(){if(!this._isShown||Qt.trigger(this._element,the).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ioe),this._backdrop.hide();const l=()=>{this._element.classList.remove(Poe,Ioe),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _Q().reset(),Qt.trigger(this._element,Oie)};this._queueCallback(l,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=()=>{if(this._config.backdrop==="static"){Qt.trigger(this._element,Loe);return}this.hide()},l=Boolean(this._config.backdrop);return new Sie({className:Jme,isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?r:null})}_initializeFocusTrap(){return new Eie({trapElement:this._element})}_addEventListeners(){Qt.on(this._element,she,r=>{if(r.key===Xme){if(!this._config.keyboard){Qt.trigger(this._element,Loe);return}this.hide()}})}static jQueryInterface(r){return this.each(function(){const l=iw.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r](this)}})}}Qt.on(document,ohe,rhe,function(i){const r=p0(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),rw(this))return;Qt.one(r,Oie,()=>{BO(this)&&this.focus()});const l=Ts.findOne(Aie);l&&l!==r&&iw.getInstance(l).hide(),iw.getOrCreateInstance(r).toggle(this)});Qt.on(window,Yme,()=>{for(const i of Ts.find(Aie))iw.getOrCreateInstance(i).show()});Qt.on(window,nhe,()=>{for(const i of Ts.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(i).position!=="fixed"&&iw.getOrCreateInstance(i).hide()});HV(iw);op(iw);const che=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),lhe=/^aria-[\w-]*$/i,uhe=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,dhe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,fhe=(i,r)=>{const l=i.nodeName.toLowerCase();return r.includes(l)?che.has(l)?Boolean(uhe.test(i.nodeValue)||dhe.test(i.nodeValue)):!0:r.filter(h=>h instanceof RegExp).some(h=>h.test(l))},Die={"*":["class","dir","id","lang","role",lhe],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function mhe(i,r,l){if(!i.length)return i;if(l&&typeof l=="function")return l(i);const y=new window.DOMParser().parseFromString(i,"text/html"),w=[].concat(...y.body.querySelectorAll("*"));for(const E of w){const A=E.nodeName.toLowerCase();if(!Object.keys(r).includes(A)){E.remove();continue}const R=[].concat(...E.attributes),H=[].concat(r["*"]||[],r[A]||[]);for(const j of R)fhe(j,H)||E.removeAttribute(j.nodeName)}return y.body.innerHTML}const hhe="TemplateFactory",phe={allowList:Die,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ghe={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},bhe={entry:"(string|element|function|null)",selector:"(string|element)"};class vhe extends Q${constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return phe}static get DefaultType(){return ghe}static get NAME(){return hhe}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[y,w]of Object.entries(this._config.content))this._setContent(r,w,y);const l=r.children[0],h=this._resolvePossibleFunction(this._config.extraClass);return h&&l.classList.add(...h.split(" ")),l}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[l,h]of Object.entries(r))super._typeCheckConfig({selector:l,entry:h},bhe)}_setContent(r,l,h){const y=Ts.findOne(h,r);if(y){if(l=this._resolvePossibleFunction(l),!l){y.remove();return}if(g0(l)){this._putElementInTemplate(sw(l),y);return}if(this._config.html){y.innerHTML=this._maybeSanitize(l);return}y.textContent=l}}_maybeSanitize(r){return this._config.sanitize?mhe(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return typeof r=="function"?r(this):r}_putElementInTemplate(r,l){if(this._config.html){l.innerHTML="",l.append(r);return}l.textContent=r.textContent}}const yhe="tooltip",_he=new Set(["sanitize","allowList","sanitizeFn"]),DJ="fade",whe="modal",w8="show",Che=".tooltip-inner",Foe=`.${whe}`,Hoe="hide.bs.modal",d$="hover",NJ="focus",She="click",Ehe="manual",xhe="hide",The="hidden",khe="show",Ahe="shown",Ohe="inserted",Dhe="click",Nhe="focusin",Rhe="focusout",Mhe="mouseenter",$he="mouseleave",Phe={AUTO:"auto",TOP:"top",RIGHT:Jh()?"left":"right",BOTTOM:"bottom",LEFT:Jh()?"right":"left"},Bhe={allowList:Die,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ihe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class LO extends wg{constructor(r,l){if(typeof nie>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Bhe}static get DefaultType(){return Ihe}static get NAME(){return yhe}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Qt.off(this._element.closest(Foe),Hoe,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const r=Qt.trigger(this._element,this.constructor.eventName(khe)),h=(iie(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!h)return;this._disposePopper();const y=this._getTipElement();this._element.setAttribute("aria-describedby",y.getAttribute("id"));const{container:w}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(w.append(y),Qt.trigger(this._element,this.constructor.eventName(Ohe))),this._popper=this._createPopper(y),y.classList.add(w8),"ontouchstart"in document.documentElement)for(const A of[].concat(...document.body.children))Qt.on(A,"mouseover",fV);const E=()=>{Qt.trigger(this._element,this.constructor.eventName(Ahe)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(E,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Qt.trigger(this._element,this.constructor.eventName(xhe)).defaultPrevented)return;if(this._getTipElement().classList.remove(w8),"ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))Qt.off(y,"mouseover",fV);this._activeTrigger[She]=!1,this._activeTrigger[NJ]=!1,this._activeTrigger[d$]=!1,this._isHovered=null;const h=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Qt.trigger(this._element,this.constructor.eventName(The)))};this._queueCallback(h,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const l=this._getTemplateFactory(r).toHtml();if(!l)return null;l.classList.remove(DJ,w8),l.classList.add(`bs-${this.constructor.NAME}-auto`);const h=Cde(this.constructor.NAME).toString();return l.setAttribute("id",h),this._isAnimated()&&l.classList.add(DJ),l}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new vhe({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Che]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(DJ)}_isShown(){return this.tip&&this.tip.classList.contains(w8)}_createPopper(r){const l=typeof this._config.placement=="function"?this._config.placement.call(this,r,this._element):this._config.placement,h=Phe[l.toUpperCase()];return gee(this._element,r,this._getPopperConfig(h))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(l=>Number.parseInt(l,10)):typeof r=="function"?l=>r(l,this._element):r}_resolvePossibleFunction(r){return typeof r=="function"?r.call(this._element):r}_getPopperConfig(r){const l={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:h=>{this._getTipElement().setAttribute("data-popper-placement",h.state.placement)}}]};return{...l,...typeof this._config.popperConfig=="function"?this._config.popperConfig(l):this._config.popperConfig}}_setListeners(){const r=this._config.trigger.split(" ");for(const l of r)if(l==="click")Qt.on(this._element,this.constructor.eventName(Dhe),this._config.selector,h=>{this._initializeOnDelegatedTarget(h).toggle()});else if(l!==Ehe){const h=l===d$?this.constructor.eventName(Mhe):this.constructor.eventName(Nhe),y=l===d$?this.constructor.eventName($he):this.constructor.eventName(Rhe);Qt.on(this._element,h,this._config.selector,w=>{const E=this._initializeOnDelegatedTarget(w);E._activeTrigger[w.type==="focusin"?NJ:d$]=!0,E._enter()}),Qt.on(this._element,y,this._config.selector,w=>{const E=this._initializeOnDelegatedTarget(w);E._activeTrigger[w.type==="focusout"?NJ:d$]=E._element.contains(w.relatedTarget),E._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Qt.on(this._element.closest(Foe),Hoe,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");r&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,l){clearTimeout(this._timeout),this._timeout=setTimeout(r,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const l=b0.getDataAttributes(this._element);for(const h of Object.keys(l))_he.has(h)&&delete l[h];return r={...l,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:sw(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const l in this._config)this.constructor.Default[l]!==this._config[l]&&(r[l]=this._config[l]);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const l=LO.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof l[r]>"u")throw new TypeError(`No method named "${r}"`);l[r]()}})}}op(LO);const Lhe="popover",Fhe=".popover-header",Hhe=".popover-body",Vhe={...LO.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},zhe={...LO.DefaultType,content:"(null|string|element|function)"};class _ee extends LO{static get Default(){return Vhe}static get DefaultType(){return zhe}static get NAME(){return Lhe}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Fhe]:this._getTitle(),[Hhe]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const l=_ee.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof l[r]>"u")throw new TypeError(`No method named "${r}"`);l[r]()}})}}op(_ee);const Whe="scrollspy",Uhe="bs.scrollspy",wee=`.${Uhe}`,jhe=".data-api",Zhe=`activate${wee}`,Voe=`click${wee}`,Khe=`load${wee}${jhe}`,qhe="dropdown-item",GA="active",Ghe='[data-bs-spy="scroll"]',RJ="[href]",Yhe=".nav, .list-group",zoe=".nav-link",Xhe=".nav-item",Jhe=".list-group-item",Qhe=`${zoe}, ${Xhe} > ${zoe}, ${Jhe}`,epe=".dropdown",tpe=".dropdown-toggle",npe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ope={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class WV extends wg{constructor(r,l){super(r,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return npe}static get DefaultType(){return ope}static get NAME(){return Whe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=sw(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(l=>Number.parseFloat(l))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Qt.off(this._config.target,Voe),Qt.on(this._config.target,Voe,RJ,r=>{const l=this._observableSections.get(r.target.hash);if(l){r.preventDefault();const h=this._rootElement||window,y=l.offsetTop-this._element.offsetTop;if(h.scrollTo){h.scrollTo({top:y,behavior:"smooth"});return}h.scrollTop=y}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),r)}_observerCallback(r){const l=E=>this._targetLinks.get(`#${E.target.id}`),h=E=>{this._previousScrollData.visibleEntryTop=E.target.offsetTop,this._process(l(E))},y=(this._rootElement||document.documentElement).scrollTop,w=y>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=y;for(const E of r){if(!E.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(E));continue}const A=E.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&A){if(h(E),!y)return;continue}!w&&!A&&h(E)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=Ts.find(RJ,this._config.target);for(const l of r){if(!l.hash||rw(l))continue;const h=Ts.findOne(l.hash,this._element);BO(h)&&(this._targetLinks.set(l.hash,l),this._observableSections.set(l.hash,h))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(GA),this._activateParents(r),Qt.trigger(this._element,Zhe,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains(qhe)){Ts.findOne(tpe,r.closest(epe)).classList.add(GA);return}for(const l of Ts.parents(r,Yhe))for(const h of Ts.prev(l,Qhe))h.classList.add(GA)}_clearActiveClass(r){r.classList.remove(GA);const l=Ts.find(`${RJ}.${GA}`,r);for(const h of l)h.classList.remove(GA)}static jQueryInterface(r){return this.each(function(){const l=WV.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}})}}Qt.on(window,Khe,()=>{for(const i of Ts.find(Ghe))WV.getOrCreateInstance(i)});op(WV);const spe="tab",rpe="bs.tab",h2=`.${rpe}`,ipe=`hide${h2}`,ape=`hidden${h2}`,cpe=`show${h2}`,lpe=`shown${h2}`,upe=`click${h2}`,dpe=`keydown${h2}`,fpe=`load${h2}`,mpe="ArrowLeft",Woe="ArrowRight",hpe="ArrowUp",Uoe="ArrowDown",qE="active",joe="fade",MJ="show",ppe="dropdown",gpe=".dropdown-toggle",bpe=".dropdown-menu",$J=":not(.dropdown-toggle)",vpe='.list-group, .nav, [role="tablist"]',ype=".nav-item, .list-group-item",_pe=`.nav-link${$J}, .list-group-item${$J}, [role="tab"]${$J}`,Nie='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',PJ=`${_pe}, ${Nie}`,wpe=`.${qE}[data-bs-toggle="tab"], .${qE}[data-bs-toggle="pill"], .${qE}[data-bs-toggle="list"]`;class _O extends wg{constructor(r){super(r),this._parent=this._element.closest(vpe),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Qt.on(this._element,dpe,l=>this._keydown(l)))}static get NAME(){return spe}show(){const r=this._element;if(this._elemIsActive(r))return;const l=this._getActiveElem(),h=l?Qt.trigger(l,ipe,{relatedTarget:r}):null;Qt.trigger(r,cpe,{relatedTarget:l}).defaultPrevented||h&&h.defaultPrevented||(this._deactivate(l,r),this._activate(r,l))}_activate(r,l){if(!r)return;r.classList.add(qE),this._activate(p0(r));const h=()=>{if(r.getAttribute("role")!=="tab"){r.classList.add(MJ);return}r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),Qt.trigger(r,lpe,{relatedTarget:l})};this._queueCallback(h,r,r.classList.contains(joe))}_deactivate(r,l){if(!r)return;r.classList.remove(qE),r.blur(),this._deactivate(p0(r));const h=()=>{if(r.getAttribute("role")!=="tab"){r.classList.remove(MJ);return}r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),Qt.trigger(r,ape,{relatedTarget:l})};this._queueCallback(h,r,r.classList.contains(joe))}_keydown(r){if(![mpe,Woe,hpe,Uoe].includes(r.key))return;r.stopPropagation(),r.preventDefault();const l=[Woe,Uoe].includes(r.key),h=bee(this._getChildren().filter(y=>!rw(y)),r.target,l,!0);h&&(h.focus({preventScroll:!0}),_O.getOrCreateInstance(h).show())}_getChildren(){return Ts.find(PJ,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,l){this._setAttributeIfNotExists(r,"role","tablist");for(const h of l)this._setInitialAttributesOnChild(h)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const l=this._elemIsActive(r),h=this._getOuterElement(r);r.setAttribute("aria-selected",l),h!==r&&this._setAttributeIfNotExists(h,"role","presentation"),l||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const l=p0(r);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`#${r.id}`))}_toggleDropDown(r,l){const h=this._getOuterElement(r);if(!h.classList.contains(ppe))return;const y=(w,E)=>{const A=Ts.findOne(w,h);A&&A.classList.toggle(E,l)};y(gpe,qE),y(bpe,MJ),h.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(r,l,h){r.hasAttribute(l)||r.setAttribute(l,h)}_elemIsActive(r){return r.classList.contains(qE)}_getInnerElement(r){return r.matches(PJ)?r:Ts.findOne(PJ,r)}_getOuterElement(r){return r.closest(ype)||r}static jQueryInterface(r){return this.each(function(){const l=_O.getOrCreateInstance(this);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}})}}Qt.on(document,upe,Nie,function(i){["A","AREA"].includes(this.tagName)&&i.preventDefault(),!rw(this)&&_O.getOrCreateInstance(this).show()});Qt.on(window,fpe,()=>{for(const i of Ts.find(wpe))_O.getOrCreateInstance(i)});op(_O);const Cpe="toast",Spe="bs.toast",gw=`.${Spe}`,Epe=`mouseover${gw}`,xpe=`mouseout${gw}`,Tpe=`focusin${gw}`,kpe=`focusout${gw}`,Ape=`hide${gw}`,Ope=`hidden${gw}`,Dpe=`show${gw}`,Npe=`shown${gw}`,Rpe="fade",Zoe="hide",C8="show",S8="showing",Mpe={animation:"boolean",autohide:"boolean",delay:"number"},$pe={animation:!0,autohide:!0,delay:5e3};class UV extends wg{constructor(r,l){super(r,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $pe}static get DefaultType(){return Mpe}static get NAME(){return Cpe}show(){if(Qt.trigger(this._element,Dpe).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Rpe);const l=()=>{this._element.classList.remove(S8),Qt.trigger(this._element,Npe),this._maybeScheduleHide()};this._element.classList.remove(Zoe),J$(this._element),this._element.classList.add(C8,S8),this._queueCallback(l,this._element,this._config.animation)}hide(){if(!this.isShown()||Qt.trigger(this._element,Ape).defaultPrevented)return;const l=()=>{this._element.classList.add(Zoe),this._element.classList.remove(S8,C8),Qt.trigger(this._element,Ope)};this._element.classList.add(S8),this._queueCallback(l,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(C8),super.dispose()}isShown(){return this._element.classList.contains(C8)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,l){switch(r.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=l;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=l;break}}if(l){this._clearTimeout();return}const h=r.relatedTarget;this._element===h||this._element.contains(h)||this._maybeScheduleHide()}_setListeners(){Qt.on(this._element,Epe,r=>this._onInteraction(r,!0)),Qt.on(this._element,xpe,r=>this._onInteraction(r,!1)),Qt.on(this._element,Tpe,r=>this._onInteraction(r,!0)),Qt.on(this._element,kpe,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const l=UV.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof l[r]>"u")throw new TypeError(`No method named "${r}"`);l[r](this)}})}}HV(UV);op(UV);function Rie(i,r){return function(){return i.apply(r,arguments)}}const{toString:Mie}=Object.prototype,{getPrototypeOf:Cee}=Object,See=(i=>r=>{const l=Mie.call(r);return i[l]||(i[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),E0=i=>(i=i.toLowerCase(),r=>See(r)===i),jV=i=>r=>typeof r===i,{isArray:FO}=Array,B$=jV("undefined");function Ppe(i){return i!==null&&!B$(i)&&i.constructor!==null&&!B$(i.constructor)&&aw(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const $ie=E0("ArrayBuffer");function Bpe(i){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(i):r=i&&i.buffer&&$ie(i.buffer),r}const Ipe=jV("string"),aw=jV("function"),Pie=jV("number"),Eee=i=>i!==null&&typeof i=="object",Lpe=i=>i===!0||i===!1,q8=i=>{if(See(i)!=="object")return!1;const r=Cee(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Fpe=E0("Date"),Hpe=E0("File"),Vpe=E0("Blob"),zpe=E0("FileList"),Wpe=i=>Eee(i)&&aw(i.pipe),Upe=i=>{const r="[object FormData]";return i&&(typeof FormData=="function"&&i instanceof FormData||Mie.call(i)===r||aw(i.toString)&&i.toString()===r)},jpe=E0("URLSearchParams"),Zpe=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nP(i,r,{allOwnKeys:l=!1}={}){if(i===null||typeof i>"u")return;let h,y;if(typeof i!="object"&&(i=[i]),FO(i))for(h=0,y=i.length;h<y;h++)r.call(null,i[h],h,i);else{const w=l?Object.getOwnPropertyNames(i):Object.keys(i),E=w.length;let A;for(h=0;h<E;h++)A=w[h],r.call(null,i[A],A,i)}}function Bie(i,r){r=r.toLowerCase();const l=Object.keys(i);let h=l.length,y;for(;h-- >0;)if(y=l[h],r===y.toLowerCase())return y;return null}const Iie=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Lie=i=>!B$(i)&&i!==Iie;function wQ(){const{caseless:i}=Lie(this)&&this||{},r={},l=(h,y)=>{const w=i&&Bie(r,y)||y;q8(r[w])&&q8(h)?r[w]=wQ(r[w],h):q8(h)?r[w]=wQ({},h):FO(h)?r[w]=h.slice():r[w]=h};for(let h=0,y=arguments.length;h<y;h++)arguments[h]&&nP(arguments[h],l);return r}const Kpe=(i,r,l,{allOwnKeys:h}={})=>(nP(r,(y,w)=>{l&&aw(y)?i[w]=Rie(y,l):i[w]=y},{allOwnKeys:h}),i),qpe=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Gpe=(i,r,l,h)=>{i.prototype=Object.create(r.prototype,h),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:r.prototype}),l&&Object.assign(i.prototype,l)},Ype=(i,r,l,h)=>{let y,w,E;const A={};if(r=r||{},i==null)return r;do{for(y=Object.getOwnPropertyNames(i),w=y.length;w-- >0;)E=y[w],(!h||h(E,i,r))&&!A[E]&&(r[E]=i[E],A[E]=!0);i=l!==!1&&Cee(i)}while(i&&(!l||l(i,r))&&i!==Object.prototype);return r},Xpe=(i,r,l)=>{i=String(i),(l===void 0||l>i.length)&&(l=i.length),l-=r.length;const h=i.indexOf(r,l);return h!==-1&&h===l},Jpe=i=>{if(!i)return null;if(FO(i))return i;let r=i.length;if(!Pie(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=i[r];return l},Qpe=(i=>r=>i&&r instanceof i)(typeof Uint8Array<"u"&&Cee(Uint8Array)),ege=(i,r)=>{const h=(i&&i[Symbol.iterator]).call(i);let y;for(;(y=h.next())&&!y.done;){const w=y.value;r.call(i,w[0],w[1])}},tge=(i,r)=>{let l;const h=[];for(;(l=i.exec(r))!==null;)h.push(l);return h},nge=E0("HTMLFormElement"),oge=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,h,y){return h.toUpperCase()+y}),Koe=(({hasOwnProperty:i})=>(r,l)=>i.call(r,l))(Object.prototype),sge=E0("RegExp"),Fie=(i,r)=>{const l=Object.getOwnPropertyDescriptors(i),h={};nP(l,(y,w)=>{r(y,w,i)!==!1&&(h[w]=y)}),Object.defineProperties(i,h)},rge=i=>{Fie(i,(r,l)=>{if(aw(i)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const h=i[l];if(aw(h)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},ige=(i,r)=>{const l={},h=y=>{y.forEach(w=>{l[w]=!0})};return FO(i)?h(i):h(String(i).split(r)),l},age=()=>{},cge=(i,r)=>(i=+i,Number.isFinite(i)?i:r),BJ="abcdefghijklmnopqrstuvwxyz",qoe="0123456789",Hie={DIGIT:qoe,ALPHA:BJ,ALPHA_DIGIT:BJ+BJ.toUpperCase()+qoe},lge=(i=16,r=Hie.ALPHA_DIGIT)=>{let l="";const{length:h}=r;for(;i--;)l+=r[Math.random()*h|0];return l};function uge(i){return!!(i&&aw(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const dge=i=>{const r=new Array(10),l=(h,y)=>{if(Eee(h)){if(r.indexOf(h)>=0)return;if(!("toJSON"in h)){r[y]=h;const w=FO(h)?[]:{};return nP(h,(E,A)=>{const R=l(E,y+1);!B$(R)&&(w[A]=R)}),r[y]=void 0,w}}return h};return l(i,0)},Ut={isArray:FO,isArrayBuffer:$ie,isBuffer:Ppe,isFormData:Upe,isArrayBufferView:Bpe,isString:Ipe,isNumber:Pie,isBoolean:Lpe,isObject:Eee,isPlainObject:q8,isUndefined:B$,isDate:Fpe,isFile:Hpe,isBlob:Vpe,isRegExp:sge,isFunction:aw,isStream:Wpe,isURLSearchParams:jpe,isTypedArray:Qpe,isFileList:zpe,forEach:nP,merge:wQ,extend:Kpe,trim:Zpe,stripBOM:qpe,inherits:Gpe,toFlatObject:Ype,kindOf:See,kindOfTest:E0,endsWith:Xpe,toArray:Jpe,forEachEntry:ege,matchAll:tge,isHTMLForm:nge,hasOwnProperty:Koe,hasOwnProp:Koe,reduceDescriptors:Fie,freezeMethods:rge,toObjectSet:ige,toCamelCase:oge,noop:age,toFiniteNumber:cge,findKey:Bie,global:Iie,isContextDefined:Lie,ALPHABET:Hie,generateString:lge,isSpecCompliantForm:uge,toJSONObject:dge};function br(i,r,l,h,y){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),h&&(this.request=h),y&&(this.response=y)}Ut.inherits(br,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ut.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Vie=br.prototype,zie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{zie[i]={value:i}});Object.defineProperties(br,zie);Object.defineProperty(Vie,"isAxiosError",{value:!0});br.from=(i,r,l,h,y,w)=>{const E=Object.create(Vie);return Ut.toFlatObject(i,E,function(R){return R!==Error.prototype},A=>A!=="isAxiosError"),br.call(E,i.message,r,l,h,y),E.cause=i,E.name=i.name,w&&Object.assign(E,w),E};const fge=null;function CQ(i){return Ut.isPlainObject(i)||Ut.isArray(i)}function Wie(i){return Ut.endsWith(i,"[]")?i.slice(0,-2):i}function Goe(i,r,l){return i?i.concat(r).map(function(y,w){return y=Wie(y),!l&&w?"["+y+"]":y}).join(l?".":""):r}function mge(i){return Ut.isArray(i)&&!i.some(CQ)}const hge=Ut.toFlatObject(Ut,{},null,function(r){return/^is[A-Z]/.test(r)});function ZV(i,r,l){if(!Ut.isObject(i))throw new TypeError("target must be an object");r=r||new FormData,l=Ut.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ve,Ee){return!Ut.isUndefined(Ee[ve])});const h=l.metaTokens,y=l.visitor||j,w=l.dots,E=l.indexes,R=(l.Blob||typeof Blob<"u"&&Blob)&&Ut.isSpecCompliantForm(r);if(!Ut.isFunction(y))throw new TypeError("visitor must be a function");function H(me){if(me===null)return"";if(Ut.isDate(me))return me.toISOString();if(!R&&Ut.isBlob(me))throw new br("Blob is not supported. Use a Buffer instead.");return Ut.isArrayBuffer(me)||Ut.isTypedArray(me)?R&&typeof Blob=="function"?new Blob([me]):Buffer.from(me):me}function j(me,ve,Ee){let Me=me;if(me&&!Ee&&typeof me=="object"){if(Ut.endsWith(ve,"{}"))ve=h?ve:ve.slice(0,-2),me=JSON.stringify(me);else if(Ut.isArray(me)&&mge(me)||(Ut.isFileList(me)||Ut.endsWith(ve,"[]"))&&(Me=Ut.toArray(me)))return ve=Wie(ve),Me.forEach(function(q,ke){!(Ut.isUndefined(q)||q===null)&&r.append(E===!0?Goe([ve],ke,w):E===null?ve:ve+"[]",H(q))}),!1}return CQ(me)?!0:(r.append(Goe(Ee,ve,w),H(me)),!1)}const Q=[],le=Object.assign(hge,{defaultVisitor:j,convertValue:H,isVisitable:CQ});function pe(me,ve){if(!Ut.isUndefined(me)){if(Q.indexOf(me)!==-1)throw Error("Circular reference detected in "+ve.join("."));Q.push(me),Ut.forEach(me,function(Me,ce){(!(Ut.isUndefined(Me)||Me===null)&&y.call(r,Me,Ut.isString(ce)?ce.trim():ce,ve,le))===!0&&pe(Me,ve?ve.concat(ce):[ce])}),Q.pop()}}if(!Ut.isObject(i))throw new TypeError("data must be an object");return pe(i),r}function Yoe(i){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(h){return r[h]})}function xee(i,r){this._pairs=[],i&&ZV(i,this,r)}const Uie=xee.prototype;Uie.append=function(r,l){this._pairs.push([r,l])};Uie.toString=function(r){const l=r?function(h){return r.call(this,h,Yoe)}:Yoe;return this._pairs.map(function(y){return l(y[0])+"="+l(y[1])},"").join("&")};function pge(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jie(i,r,l){if(!r)return i;const h=l&&l.encode||pge,y=l&&l.serialize;let w;if(y?w=y(r,l):w=Ut.isURLSearchParams(r)?r.toString():new xee(r,l).toString(h),w){const E=i.indexOf("#");E!==-1&&(i=i.slice(0,E)),i+=(i.indexOf("?")===-1?"?":"&")+w}return i}class gge{constructor(){this.handlers=[]}use(r,l,h){return this.handlers.push({fulfilled:r,rejected:l,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Ut.forEach(this.handlers,function(h){h!==null&&r(h)})}}const Xoe=gge,Zie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bge=typeof URLSearchParams<"u"?URLSearchParams:xee,vge=typeof FormData<"u"?FormData:null,yge=typeof Blob<"u"?Blob:null,_ge=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),wge=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),f1={isBrowser:!0,classes:{URLSearchParams:bge,FormData:vge,Blob:yge},isStandardBrowserEnv:_ge,isStandardBrowserWebWorkerEnv:wge,protocols:["http","https","file","blob","url","data"]};function Cge(i,r){return ZV(i,new f1.classes.URLSearchParams,Object.assign({visitor:function(l,h,y,w){return f1.isNode&&Ut.isBuffer(l)?(this.append(h,l.toString("base64")),!1):w.defaultVisitor.apply(this,arguments)}},r))}function Sge(i){return Ut.matchAll(/\w+|\[(\w*)]/g,i).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Ege(i){const r={},l=Object.keys(i);let h;const y=l.length;let w;for(h=0;h<y;h++)w=l[h],r[w]=i[w];return r}function Kie(i){function r(l,h,y,w){let E=l[w++];const A=Number.isFinite(+E),R=w>=l.length;return E=!E&&Ut.isArray(y)?y.length:E,R?(Ut.hasOwnProp(y,E)?y[E]=[y[E],h]:y[E]=h,!A):((!y[E]||!Ut.isObject(y[E]))&&(y[E]=[]),r(l,h,y[E],w)&&Ut.isArray(y[E])&&(y[E]=Ege(y[E])),!A)}if(Ut.isFormData(i)&&Ut.isFunction(i.entries)){const l={};return Ut.forEachEntry(i,(h,y)=>{r(Sge(h),y,l,0)}),l}return null}const xge={"Content-Type":void 0};function Tge(i,r,l){if(Ut.isString(i))try{return(r||JSON.parse)(i),Ut.trim(i)}catch(h){if(h.name!=="SyntaxError")throw h}return(l||JSON.stringify)(i)}const KV={transitional:Zie,adapter:["xhr","http"],transformRequest:[function(r,l){const h=l.getContentType()||"",y=h.indexOf("application/json")>-1,w=Ut.isObject(r);if(w&&Ut.isHTMLForm(r)&&(r=new FormData(r)),Ut.isFormData(r))return y&&y?JSON.stringify(Kie(r)):r;if(Ut.isArrayBuffer(r)||Ut.isBuffer(r)||Ut.isStream(r)||Ut.isFile(r)||Ut.isBlob(r))return r;if(Ut.isArrayBufferView(r))return r.buffer;if(Ut.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let A;if(w){if(h.indexOf("application/x-www-form-urlencoded")>-1)return Cge(r,this.formSerializer).toString();if((A=Ut.isFileList(r))||h.indexOf("multipart/form-data")>-1){const R=this.env&&this.env.FormData;return ZV(A?{"files[]":r}:r,R&&new R,this.formSerializer)}}return w||y?(l.setContentType("application/json",!1),Tge(r)):r}],transformResponse:[function(r){const l=this.transitional||KV.transitional,h=l&&l.forcedJSONParsing,y=this.responseType==="json";if(r&&Ut.isString(r)&&(h&&!this.responseType||y)){const E=!(l&&l.silentJSONParsing)&&y;try{return JSON.parse(r)}catch(A){if(E)throw A.name==="SyntaxError"?br.from(A,br.ERR_BAD_RESPONSE,this,null,this.response):A}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:f1.classes.FormData,Blob:f1.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ut.forEach(["delete","get","head"],function(r){KV.headers[r]={}});Ut.forEach(["post","put","patch"],function(r){KV.headers[r]=Ut.merge(xge)});const Tee=KV,kge=Ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Age=i=>{const r={};let l,h,y;return i&&i.split(`
`).forEach(function(E){y=E.indexOf(":"),l=E.substring(0,y).trim().toLowerCase(),h=E.substring(y+1).trim(),!(!l||r[l]&&kge[l])&&(l==="set-cookie"?r[l]?r[l].push(h):r[l]=[h]:r[l]=r[l]?r[l]+", "+h:h)}),r},Joe=Symbol("internals");function f$(i){return i&&String(i).trim().toLowerCase()}function G8(i){return i===!1||i==null?i:Ut.isArray(i)?i.map(G8):String(i)}function Oge(i){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let h;for(;h=l.exec(i);)r[h[1]]=h[2];return r}function Dge(i){return/^[-_a-zA-Z]+$/.test(i.trim())}function IJ(i,r,l,h,y){if(Ut.isFunction(h))return h.call(this,r,l);if(y&&(r=l),!!Ut.isString(r)){if(Ut.isString(h))return r.indexOf(h)!==-1;if(Ut.isRegExp(h))return h.test(r)}}function Nge(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,h)=>l.toUpperCase()+h)}function Rge(i,r){const l=Ut.toCamelCase(" "+r);["get","set","has"].forEach(h=>{Object.defineProperty(i,h+l,{value:function(y,w,E){return this[h].call(this,r,y,w,E)},configurable:!0})})}class qV{constructor(r){r&&this.set(r)}set(r,l,h){const y=this;function w(A,R,H){const j=f$(R);if(!j)throw new Error("header name must be a non-empty string");const Q=Ut.findKey(y,j);(!Q||y[Q]===void 0||H===!0||H===void 0&&y[Q]!==!1)&&(y[Q||R]=G8(A))}const E=(A,R)=>Ut.forEach(A,(H,j)=>w(H,j,R));return Ut.isPlainObject(r)||r instanceof this.constructor?E(r,l):Ut.isString(r)&&(r=r.trim())&&!Dge(r)?E(Age(r),l):r!=null&&w(l,r,h),this}get(r,l){if(r=f$(r),r){const h=Ut.findKey(this,r);if(h){const y=this[h];if(!l)return y;if(l===!0)return Oge(y);if(Ut.isFunction(l))return l.call(this,y,h);if(Ut.isRegExp(l))return l.exec(y);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=f$(r),r){const h=Ut.findKey(this,r);return!!(h&&this[h]!==void 0&&(!l||IJ(this,this[h],h,l)))}return!1}delete(r,l){const h=this;let y=!1;function w(E){if(E=f$(E),E){const A=Ut.findKey(h,E);A&&(!l||IJ(h,h[A],A,l))&&(delete h[A],y=!0)}}return Ut.isArray(r)?r.forEach(w):w(r),y}clear(r){const l=Object.keys(this);let h=l.length,y=!1;for(;h--;){const w=l[h];(!r||IJ(this,this[w],w,r,!0))&&(delete this[w],y=!0)}return y}normalize(r){const l=this,h={};return Ut.forEach(this,(y,w)=>{const E=Ut.findKey(h,w);if(E){l[E]=G8(y),delete l[w];return}const A=r?Nge(w):String(w).trim();A!==w&&delete l[w],l[A]=G8(y),h[A]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return Ut.forEach(this,(h,y)=>{h!=null&&h!==!1&&(l[y]=r&&Ut.isArray(h)?h.join(", "):h)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const h=new this(r);return l.forEach(y=>h.set(y)),h}static accessor(r){const h=(this[Joe]=this[Joe]={accessors:{}}).accessors,y=this.prototype;function w(E){const A=f$(E);h[A]||(Rge(y,E),h[A]=!0)}return Ut.isArray(r)?r.forEach(w):w(r),this}}qV.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ut.freezeMethods(qV.prototype);Ut.freezeMethods(qV);const v0=qV;function LJ(i,r){const l=this||Tee,h=r||l,y=v0.from(h.headers);let w=h.data;return Ut.forEach(i,function(A){w=A.call(l,w,y.normalize(),r?r.status:void 0)}),y.normalize(),w}function qie(i){return!!(i&&i.__CANCEL__)}function oP(i,r,l){br.call(this,i??"canceled",br.ERR_CANCELED,r,l),this.name="CanceledError"}Ut.inherits(oP,br,{__CANCEL__:!0});function Mge(i,r,l){const h=l.config.validateStatus;!l.status||!h||h(l.status)?i(l):r(new br("Request failed with status code "+l.status,[br.ERR_BAD_REQUEST,br.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}const $ge=f1.isStandardBrowserEnv?function(){return{write:function(l,h,y,w,E,A){const R=[];R.push(l+"="+encodeURIComponent(h)),Ut.isNumber(y)&&R.push("expires="+new Date(y).toGMTString()),Ut.isString(w)&&R.push("path="+w),Ut.isString(E)&&R.push("domain="+E),A===!0&&R.push("secure"),document.cookie=R.join("; ")},read:function(l){const h=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return h?decodeURIComponent(h[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Pge(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Bge(i,r){return r?i.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):i}function Gie(i,r){return i&&!Pge(r)?Bge(i,r):r}const Ige=f1.isStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a");let h;function y(w){let E=w;return r&&(l.setAttribute("href",E),E=l.href),l.setAttribute("href",E),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return h=y(window.location.href),function(E){const A=Ut.isString(E)?y(E):E;return A.protocol===h.protocol&&A.host===h.host}}():function(){return function(){return!0}}();function Lge(i){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return r&&r[1]||""}function Fge(i,r){i=i||10;const l=new Array(i),h=new Array(i);let y=0,w=0,E;return r=r!==void 0?r:1e3,function(R){const H=Date.now(),j=h[w];E||(E=H),l[y]=R,h[y]=H;let Q=w,le=0;for(;Q!==y;)le+=l[Q++],Q=Q%i;if(y=(y+1)%i,y===w&&(w=(w+1)%i),H-E<r)return;const pe=j&&H-j;return pe?Math.round(le*1e3/pe):void 0}}function Qoe(i,r){let l=0;const h=Fge(50,250);return y=>{const w=y.loaded,E=y.lengthComputable?y.total:void 0,A=w-l,R=h(A),H=w<=E;l=w;const j={loaded:w,total:E,progress:E?w/E:void 0,bytes:A,rate:R||void 0,estimated:R&&E&&H?(E-w)/R:void 0,event:y};j[r?"download":"upload"]=!0,i(j)}}const Hge=typeof XMLHttpRequest<"u",Vge=Hge&&function(i){return new Promise(function(l,h){let y=i.data;const w=v0.from(i.headers).normalize(),E=i.responseType;let A;function R(){i.cancelToken&&i.cancelToken.unsubscribe(A),i.signal&&i.signal.removeEventListener("abort",A)}Ut.isFormData(y)&&(f1.isStandardBrowserEnv||f1.isStandardBrowserWebWorkerEnv)&&w.setContentType(!1);let H=new XMLHttpRequest;if(i.auth){const pe=i.auth.username||"",me=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";w.set("Authorization","Basic "+btoa(pe+":"+me))}const j=Gie(i.baseURL,i.url);H.open(i.method.toUpperCase(),jie(j,i.params,i.paramsSerializer),!0),H.timeout=i.timeout;function Q(){if(!H)return;const pe=v0.from("getAllResponseHeaders"in H&&H.getAllResponseHeaders()),ve={data:!E||E==="text"||E==="json"?H.responseText:H.response,status:H.status,statusText:H.statusText,headers:pe,config:i,request:H};Mge(function(Me){l(Me),R()},function(Me){h(Me),R()},ve),H=null}if("onloadend"in H?H.onloadend=Q:H.onreadystatechange=function(){!H||H.readyState!==4||H.status===0&&!(H.responseURL&&H.responseURL.indexOf("file:")===0)||setTimeout(Q)},H.onabort=function(){H&&(h(new br("Request aborted",br.ECONNABORTED,i,H)),H=null)},H.onerror=function(){h(new br("Network Error",br.ERR_NETWORK,i,H)),H=null},H.ontimeout=function(){let me=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ve=i.transitional||Zie;i.timeoutErrorMessage&&(me=i.timeoutErrorMessage),h(new br(me,ve.clarifyTimeoutError?br.ETIMEDOUT:br.ECONNABORTED,i,H)),H=null},f1.isStandardBrowserEnv){const pe=(i.withCredentials||Ige(j))&&i.xsrfCookieName&&$ge.read(i.xsrfCookieName);pe&&w.set(i.xsrfHeaderName,pe)}y===void 0&&w.setContentType(null),"setRequestHeader"in H&&Ut.forEach(w.toJSON(),function(me,ve){H.setRequestHeader(ve,me)}),Ut.isUndefined(i.withCredentials)||(H.withCredentials=!!i.withCredentials),E&&E!=="json"&&(H.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&H.addEventListener("progress",Qoe(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&H.upload&&H.upload.addEventListener("progress",Qoe(i.onUploadProgress)),(i.cancelToken||i.signal)&&(A=pe=>{H&&(h(!pe||pe.type?new oP(null,i,H):pe),H.abort(),H=null)},i.cancelToken&&i.cancelToken.subscribe(A),i.signal&&(i.signal.aborted?A():i.signal.addEventListener("abort",A)));const le=Lge(j);if(le&&f1.protocols.indexOf(le)===-1){h(new br("Unsupported protocol "+le+":",br.ERR_BAD_REQUEST,i));return}H.send(y||null)})},Y8={http:fge,xhr:Vge};Ut.forEach(Y8,(i,r)=>{if(i){try{Object.defineProperty(i,"name",{value:r})}catch{}Object.defineProperty(i,"adapterName",{value:r})}});const zge={getAdapter:i=>{i=Ut.isArray(i)?i:[i];const{length:r}=i;let l,h;for(let y=0;y<r&&(l=i[y],!(h=Ut.isString(l)?Y8[l.toLowerCase()]:l));y++);if(!h)throw h===!1?new br(`Adapter ${l} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ut.hasOwnProp(Y8,l)?`Adapter '${l}' is not available in the build`:`Unknown adapter '${l}'`);if(!Ut.isFunction(h))throw new TypeError("adapter is not a function");return h},adapters:Y8};function FJ(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new oP(null,i)}function ese(i){return FJ(i),i.headers=v0.from(i.headers),i.data=LJ.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),zge.getAdapter(i.adapter||Tee.adapter)(i).then(function(h){return FJ(i),h.data=LJ.call(i,i.transformResponse,h),h.headers=v0.from(h.headers),h},function(h){return qie(h)||(FJ(i),h&&h.response&&(h.response.data=LJ.call(i,i.transformResponse,h.response),h.response.headers=v0.from(h.response.headers))),Promise.reject(h)})}const tse=i=>i instanceof v0?i.toJSON():i;function wO(i,r){r=r||{};const l={};function h(H,j,Q){return Ut.isPlainObject(H)&&Ut.isPlainObject(j)?Ut.merge.call({caseless:Q},H,j):Ut.isPlainObject(j)?Ut.merge({},j):Ut.isArray(j)?j.slice():j}function y(H,j,Q){if(Ut.isUndefined(j)){if(!Ut.isUndefined(H))return h(void 0,H,Q)}else return h(H,j,Q)}function w(H,j){if(!Ut.isUndefined(j))return h(void 0,j)}function E(H,j){if(Ut.isUndefined(j)){if(!Ut.isUndefined(H))return h(void 0,H)}else return h(void 0,j)}function A(H,j,Q){if(Q in r)return h(H,j);if(Q in i)return h(void 0,H)}const R={url:w,method:w,data:w,baseURL:E,transformRequest:E,transformResponse:E,paramsSerializer:E,timeout:E,timeoutMessage:E,withCredentials:E,adapter:E,responseType:E,xsrfCookieName:E,xsrfHeaderName:E,onUploadProgress:E,onDownloadProgress:E,decompress:E,maxContentLength:E,maxBodyLength:E,beforeRedirect:E,transport:E,httpAgent:E,httpsAgent:E,cancelToken:E,socketPath:E,responseEncoding:E,validateStatus:A,headers:(H,j)=>y(tse(H),tse(j),!0)};return Ut.forEach(Object.keys(i).concat(Object.keys(r)),function(j){const Q=R[j]||y,le=Q(i[j],r[j],j);Ut.isUndefined(le)&&Q!==A||(l[j]=le)}),l}const Yie="1.3.4",kee={};["object","boolean","number","function","string","symbol"].forEach((i,r)=>{kee[i]=function(h){return typeof h===i||"a"+(r<1?"n ":" ")+i}});const nse={};kee.transitional=function(r,l,h){function y(w,E){return"[Axios v"+Yie+"] Transitional option '"+w+"'"+E+(h?". "+h:"")}return(w,E,A)=>{if(r===!1)throw new br(y(E," has been removed"+(l?" in "+l:"")),br.ERR_DEPRECATED);return l&&!nse[E]&&(nse[E]=!0,console.warn(y(E," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(w,E,A):!0}};function Wge(i,r,l){if(typeof i!="object")throw new br("options must be an object",br.ERR_BAD_OPTION_VALUE);const h=Object.keys(i);let y=h.length;for(;y-- >0;){const w=h[y],E=r[w];if(E){const A=i[w],R=A===void 0||E(A,w,i);if(R!==!0)throw new br("option "+w+" must be "+R,br.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new br("Unknown option "+w,br.ERR_BAD_OPTION)}}const SQ={assertOptions:Wge,validators:kee},K_=SQ.validators;class pV{constructor(r){this.defaults=r,this.interceptors={request:new Xoe,response:new Xoe}}request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=wO(this.defaults,l);const{transitional:h,paramsSerializer:y,headers:w}=l;h!==void 0&&SQ.assertOptions(h,{silentJSONParsing:K_.transitional(K_.boolean),forcedJSONParsing:K_.transitional(K_.boolean),clarifyTimeoutError:K_.transitional(K_.boolean)},!1),y!==void 0&&SQ.assertOptions(y,{encode:K_.function,serialize:K_.function},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let E;E=w&&Ut.merge(w.common,w[l.method]),E&&Ut.forEach(["delete","get","head","post","put","patch","common"],me=>{delete w[me]}),l.headers=v0.concat(E,w);const A=[];let R=!0;this.interceptors.request.forEach(function(ve){typeof ve.runWhen=="function"&&ve.runWhen(l)===!1||(R=R&&ve.synchronous,A.unshift(ve.fulfilled,ve.rejected))});const H=[];this.interceptors.response.forEach(function(ve){H.push(ve.fulfilled,ve.rejected)});let j,Q=0,le;if(!R){const me=[ese.bind(this),void 0];for(me.unshift.apply(me,A),me.push.apply(me,H),le=me.length,j=Promise.resolve(l);Q<le;)j=j.then(me[Q++],me[Q++]);return j}le=A.length;let pe=l;for(Q=0;Q<le;){const me=A[Q++],ve=A[Q++];try{pe=me(pe)}catch(Ee){ve.call(this,Ee);break}}try{j=ese.call(this,pe)}catch(me){return Promise.reject(me)}for(Q=0,le=H.length;Q<le;)j=j.then(H[Q++],H[Q++]);return j}getUri(r){r=wO(this.defaults,r);const l=Gie(r.baseURL,r.url);return jie(l,r.params,r.paramsSerializer)}}Ut.forEach(["delete","get","head","options"],function(r){pV.prototype[r]=function(l,h){return this.request(wO(h||{},{method:r,url:l,data:(h||{}).data}))}});Ut.forEach(["post","put","patch"],function(r){function l(h){return function(w,E,A){return this.request(wO(A||{},{method:r,headers:h?{"Content-Type":"multipart/form-data"}:{},url:w,data:E}))}}pV.prototype[r]=l(),pV.prototype[r+"Form"]=l(!0)});const X8=pV;class Aee{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(w){l=w});const h=this;this.promise.then(y=>{if(!h._listeners)return;let w=h._listeners.length;for(;w-- >0;)h._listeners[w](y);h._listeners=null}),this.promise.then=y=>{let w;const E=new Promise(A=>{h.subscribe(A),w=A}).then(y);return E.cancel=function(){h.unsubscribe(w)},E},r(function(w,E,A){h.reason||(h.reason=new oP(w,E,A),l(h.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}static source(){let r;return{token:new Aee(function(y){r=y}),cancel:r}}}const Uge=Aee;function jge(i){return function(l){return i.apply(null,l)}}function Zge(i){return Ut.isObject(i)&&i.isAxiosError===!0}const EQ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(EQ).forEach(([i,r])=>{EQ[r]=i});const Kge=EQ;function Xie(i){const r=new X8(i),l=Rie(X8.prototype.request,r);return Ut.extend(l,X8.prototype,r,{allOwnKeys:!0}),Ut.extend(l,r,null,{allOwnKeys:!0}),l.create=function(y){return Xie(wO(i,y))},l}const fl=Xie(Tee);fl.Axios=X8;fl.CanceledError=oP;fl.CancelToken=Uge;fl.isCancel=qie;fl.VERSION=Yie;fl.toFormData=ZV;fl.AxiosError=br;fl.Cancel=fl.CanceledError;fl.all=function(r){return Promise.all(r)};fl.spread=jge;fl.isAxiosError=Zge;fl.mergeConfig=wO;fl.AxiosHeaders=v0;fl.formToJSON=i=>Kie(Ut.isHTMLForm(i)?new FormData(i):i);fl.HttpStatusCode=Kge;fl.default=fl;const qge=fl;window.axios=qge;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var ose={},Gge={get exports(){return ose},set exports(i){ose=i}};(function(i){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},l=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},h=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},y=function(e,n){return w(function(o,a){return e.eq(n(o),n(a))})},w=function(e){return{eq:e}},E=w(function(e,n){return e===n}),A=E,R=function(e){return w(function(n,o){if(n.length!==o.length)return!1;for(var a=n.length,u=0;u<a;u++)if(!e.eq(n[u],o[u]))return!1;return!0})},H=function(e,n){return y(R(e),function(o){return h(o,n)})},j=function(e){return w(function(n,o){var a=Object.keys(n),u=Object.keys(o);if(!H(A).eq(a,u))return!1;for(var m=a.length,b=0;b<m;b++){var S=a[b];if(!e.eq(n[S],o[S]))return!1}return!0})},Q=w(function(e,n){if(e===n)return!0;var o=r(e),a=r(n);return o!==a?!1:l(o)?e===n:o==="array"?R(Q).eq(e,n):o==="object"?j(Q).eq(e,n):!1});const le=Object.getPrototypeOf,pe=(e,n,o)=>{var a;return o(e,n.prototype)?!0:((a=e.constructor)===null||a===void 0?void 0:a.name)===n.name},me=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&pe(e,String,(o,a)=>a.isPrototypeOf(o))?"string":n},ve=e=>n=>me(n)===e,Ee=e=>n=>typeof n===e,Me=e=>n=>e===n,ce=(e,n)=>ke(e)&&pe(e,n,(o,a)=>le(o)===a),q=ve("string"),ke=ve("object"),ze=e=>ce(e,Object),We=ve("array"),J=Me(null),Te=Ee("boolean"),Ge=Me(void 0),Ue=e=>e==null,ye=e=>!Ue(e),ie=Ee("function"),Tt=Ee("number"),vt=(e,n)=>{if(We(e)){for(let o=0,a=e.length;o<a;++o)if(!n(e[o]))return!1;return!0}return!1},xt=()=>{},I=(e,n)=>(...o)=>e(n.apply(null,o)),ln=(e,n)=>o=>e(n(o)),ot=e=>()=>e,Xn=e=>e,hn=(e,n)=>e===n;function lt(e,...n){return(...o)=>{const a=n.concat(o);return e.apply(null,a)}}const mo=e=>n=>!e(n),ks=e=>()=>{throw new Error(e)},so=e=>e(),Mo=e=>{e()},at=ot(!1),wt=ot(!0);class Y{constructor(n,o){this.tag=n,this.value=o}static some(n){return new Y(!0,n)}static none(){return Y.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?Y.some(n(this.value)):Y.none()}bind(n){return this.tag?n(this.value):Y.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:Y.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return ye(n)?Y.some(n):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Y.singletonNone=new Y(!1);const vr=Array.prototype.slice,_o=Array.prototype.indexOf,Ho=Array.prototype.push,we=(e,n)=>_o.call(e,n),Ze=(e,n)=>{const o=we(e,n);return o===-1?Y.none():Y.some(o)},je=(e,n)=>we(e,n)>-1,pt=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const u=e[o];if(n(u,o))return!0}return!1},Ye=(e,n)=>{const o=e.length,a=new Array(o);for(let u=0;u<o;u++){const m=e[u];a[u]=n(m,u)}return a},Ae=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const u=e[o];n(u,o)}},Jt=(e,n)=>{for(let o=e.length-1;o>=0;o--){const a=e[o];n(a,o)}},Wt=(e,n)=>{const o=[],a=[];for(let u=0,m=e.length;u<m;u++){const b=e[u];(n(b,u)?o:a).push(b)}return{pass:o,fail:a}},st=(e,n)=>{const o=[];for(let a=0,u=e.length;a<u;a++){const m=e[a];n(m,a)&&o.push(m)}return o},Bt=(e,n,o)=>(Jt(e,(a,u)=>{o=n(o,a,u)}),o),tn=(e,n,o)=>(Ae(e,(a,u)=>{o=n(o,a,u)}),o),vn=(e,n,o)=>{for(let a=0,u=e.length;a<u;a++){const m=e[a];if(n(m,a))return Y.some(m);if(o(m,a))break}return Y.none()},nn=(e,n)=>vn(e,n,at),kn=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const u=e[o];if(n(u,o))return Y.some(o)}return Y.none()},lo=e=>{const n=[];for(let o=0,a=e.length;o<a;++o){if(!We(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Ho.apply(n,e[o])}return n},vo=(e,n)=>lo(Ye(e,n)),Qn=(e,n)=>{for(let o=0,a=e.length;o<a;++o){const u=e[o];if(n(u,o)!==!0)return!1}return!0},uo=e=>{const n=vr.call(e,0);return n.reverse(),n},mi=(e,n)=>st(e,o=>!je(n,o)),ds=(e,n)=>{const o={};for(let a=0,u=e.length;a<u;a++){const m=e[a];o[String(m)]=n(m,a)}return o},qo=(e,n)=>{const o=vr.call(e,0);return o.sort(n),o},wc=(e,n)=>n>=0&&n<e.length?Y.some(e[n]):Y.none(),oo=e=>wc(e,0),fs=e=>wc(e,e.length-1),ms=ie(Array.from)?Array.from:e=>vr.call(e),ba=(e,n)=>{for(let o=0;o<e.length;o++){const a=n(e[o],o);if(a.isSome())return a}return Y.none()},Fl=(e,n)=>{const o=[],a=ie(n)?u=>pt(o,m=>n(m,u)):u=>je(o,u);for(let u=0,m=e.length;u<m;u++){const b=e[u];a(b)||o.push(b)}return o},Hs=Object.keys,Hd=Object.hasOwnProperty,Mt=(e,n)=>{const o=Hs(e);for(let a=0,u=o.length;a<u;a++){const m=o[a],b=e[m];n(b,m)}},xo=(e,n)=>Ei(e,(o,a)=>({k:a,v:n(o,a)})),Ei=(e,n)=>{const o={};return Mt(e,(a,u)=>{const m=n(a,u);o[m.k]=m.v}),o},xi=e=>(n,o)=>{e[o]=n},Lc=(e,n,o,a)=>{Mt(e,(u,m)=>{(n(u,m)?o:a)(u,m)})},Fc=(e,n)=>{const o={},a={};return Lc(e,n,xi(o),xi(a)),{t:o,f:a}},ws=(e,n)=>{const o={};return Lc(e,n,xi(o),xt),o},Hl=(e,n)=>{const o=[];return Mt(e,(a,u)=>{o.push(n(a,u))}),o},Na=e=>Hl(e,Xn),cs=(e,n)=>Dn(e,n)?Y.from(e[n]):Y.none(),Dn=(e,n)=>Hd.call(e,n),Xr=(e,n)=>Dn(e,n)&&e[n]!==void 0&&e[n]!==null,ml=(e,n,o=Q)=>j(o).eq(e,n),Hc=e=>{const n={};return Ae(e,o=>{n[o]={}}),Hs(n)},yu=e=>e.length!==void 0,$s=Array.isArray,zr=e=>{if($s(e))return e;{const n=[];for(let o=0,a=e.length;o<a;o++)n[o]=e[o];return n}},Ps=(e,n,o)=>{if(!e)return!1;if(o=o||e,yu(e)){for(let a=0,u=e.length;a<u;a++)if(n.call(o,e[a],a,e)===!1)return!1}else for(const a in e)if(Dn(e,a)&&n.call(o,e[a],a,e)===!1)return!1;return!0},$r=(e,n)=>{const o=[];return Ps(e,(a,u)=>{o.push(n(a,u,e))}),o},Vl=(e,n)=>{const o=[];return Ps(e,(a,u)=>{(!n||n(a,u,e))&&o.push(a)}),o},Jr=(e,n)=>{if(e){for(let o=0,a=e.length;o<a;o++)if(e[o]===n)return o}return-1},va=(e,n,o,a)=>{let u=Ge(o)?e[0]:o;for(let m=0;m<e.length;m++)u=n.call(a,u,e[m],m);return u},qs=(e,n,o)=>{for(let a=0,u=e.length;a<u;a++)if(n.call(o,e[a],a,e))return a;return-1},Ti=e=>e[e.length-1],hl=e=>{let n=!1,o;return(...a)=>(n||(n=!0,o=e.apply(null,a)),o)},Lf=(e,n,o,a)=>{const u=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!u,b=e.isiOS()||e.isAndroid(),S=b||a("(pointer:coarse)"),T=u||!m&&b&&a("(min-device-width:768px)"),$=m||b&&!T,W=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,V=!$&&!T&&!W;return{isiPad:ot(u),isiPhone:ot(m),isTablet:ot(T),isPhone:ot($),isTouch:ot(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ot(W),isDesktop:ot(V)}},_u=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o];if(a.test(n))return a}},Vc=(e,n)=>{const o=_u(e,n);if(!o)return{major:0,minor:0};const a=u=>Number(n.replace(o,"$"+u));return Hi(a(1),a(2))},nd=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Ie():Vc(e,o)},Ie=()=>Hi(0,0),Hi=(e,n)=>({major:e,minor:n}),zc={nu:Hi,detect:nd,unknown:Ie},pl=(e,n)=>ba(n.brands,o=>{const a=o.brand.toLowerCase();return nn(e,u=>{var m;return a===((m=u.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(u=>({current:u.name,version:zc.nu(parseInt(o.version,10),0)}))}),Ff=(e,n)=>{const o=String(n).toLowerCase();return nn(e,a=>a.search(o))},ls=(e,n)=>Ff(e,n).map(o=>{const a=zc.detect(o.versionRegexes,n);return{current:o.name,version:a}}),Gm=(e,n)=>Ff(e,n).map(o=>{const a=zc.detect(o.versionRegexes,n);return{current:o.name,version:a}}),sp=(e,n)=>e.substring(n),Cc=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,od=(e,n)=>us(e,n)?sp(e,n.length):e,As=(e,n,o=0,a)=>{const u=e.indexOf(n,o);return u!==-1?Ge(a)?!0:u+n.length<=a:!1},us=(e,n)=>Cc(e,n,0),Wc=(e,n)=>Cc(e,n,e.length-n.length),nc=e=>n=>n.replace(e,""),gl=nc(/^\s+|\s+$/g),wu=nc(/^\s+/g),bl=nc(/\s+$/g),Xo=e=>e.length>0,ki=e=>!Xo(e),Vd=(e,n)=>n<=0?"":new Array(n+1).join(e),vl=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?Y.none():Y.some(o)},Ra=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ar=e=>n=>As(n,e),Vs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>As(e,"edge/")&&As(e,"chrome")&&As(e,"safari")&&As(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ra],search:e=>As(e,"chrome")&&!As(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>As(e,"msie")||As(e,"trident")},{name:"Opera",versionRegexes:[Ra,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ar("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ar("firefox")},{name:"Safari",versionRegexes:[Ra,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(As(e,"safari")||As(e,"mobile/"))&&As(e,"applewebkit")}],Ym=[{name:"Windows",search:ar("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>As(e,"iphone")||As(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ar("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ar("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ar("linux"),versionRegexes:[]},{name:"Solaris",search:ar("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ar("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ar("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],zd={browsers:ot(Vs),oses:ot(Ym)},es="Edge",Qr="Chromium",Vi="IE",cr="Opera",Wd="Firefox",ya="Safari",oa=()=>Ai({current:void 0,version:zc.unknown()}),Ai=e=>{const n=e.current,o=e.version,a=u=>()=>n===u;return{current:n,version:o,isEdge:a(es),isChromium:a(Qr),isIE:a(Vi),isOpera:a(cr),isFirefox:a(Wd),isSafari:a(ya)}},Xm={unknown:oa,nu:Ai,edge:ot(es),chromium:ot(Qr),ie:ot(Vi),opera:ot(cr),firefox:ot(Wd),safari:ot(ya)},Ud="Windows",sd="iOS",Ma="Android",Sc="Linux",Hf="macOS",Ec="Solaris",rd="FreeBSD",jd="ChromeOS",oe=()=>Se({current:void 0,version:zc.unknown()}),Se=e=>{const n=e.current,o=e.version,a=u=>()=>n===u;return{current:n,version:o,isWindows:a(Ud),isiOS:a(sd),isAndroid:a(Ma),isMacOS:a(Hf),isLinux:a(Sc),isSolaris:a(Ec),isFreeBSD:a(rd),isChromeOS:a(jd)}},Ne={unknown:oe,nu:Se,windows:ot(Ud),ios:ot(sd),android:ot(Ma),linux:ot(Sc),macos:ot(Hf),solaris:ot(Ec),freebsd:ot(rd),chromeos:ot(jd)},At={detect:(e,n,o)=>{const a=zd.browsers(),u=zd.oses(),m=n.bind(T=>pl(a,T)).orThunk(()=>ls(a,e)).fold(Xm.unknown,Xm.nu),b=Gm(u,e).fold(Ne.unknown,Ne.nu),S=Lf(b,m,e,o);return{browser:m,os:b,deviceType:S}}},Cn=e=>window.matchMedia(e).matches;let is=hl(()=>At.detect(navigator.userAgent,Y.from(navigator.userAgentData),Cn));const Cs=()=>is(),ts=navigator.userAgent,ns=Cs(),$o=ns.browser,Oi=ns.os,yl=ns.deviceType,Gn=ts.indexOf("Windows Phone")!==-1,Oo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:$o.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!$o.isIE(),windowsPhone:Gn,browser:{current:$o.current,version:$o.version,isChromium:$o.isChromium,isEdge:$o.isEdge,isFirefox:$o.isFirefox,isIE:$o.isIE,isOpera:$o.isOpera,isSafari:$o.isSafari},os:{current:Oi.current,version:Oi.version,isAndroid:Oi.isAndroid,isChromeOS:Oi.isChromeOS,isFreeBSD:Oi.isFreeBSD,isiOS:Oi.isiOS,isLinux:Oi.isLinux,isMacOS:Oi.isMacOS,isSolaris:Oi.isSolaris,isWindows:Oi.isWindows},deviceType:{isDesktop:yl.isDesktop,isiPad:yl.isiPad,isiPhone:yl.isiPhone,isPhone:yl.isPhone,isTablet:yl.isTablet,isTouch:yl.isTouch,isWebView:yl.isWebView}},Di=/^\s*|\s*$/g,yr=e=>Ue(e)?"":(""+e).replace(Di,""),Sg=(e,n)=>n?n==="array"&&$s(e)?!0:typeof e===n:e!==void 0,lr=(e,n,o={})=>{const a=q(e)?e.split(n||","):e||[];let u=a.length;for(;u--;)o[a[u]]={};return o},y1=Dn,id=(e,...n)=>{for(let o=0;o<n.length;o++){const a=n[o];for(const u in a)if(Dn(a,u)){const m=a[u];m!==void 0&&(e[u]=m)}}return e},zi=function(e,n,o,a){a=a||this,e&&(o&&(e=e[o]),Ps(e,(u,m)=>n.call(a,u,m,o)===!1?!1:(zi(u,n,o,a),!0)))},gt={trim:yr,isArray:$s,is:Sg,toArray:zr,makeMap:lr,each:Ps,map:$r,grep:Vl,inArray:Jr,hasOwn:y1,extend:id,walk:zi,resolve:(e,n=window)=>{const o=e.split(".");for(let a=0,u=o.length;a<u&&(n=n[o[a]],!!n);a++);return n},explode:(e,n)=>We(e)?e:e===""?[]:$r(e.split(n||","),yr),_addCacheSuffix:e=>{const n=Oo.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Uc=(e,n,o=hn)=>e.exists(a=>o(a,n)),Pr=e=>{const n=[],o=a=>{n.push(a)};for(let a=0;a<e.length;a++)e[a].each(o);return n},Wi=(e,n,o)=>e.isSome()&&n.isSome()?Y.some(o(e.getOrDie(),n.getOrDie())):Y.none(),Jm=(e,n,o,a)=>e.isSome()&&n.isSome()&&o.isSome()?Y.some(a(e.getOrDie(),n.getOrDie(),o.getOrDie())):Y.none(),Co=(e,n)=>e?Y.some(n):Y.none(),Cu=typeof window<"u"?window:Function("return this;")(),ad=(e,n)=>{let o=n??Cu;for(let a=0;a<e.length&&o!==void 0&&o!==null;++a)o=o[e[a]];return o},Br=(e,n)=>{const o=e.split(".");return ad(o,n)},Gs=(e,n)=>Br(e,n),Su=(e,n)=>{const o=Gs(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},T0=Object.getPrototypeOf,rp=e=>Su("HTMLElement",e),zs=e=>{const n=Br("ownerDocument.defaultView",e);return ke(e)&&(rp(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(T0(e).constructor.name))},$a=8,Pa=9,Ui=11,zl=1,Wl=3,Ss=e=>e.dom.nodeName.toLowerCase(),Wr=e=>e.dom.nodeType,Ni=e=>n=>Wr(n)===e,Vf=e=>Wr(e)===$a||Ss(e)==="#comment",Tc=e=>gs(e)&&zs(e.dom),gs=Ni(zl),Ur=Ni(Wl),jc=Ni(Pa),Zd=Ni(Ui),Ul=e=>n=>gs(n)&&Ss(n)===e,Zc=(e,n,o)=>{if(q(o)||Te(o)||Tt(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},ur=(e,n,o)=>{Zc(e.dom,n,o)},ji=(e,n)=>{const o=e.dom;Mt(n,(a,u)=>{Zc(o,u,a)})},ei=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Kc=(e,n)=>Y.from(ei(e,n)),Eu=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Go=(e,n)=>{e.dom.removeAttribute(n)},oc=e=>{const n=e.dom.attributes;return n==null||n.length===0},zf=e=>tn(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),jl=(e,n)=>{const o=ei(e,n);return o===void 0||o===""?[]:o.split(" ")},Kd=(e,n,o)=>{const u=jl(e,n).concat([o]);return ur(e,n,u.join(" ")),!0},Qm=(e,n,o)=>{const a=st(jl(e,n),u=>u!==o);return a.length>0?ur(e,n,a.join(" ")):Go(e,n),!1},Zl=e=>e.dom.classList!==void 0,Ba=e=>jl(e,"class"),cd=(e,n)=>Kd(e,"class",n),sa=(e,n)=>Qm(e,"class",n),Kl=(e,n)=>je(Ba(e),n)?sa(e,n):cd(e,n),wl=(e,n)=>{Zl(e)?e.dom.classList.add(n):cd(e,n)},eh=e=>{(Zl(e)?e.dom.classList:Ba(e)).length===0&&Go(e,"class")},qc=(e,n)=>{Zl(e)?e.dom.classList.remove(n):sa(e,n),eh(e)},th=(e,n)=>{const o=Zl(e)?e.dom.classList.toggle(n):Kl(e,n);return eh(e),o},Wf=(e,n)=>Zl(e)&&e.dom.classList.contains(n),xu=(e,n)=>{const a=(n||document).createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const u="HTML does not have a single root node";throw console.error(u,e),new Error(u)}return ld(a.childNodes[0])},nh=(e,n)=>{const a=(n||document).createElement(e);return ld(a)},oh=(e,n)=>{const a=(n||document).createTextNode(e);return ld(a)},ld=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ge={fromHtml:xu,fromTag:nh,fromText:oh,fromDom:ld,fromPoint:(e,n,o)=>Y.from(e.dom.elementFromPoint(n,o)).map(ld)},sh=(e,n)=>{const o=[],a=m=>(o.push(m),n(m));let u=n(e);do u=u.bind(a);while(u.isSome());return o},ra=(e,n)=>{const o=e.dom;if(o.nodeType!==zl)return!1;{const a=o;if(a.matches!==void 0)return a.matches(n);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(n);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},ip=e=>e.nodeType!==zl&&e.nodeType!==Pa&&e.nodeType!==Ui||e.childElementCount===0,_1=(e,n)=>{const o=n===void 0?document:n.dom;return ip(o)?[]:Ye(o.querySelectorAll(e),ge.fromDom)},w1=(e,n)=>{const o=n===void 0?document:n.dom;return ip(o)?Y.none():Y.from(o.querySelector(e)).map(ge.fromDom)},Jo=(e,n)=>e.dom===n.dom,sc=(e,n)=>{const o=e.dom,a=n.dom;return o===a?!1:o.contains(a)},ti=e=>ge.fromDom(e.dom.ownerDocument),ql=e=>jc(e)?e:ti(e),Tu=e=>ge.fromDom(ql(e).dom.documentElement),qd=e=>ge.fromDom(ql(e).dom.defaultView),_a=e=>Y.from(e.dom.parentNode).map(ge.fromDom),rh=e=>Y.from(e.dom.parentElement).map(ge.fromDom),Uf=(e,n)=>{const o=ie(n)?n:at;let a=e.dom;const u=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const m=a.parentNode,b=ge.fromDom(m);if(u.push(b),o(b)===!0)break;a=m}return u},ih=e=>{const n=o=>st(o,a=>!Jo(e,a));return _a(e).map(ni).map(n).getOr([])},Gc=e=>Y.from(e.dom.previousSibling).map(ge.fromDom),ud=e=>Y.from(e.dom.nextSibling).map(ge.fromDom),xg=e=>uo(sh(e,Gc)),Ia=e=>sh(e,ud),ni=e=>Ye(e.dom.childNodes,ge.fromDom),ku=(e,n)=>{const o=e.dom.childNodes;return Y.from(o[n]).map(ge.fromDom)},Gd=e=>ku(e,0),La=e=>ku(e,e.dom.childNodes.length-1),ia=e=>e.dom.childNodes.length,ap=e=>e.dom.hasChildNodes(),Tg=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return ge.fromDom(n)},Yd=e=>Zd(e)&&ye(e.dom.host),jf=ie(Element.prototype.attachShadow)&&ie(Node.prototype.getRootNode),cp=ot(jf),Cl=jf?e=>ge.fromDom(e.dom.getRootNode()):ql,ah=e=>Yd(e)?e:Tg(ql(e)),yw=e=>Yd(e)?e:ge.fromDom(ql(e).dom.body),C1=e=>{const n=Cl(e);return Yd(n)?Y.some(n):Y.none()},lp=e=>ge.fromDom(e.dom.host),Xd=e=>{if(cp()&&ye(e.target)){const n=ge.fromDom(e.target);if(gs(n)&&kg(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return oo(o)}}return Y.from(e.target)},kg=e=>ye(e.dom.shadowRoot),Gl=e=>{const n=Ur(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return C1(ge.fromDom(n)).fold(()=>o.body.contains(n),ln(Gl,lp))};var P=(e,n,o,a,u)=>e(o,a)?Y.some(o):ie(u)&&u(o)?Y.none():n(o,a,u);const z=(e,n,o)=>{let a=e.dom;const u=ie(o)?o:at;for(;a.parentNode;){a=a.parentNode;const m=ge.fromDom(a);if(n(m))return Y.some(m);if(u(m))break}return Y.none()},te=(e,n,o)=>P((u,m)=>m(u),z,e,n,o),Ce=(e,n)=>{const o=e.dom;return o.parentNode?Oe(ge.fromDom(o.parentNode),a=>!Jo(e,a)&&n(a)):Y.none()},Oe=(e,n)=>{const o=u=>n(ge.fromDom(u));return nn(e.dom.childNodes,o).map(ge.fromDom)},Ct=(e,n)=>{const o=a=>{for(let u=0;u<a.childNodes.length;u++){const m=ge.fromDom(a.childNodes[u]);if(n(m))return Y.some(m);const b=o(a.childNodes[u]);if(b.isSome())return b}return Y.none()};return o(e.dom)},Nn=(e,n,o)=>z(e,a=>ra(a,n),o),Un=(e,n)=>w1(n,e),jn=(e,n,o)=>P((u,m)=>ra(u,m),Nn,e,n,o),Hn=e=>jn(e,"[contenteditable]"),un=(e,n=!1)=>Gl(e)?e.dom.isContentEditable:Hn(e).fold(ot(n),o=>Ys(o)==="true"),Ys=e=>e.dom.contentEditable,oi=e=>e.style!==void 0&&ie(e.style.getPropertyValue),S1=(e,n,o)=>{if(!q(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);oi(e)&&e.style.setProperty(n,o)},up=(e,n)=>{oi(e)&&e.style.removeProperty(n)},Ag=(e,n,o)=>{const a=e.dom;S1(a,n,o)},Og=(e,n)=>{const o=e.dom;Mt(n,(a,u)=>{S1(o,u,a)})},jr=(e,n)=>{const o=e.dom,u=window.getComputedStyle(o).getPropertyValue(n);return u===""&&!Gl(e)?aa(o,n):u},aa=(e,n)=>oi(e)?e.style.getPropertyValue(n):"",Fa=(e,n)=>{const o=e.dom,a=aa(o,n);return Y.from(a).filter(u=>u.length>0)},Zi=e=>{const n={},o=e.dom;if(oi(o))for(let a=0;a<o.style.length;a++){const u=o.style.item(a);n[u]=o.style[u]}return n},Dg=(e,n)=>{const o=e.dom;up(o,n),Uc(Kc(e,"style").map(gl),"")&&Go(e,"style")},er=e=>e.dom.offsetWidth,Ha=(e,n)=>{_a(e).each(a=>{a.dom.insertBefore(n.dom,e.dom)})},kc=(e,n)=>{ud(e).fold(()=>{_a(e).each(u=>{_r(u,n)})},a=>{Ha(a,n)})},ch=(e,n)=>{Gd(e).fold(()=>{_r(e,n)},a=>{e.dom.insertBefore(n.dom,a.dom)})},_r=(e,n)=>{e.dom.appendChild(n.dom)},k0=(e,n)=>{Ha(e,n),_r(n,e)},E1=(e,n)=>{Ae(n,(o,a)=>{const u=a===0?e:n[a-1];kc(u,o)})},Es=(e,n)=>{Ae(n,o=>{_r(e,o)})},Au=e=>{e.dom.textContent="",Ae(ni(e),n=>{Uo(n)})},Uo=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},wa=e=>{const n=ni(e);n.length>0&&E1(e,n),Uo(e)},Jd=(e,n)=>{const a=(n||document).createElement("div");return a.innerHTML=e,ni(ge.fromDom(a))},Qd=e=>Ye(e,ge.fromDom),Zf=e=>e.dom.innerHTML,fo=(e,n)=>{const a=ti(e).dom,u=ge.fromDom(a.createDocumentFragment()),m=Jd(n,a);Es(u,m),Au(e),_r(e,u)},Ng=e=>{const n=ge.fromTag("div"),o=ge.fromDom(e.dom.cloneNode(!0));return _r(n,o),Zf(n)},Rg=(e,n,o,a,u,m,b)=>({target:e,x:n,y:o,stop:a,prevent:u,kill:m,raw:b}),_w=e=>{const n=ge.fromDom(Xd(e).getOr(e.target)),o=()=>e.stopPropagation(),a=()=>e.preventDefault(),u=I(a,o);return Rg(n,e.clientX,e.clientY,o,a,u,e)},y2=(e,n)=>o=>{e(o)&&n(_w(o))},Mg=(e,n,o,a,u)=>{const m=y2(o,a);return e.dom.addEventListener(n,m,u),{unbind:lt(ww,e,n,m,u)}},dp=(e,n,o,a)=>Mg(e,n,o,a,!1),ww=(e,n,o,a)=>{e.dom.removeEventListener(n,o,a)},Ou=(e,n)=>({left:e,top:n,translate:(a,u)=>Ou(e+a,n+u)}),Kf=Ou,Cw=e=>{const n=e.getBoundingClientRect();return Kf(n.left,n.top)},fp=(e,n)=>e!==void 0?e:n!==void 0?n:0,dd=e=>{const n=e.dom.ownerDocument,o=n.body,a=n.defaultView,u=n.documentElement;if(o===e.dom)return Kf(o.offsetLeft,o.offsetTop);const m=fp(a==null?void 0:a.pageYOffset,u.scrollTop),b=fp(a==null?void 0:a.pageXOffset,u.scrollLeft),S=fp(u.clientTop,o.clientTop),T=fp(u.clientLeft,o.clientLeft);return x1(e).translate(b-T,m-S)},x1=e=>{const n=e.dom,a=n.ownerDocument.body;return a===n?Kf(a.offsetLeft,a.offsetTop):Gl(e)?Cw(n):Kf(0,0)},Yl=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,a=n.body.scrollTop||n.documentElement.scrollTop;return Kf(o,a)},ef=(e,n)=>{Cs().browser.isSafari()&&ie(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Sw=e=>{const n=e===void 0?window:e;return Cs().browser.isFirefox()?Y.none():Y.from(n.visualViewport)},$g=(e,n,o,a)=>({x:e,y:n,width:o,height:a,right:e+o,bottom:n+a}),T1=e=>{const n=e===void 0?window:e,o=n.document,a=Yl(ge.fromDom(o));return Sw(n).fold(()=>{const u=n.document.documentElement,m=u.clientWidth,b=u.clientHeight;return $g(a.left,a.top,m,b)},u=>$g(Math.max(u.pageLeft,a.left),Math.max(u.pageTop,a.top),u.width,u.height))},k1=(e,n)=>st(ni(e),n),A1=(e,n)=>{let o=[];return Ae(ni(e),a=>{n(a)&&(o=o.concat([a])),o=o.concat(A1(a,n))}),o},Ri=(e,n)=>_1(n,e),Pg=(e,n,o)=>Nn(e,n,o).isSome();class Ir{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,a,u){if(n){if(!u&&n[o])return n[o];if(n!==this.rootNode){let m=n[a];if(m)return m;for(let b=n.parentNode;b&&b!==this.rootNode;b=b.parentNode)if(m=b[a],m)return m}}}findPreviousNode(n,o){if(n){const a=n.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!o){for(let m=a.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return a}const u=n.parentNode;if(u&&u!==this.rootNode)return u}}}const Ki=e=>n=>!!n&&n.nodeType===e,yn=e=>!!e&&!Object.getPrototypeOf(e),qt=Ki(1),lh=e=>{const n=e.toLowerCase();return o=>ye(o)&&o.nodeName.toLowerCase()===n},Yc=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const a=o.nodeName.toLowerCase();return je(n,a)}return!1}},uh=(e,n)=>{const o=n.toLowerCase().split(" ");return a=>{if(qt(a)){const u=a.ownerDocument.defaultView;if(u)for(let m=0;m<o.length;m++){const b=u.getComputedStyle(a,null);if((b?b.getPropertyValue(e):null)===o[m])return!0}}return!1}},mp=e=>n=>qt(n)&&n.hasAttribute(e),Ac=(e,n)=>o=>qt(o)&&o.getAttribute(e)===n,Oc=e=>qt(e)&&e.hasAttribute("data-mce-bogus"),dh=e=>qt(e)&&e.getAttribute("data-mce-bogus")==="all",tr=e=>qt(e)&&e.tagName==="TABLE",fh=e=>n=>!!(qt(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),hp=Yc(["textarea","input"]),Et=Ki(3),Ew=Ki(4),xw=Ki(7),rc=Ki(8),mh=Ki(9),tf=Ki(11),Xs=lh("br"),A0=lh("img"),as=fh("true"),Yo=fh("false"),qi=Yc(["td","th"]),hh=Yc(["td","th","caption"]),Tr=Yc(["video","audio","object","embed"]),qf=lh("li"),si=lh("details"),Ca=lh("summary"),fd="\uFEFF",rt="",Va=e=>e===fd,O0=e=>e.replace(/\uFEFF/g,""),Sl=((e,n)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+n+" value of a "+n+" node");return a(m).getOr("")},a=m=>e(m)?Y.from(m.dom.nodeValue):Y.none();return{get:o,getOption:a,set:(m,b)=>{if(!e(m))throw new Error("Can only set raw "+n+" value of a "+n+" node");m.dom.nodeValue=b}}})(Ur,"text"),Bg=e=>Sl.get(e),Dc=e=>Sl.getOption(e),Tw=(e,n)=>Sl.set(e,n),nf=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],O1=["td","th"],Nc=["thead","tbody","tfoot"],jo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Du=["h1","h2","h3","h4","h5","h6"],pp=["li","dd","dt"],Gi=["ul","ol","dl"],Ig=["pre","script","textarea","style"],of=["pre"].concat(Du),md=e=>{let n;return o=>(n=n||ds(e,wt),Dn(n,Ss(o)))},wr=md(nf),Lg=e=>Ss(e)==="table",He=e=>gs(e)&&!wr(e),Yi=e=>gs(e)&&Ss(e)==="br",gp=md(jo),Sa=md(Gi),ca=md(pp),hi=md(Nc),dr=md(O1),Fg=md(Ig),sf=md(of),rf=e=>sf(e)||He(e),xn=e=>{const n=[];let o=e.dom;for(;o;)n.push(ge.fromDom(o)),o=o.lastChild;return n},_2=e=>{const n=Ri(e,"br"),o=st(xn(e).slice(-1),Yi);n.length===o.length&&Ae(o,Uo)},O=()=>{const e=ge.fromTag("br");return ur(e,"data-mce-bogus","1"),e},M=e=>{Au(e),_r(e,O())},G=e=>{La(e).each(n=>{Gc(n).each(o=>{wr(e)&&Yi(n)&&wr(o)&&Uo(n)})})},se=fd,xe=Va,nt=O0,St=qt,jt=Et,An=e=>(jt(e)&&(e=e.parentNode),St(e)&&e.hasAttribute("data-mce-caret")),Pn=e=>jt(e)&&xe(e.data),Qo=e=>An(e)||Pn(e),Vo=e=>e.firstChild!==e.lastChild||!Xs(e.firstChild),Ws=(e,n)=>{var o;const u=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(se),m=e.parentNode;if(n){const b=e.previousSibling;if(jt(b)){if(Qo(b))return b;if(Gf(b))return b.splitText(b.data.length-1)}m==null||m.insertBefore(u,e)}else{const b=e.nextSibling;if(jt(b)){if(Qo(b))return b;if(za(b))return b.splitText(1),b}e.nextSibling?m==null||m.insertBefore(u,e.nextSibling):m==null||m.appendChild(u)}return u},Xi=e=>{const n=e.container();return Et(n)?n.data.charAt(e.offset())===se||e.isAtStart()&&Pn(n.previousSibling):!1},Xc=e=>{const n=e.container();return Et(n)?n.data.charAt(e.offset()-1)===se||e.isAtEnd()&&Pn(n.nextSibling):!1},hd=(e,n,o)=>{var a;const m=((a=n.ownerDocument)!==null&&a!==void 0?a:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(O().dom);const b=n.parentNode;return o?b==null||b.insertBefore(m,n):n.nextSibling?b==null||b.insertBefore(m,n.nextSibling):b==null||b.appendChild(m),m},za=e=>jt(e)&&e.data[0]===se,Gf=e=>jt(e)&&e.data[e.data.length-1]===se,Hg=e=>{var n;const o=e.getElementsByTagName("br"),a=o[o.length-1];Oc(a)&&((n=a.parentNode)===null||n===void 0||n.removeChild(a))},Yf=e=>e&&e.hasAttribute("data-mce-caret")?(Hg(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,af=e=>An(e.startContainer),kr=as,Jc=Yo,pd=Xs,Xf=Et,D0=Yc(["script","style","textarea"]),io=Yc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Us=Yc(["table"]),Mi=Qo,fr=e=>Mi(e)?!1:Xf(e)?!D0(e.parentNode):io(e)||pd(e)||Us(e)||Xl(e),gd=e=>qt(e)&&e.getAttribute("unselectable")==="true",Xl=e=>!gd(e)&&Jc(e),Jl=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Xl(o))return!1;if(kr(o))return!0}return!0},ic=e=>Xl(e)?!tn(ms(e.getElementsByTagName("*")),(n,o)=>n||kr(o),!1):!1,w2=e=>io(e)||ic(e),ph=(e,n)=>fr(e)&&Jl(e,n),Vg=/^[ \t\r\n]*$/,Ql=e=>Vg.test(e),C2=e=>{for(const n of e)if(!Va(n))return!1;return!0},D1=e=>" \f	\v".indexOf(e)!==-1,kw=e=>e===`
`||e==="\r",Aw=(e,n)=>n<e.length&&n>=0?kw(e[n]):!1,Cr=(e,n=4,o=!0,a=!0)=>{const u=Vd(" ",n),m=e.replace(/\t/g,u);return tn(m,(S,T)=>D1(T)||T===rt?S.pcIsSpace||S.str===""&&o||S.str.length===m.length-1&&a||Aw(m,S.str.length+1)?{pcIsSpace:!1,str:S.str+rt}:{pcIsSpace:!0,str:S.str+" "}:{pcIsSpace:kw(T),str:S.str+T},{pcIsSpace:!1,str:""}).str},S2=(e,n)=>{const o=ge.fromDom(n),a=ge.fromDom(e);return Pg(a,"pre,code",lt(Jo,o))},cf=(e,n)=>Et(e)&&Ql(e.data)&&!S2(e,n),zg=e=>qt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),bd=(e,n)=>fr(e)&&!cf(e,n)||zg(e)||vd(e),vd=mp("data-mce-bookmark"),El=mp("data-mce-bogus"),Wg=Ac("data-mce-bogus","all"),N1=(e,n)=>{let o=0;if(bd(e,e))return!1;{let a=e.firstChild;if(!a)return!0;const u=new Ir(a,e);do{if(n){if(Wg(a)){a=u.next(!0);continue}if(El(a)){a=u.next();continue}}if(Xs(a)){o++,a=u.next();continue}if(bd(a,e))return!1;a=u.next()}while(a);return o<=1}},ri=(e,n=!0)=>N1(e.dom,n),bp="data-mce-block",Ow=e=>st(Hs(e),n=>!/[A-Z]/.test(n)),vp=e=>Ow(e).join(","),Ug=(e,n)=>ye(n.querySelector(e))?(n.setAttribute(bp,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(bp),!1),Dw=(e,n)=>{const o=vp(e.getTransparentElements()),a=vp(e.getBlockElements());return st(n.querySelectorAll(o),u=>Ug(a,u))},yp=(e,n)=>{var o;const a=n?"lastChild":"firstChild";for(let u=e[a];u;u=u[a])if(ri(ge.fromDom(u))){(o=u.parentNode)===null||o===void 0||o.removeChild(u);return}},Jf=(e,n)=>{const o=document.createRange(),a=e.parentNode;if(a){o.setStartBefore(e),o.setEndBefore(n);const u=o.extractContents();yp(u,!0),o.setStartAfter(n),o.setEndAfter(e);const m=o.extractContents();yp(m,!1),ri(ge.fromDom(u))||a.insertBefore(u,e),ri(ge.fromDom(n))||a.insertBefore(n,e),ri(ge.fromDom(m))||a.insertBefore(m,e),a.removeChild(e)}},Rc=(e,n,o)=>{const a=e.getBlockElements(),u=ge.fromDom(n),m=S=>Ss(S)in a,b=S=>Jo(S,u);Ae(Qd(o),S=>{z(S,m,b).each(T=>{const $=k1(S,W=>m(W)&&!e.isValidChild(Ss(T),Ss(W)));if($.length>0){const W=rh(T);Ae($,V=>{z(V,m,b).each(X=>{Jf(X.dom,V.dom)})}),W.each(V=>Dw(e,V.dom))}})})},Qf=(e,n,o)=>{Ae([...o,...gh(e,n)?[n]:[]],a=>Ae(Ri(ge.fromDom(a),a.nodeName.toLowerCase()),u=>{E2(e,u.dom)&&wa(u)}))},lf=(e,n)=>{const o=Dw(e,n);Rc(e,n,o),Qf(e,n,o)},Nw=(e,n)=>{if(jg(e,n)){const o=vp(e.getBlockElements());Ug(o,n)}},N0=(e,n,o)=>{const a=m=>Jo(m,ge.fromDom(n)),u=Uf(ge.fromDom(o),a);wc(u,u.length-2).filter(gs).fold(()=>lf(e,n),m=>lf(e,m.dom))},R1=e=>e.hasAttribute(bp),R0=(e,n)=>Dn(e.getTransparentElements(),n),jg=(e,n)=>qt(n)&&R0(e,n.nodeName),gh=(e,n)=>jg(e,n)&&R1(n),E2=(e,n)=>jg(e,n)&&!R1(n),M1=(e,n)=>n.type===1&&R0(e,n.name)&&q(n.attr(bp)),Zo=Cs().browser,bn=e=>nn(e,gs),_p=e=>Zo.isFirefox()&&Ss(e)==="table"?bn(ni(e)).filter(n=>Ss(n)==="caption").bind(n=>bn(Ia(n)).map(o=>{const a=o.dom.offsetTop,u=n.dom.offsetTop,m=n.dom.offsetHeight;return a<=u?-m:0})).getOr(0):0,M0=(e,n)=>e.children&&je(e.children,n),$0=(e,n,o)=>{let a=0,u=0;const m=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&jr(ge.fromDom(e),"position")==="static"){const S=n.getBoundingClientRect();return a=S.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,u=S.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:a,y:u}}let b=n;for(;b&&b!==o&&b.nodeType&&!M0(b,o);){const S=b;a+=S.offsetLeft||0,u+=S.offsetTop||0,b=S.offsetParent}for(b=n.parentNode;b&&b!==o&&b.nodeType&&!M0(b,o);)a-=b.scrollLeft||0,u-=b.scrollTop||0,b=b.parentNode;u+=_p(ge.fromDom(n))}return{x:a,y:u}},Rw=(e,n={})=>{let o=0;const a={},u=ge.fromDom(e),m=ql(u),b=re=>{n.referrerPolicy=re},S=re=>{n.contentCssCors=re},T=re=>{_r(ah(u),re)},$=re=>{const fe=ah(u);Un(fe,"#"+re).each(Uo)},W=re=>cs(a,re).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),V=re=>new Promise((fe,Re)=>{let Pe;const Be=gt._addCacheSuffix(re),Ve=W(Be);a[Be]=Ve,Ve.count++;const ht=(ct,It)=>{Ae(ct,Mo),Ve.status=It,Ve.passed=[],Ve.failed=[],Pe&&(Pe.onload=null,Pe.onerror=null,Pe=null)},dn=()=>ht(Ve.passed,2),yt=()=>ht(Ve.failed,3);if(fe&&Ve.passed.push(fe),Re&&Ve.failed.push(Re),Ve.status===1)return;if(Ve.status===2){dn();return}if(Ve.status===3){yt();return}Ve.status=1;const et=ge.fromTag("link",m.dom);ji(et,{rel:"stylesheet",type:"text/css",id:Ve.id}),n.contentCssCors&&ur(et,"crossOrigin","anonymous"),n.referrerPolicy&&ur(et,"referrerpolicy",n.referrerPolicy),Pe=et.dom,Pe.onload=dn,Pe.onerror=yt,T(et),ur(et,"href",Be)}),X=re=>Promise.allSettled(Ye(re,Re=>V(Re).then(ot(Re)))).then(Re=>{const Pe=Wt(Re,Be=>Be.status==="fulfilled");return Pe.fail.length>0?Promise.reject(Ye(Pe.fail,Be=>Be.reason)):Ye(Pe.pass,Be=>Be.value)}),ue=re=>{const fe=gt._addCacheSuffix(re);cs(a,fe).each(Re=>{--Re.count===0&&(delete a[fe],$(Re.id))})};return{load:V,loadAll:X,unload:ue,unloadAll:re=>{Ae(re,fe=>{ue(fe)})},_setReferrerPolicy:b,_setContentCssCors:S}},Os=(()=>{const e=new WeakMap;return{forElement:(o,a)=>{const m=Cl(o).dom;return Y.from(e.get(m)).getOrThunk(()=>{const b=Rw(m,a);return e.set(m,b),b})}}})(),P0=e=>e.nodeName.toLowerCase()==="span",x2=(e,n)=>ye(e)&&(bd(e,n)||He(ge.fromDom(e))),$1=(e,n)=>{const o=new Ir(e,n).prev(!1),a=new Ir(e,n).next(!1),u=Ge(o)||x2(o,n),m=Ge(a)||x2(a,n);return u&&m},mt=e=>P0(e)&&e.getAttribute("data-mce-type")==="bookmark",Zg=(e,n)=>Et(e)&&e.data.length>0&&$1(e,n),UO=e=>qt(e)?e.childNodes.length>0:!1,B0=e=>tf(e)||mh(e),Mw=(e,n,o)=>{var a;const u=o||n;if(qt(n)&&mt(n))return n;const m=n.childNodes;for(let b=m.length-1;b>=0;b--)Mw(e,m[b],u);if(qt(n)){const b=n.childNodes;b.length===1&&mt(b[0])&&((a=n.parentNode)===null||a===void 0||a.insertBefore(b[0],n))}return!B0(n)&&!bd(n,u)&&!UO(n)&&!Zg(n,u)&&e.remove(n),n},Kg=gt.makeMap,qg=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uf=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jO=/[<>&\"\']/g,Gg=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,js={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Wa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ZO={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},yd=e=>{const n=ge.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},P1=(e,n)=>{const o={};if(e){const a=e.split(",");n=n||10;for(let u=0;u<a.length;u+=2){const m=String.fromCharCode(parseInt(a[u],n));if(!Wa[m]){const b="&"+a[u+1]+";";o[m]=b,o[b]=m}}return o}else return},wp=P1("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Cp=(e,n)=>e.replace(n?qg:uf,o=>Wa[o]||o),T2=e=>(""+e).replace(jO,n=>Wa[n]||n),k2=(e,n)=>e.replace(n?qg:uf,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Wa[o]||"&#"+o.charCodeAt(0)+";"),$w=(e,n,o)=>{const a=o||wp;return e.replace(n?qg:uf,u=>Wa[u]||a[u]||u)},em={encodeRaw:Cp,encodeAllRaw:T2,encodeNumeric:k2,encodeNamed:$w,getEncodeFunc:(e,n)=>{const o=P1(n)||wp,a=(b,S)=>b.replace(S?qg:uf,T=>Wa[T]!==void 0?Wa[T]:o[T]!==void 0?o[T]:T.length>1?"&#"+((T.charCodeAt(0)-55296)*1024+(T.charCodeAt(1)-56320)+65536)+";":"&#"+T.charCodeAt(0)+";"),u=(b,S)=>$w(b,S,o),m=Kg(e.replace(/\+/g,","));return m.named&&m.numeric?a:m.named?n?u:$w:m.numeric?k2:Cp},decode:e=>e.replace(Gg,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):js[o]||String.fromCharCode(o)):ZO[n]||wp[n]||yd(n))},I0={},L0={},B1={},Gt=gt.makeMap,Ua=gt.each,I1=gt.extend,A2=gt.explode,F0=gt.inArray,Ea=(e,n)=>(e=gt.trim(e),e?e.split(n||" "):[]),H0=(e,n={})=>{const o=Gt(e," ",Gt(e.toUpperCase()," "));return I1(o,n)},Nu=e=>H0("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),tm=e=>{const n={};let o,a,u,m;const b=(T,$="",W="")=>{const V=Ea(W),X=Ea(T);let ue=X.length;for(;ue--;){const he=Ea([o,$].join(" "));n[X[ue]]={attributes:ds(he,()=>({})),attributesOrder:he,children:ds(V,ot(B1))}}},S=(T,$)=>{const W=Ea(T),V=Ea($);let X=W.length;for(;X--;){const ue=n[W[X]];for(let he=0,re=V.length;he<re;he++)ue.attributes[V[he]]={},ue.attributesOrder.push(V[he])}};if(I0[e])return I0[e];if(o="id accesskey class dir lang style tabindex title role",a="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",u="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const T="a ins del canvas map";o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",a+=" article aside details dialog figure main header footer hgroup section nav "+T,u+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){o+=" xml:lang";const T="acronym applet basefont big font strike tt";u=[u,T].join(" "),Ua(Ea(T),W=>{b(W,"",u)});const $="center dir isindex noframes";a=[a,$].join(" "),m=[a,u].join(" "),Ua(Ea($),W=>{b(W,"",m)})}return m=m||[a,u].join(" "),b("html","manifest","head body"),b("head","","base command link meta noscript script style title"),b("title hr noscript br"),b("base","href target"),b("link","href rel media hreflang type sizes hreflang"),b("meta","name http-equiv content charset"),b("style","media type scoped"),b("script","src async defer type charset"),b("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",m),b("dd div","",m),b("address dt caption","",e==="html4"?u:m),b("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),b("blockquote","cite",m),b("ol","reversed start type","li"),b("ul","","li"),b("li","value",m),b("dl","","dt dd"),b("a","href target rel media hreflang type",e==="html4"?u:m),b("q","cite",u),b("ins del","cite datetime",m),b("img","src sizes srcset alt usemap ismap width height"),b("iframe","src name width height",m),b("embed","src type width height"),b("object","data type typemustmatch name usemap form width height",[m,"param"].join(" ")),b("param","name value"),b("map","name",[m,"area"].join(" ")),b("area","alt coords shape href target rel media hreflang type"),b("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),b("colgroup","span","col"),b("col","span"),b("tbody thead tfoot","","tr"),b("tr","","td th"),b("td","colspan rowspan headers",m),b("th","colspan rowspan headers scope abbr",m),b("form","accept-charset action autocomplete enctype method name novalidate target",m),b("fieldset","disabled form name",[m,"legend"].join(" ")),b("label","form for",u),b("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),b("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?m:u),b("select","disabled form multiple name required size","option optgroup"),b("optgroup","disabled label","option"),b("option","disabled label selected value"),b("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),b("menu","type label",[m,"li"].join(" ")),b("noscript","",m),e!=="html4"&&(b("wbr"),b("ruby","",[u,"rt rp"].join(" ")),b("figcaption","",m),b("mark rt rp summary bdi","",u),b("canvas","width height",m),b("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[m,"track source"].join(" ")),b("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[m,"track source"].join(" ")),b("picture","","img source"),b("source","src srcset type media sizes"),b("track","kind src srclang label default"),b("datalist","",[u,"option"].join(" ")),b("article section nav aside main header footer","",m),b("hgroup","","h1 h2 h3 h4 h5 h6"),b("figure","",[m,"figcaption"].join(" ")),b("time","datetime",u),b("dialog","open",m),b("command","type label icon disabled checked radiogroup command"),b("output","for form name",u),b("progress","value max",u),b("meter","value min max low high optimum",u),b("details","open",[m,"summary"].join(" ")),b("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(S("script","language xml:space"),S("style","xml:space"),S("object","declare classid code codebase codetype archive standby align border hspace vspace"),S("embed","align name hspace vspace"),S("param","valuetype type"),S("a","charset name rev shape coords"),S("br","clear"),S("applet","codebase archive code object alt name width height align hspace vspace"),S("img","name longdesc align border hspace vspace"),S("iframe","longdesc frameborder marginwidth marginheight scrolling align"),S("font basefont","size color face"),S("input","usemap align"),S("select"),S("textarea"),S("h1 h2 h3 h4 h5 h6 div p legend caption","align"),S("ul","type compact"),S("li","type"),S("ol dl menu dir","compact"),S("pre","width xml:space"),S("hr","align noshade size width"),S("isindex","prompt"),S("table","summary width frame rules cellspacing cellpadding align bgcolor"),S("col","width align char charoff valign"),S("colgroup","width align char charoff valign"),S("thead","align char charoff valign"),S("tr","align char charoff valign bgcolor"),S("th","axis align char charoff valign nowrap bgcolor width height"),S("form","accept"),S("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),S("tfoot","align char charoff valign"),S("tbody","align char charoff valign"),S("area","nohref"),S("body","background bgcolor text link vlink alink")),e!=="html4"&&(S("input button select textarea","autofocus"),S("input textarea","placeholder"),S("a","download"),S("link script img","crossorigin"),S("img","loading"),S("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&Ae([n.video,n.audio],T=>{delete T.children.audio,delete T.children.video}),Ua(Ea("a form meter progress dfn"),T=>{n[T]&&delete n[T].children[T]}),delete n.caption.children.table,delete n.script,I0[e]=n,n},Pw=(e,n)=>{if(e){const o={};return q(e)&&(e={"*":e}),Ua(e,(a,u)=>{o[u]=o[u.toUpperCase()]=n==="map"?Gt(a,/[, ]/):A2(a,/[, ]/)}),o}else return},_d=(e={})=>{var n;const o={},a={};let u=[];const m={},b={},S=(Zn,No,Nr)=>{const Rs=e[Zn];if(Rs)return Gt(Rs,/[, ]/,Gt(Rs.toUpperCase(),/[, ]/));{let xr=L0[Zn];return xr||(xr=H0(No,Nr),L0[Zn]=xr),xr}},T=(n=e.schema)!==null&&n!==void 0?n:"html5",$=tm(T);e.verify_html===!1&&(e.valid_elements="*[*]");const W=Pw(e.valid_styles),V=Pw(e.invalid_styles,"map"),X=Pw(e.valid_classes,"map"),ue=S("whitespace_elements","pre script noscript style textarea video audio iframe object code"),he=S("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),re=S("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),fe=S("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Re="td th iframe video audio object script code",Pe=S("non_empty_elements",Re+" pre",re),Be=S("move_caret_before_on_enter_elements",Re+" table",re),Ve=S("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ht=S("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ve),dn=S("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),yt=S("transparent_elements","a ins del canvas map");Ua("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Zn=>{b[Zn]=new RegExp("</"+Zn+"[^>]*>","gi")});const et=Zn=>new RegExp("^"+Zn.replace(/([?+*])/g,".$1")+"$"),ct=Zn=>{const No=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Nr=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Rs=/[*?+]/;if(Zn){const xr=Ea(Zn,",");let ir,Fs;o["@"]&&(ir=o["@"].attributes,Fs=o["@"].attributesOrder);for(let ui=0,Ja=xr.length;ui<Ja;ui++){let Qa=No.exec(xr[ui]);if(Qa){const Pm=Qa[1],Hr=Qa[2],dg=Qa[3],ll=Qa[5],Bm={},Io=[],pr={attributes:Bm,attributesOrder:Io};if(Pm==="#"&&(pr.paddEmpty=!0),Pm==="-"&&(pr.removeEmpty=!0),Qa[4]==="!"&&(pr.removeEmptyAttrs=!0),ir&&(Mt(ir,($l,Tf)=>{Bm[Tf]=$l}),Fs&&Io.push(...Fs)),ll){const $l=Ea(ll,"|");for(let Tf=0,fu=$l.length;Tf<fu;Tf++)if(Qa=Nr.exec($l[Tf]),Qa){const mu={},Uh=Qa[1],Da=Qa[2].replace(/[\\:]:/g,":"),fg=Qa[3],Im=Qa[4];if(Uh==="!"&&(pr.attributesRequired=pr.attributesRequired||[],pr.attributesRequired.push(Da),mu.required=!0),Uh==="-"){delete Bm[Da],Io.splice(F0(Io,Da),1);continue}if(fg&&(fg==="="&&(pr.attributesDefault=pr.attributesDefault||[],pr.attributesDefault.push({name:Da,value:Im}),mu.defaultValue=Im),fg==="~"&&(pr.attributesForced=pr.attributesForced||[],pr.attributesForced.push({name:Da,value:Im}),mu.forcedValue=Im),fg==="<"&&(mu.validValues=Gt(Im,"?"))),Rs.test(Da)){const $d=mu;pr.attributePatterns=pr.attributePatterns||[],$d.pattern=et(Da),pr.attributePatterns.push($d)}else Bm[Da]||Io.push(Da),Bm[Da]=mu}}if(!ir&&Hr==="@"&&(ir=Bm,Fs=Io),dg&&(pr.outputName=Hr,o[dg]=pr),Rs.test(Hr)){const $l=pr;$l.pattern=et(Hr),u.push($l)}else o[Hr]=pr}}}},It=Zn=>{u=[],Ae(Hs(o),No=>{delete o[No]}),ct(Zn),Ua($,(No,Nr)=>{a[Nr]=No.children})},Ht=Zn=>{const No=/^(~)?(.+)$/;Zn&&(delete L0.text_block_elements,delete L0.block_elements,Ua(Ea(Zn,","),Nr=>{const Rs=No.exec(Nr);if(Rs){const xr=Rs[1]==="~",ir=xr?"span":"div",Fs=Rs[2];if(a[Fs]=a[ir],m[Fs]=ir,Pe[Fs.toUpperCase()]={},Pe[Fs]={},xr||(ht[Fs.toUpperCase()]={},ht[Fs]={}),!o[Fs]){let ui=o[ir];ui=I1({},ui),delete ui.removeEmptyAttrs,delete ui.removeEmpty,o[Fs]=ui}Ua(a,(ui,Ja)=>{ui[ir]&&(a[Ja]=ui=I1({},a[Ja]),ui[Fs]=ui[ir])})}}))},on=Zn=>{const No=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete I0[T],Zn&&Ua(Ea(Zn,","),Nr=>{const Rs=No.exec(Nr);if(Rs){const xr=Rs[1];let ir;xr?ir=a[Rs[2]]:ir=a[Rs[2]]={"#comment":{}},ir=a[Rs[2]],Ua(Ea(Rs[3],"|"),Fs=>{xr==="-"?delete ir[Fs]:ir[Fs]={}})}})},Mn=Zn=>{const No=o[Zn];if(No)return No;let Nr=u.length;for(;Nr--;){const Rs=u[Nr];if(Rs.pattern.test(Zn))return Rs}};e.valid_elements?It(e.valid_elements):(Ua($,(Zn,No)=>{o[No]={attributes:Zn.attributes,attributesOrder:Zn.attributesOrder},a[No]=Zn.children}),Ua(Ea("strong/b em/i"),Zn=>{const No=Ea(Zn,"/");o[No[1]].outputName=No[0]}),Ua(dn,(Zn,No)=>{o[No]&&(e.padd_empty_block_inline_children&&(o[No].paddInEmptyBlock=!0),o[No].removeEmpty=!0)}),Ua(Ea("ol ul blockquote a table tbody"),Zn=>{o[Zn]&&(o[Zn].removeEmpty=!0)}),Ua(Ea("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Zn=>{o[Zn]&&(o[Zn].paddEmpty=!0)}),Ua(Ea("span"),Zn=>{o[Zn].removeEmptyAttrs=!0})),Ht(e.custom_elements),on(e.valid_children),ct(e.extended_valid_elements),on("+ol[ul|ol],+ul[ul|ol]"),Ua({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Zn,No)=>{o[No]&&(o[No].parentsRequired=Ea(Zn))}),e.invalid_elements&&Ua(A2(e.invalid_elements),Zn=>{o[Zn]&&delete o[Zn]}),Mn("span")||ct("span[!data-mce-type|*]");const $n=ot(W),Po=ot(V),Wo=ot(X),ys=ot(fe),Xa=ot(ht),Li=ot(Ve),Rt=ot(dn),rn=ot(Object.seal(re)),Fo=ot(he),Do=ot(Pe),fn=ot(Be),gn=ot(ue),Ot=ot(yt),Ln=ot(Object.seal(b)),Yn=(Zn,No)=>{const Nr=a[Zn.toLowerCase()];return!!(Nr&&Nr[No.toLowerCase()])},Bo=(Zn,No)=>{const Nr=Mn(Zn);if(Nr)if(No){if(Nr.attributes[No])return!0;const Rs=Nr.attributePatterns;if(Rs){let xr=Rs.length;for(;xr--;)if(Rs[xr].pattern.test(No))return!0}}else return!0;return!1},Js=ot(m);return{type:T,children:a,elements:o,getValidStyles:$n,getValidClasses:Wo,getBlockElements:Xa,getInvalidStyles:Po,getVoidElements:rn,getTextBlockElements:Li,getTextInlineElements:Rt,getBoolAttrs:ys,getElementRule:Mn,getSelfClosingElements:Fo,getNonEmptyElements:Do,getMoveCaretBeforeOnEnterElements:fn,getWhitespaceElements:gn,getTransparentElements:Ot,getSpecialElements:Ln,isValidChild:Yn,isValid:Bo,getCustomElements:Js,addValidElements:ct,setValidElements:It,addCustomElements:Ht,addValidChildren:on}},Bw=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,m={};let b,S;const T=fd;n&&(b=n.getValidStyles(),S=n.getInvalidStyles());const $=(`\\" \\' \\; \\: ; : `+T).split(" ");for(let V=0;V<$.length;V++)m[$[V]]=T+V,m[T+V]=$[V];const W={parse:V=>{const X={};let ue=!1;const he=e.url_converter,re=e.url_converter_scope||W,fe=(et,ct,It)=>{const Ht=X[et+"-top"+ct];if(!Ht)return;const on=X[et+"-right"+ct];if(!on)return;const Mn=X[et+"-bottom"+ct];if(!Mn)return;const $n=X[et+"-left"+ct];if(!$n)return;const Po=[Ht,on,Mn,$n];let Wo=Po.length-1;for(;Wo--&&Po[Wo]===Po[Wo+1];);Wo>-1&&It||(X[et+ct]=Wo===-1?Po[0]:Po.join(" "),delete X[et+"-top"+ct],delete X[et+"-right"+ct],delete X[et+"-bottom"+ct],delete X[et+"-left"+ct])},Re=et=>{const ct=X[et];if(!ct)return;const It=ct.split(" ");let Ht=It.length;for(;Ht--;)if(It[Ht]!==It[0])return!1;return X[et]=It[0],!0},Pe=(et,ct,It,Ht)=>{Re(ct)&&Re(It)&&Re(Ht)&&(X[et]=X[ct]+" "+X[It]+" "+X[Ht],delete X[ct],delete X[It],delete X[Ht])},Be=et=>(ue=!0,m[et]),Ve=(et,ct)=>(ue&&(et=et.replace(/\uFEFF[0-9]/g,It=>m[It])),ct||(et=et.replace(/\\([\'\";:])/g,"$1")),et),ht=et=>String.fromCharCode(parseInt(et.slice(1),16)),dn=et=>et.replace(/\\[0-9a-f]+/gi,ht),yt=(et,ct,It,Ht,on,Mn)=>{if(on=on||Mn,on)return on=Ve(on),"'"+on.replace(/\'/g,"\\'")+"'";if(ct=Ve(ct||It||Ht||""),!e.allow_script_urls){const $n=ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test($n)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test($n))return""}return he&&(ct=he.call(re,ct,"style")),"url('"+ct.replace(/\'/g,"\\'")+"')"};if(V){V=V.replace(/[\u0000-\u001F]/g,""),V=V.replace(/\\[\"\';:\uFEFF]/g,Be).replace(/\"[^\"]+\"|\'[^\']+\'/g,ct=>ct.replace(/[;:]/g,Be));let et;for(;et=a.exec(V);){a.lastIndex=et.index+et[0].length;let ct=et[1].replace(u,"").toLowerCase(),It=et[2].replace(u,"");if(ct&&It){if(ct=dn(ct),It=dn(It),ct.indexOf(T)!==-1||ct.indexOf('"')!==-1||!e.allow_script_urls&&(ct==="behavior"||/expression\s*\(|\/\*|\*\//.test(It)))continue;ct==="font-weight"&&It==="700"?It="bold":(ct==="color"||ct==="background-color")&&(It=It.toLowerCase()),It=It.replace(o,yt),X[ct]=ue?Ve(It,!0):It}}fe("border","",!0),fe("border","-width"),fe("border","-color"),fe("border","-style"),fe("padding",""),fe("margin",""),Pe("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(V,X)=>{let ue="";const he=(fe,Re)=>{const Pe=Re[fe];if(Pe)for(let Be=0,Ve=Pe.length;Be<Ve;Be++){const ht=Pe[Be],dn=V[ht];dn&&(ue+=(ue.length>0?" ":"")+ht+": "+dn+";")}},re=(fe,Re)=>{if(!S||!Re)return!0;let Pe=S["*"];return Pe&&Pe[fe]?!1:(Pe=S[Re],!(Pe&&Pe[fe]))};return X&&b?(he("*",b),he(X,b)):Mt(V,(fe,Re)=>{fe&&re(Re,X)&&(ue+=(ue.length>0?" ":"")+Re+": "+fe+";")}),ue}};return W},O2={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Iw=e=>e instanceof Event||ie(e.initEvent),L1=e=>e.isDefaultPrevented===wt||e.isDefaultPrevented===at,df=e=>Ue(e.preventDefault)||Iw(e),F1=(e,n)=>{const o=n??{};for(const a in e)Dn(O2,a)||(o[a]=e[a]);return ye(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},V0=(e,n,o,a)=>{var u;const m=F1(n,a);return m.type=e,Ue(m.target)&&(m.target=(u=m.srcElement)!==null&&u!==void 0?u:o),df(n)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=wt,ie(n.preventDefault)&&n.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=wt,ie(n.stopPropagation)&&n.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=wt,m.stopPropagation()},L1(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?wt:at,m.isPropagationStopped=m.cancelBubble===!0?wt:at,m.isImmediatePropagationStopped=at)),m},qO="mce-data-",D2=/^(?:mouse|contextmenu)|click/,Yg=(e,n,o,a)=>{e.addEventListener(n,o,a||!1)},ja=(e,n,o,a)=>{e.removeEventListener(n,o,a||!1)},Qc=e=>ye(e)&&D2.test(e.type),Xg=(e,n)=>{const o=V0(e.type,e,document,n);if(Qc(e)&&Ge(e.pageX)&&!Ge(e.clientX)){const a=o.target.ownerDocument||document,u=a.documentElement,m=a.body,b=o;b.pageX=e.clientX+(u&&u.scrollLeft||m&&m.scrollLeft||0)-(u&&u.clientLeft||m&&m.clientLeft||0),b.pageY=e.clientY+(u&&u.scrollTop||m&&m.scrollTop||0)-(u&&u.clientTop||m&&m.clientTop||0)}return o},N2=(e,n,o)=>{const a=e.document,u={type:"ready"};if(o.domLoaded){n(u);return}const m=()=>a.readyState==="complete"||a.readyState==="interactive"&&a.body,b=()=>{ja(e,"DOMContentLoaded",b),ja(e,"load",b),o.domLoaded||(o.domLoaded=!0,n(u)),e=null};m()?b():Yg(e,"DOMContentLoaded",b),o.domLoaded||Yg(e,"load",b)};class Ep{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=qO+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,a,u){const m=this;let b;const S=window,T=X=>{m.executeHandlers(Xg(X||S.event),$)};if(!n||Et(n)||rc(n))return a;let $;n[m.expando]?$=n[m.expando]:($=m.count++,n[m.expando]=$,m.events[$]={}),u=u||n;const W=o.split(" ");let V=W.length;for(;V--;){let X=W[V],ue=T,he=!1,re=!1;if(X==="DOMContentLoaded"&&(X="ready"),m.domLoaded&&X==="ready"&&n.readyState==="complete"){a.call(u,Xg({type:X}));continue}!m.hasFocusIn&&(X==="focusin"||X==="focusout")&&(he=!0,re=X==="focusin"?"focus":"blur",ue=fe=>{const Re=Xg(fe||S.event);Re.type=Re.type==="focus"?"focusin":"focusout",m.executeHandlers(Re,$)}),b=m.events[$][X],b?X==="ready"&&m.domLoaded?a(Xg({type:X})):b.push({func:a,scope:u}):(m.events[$][X]=b=[{func:a,scope:u}],b.fakeName=re,b.capture=he,b.nativeHandler=ue,X==="ready"?N2(n,ue,m):Yg(n,re||X,ue,he))}return n=b=null,a}unbind(n,o,a){if(!n||Et(n)||rc(n))return this;const u=n[this.expando];if(u){let m=this.events[u];if(o){const b=o.split(" ");let S=b.length;for(;S--;){const T=b[S],$=m[T];if($){if(a){let W=$.length;for(;W--;)if($[W].func===a){const V=$.nativeHandler,X=$.fakeName,ue=$.capture,he=$.slice(0,W).concat($.slice(W+1));he.nativeHandler=V,he.fakeName=X,he.capture=ue,m[T]=he}}(!a||$.length===0)&&(delete m[T],ja(n,$.fakeName||T,$.nativeHandler,$.capture))}}}else Mt(m,(b,S)=>{ja(n,b.fakeName||S,b.nativeHandler,b.capture)}),m={};for(const b in m)if(Dn(m,b))return this;delete this.events[u];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,a){return this.dispatch(n,o,a)}dispatch(n,o,a){if(!n||Et(n)||rc(n))return this;const u=Xg({type:o,target:n},a);do{const m=n[this.expando];m&&this.executeHandlers(u,m),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!u.isPropagationStopped());return this}clean(n){if(!n||Et(n)||rc(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let a=o.length;for(;a--;)n=o[a],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const a=this.events[o],u=a&&a[n.type];if(u)for(let m=0,b=u.length;m<b;m++){const S=u[m];if(S&&S.func.call(S.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Ep.Event=new Ep;const z0=gt.each,Ru=gt.grep,Lw="data-mce-style",W0=gt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Jg=(e,n,o)=>{Ue(o)||o===""?Go(e,n):ur(e,n,o)},Fw=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),nm=(e,n)=>{let o=0;if(e)for(let a=e.nodeType,u=e.previousSibling;u;u=u.previousSibling){const m=u.nodeType;n&&Et(u)&&(m===a||!u.data.length)||(o++,a=m)}return o},R2=(e,n)=>{const o=ei(n,"style"),a=e.serialize(e.parse(o),Ss(n));Jg(n,Lw,a)},U0=(e,n)=>Tt(e)?Dn(W0,n)?e+"":e+"px":e,j0=(e,n,o)=>{const a=Fw(n);Ue(o)||o===""?Dg(e,a):Ag(e,a,U0(o,a))},Hw=(e,n,o)=>{const a=n.keep_values,u={set:(b,S,T)=>{const $=ge.fromDom(b);ie(n.url_converter)&&ye(S)&&(S=n.url_converter.call(n.url_converter_scope||o(),String(S),T,b));const W="data-mce-"+T;Jg($,W,S),Jg($,T,S)},get:(b,S)=>{const T=ge.fromDom(b);return ei(T,"data-mce-"+S)||ei(T,S)}},m={style:{set:(b,S)=>{const T=ge.fromDom(b);a&&Jg(T,Lw,S),Go(T,"style"),q(S)&&Og(T,e.parse(S))},get:b=>{const S=ge.fromDom(b),T=ei(S,Lw)||ei(S,"style");return e.serialize(e.parse(T),Ss(S))}}};return a&&(m.href=m.src=u),m},bs=(e,n={})=>{const o={},a=window,u={};let m=0;const b=!0,S=!0,T=Os.forElement(ge.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),$=[],W=n.schema?n.schema:_d({}),V=Bw({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),X=n.ownEvents?new Ep:Ep.Event,ue=W.getBlockElements(),he=Ke=>q(Ke)?Dn(ue,Ke):qt(Ke)&&(Dn(ue,Ke.nodeName)||gh(W,Ke)),re=Ke=>Ke&&e&&q(Ke)?e.getElementById(Ke):Ke,fe=Ke=>{const qe=re(Ke);return ye(qe)?ge.fromDom(qe):null},Re=(Ke,qe,$t="")=>{let kt;const wn=fe(Ke);if(ye(wn)&&gs(wn)){const Ro=V_[qe];Ro&&Ro.get?kt=Ro.get(wn.dom,qe):kt=ei(wn,qe)}return ye(kt)?kt:$t},Pe=Ke=>{const qe=re(Ke);return Ue(qe)?[]:qe.attributes},Be=(Ke,qe,$t)=>{rn(Ke,kt=>{if(qt(kt)){const wn=ge.fromDom(kt),Ro=$t===""?null:$t,Qs=ei(wn,qe),ma=V_[qe];ma&&ma.set?ma.set(wn.dom,Ro,qe):Jg(wn,qe,Ro),Qs!==Ro&&n.onSetAttrib&&n.onSetAttrib({attrElm:wn.dom,attrName:qe,attrValue:Ro})}})},Ve=(Ke,qe)=>Ke.cloneNode(qe),ht=()=>n.root_element||e.body,dn=Ke=>{const qe=T1(Ke);return{x:qe.x,y:qe.y,w:qe.width,h:qe.height}},yt=(Ke,qe)=>$0(e.body,re(Ke),qe),et=(Ke,qe,$t)=>{rn(Ke,kt=>{const wn=ge.fromDom(kt);j0(wn,qe,$t),n.update_styles&&R2(V,wn)})},ct=(Ke,qe)=>{rn(Ke,$t=>{const kt=ge.fromDom($t);Mt(qe,(wn,Ro)=>{j0(kt,Ro,wn)}),n.update_styles&&R2(V,kt)})},It=(Ke,qe,$t)=>{const kt=re(Ke);if(!(Ue(kt)||!qt(kt)))return $t?jr(ge.fromDom(kt),Fw(qe)):(qe=qe.replace(/-(\D)/g,(wn,Ro)=>Ro.toUpperCase()),qe==="float"&&(qe="cssFloat"),kt.style?kt.style[qe]:void 0)},Ht=Ke=>{const qe=re(Ke);if(!qe)return{w:0,h:0};let $t=It(qe,"width"),kt=It(qe,"height");return(!$t||$t.indexOf("px")===-1)&&($t="0"),(!kt||kt.indexOf("px")===-1)&&(kt="0"),{w:parseInt($t,10)||qe.offsetWidth||qe.clientWidth,h:parseInt(kt,10)||qe.offsetHeight||qe.clientHeight}},on=Ke=>{const qe=re(Ke),$t=yt(qe),kt=Ht(qe);return{x:$t.x,y:$t.y,w:kt.w,h:kt.h}},Mn=(Ke,qe)=>{if(!Ke)return!1;const $t=We(Ke)?Ke:[Ke];return pt($t,kt=>ra(ge.fromDom(kt),qe))},$n=(Ke,qe,$t,kt)=>{const wn=[];let Ro=re(Ke);kt=kt===void 0;const Qs=$t||(ht().nodeName!=="BODY"?ht().parentNode:null);if(q(qe))if(qe==="*")qe=qt;else{const ma=qe;qe=ha=>Mn(ha,ma)}for(;Ro&&!(Ro===Qs||Ue(Ro.nodeType)||mh(Ro)||tf(Ro));){if(!qe||qe(Ro))if(kt)wn.push(Ro);else return[Ro];Ro=Ro.parentNode}return kt?wn:null},Po=(Ke,qe,$t)=>{const kt=$n(Ke,qe,$t,!1);return kt&&kt.length>0?kt[0]:null},Wo=(Ke,qe,$t)=>{let kt=qe;if(Ke){q(qe)&&(kt=wn=>Mn(wn,qe));for(let wn=Ke[$t];wn;wn=wn[$t])if(ie(kt)&&kt(wn))return wn}return null},ys=(Ke,qe)=>Wo(Ke,qe,"nextSibling"),Xa=(Ke,qe)=>Wo(Ke,qe,"previousSibling"),Li=Ke=>ie(Ke.querySelectorAll),Rt=(Ke,qe)=>{var $t,kt;const wn=(kt=($t=re(qe))!==null&&$t!==void 0?$t:n.root_element)!==null&&kt!==void 0?kt:e;return Li(wn)?ms(wn.querySelectorAll(Ke)):[]},rn=function(Ke,qe,$t){const kt=$t??this;if(We(Ke)){const wn=[];return z0(Ke,(Ro,Qs)=>{const ma=re(Ro);ma&&wn.push(qe.call(kt,ma,Qs))}),wn}else{const wn=re(Ke);return wn?qe.call(kt,wn):!1}},Fo=(Ke,qe)=>{rn(Ke,$t=>{Mt(qe,(kt,wn)=>{Be($t,wn,kt)})})},Do=(Ke,qe)=>{rn(Ke,$t=>{const kt=ge.fromDom($t);fo(kt,qe)})},fn=(Ke,qe,$t,kt,wn)=>rn(Ke,Ro=>{const Qs=q(qe)?e.createElement(qe):qe;return ye($t)&&Fo(Qs,$t),kt&&(!q(kt)&&kt.nodeType?Qs.appendChild(kt):q(kt)&&Do(Qs,kt)),wn?Qs:Ro.appendChild(Qs)}),gn=(Ke,qe,$t)=>fn(e.createElement(Ke),Ke,qe,$t,!0),Ot=em.decode,Ln=em.encodeAllRaw,Yn=(Ke,qe,$t="")=>{let kt="<"+Ke;for(const wn in qe)Xr(qe,wn)&&(kt+=" "+wn+'="'+Ln(qe[wn])+'"');return ki($t)&&Dn(W.getVoidElements(),Ke)?kt+" />":kt+">"+$t+"</"+Ke+">"},Bo=Ke=>{const qe=e.createElement("div"),$t=e.createDocumentFragment();$t.appendChild(qe),Ke&&(qe.innerHTML=Ke);let kt;for(;kt=qe.firstChild;)$t.appendChild(kt);return $t.removeChild(qe),$t},Js=(Ke,qe)=>rn(Ke,$t=>{const kt=ge.fromDom($t);return qe&&Ae(ni(kt),wn=>{Ur(wn)&&wn.dom.length===0?Uo(wn):Ha(kt,wn)}),Uo(kt),kt.dom}),Zn=Ke=>rn(Ke,qe=>{const $t=qe.attributes;for(let kt=$t.length-1;kt>=0;kt--)qe.removeAttributeNode($t.item(kt))}),No=Ke=>V.parse(Ke),Nr=(Ke,qe)=>V.serialize(Ke,qe),Rs=Ke=>{if(Lm!==bs.DOM&&e===document){if(o[Ke])return;o[Ke]=!0}let qe=e.getElementById("mceDefaultStyles");if(!qe){qe=e.createElement("style"),qe.id="mceDefaultStyles",qe.type="text/css";const $t=e.head;$t.firstChild?$t.insertBefore(qe,$t.firstChild):$t.appendChild(qe)}qe.styleSheet?qe.styleSheet.cssText+=Ke:qe.appendChild(e.createTextNode(Ke))},xr=Ke=>{Ke||(Ke=""),Ae(Ke.split(","),qe=>{u[qe]=!0,T.load(qe).catch(xt)})},ir=(Ke,qe,$t)=>{rn(Ke,kt=>{if(qt(kt)){const wn=ge.fromDom(kt),Ro=qe.split(" ");Ae(Ro,Qs=>{ye($t)?($t?wl:qc)(wn,Qs):th(wn,Qs)})}})},Fs=(Ke,qe)=>{ir(Ke,qe,!0)},ui=(Ke,qe)=>{ir(Ke,qe,!1)},Ja=(Ke,qe)=>{const $t=fe(Ke),kt=qe.split(" ");return ye($t)&&Qn(kt,wn=>Wf($t,wn))},Qa=Ke=>{rn(Ke,qe=>Dg(ge.fromDom(qe),"display"))},Pm=Ke=>{rn(Ke,qe=>Ag(ge.fromDom(qe),"display","none"))},Hr=Ke=>{const qe=fe(Ke);return ye(qe)&&Uc(Fa(qe,"display"),"none")},dg=Ke=>(Ke||"mce_")+m++,ll=Ke=>{const qe=fe(Ke);return ye(qe)?qt(qe.dom)?qe.dom.outerHTML:Ng(qe):""},Bm=(Ke,qe)=>{rn(Ke,$t=>{qt($t)&&($t.outerHTML=qe)})},Io=(Ke,qe)=>{const $t=re(qe);return rn(Ke,kt=>{const wn=$t==null?void 0:$t.parentNode,Ro=$t==null?void 0:$t.nextSibling;return wn&&(Ro?wn.insertBefore(kt,Ro):wn.appendChild(kt)),kt})},pr=(Ke,qe,$t)=>rn(qe,kt=>{var wn;const Ro=We(qe)?Ke.cloneNode(!0):Ke;return $t&&z0(Ru(kt.childNodes),Qs=>{Ro.appendChild(Qs)}),(wn=kt.parentNode)===null||wn===void 0||wn.replaceChild(Ro,kt),kt}),$l=(Ke,qe)=>{if(Ke.nodeName!==qe.toUpperCase()){const $t=gn(qe);return z0(Pe(Ke),kt=>{Be($t,kt.nodeName,Re(Ke,kt.nodeName))}),pr($t,Ke,!0),$t}else return Ke},Tf=(Ke,qe)=>{let $t=Ke;for(;$t;){let kt=qe;for(;kt&&$t!==kt;)kt=kt.parentNode;if($t===kt)break;$t=$t.parentNode}return!$t&&Ke.ownerDocument?Ke.ownerDocument.documentElement:$t},fu=Ke=>{if(qt(Ke)){const qe=Ke.nodeName.toLowerCase()==="a"&&!Re(Ke,"href")&&Re(Ke,"id");if(Re(Ke,"name")||Re(Ke,"data-mce-bookmark")||qe)return!0}return!1},mu=(Ke,qe,$t)=>{let kt=0;if(fu(Ke))return!1;const wn=Ke.firstChild;if(wn){const Ro=new Ir(wn,Ke),Qs=W?W.getWhitespaceElements():{},ma=qe||(W?W.getNonEmptyElements():null);let ha=wn;do{if(qt(ha)){const z_=ha.getAttribute("data-mce-bogus");if(z_){ha=Ro.next(z_==="all");continue}const W_=ha.nodeName.toLowerCase();if(ma&&ma[W_]){if(W_==="br"){kt++,ha=Ro.next();continue}return!1}if(fu(ha))return!1}if(rc(ha)||Et(ha)&&!Ql(ha.data)&&(!($t!=null&&$t.includeZwsp)||!C2(ha.data))||Et(ha)&&ha.parentNode&&Qs[ha.parentNode.nodeName]&&Ql(ha.data))return!1;ha=Ro.next()}while(ha)}return kt<=1},Uh=()=>e.createRange(),Da=(Ke,qe,$t)=>{let kt=Uh(),wn,Ro;if(Ke&&qe&&Ke.parentNode&&qe.parentNode){const Qs=Ke.parentNode;return kt.setStart(Qs,nm(Ke)),kt.setEnd(qe.parentNode,nm(qe)),wn=kt.extractContents(),kt=Uh(),kt.setStart(qe.parentNode,nm(qe)+1),kt.setEnd(Qs,nm(Ke)+1),Ro=kt.extractContents(),Qs.insertBefore(Mw(Lm,wn),Ke),$t?Qs.insertBefore($t,Ke):Qs.insertBefore(qe,Ke),Qs.insertBefore(Mw(Lm,Ro),Ke),Js(Ke),$t||qe}else return},fg=(Ke,qe,$t,kt)=>{if(We(Ke)){let wn=Ke.length;const Ro=[];for(;wn--;)Ro[wn]=fg(Ke[wn],qe,$t,kt);return Ro}else return n.collect&&(Ke===e||Ke===a)&&$.push([Ke,qe,$t,kt]),X.bind(Ke,qe,$t,kt||Lm)},Im=(Ke,qe,$t)=>{if(We(Ke)){let kt=Ke.length;const wn=[];for(;kt--;)wn[kt]=Im(Ke[kt],qe,$t);return wn}else{if($.length>0&&(Ke===e||Ke===a)){let kt=$.length;for(;kt--;){const[wn,Ro,Qs]=$[kt];Ke===wn&&(!qe||qe===Ro)&&(!$t||$t===Qs)&&X.unbind(wn,Ro,Qs)}}return X.unbind(Ke,qe,$t)}},$d=(Ke,qe,$t)=>X.dispatch(Ke,qe,$t),jh=(Ke,qe,$t)=>X.dispatch(Ke,qe,$t),PE=Ke=>{if(Ke&&qt(Ke)){const qe=Ke.getAttribute("data-mce-contenteditable");return qe&&qe!=="inherit"?qe:Ke.contentEditable!=="inherit"?Ke.contentEditable:null}else return null},Lm={doc:e,settings:n,win:a,files:u,stdMode:b,boxModel:S,styleSheetLoader:T,boundEvents:$,styles:V,schema:W,events:X,isBlock:he,root:null,clone:Ve,getRoot:ht,getViewPort:dn,getRect:on,getSize:Ht,getParent:Po,getParents:$n,get:re,getNext:ys,getPrev:Xa,select:Rt,is:Mn,add:fn,create:gn,createHTML:Yn,createFragment:Bo,remove:Js,setStyle:et,getStyle:It,setStyles:ct,removeAllAttribs:Zn,setAttrib:Be,setAttribs:Fo,getAttrib:Re,getPos:yt,parseStyle:No,serializeStyle:Nr,addStyle:Rs,loadCSS:xr,addClass:Fs,removeClass:ui,hasClass:Ja,toggleClass:ir,show:Qa,hide:Pm,isHidden:Hr,uniqueId:dg,setHTML:Do,getOuterHTML:ll,setOuterHTML:Bm,decode:Ot,encode:Ln,insertAfter:Io,replace:pr,rename:$l,findCommonAncestor:Tf,run:rn,getAttribs:Pe,isEmpty:mu,createRng:Uh,nodeIndex:nm,split:Da,bind:fg,unbind:Im,fire:jh,dispatch:$d,getContentEditable:PE,getContentEditableParent:Ke=>{const qe=ht();let $t=null;for(let kt=Ke;kt&&kt!==qe&&($t=PE(kt),$t===null);kt=kt.parentNode);return $t},isEditable:Ke=>{if(ye(Ke)){const qe=qt(Ke)?Ke:Ke.parentElement;return ye(qe)&&un(ge.fromDom(qe))}else return!1},destroy:()=>{if($.length>0){let Ke=$.length;for(;Ke--;){const[qe,$t,kt]=$[Ke];X.unbind(qe,$t,kt)}}Mt(u,(Ke,qe)=>{T.unload(qe),delete u[qe]})},isChildOf:(Ke,qe)=>Ke===qe||qe.contains(Ke),dumpRng:Ke=>"startContainer: "+Ke.startContainer.nodeName+", startOffset: "+Ke.startOffset+", endContainer: "+Ke.endContainer.nodeName+", endOffset: "+Ke.endOffset},V_=Hw(V,n,ot(Lm));return Lm};bs.DOM=bs(document),bs.nodeIndex=nm;const Z0=bs.DOM,GO=0,M2=1,Qg=2,$2=3;class el{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,a)=>{const u=Z0;let m;const b=()=>{u.remove($),m&&(m.onerror=m.onload=m=null)},S=()=>{b(),o()},T=()=>{b(),a("Failed to load script: "+n)},$=u.uniqueId();m=document.createElement("script"),m.id=$,m.type="text/javascript",m.src=gt._addCacheSuffix(n),this.settings.referrerPolicy&&u.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=S,m.onerror=T,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(n){return this.states[n]===Qg}markDone(n){this.states[n]=Qg}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=GO),new Promise((u,m)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:u,reject:m})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,a=(T,$)=>{cs(o.scriptLoadedCallbacks,$).each(W=>{Ae(W,V=>V[T]($))}),delete o.scriptLoadedCallbacks[$]},u=T=>{const $=st(T,W=>W.status==="rejected");return $.length>0?Promise.reject(vo($,({reason:W})=>We(W)?W:[W])):Promise.resolve()},m=T=>Promise.allSettled(Ye(T,$=>o.states[$]===Qg?(a("resolve",$),Promise.resolve()):o.states[$]===$2?(a("reject",$),Promise.reject($)):(o.states[$]=M2,o.loadScript($).then(()=>{o.states[$]=Qg,a("resolve",$);const W=o.queue;return W.length>0?(o.queue=[],m(W).then(u)):Promise.resolve()},()=>(o.states[$]=$2,a("reject",$),Promise.reject($)))))),b=T=>(o.loading=!0,m(T).then($=>{o.loading=!1;const W=o.queueLoadedCallbacks.shift();return Y.from(W).each(Mo),u($)})),S=Hc(n);return o.loading?new Promise((T,$)=>{o.queueLoadedCallbacks.push(()=>{b(S).then(T,$)})}):b(S)}}el.ScriptLoader=new el;const pi=e=>{let n=e;return{get:()=>n,set:u=>{n=u}}},Vw=e=>ke(e)&&Dn(e,"raw"),P2=e=>We(e)&&e.length>1,eb={},K0=pi("en"),zw=()=>cs(eb,K0.get()),wd={getData:()=>xo(eb,e=>({...e})),setCode:e=>{e&&K0.set(e)},getCode:()=>K0.get(),add:(e,n)=>{let o=eb[e];o||(eb[e]=o={}),Mt(n,(a,u)=>{o[u.toLowerCase()]=a})},translate:e=>{const n=zw().getOr({}),o=b=>ie(b)?Object.prototype.toString.call(b):a(b)?"":""+b,a=b=>b===""||b===null||b===void 0,u=b=>{const S=o(b);return cs(n,S.toLowerCase()).map(o).getOr(S)},m=b=>b.replace(/{context:\w+}$/,"");if(a(e))return"";if(Vw(e))return o(e.raw);if(P2(e)){const b=e.slice(1),S=u(e[0]).replace(/\{([0-9]+)\}/g,(T,$)=>Dn(b,$)?o(b[$]):T);return m(S)}return m(u(e))},isRtl:()=>zw().bind(e=>cs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Dn(eb,e)},zo=()=>{const e=[],n={},o={},a=[],u=(re,fe)=>{const Re=st(a,Pe=>Pe.name===re&&Pe.state===fe);Ae(Re,Pe=>Pe.resolve())},m=re=>Dn(n,re),b=re=>Dn(o,re),S=re=>{if(o[re])return o[re].instance},T=(re,fe)=>{const Re=wd.getCode(),Pe=","+(fe||"")+",";!Re||fe&&Pe.indexOf(","+Re+",")===-1||el.ScriptLoader.add(n[re]+"/langs/"+Re+".js")},$=(re,fe)=>{zo.languageLoad!==!1&&(m(re)?T(re,fe):he(re,"loaded").then(()=>T(re,fe)))},W=(re,fe)=>(e.push(fe),o[re]={instance:fe},u(re,"added"),fe),V=re=>{delete n[re],delete o[re]},X=(re,fe)=>q(fe)?q(re)?{prefix:"",resource:fe,suffix:""}:{prefix:re.prefix,resource:fe,suffix:re.suffix}:fe,ue=(re,fe)=>{if(n[re])return Promise.resolve();let Re=q(fe)?fe:fe.prefix+fe.resource+fe.suffix;Re.indexOf("/")!==0&&Re.indexOf("://")===-1&&(Re=zo.baseURL+"/"+Re),n[re]=Re.substring(0,Re.lastIndexOf("/"));const Pe=()=>(u(re,"loaded"),Promise.resolve());return o[re]?Pe():el.ScriptLoader.add(Re).then(Pe)},he=(re,fe="added")=>fe==="added"&&b(re)||fe==="loaded"&&m(re)?Promise.resolve():new Promise(Re=>{a.push({name:re,state:fe,resolve:Re})});return{items:e,urls:n,lookup:o,get:S,requireLangPack:$,add:W,remove:V,createUrl:X,load:ue,waitFor:he}};zo.languageLoad=!0,zo.baseURL="",zo.PluginManager=zo(),zo.ThemeManager=zo(),zo.ModelManager=zo();const ac=e=>{const n=pi(Y.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(Y.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:S=>{o(),n.set(Y.some(S))}}},ff=e=>{const n=pi(Y.none()),o=()=>n.get().each(S=>clearInterval(S));return{clear:()=>{o(),n.set(Y.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:S=>{o(),n.set(Y.some(setInterval(S,e)))}}},Ji=()=>{const e=ac(xt);return{...e,on:o=>e.get().each(o)}},om=(e,n)=>{let o=null;return{cancel:()=>{J(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{J(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},n))}}},Ww=(e,n)=>{let o=null;const a=()=>{J(o)||(clearTimeout(o),o=null)};return{cancel:a,throttle:(...m)=>{a(),o=setTimeout(()=>{o=null,e.apply(null,m)},n)}}},vh=ot("mce-annotation"),cc=ot("data-mce-annotation"),xl=ot("data-mce-annotation-uid"),ii=ot("data-mce-annotation-active"),tb=ot("data-mce-annotation-classes"),yh=ot("data-mce-annotation-attrs"),Uw=e=>n=>Jo(n,e),I2=(e,n)=>{const o=e.selection.getRng(),a=ge.fromDom(o.startContainer),u=ge.fromDom(e.getBody()),m=n.fold(()=>"."+vh(),T=>`[${cc()}="${T}"]`),b=ku(a,o.startOffset).getOr(a);return jn(b,m,Uw(u)).bind(T=>Kc(T,`${xl()}`).bind($=>Kc(T,`${cc()}`).map(W=>{const V=L2(e,$);return{uid:$,name:W,elements:V}})))},sm=e=>gs(e)&&Wf(e,vh()),Cd=(e,n)=>Eu(e,"data-mce-bogus")||Pg(e,'[data-mce-bogus="all"]',Uw(n)),L2=(e,n)=>{const o=ge.fromDom(e.getBody()),a=Ri(o,`[${xl()}="${n}"]`);return st(a,u=>!Cd(u,o))},jw=(e,n)=>{const o=ge.fromDom(e.getBody()),a=Ri(o,`[${cc()}="${n}"]`),u={};return Ae(a,m=>{if(!Cd(m,o)){const b=ei(m,xl()),S=cs(u,b).getOr([]);u[b]=S.concat([m])}}),u},YO=(e,n)=>{const o=pi({}),a=()=>({listeners:[],previous:Ji()}),u=(V,X)=>{m(V,ue=>(X(ue),ue))},m=(V,X)=>{const ue=o.get(),he=cs(ue,V).getOrThunk(a),re=X(he);ue[V]=re,o.set(ue)},b=(V,X,ue)=>{u(V,he=>{Ae(he.listeners,re=>re(!0,V,{uid:X,nodes:Ye(ue,fe=>fe.dom)}))})},S=V=>{u(V,X=>{Ae(X.listeners,ue=>ue(!1,V))})},T=(V,X)=>{Ae(L2(e,V),ue=>{X?ur(ue,ii(),"true"):Go(ue,ii())})},$=Ww(()=>{const V=qo(n.getNames());Ae(V,X=>{m(X,ue=>{const he=ue.previous.get();return I2(e,Y.some(X)).fold(()=>{he.each(re=>{S(X),ue.previous.clear(),T(re,!1)})},({uid:re,name:fe,elements:Re})=>{Uc(he,re)||(he.each(Pe=>T(Pe,!1)),b(fe,re,Re),ue.previous.set(re),T(re,!0))}),{previous:ue.previous,listeners:ue.listeners}})})},30);return e.on("remove",()=>{$.cancel()}),e.on("NodeChange",()=>{$.throttle()}),{addListener:(V,X)=>{m(V,ue=>({previous:ue.previous,listeners:ue.listeners.concat([X])}))}}},XO=(e,n)=>{const o=cc(),a=m=>Y.from(m.attr(o)).bind(n.lookup),u=m=>{var b,S;m.attr(xl(),null),m.attr(cc(),null),m.attr(ii(),null);const T=Y.from(m.attr(yh())).map(X=>X.split(",")).getOr([]),$=Y.from(m.attr(tb())).map(X=>X.split(",")).getOr([]);Ae(T,X=>m.attr(X,null));const W=(S=(b=m.attr("class"))===null||b===void 0?void 0:b.split(" "))!==null&&S!==void 0?S:[],V=mi(W,[vh()].concat($));m.attr("class",V.length>0?V.join(" "):null),m.attr(tb(),null),m.attr(yh(),null)};e.serializer.addTempAttr(ii()),e.serializer.addAttributeFilter(o,m=>{for(const b of m)a(b).each(S=>{S.persistent===!1&&(b.name==="span"?b.unwrap():u(b))})})},JO=()=>{const e={};return{register:(u,m)=>{e[u]={name:u,settings:m}},lookup:u=>cs(e,u).map(m=>m.settings),getNames:()=>Hs(e)}};let Zw=0;const H1=e=>{const o=new Date().getTime(),a=Math.floor(Math.random()*1e9);return Zw++,e+"_"+a+Zw+String(o)},QO=(e,n)=>{Ae(n,o=>{wl(e,o)})},eD=(e,n)=>{Ae(n,o=>{qc(e,o)})},Kw=(e,n)=>ge.fromDom(e.dom.cloneNode(n)),_h=e=>Kw(e,!1),tD=e=>Kw(e,!0),G0=(e,n)=>{const o=ge.fromTag(n),a=zf(e);return ji(o,a),o},Ar=(e,n)=>{const o=G0(e,n);kc(e,o);const a=ni(e);return Es(o,a),Uo(e),o},Y0=(e,n,o=at)=>{const a=new Ir(e,n),u=m=>{let b;do b=a[m]();while(b&&!Et(b)&&!o(b));return Y.from(b).filter(Et)};return{current:()=>Y.from(a.current()).filter(Et),next:()=>u("next"),prev:()=>u("prev"),prev2:()=>u("prev2")}},wh=(e,n)=>{const o=n||(b=>e.isBlock(b)||Xs(b)||Yo(b)),a=(b,S,T,$)=>{if(Et(b)){const W=$(b,S,b.data);if(W!==-1)return Y.some({container:b,offset:W})}return T().bind(W=>a(W.container,W.offset,T,$))};return{backwards:(b,S,T,$)=>{const W=Y0(b,$??e.getRoot(),o);return a(b,S,()=>W.prev().map(V=>({container:V,offset:V.length})),T).getOrNull()},forwards:(b,S,T,$)=>{const W=Y0(b,$??e.getRoot(),o);return a(b,S,()=>W.next().map(V=>({container:V,offset:0})),T).getOrNull()}}},Ch=Math.round,rm=e=>e?{left:Ch(e.left),top:Ch(e.top),bottom:Ch(e.bottom),right:Ch(e.right),width:Ch(e.width),height:Ch(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},la=(e,n)=>(e=rm(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),eu=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,xp=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,nb=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:xp(n.top-e.bottom,e,n)},ob=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:xp(n.bottom-e.top,e,n),nD=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,F2=e=>tn(e,(n,o)=>n.fold(()=>Y.some(o),a=>{const u=Math.min(o.left,a.left),m=Math.min(o.top,a.top),b=Math.max(o.right,a.right),S=Math.max(o.bottom,a.bottom);return Y.some({top:m,right:b,bottom:S,left:u,width:b-u,height:S-m})}),Y.none()),qw=(e,n,o)=>{const a=Math.max(Math.min(n,e.left+e.width),e.left),u=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-a)*(n-a)+(o-u)*(o-u))},im=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),X0=(e,n,o)=>Math.min(Math.max(e,n),o),mr=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},xa=(e,n)=>{if(qt(e)&&e.hasChildNodes()){const o=e.childNodes,a=X0(n,0,o.length-1);return o[a]}else return e},V1=(e,n)=>{if(!(n<0&&qt(e)&&e.hasChildNodes()))return xa(e,n)},H2=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Gw=e=>q(e)&&e.charCodeAt(0)>=768&&H2.test(e),oD=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},Tp=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Yw=qt,kp=fr,J0=uh("display","block table"),sD=uh("float","left right"),sb=Tp(Yw,kp,mo(sD)),rD=mo(uh("white-space","pre pre-line pre-wrap")),z1=Et,Q0=Xs,rb=bs.nodeIndex,W1=V1,ey=e=>e?e.createRange():bs.DOM.createRng(),ib=e=>q(e)&&/[\r\n\t ]/.test(e),V2=e=>!!e.setStart&&!!e.setEnd,ty=e=>{const n=e.startContainer,o=e.startOffset;if(ib(e.toString())&&rD(n.parentNode)&&Et(n)){const a=n.data;if(ib(a[o-1])||ib(a[o+1]))return!0}return!1},vP=e=>{const n=e.ownerDocument,o=ey(n),a=n.createTextNode(rt),u=e.parentNode;u.insertBefore(a,e),o.setStart(a,0),o.setEnd(a,1);const m=rm(o.getBoundingClientRect());return u.removeChild(a),m},mf=e=>{const n=e.startContainer,o=e.endContainer,a=e.startOffset,u=e.endOffset;if(n===o&&Et(o)&&a===0&&u===1){const m=e.cloneRange();return m.setEndAfter(o),Mc(m)}else return null},Ap=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Mc=e=>{var n;let o;const a=e.getClientRects();return a.length>0?o=rm(a[0]):o=rm(e.getBoundingClientRect()),!V2(e)&&Q0(e)&&Ap(o)?vP(e):Ap(o)&&V2(e)&&(n=mf(e))!==null&&n!==void 0?n:o},ho=(e,n)=>{const o=la(e,n);return o.width=1,o.right=o.left+1,o},tl=e=>{const n=[],o=b=>{b.height!==0&&(n.length>0&&eu(b,n[n.length-1])||n.push(b))},a=(b,S)=>{const T=ey(b.ownerDocument);if(S<b.data.length){if(Gw(b.data[S]))return;if(Gw(b.data[S-1])&&(T.setStart(b,S),T.setEnd(b,S+1),!ty(T))){o(ho(Mc(T),!1));return}}S>0&&(T.setStart(b,S-1),T.setEnd(b,S),ty(T)||o(ho(Mc(T),!1))),S<b.data.length&&(T.setStart(b,S),T.setEnd(b,S+1),ty(T)||o(ho(Mc(T),!0)))},u=e.container(),m=e.offset();if(z1(u))return a(u,m),n;if(Yw(u))if(e.isAtEnd()){const b=W1(u,m);z1(b)&&a(b,b.data.length),sb(b)&&!Q0(b)&&o(ho(Mc(b),!1))}else{const b=W1(u,m);if(z1(b)&&a(b,0),sb(b)&&e.isAtEnd())return o(ho(Mc(b),!1)),n;const S=W1(e.container(),e.offset()-1);sb(S)&&!Q0(S)&&(J0(S)||J0(b)||!sb(b))&&o(ho(Mc(S),!1)),sb(b)&&o(ho(Mc(b),!0))}return n},Je=(e,n,o)=>{const a=()=>(z1(e),n===0),u=()=>z1(e)?n>=e.data.length:n>=e.childNodes.length,m=()=>{const W=ey(e.ownerDocument);return W.setStart(e,n),W.setEnd(e,n),W},b=()=>(o||(o=tl(Je(e,n))),o),S=()=>b().length>0,T=W=>W&&e===W.container()&&n===W.offset(),$=W=>W1(e,W?n-1:n);return{container:ot(e),offset:ot(n),toRange:m,getClientRects:b,isVisible:S,isAtStart:a,isAtEnd:u,isEqual:T,getNode:$}};Je.fromRangeStart=e=>Je(e.startContainer,e.startOffset),Je.fromRangeEnd=e=>Je(e.endContainer,e.endOffset),Je.after=e=>Je(e.parentNode,rb(e)+1),Je.before=e=>Je(e.parentNode,rb(e)),Je.isAbove=(e,n)=>Wi(oo(n.getClientRects()),fs(e.getClientRects()),nb).getOr(!1),Je.isBelow=(e,n)=>Wi(fs(n.getClientRects()),oo(e.getClientRects()),ob).getOr(!1),Je.isAtStart=e=>e?e.isAtStart():!1,Je.isAtEnd=e=>e?e.isAtEnd():!1,Je.isTextPosition=e=>e?Et(e.container()):!1,Je.isElementPosition=e=>!Je.isTextPosition(e);const ab=(e,n)=>{Et(n)&&n.data.length===0&&e.remove(n)},Zs=(e,n,o)=>{n.insertNode(o),ab(e,o.previousSibling),ab(e,o.nextSibling)},z2=(e,n,o)=>{const a=Y.from(o.firstChild),u=Y.from(o.lastChild);n.insertNode(o),a.each(m=>ab(e,m.previousSibling)),u.each(m=>ab(e,m.nextSibling))},ny=(e,n,o)=>{tf(o)?z2(e,n,o):Zs(e,n,o)},sr=Et,am=Oc,oy=bs.nodeIndex,Xw=e=>{const n=e.parentNode;return am(n)?Xw(n):n},Jw=e=>e?va(e.childNodes,(n,o)=>(am(o)&&o.nodeName!=="BR"?n=n.concat(Jw(o)):n.push(o),n),[]):[],sy=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&sr(o);)n+=o.data.length;return n},ry=e=>n=>e===n,Sh=e=>{let n,o;n=Jw(Xw(e)),o=qs(n,ry(e),e),n=n.slice(0,o+1);const a=va(n,(u,m,b)=>(sr(m)&&sr(n[b-1])&&u++,u),0);return n=Vl(n,Yc([e.nodeName])),o=qs(n,ry(e),e),o-a},U1=e=>(sr(e)?"text()":e.nodeName.toLowerCase())+"["+Sh(e)+"]",Qw=(e,n,o)=>{const a=[];for(let u=n.parentNode;u&&u!==e&&!(o&&o(u));u=u.parentNode)a.push(u);return a},iy=(e,n)=>{let o=[],a=n.container(),u=n.offset(),m;if(sr(a))m=sy(a,u);else{const S=a.childNodes;u>=S.length?(m="after",u=S.length-1):m="before",a=S[u]}o.push(U1(a));let b=Qw(e,a);return b=Vl(b,mo(Oc)),o=o.concat($r(b,S=>U1(S))),o.reverse().join("/")+","+m},W2=(e,n,o)=>{let a=Jw(e);return a=Vl(a,(u,m)=>!sr(u)||!sr(a[m-1])),a=Vl(a,Yc([n])),a[o]},U2=(e,n)=>{let o=e,a=0;for(;sr(o);){const u=o.data.length;if(n>=a&&n<=a+u){e=o,n=n-a;break}if(!sr(o.nextSibling)){e=o,n=u;break}a+=u,o=o.nextSibling}return sr(e)&&n>e.data.length&&(n=e.data.length),Je(e,n)},Op=(e,n)=>{if(!n)return null;const o=n.split(","),a=o[0].split("/"),u=o.length>1?o[1]:"before",m=va(a,(b,S)=>{const T=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return T?(T[1]==="text()"&&(T[1]="#text"),W2(b,T[1],parseInt(T[2],10))):null},e);if(!m)return null;if(!sr(m)&&m.parentNode){let b;return u==="after"?b=oy(m)+1:b=oy(m),Je(m.parentNode,b)}return U2(m,parseInt(u,10))},Za=Yo,yP=(e,n,o)=>{let a=e(n.data.slice(0,o)).length;for(let u=n.previousSibling;u&&Et(u);u=u.previousSibling)a+=e(u.data).length;return a},Ds=(e,n,o,a,u)=>{const m=u?a.startContainer:a.endContainer;let b=u?a.startOffset:a.endOffset;const S=[],T=e.getRoot();if(Et(m))S.push(o?yP(n,m,b):b);else{let $=0;const W=m.childNodes;b>=W.length&&W.length&&($=1,b=Math.max(0,W.length-1)),S.push(e.nodeIndex(W[b],o)+$)}for(let $=m;$&&$!==T;$=$.parentNode)S.push(e.nodeIndex($,o));return S},iD=(e,n,o,a)=>{const u=n.dom,m=Ds(u,e,o,a,!0),b=n.isForward(),S=af(a)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:m,forward:b,...S};{const T=Ds(u,e,o,a,!1);return{start:m,end:T,forward:b,...S}}},hf=(e,n,o)=>{let a=0;return gt.each(e.select(n),u=>{if(u.getAttribute("data-mce-bogus")!=="all"){if(u===o)return!1;a++;return}}),a},eC=(e,n)=>{let o=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;if(qt(o)&&o.nodeName==="TR"){const u=o.childNodes;o=u[Math.min(n?a:a-1,u.length-1)],o&&(a=n?0:o.childNodes.length,n?e.setStart(o,a):e.setEnd(o,a))}},tC=e=>(eC(e,!0),eC(e,!1),e),j1=(e,n)=>{if(qt(e)&&(e=xa(e,n),Za(e)))return e;if(Qo(e)){Et(e)&&An(e)&&(e=e.parentNode);let o=e.previousSibling;if(Za(o)||(o=e.nextSibling,Za(o)))return o}},Z1=e=>j1(e.startContainer,e.startOffset)||j1(e.endContainer,e.endOffset),ay=(e,n,o)=>{const a=o.getNode(),u=o.getRng();if(a.nodeName==="IMG"||Za(a)){const b=a.nodeName;return{name:b,index:hf(o.dom,b,a)}}const m=Z1(u);if(m){const b=m.tagName;return{name:b,index:hf(o.dom,b,m)}}return iD(e,o,n,u)},j2=e=>{const n=e.getRng();return{start:iy(e.dom.getRoot(),Je.fromRangeStart(n)),end:iy(e.dom.getRoot(),Je.fromRangeEnd(n)),forward:e.isForward()}},aD=e=>({rng:e.getRng(),forward:e.isForward()}),nC=(e,n,o)=>{const a={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",a,"&#xFEFF;"):e.create("span",a)},$i=(e,n)=>{const o=e.dom;let a=e.getRng();const u=o.uniqueId(),m=e.isCollapsed(),b=e.getNode(),S=b.nodeName,T=e.isForward();if(S==="IMG")return{name:S,index:hf(o,S,b)};const $=tC(a.cloneRange());if(!m){$.collapse(!1);const V=nC(o,u+"_end",n);ny(o,$,V)}a=tC(a),a.collapse(!0);const W=nC(o,u+"_start",n);return ny(o,a,W),e.moveToBookmark({id:u,keep:!0,forward:T}),{id:u,forward:T}},gi=(e,n,o=!1)=>n===2?ay(nt,o,e):n===3?j2(e):n?aD(e):$i(e,!1),Ka=lt(ay,Xn,!0),lc=e=>{const n=m=>m(e),o=ot(e),a=()=>u,u={tag:!0,inner:e,fold:(m,b)=>b(e),isValue:wt,isError:at,map:m=>qa.value(m(e)),mapError:a,bind:n,exists:n,forall:n,getOr:o,or:a,getOrThunk:o,orThunk:a,getOrDie:o,each:m=>{m(e)},toOptional:()=>Y.some(e)};return u},Bs=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(a,u)=>a(e),isValue:at,isError:wt,map:n,mapError:a=>qa.error(a(e)),bind:n,exists:at,forall:wt,getOr:Xn,or:Xn,getOrThunk:so,orThunk:so,getOrDie:ks(String(e)),each:xt,toOptional:Y.none};return o},qa={value:lc,error:Bs,fromOption:(e,n)=>e.fold(()=>Bs(n),lc)},Sd={generate:e=>{if(!We(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return Ae(e,(a,u)=>{const m=Hs(a);if(m.length!==1)throw new Error("one and only one name per case");const b=m[0],S=a[b];if(o[b]!==void 0)throw new Error("duplicate key detected:"+b);if(b==="cata")throw new Error("cannot have a case named cata (sorry)");if(!We(S))throw new Error("case arguments must be an array");n.push(b),o[b]=(...T)=>{const $=T.length;if($!==S.length)throw new Error("Wrong number of arguments to case "+b+". Expected "+S.length+" ("+S+"), got "+$);return{fold:(...V)=>{if(V.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+V.length);return V[u].apply(null,T)},match:V=>{const X=Hs(V);if(n.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+X.join(","));if(!Qn(n,he=>je(X,he)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+n.join(", "));return V[b].apply(null,T)},log:V=>{console.log(V,{constructors:n,constructor:b,params:T})}}}}),o}};Sd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const K2=e=>{const n=[],o=[];return Ae(e,a=>{a.fold(u=>{n.push(u)},u=>{o.push(u)})}),{errors:n,values:o}},q2=e=>e.type==="inline-command"||e.type==="inline-format",G2=e=>e.type==="block-command"||e.type==="block-format",oC=e=>{const n=a=>qa.error({message:a,pattern:e}),o=(a,u,m)=>{if(e.format!==void 0){let b;if(We(e.format)){if(!Qn(e.format,q))return n(a+" pattern has non-string items in the `format` array");b=e.format}else if(q(e.format))b=[e.format];else return n(a+" pattern has non-string `format` parameter");return qa.value(u(b))}else return e.cmd!==void 0?q(e.cmd)?qa.value(m(e.cmd,e.value)):n(a+" pattern has non-string `cmd` parameter"):n(a+" pattern is missing both `format` and `cmd` parameters")};if(!ke(e))return n("Raw pattern is not an object");if(!q(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!q(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let a=e.start,u=e.end;return u.length===0&&(u=a,a=""),o("Inline",m=>({type:"inline-format",start:a,end:u,format:m}),(m,b)=>({type:"inline-command",start:a,end:u,cmd:m,value:b}))}else return e.replacement!==void 0?q(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):qa.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",a=>({type:"block-format",start:e.start,format:a[0]}),(a,u)=>({type:"block-command",start:e.start,cmd:a,value:u}))},cy=e=>st(e,G2),ly=e=>st(e,q2),_P=(e,n)=>({inlinePatterns:ly(e),blockPatterns:cy(e),dynamicPatternsLookup:n}),Y2=e=>{const n=K2(Ye(e,oC));return Ae(n.errors,o=>console.error(o.message,o.pattern)),n.values},cD=e=>n=>{const o=e(n);return Y2(o)},sC=Cs().deviceType,rC=sC.isTouch(),lD=bs.DOM,uD=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return tn(n,(o,a)=>{const u=a.split("="),m=u[0],b=u.length>1?u[1]:m;return o[gl(m)]=gl(b),o},{})},X2=e=>ce(e,RegExp),Yt=e=>n=>n.options.get(e),uy=e=>q(e)||ke(e),Dt=(e,n="")=>o=>{const a=q(o);if(a)if(o.indexOf("=")!==-1){const u=uD(o);return{value:cs(u,e.id).getOr(n),valid:a}}else return{value:o,valid:a};else return{valid:!1,message:"Must be a string."}},dD=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:Dt(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:Dt(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const a=q(o)&&Xo(o);return a?{value:o,valid:a}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const a=je(["block","linebreak","invert","default"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Te(o)?{valid:!0,value:o}:q(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const a=o===!1||q(o)||vt(o,q);return a?q(o)?{value:Ye(o.split(","),gl),valid:a}:We(o)?{value:o,valid:a}:o===!1?{value:[],valid:a}:{value:o,valid:a}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:hy(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const a=q(o)||vt(o,q);return a?{value:We(o)?o:Ye(o.split(","),gl),valid:a}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const a=Te(o)||q(o);return a?o===!1||sC.isiPhone()||sC.isiPad()?{value:"",valid:a}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:a}:{valid:!1,message:"Must be boolean or a string"}},default:!rC}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||q(o)||ie(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const a=o===!1||q(o);return a?{value:o===!1?"":o,valid:a}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:uy}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:uy}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:uy}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>q(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>vt(o,ke)||o===!1?{value:Y2(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>ie(o)?{value:cD(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>vt(o,X2)?{value:o,valid:!0}:X2(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const a=je(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const a=je(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:wd.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:lD.getAttrib(e.getElement(),"placeholder")})})},Qi=Yt("iframe_attrs"),fD=Yt("doctype"),iC=Yt("document_base_url"),mD=Yt("body_id"),uc=Yt("body_class"),aC=Yt("content_security_policy"),J2=Yt("br_in_pre"),Sr=Yt("forced_root_block"),Eh=Yt("forced_root_block_attrs"),cb=Yt("newline_behavior"),pf=Yt("br_newline_selector"),Mu=Yt("no_newline_selector"),K1=Yt("keep_styles"),nl=Yt("end_container_on_empty_block"),Q2=Yt("automatic_uploads"),cC=Yt("images_reuse_filename"),lC=Yt("images_replace_blob_uris"),uC=Yt("icons"),ex=Yt("icons_url"),dC=Yt("images_upload_url"),hD=Yt("images_upload_base_path"),tx=Yt("images_upload_credentials"),pD=Yt("images_upload_handler"),gD=Yt("content_css_cors"),fC=Yt("referrer_policy"),nx=Yt("language"),bD=Yt("language_url"),dy=Yt("indent_use_margin"),vD=Yt("indentation"),ox=Yt("content_css"),yD=Yt("content_style"),q1=Yt("font_css"),_D=Yt("directionality"),wD=Yt("inline_boundaries_selector"),sx=Yt("object_resizing"),CD=Yt("resize_img_proportional"),SD=Yt("placeholder"),G1=Yt("event_root"),rx=Yt("service_message"),dc=Yt("theme"),Ks=Yt("theme_url"),fy=Yt("model"),fc=Yt("model_url"),Dp=Yt("inline_boundaries"),Y1=Yt("formats"),Pi=Yt("preview_styles"),my=Yt("format_empty_lines"),ix=Yt("format_noneditable_selector"),ED=Yt("custom_ui_selector"),hy=Yt("inline"),ax=Yt("hidden_input"),xD=Yt("submit_patch"),TD=Yt("add_form_submit_trigger"),kD=Yt("add_unload_trigger"),AD=Yt("custom_undo_redo_levels"),X1=Yt("disable_nodechange"),mC=Yt("readonly"),wP=Yt("editable_root"),xh=Yt("content_css_cors"),py=Yt("plugins"),OD=Yt("external_plugins"),cx=Yt("block_unsupported_drop"),DD=Yt("visual"),Np=Yt("visual_table_class"),J1=Yt("visual_anchor_class"),ND=Yt("iframe_aria_text"),RD=Yt("setup"),MD=Yt("init_instance_callback"),cm=Yt("urlconverter_callback"),gy=Yt("auto_focus"),by=Yt("browser_spellcheck"),hC=Yt("protect"),lx=Yt("paste_block_drop"),tu=Yt("paste_data_images"),vy=Yt("paste_preprocess"),ux=Yt("paste_postprocess"),lm=Yt("newdocument_content"),Rp=Yt("paste_webkit_styles"),Q1=Yt("paste_remove_styles_if_webkit"),pC=Yt("paste_merge_formats"),dx=Yt("smart_paste"),$D=Yt("paste_as_text"),fx=Yt("paste_tab_spaces"),PD=Yt("allow_html_data_urls"),BD=Yt("text_patterns"),mx=Yt("text_patterns_lookup"),hx=Yt("noneditable_class"),gC=Yt("editable_class"),ID=Yt("noneditable_regexp"),LD=Yt("preserve_cdata"),FD=Yt("highlight_on_focus"),yy=Yt("xss_sanitization"),bC=Yt("init_content_sync"),px=e=>e.options.isSet("text_patterns_lookup"),HD=e=>gt.explode(e.options.get("font_size_style_values")),VD=e=>gt.explode(e.options.get("font_size_classes")),zD=e=>e.options.get("encoding")==="xml",ev=e=>gt.explode(e.options.get("images_file_types")),WD=Yt("table_tab_navigation"),tv=Yt("details_initial_state"),nv=Yt("details_serialized_state"),gx=qt,_y=Et,vC=e=>{const n=e.parentNode;n&&n.removeChild(e)},yC=e=>{const n=nt(e);return{count:e.length-n.length,text:n}},_C=e=>{let n;for(;(n=e.data.lastIndexOf(se))!==-1;)e.deleteData(n,1)},bx=(e,n)=>(Mp(e),n),ov=(e,n)=>{const o=yC(e.data.substr(0,n.offset())),a=yC(e.data.substr(n.offset()));return(o.text+a.text).length>0?(_C(e),Je(e,n.offset()-o.count)):n},vx=(e,n)=>{const o=n.container(),a=Ze(ms(o.childNodes),e).map(u=>u<n.offset()?Je(o,n.offset()-1):n).getOr(n);return Mp(e),a},UD=(e,n)=>_y(e)&&n.container()===e?ov(e,n):bx(e,n),wC=(e,n)=>n.container()===e.parentNode?vx(e,n):bx(e,n),jD=(e,n)=>Je.isTextPosition(n)?UD(e,n):wC(e,n),Mp=e=>{gx(e)&&Qo(e)&&(Vo(e)?e.removeAttribute("data-mce-caret"):vC(e)),_y(e)&&(_C(e),e.data.length===0&&vC(e))},ZD=Yo,CC=Tr,sv=qi,KD="*[contentEditable=false],video,audio,embed,object",yx=(e,n,o)=>{const a=la(n.getBoundingClientRect(),o);let u,m;if(e.tagName==="BODY"){const S=e.ownerDocument.documentElement;u=e.scrollLeft||S.scrollLeft,m=e.scrollTop||S.scrollTop}else{const S=e.getBoundingClientRect();u=e.scrollLeft-S.left,m=e.scrollTop-S.top}a.left+=u,a.right+=u,a.top+=m,a.bottom+=m,a.width=1;let b=n.offsetWidth-n.clientWidth;return b>0&&(o&&(b*=-1),a.left+=b,a.right+=b),a},_x=e=>{var n,o;const a=Ri(ge.fromDom(e),KD);for(let u=0;u<a.length;u++){const m=a[u].dom;let b=m.previousSibling;if(Gf(b)){const S=b.data;S.length===1?(n=b.parentNode)===null||n===void 0||n.removeChild(b):b.deleteData(S.length-1,1)}b=m.nextSibling,za(b)&&(b.data.length===1?(o=b.parentNode)===null||o===void 0||o.removeChild(b):b.deleteData(0,1))}},wx=(e,n,o,a)=>{const u=Ji();let m,b;const S=Sr(e),T=e.dom,$=(re,fe)=>{let Re;if(W(),sv(fe))return null;if(o(fe)){const Pe=hd(S,fe,re),Be=yx(n,fe,re);T.setStyle(Pe,"top",Be.top),b=Pe;const Ve=T.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});T.setStyles(Ve,{...Be}),T.add(n,Ve),u.set({caret:Ve,element:fe,before:re}),re&&T.addClass(Ve,"mce-visual-caret-before"),V(),Re=fe.ownerDocument.createRange(),Re.setStart(Pe,0),Re.setEnd(Pe,0)}else return b=Ws(fe,re),Re=fe.ownerDocument.createRange(),wy(b.nextSibling)?(Re.setStart(b,0),Re.setEnd(b,0)):(Re.setStart(b,1),Re.setEnd(b,1)),Re;return Re},W=()=>{_x(n),b&&(Mp(b),b=null),u.on(re=>{T.remove(re.caret),u.clear()}),m&&(clearInterval(m),m=void 0)},V=()=>{m=setInterval(()=>{u.on(re=>{a()?T.toggleClass(re.caret,"mce-visual-caret-hidden"):T.addClass(re.caret,"mce-visual-caret-hidden")})},500)};return{show:$,hide:W,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{u.on(re=>{const fe=yx(n,re.element,re.before);T.setStyles(re.caret,{...fe})})},destroy:()=>clearInterval(m)}},Ta=()=>Oo.browser.isFirefox(),wy=e=>ZD(e)||CC(e),gf=e=>(wy(e)||tr(e)&&Ta())&&rh(ge.fromDom(e)).exists(un),rv=as,Cy=Yo,qD=Tr,Cx=uh("display","block table table-cell table-caption list-item"),Sx=Qo,Sy=An,Ey=qt,mc=Et,GD=fr,bf=e=>e>0,Th=e=>e<0,iv=(e,n)=>{let o;for(;o=e(n);)if(!Sy(o))return o;return null},av=(e,n,o,a,u)=>{const m=new Ir(e,a),b=Cy(e)||Sy(e);let S;if(Th(n)){if(b&&(S=iv(m.prev.bind(m),!0),o(S)))return S;for(;S=iv(m.prev.bind(m),u);)if(o(S))return S}if(bf(n)){if(b&&(S=iv(m.next.bind(m),!0),o(S)))return S;for(;S=iv(m.next.bind(m),u);)if(o(S))return S}return null},Ex=(e,n)=>{const o=u=>rv(u.dom),a=u=>u.dom===n;return z(ge.fromDom(e),o,a).map(u=>u.dom).getOr(n)},Ed=(e,n)=>{for(;e&&e!==n;){if(Cx(e))return e;e=e.parentNode}return null},um=(e,n,o)=>Ed(e.container(),o)===Ed(n.container(),o),lb=(e,n)=>{if(!n)return Y.none();const o=n.container(),a=n.offset();return Ey(o)?Y.from(o.childNodes[a+e]):Y.none()},YD=(e,n)=>{var o;const u=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(u.setStartBefore(n),u.setEndBefore(n)):(u.setStartAfter(n),u.setEndAfter(n)),u},xx=(e,n,o)=>Ed(n,e)===Ed(o,e),ub=(e,n,o)=>{const a=e?"previousSibling":"nextSibling";let u=o;for(;u&&u!==n;){let m=u[a];if(m&&Sx(m)&&(m=m[a]),Cy(m)||qD(m)){if(xx(n,m,u))return m;break}if(GD(m))break;u=u.parentNode}return null},kh=lt(YD,!0),db=lt(YD,!1),fb=(e,n,o)=>{let a;const u=lt(ub,!0,n),m=lt(ub,!1,n),b=o.startContainer,S=o.startOffset;if(An(b)){const T=mc(b)?b.parentNode:b,$=T.getAttribute("data-mce-caret");if($==="before"&&(a=T.nextSibling,gf(a)))return kh(a);if($==="after"&&(a=T.previousSibling,gf(a)))return db(a)}if(!o.collapsed)return o;if(Et(b)){if(Sx(b)){if(e===1){if(a=m(b),a)return kh(a);if(a=u(b),a)return db(a)}if(e===-1){if(a=u(b),a)return db(a);if(a=m(b),a)return kh(a)}return o}if(Gf(b)&&S>=b.data.length-1)return e===1&&(a=m(b),a)?kh(a):o;if(za(b)&&S<=1)return e===-1&&(a=u(b),a)?db(a):o;if(S===b.data.length)return a=m(b),a?kh(a):o;if(S===0)return a=u(b),a?db(a):o}return o},SC=(e,n)=>lb(e?0:-1,n).filter(Cy),$p=(e,n,o)=>{const a=fb(e,n,o);return e===-1?Je.fromRangeStart(a):Je.fromRangeEnd(a)},cv=e=>Y.from(e.getNode()).map(ge.fromDom),dm=e=>Y.from(e.getNode(!0)).map(ge.fromDom),Ah=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},lv=(e,n)=>{const o=um(e,n);return!o&&Xs(e.getNode())?!0:o};var bi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(bi||(bi={}));const XD=Yo,vf=Et,xy=qt,mb=Xs,Pp=fr,EC=w2,hb=ph,JD=(e,n)=>{const o=[];let a=e;for(;a&&a!==n;)o.push(a),a=a.parentNode;return o},Tx=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,xC=(e,n)=>{if(bf(e)){if(Pp(n.previousSibling)&&!vf(n.previousSibling))return Je.before(n);if(vf(n))return Je(n,0)}if(Th(e)){if(Pp(n.nextSibling)&&!vf(n.nextSibling))return Je.after(n);if(vf(n))return Je(n,n.data.length)}return Th(e)?mb(n)?Je.before(n):Je.after(n):Je.before(n)},kx=(e,n)=>{const o=n.nextSibling;return o&&Pp(o)?vf(o)?Je(o,0):Je.before(o):pb(bi.Forwards,Je.after(n),e)},pb=(e,n,o)=>{let a,u,m,b;if(!xy(o)||!n)return null;if(n.isEqual(Je.after(o))&&o.lastChild){if(b=Je.after(o.lastChild),Th(e)&&Pp(o.lastChild)&&xy(o.lastChild))return mb(o.lastChild)?Je.before(o.lastChild):b}else b=n;const S=b.container();let T=b.offset();if(vf(S)){if(Th(e)&&T>0)return Je(S,--T);if(bf(e)&&T<S.length)return Je(S,++T);a=S}else{if(Th(e)&&T>0&&(u=Tx(S,T-1),Pp(u)))return!EC(u)&&(m=av(u,e,hb,u),m)?vf(m)?Je(m,m.data.length):Je.after(m):vf(u)?Je(u,u.data.length):Je.before(u);if(bf(e)&&T<S.childNodes.length&&(u=Tx(S,T),Pp(u)))return mb(u)?kx(o,u):!EC(u)&&(m=av(u,e,hb,u),m)?vf(m)?Je(m,0):Je.before(m):vf(u)?Je(u,0):Je.after(u);a=u||b.getNode()}if(a&&(bf(e)&&b.isAtEnd()||Th(e)&&b.isAtStart())&&(a=av(a,e,wt,o,!0),hb(a,o)))return xC(e,a);u=a&&av(a,e,hb,o);const $=Ti(st(JD(S,o),XD));return $&&(!u||!$.contains(u))?(bf(e)?b=Je.after($):b=Je.before($),b):u?xC(e,u):null},xd=e=>({next:n=>pb(bi.Forwards,n,e),prev:n=>pb(bi.Backwards,n,e)}),Ax=(e,n,o)=>{const a=e?Je.before(o):Je.after(o);return $u(e,n,a)},QD=e=>Xs(e)?Je.before(e):Je.after(e),Ox=e=>Je.isTextPosition(e)?e.offset()===0:fr(e.getNode()),Dx=e=>{if(Je.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return fr(e.getNode(!0))},gb=(e,n)=>!Je.isTextPosition(e)&&!Je.isTextPosition(n)&&e.getNode()===n.getNode(!0),CP=e=>!Je.isTextPosition(e)&&Xs(e.getNode()),SP=(e,n,o)=>e?!gb(n,o)&&!CP(n)&&Dx(n)&&Ox(o):!gb(o,n)&&Ox(n)&&Dx(o),$u=(e,n,o)=>{const a=xd(n);return Y.from(e?a.next(o):a.prev(o))},TC=(e,n,o)=>$u(e,n,o).bind(a=>um(o,a,n)&&SP(e,o,a)?$u(e,n,a):Y.some(a)),Bp=(e,n,o,a)=>TC(e,n,o).bind(u=>a(u)?Bp(e,n,u,a):Y.some(u)),vi=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Et(o)?Y.some(Je(o,e?0:o.data.length)):o?fr(o)?Y.some(e?Je.before(o):QD(o)):Ax(e,n,o):Y.none()},ka=lt($u,!0),ua=lt($u,!1),yi=lt(vi,!0),ol=lt(vi,!1),uv="_mce_caret",nu=e=>qt(e)&&e.id===uv,Ip=(e,n)=>{let o=n;for(;o&&o!==e;){if(nu(o))return o;o=o.parentNode}return null},eN=e=>q(e.start),tN=e=>Dn(e,"rng"),yf=e=>Dn(e,"id"),bb=e=>Dn(e,"name"),Ty=e=>gt.isArray(e.start),Pu=e=>!bb(e)&&Te(e.forward)?e.forward:!0,kC=(e,n)=>(qt(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),AC=(e,n)=>{const o=Y.from(Op(e.getRoot(),n.start)),a=Y.from(Op(e.getRoot(),n.end));return Wi(o,a,(u,m)=>{const b=e.createRng();return b.setStart(u.container(),u.offset()),b.setEnd(m.container(),m.offset()),{range:b,forward:Pu(n)}})},Lp=(e,n)=>{var o;const u=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(se);e.appendChild(u),n.setStart(u,0),n.setEnd(u,0)},OC=e=>!e.hasChildNodes(),Nx=(e,n)=>ol(e).fold(at,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),ky=(e,n,o)=>OC(n)&&Ip(e,n)?(Lp(n,o),!0):!1,fm=(e,n,o,a)=>{const u=o[n?"start":"end"],m=e.getRoot();if(u){let b=m,S=u[0];for(let T=u.length-1;b&&T>=1;T--){const $=b.childNodes;if(ky(m,b,a))return!0;if(u[T]>$.length-1)return ky(m,b,a)?!0:Nx(b,a);b=$[u[T]]}Et(b)&&(S=Math.min(u[0],b.data.length)),qt(b)&&(S=Math.min(u[0],b.childNodes.length)),n?a.setStart(b,S):a.setEnd(b,S)}return!0},DC=e=>Et(e)&&e.data.length>0,Td=(e,n,o)=>{const a=e.get(o.id+"_"+n),u=a==null?void 0:a.parentNode,m=o.keep;if(a&&u){let b,S;if(n==="start"?m?a.hasChildNodes()?(b=a.firstChild,S=1):DC(a.nextSibling)?(b=a.nextSibling,S=0):DC(a.previousSibling)?(b=a.previousSibling,S=a.previousSibling.data.length):(b=u,S=e.nodeIndex(a)+1):(b=u,S=e.nodeIndex(a)):m?a.hasChildNodes()?(b=a.firstChild,S=1):DC(a.previousSibling)?(b=a.previousSibling,S=a.previousSibling.data.length):(b=u,S=e.nodeIndex(a)):(b=u,S=e.nodeIndex(a)),!m){const T=a.previousSibling,$=a.nextSibling;gt.each(gt.grep(a.childNodes),V=>{Et(V)&&(V.data=V.data.replace(/\uFEFF/g,""))});let W;for(;W=e.get(o.id+"_"+n);)e.remove(W,!0);if(Et($)&&Et(T)&&!Oo.browser.isOpera()){const V=T.data.length;T.appendData($.data),e.remove($),b=T,S=V}}return Y.some(Je(b,S))}else return Y.none()},Rx=(e,n)=>{const o=e.createRng();return fm(e,!0,n,o)&&fm(e,!1,n,o)?Y.some({range:o,forward:Pu(n)}):Y.none()},NC=(e,n)=>{const o=Td(e,"start",n),a=Td(e,"end",n);return Wi(o,a.or(o),(u,m)=>{const b=e.createRng();return b.setStart(kC(e,u.container()),u.offset()),b.setEnd(kC(e,m.container()),m.offset()),{range:b,forward:Pu(n)}})},nN=(e,n)=>Y.from(e.select(n.name)[n.index]).map(o=>{const a=e.createRng();return a.selectNode(o),{range:a,forward:!0}}),EP=(e,n)=>{const o=e.dom;if(n){if(Ty(n))return Rx(o,n);if(eN(n))return AC(o,n);if(yf(n))return NC(o,n);if(bb(n))return nN(o,n);if(tN(n))return Y.some({range:n.rng,forward:Pu(n)})}return Y.none()},oN=(e,n,o)=>gi(e,n,o),sN=(e,n)=>{EP(e,n).each(({range:o,forward:a})=>{e.setRng(o,a)})},Tl=e=>qt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Fp=(e=>n=>e===n)(rt),vb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,RC=e=>!vb(e)&&!Fp(e)&&!Va(e),MC=e=>({value:rN(e)}),rN=e=>od(e,"#").toUpperCase(),Mx=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},$C=e=>{const n=Mx(e.red)+Mx(e.green)+Mx(e.blue);return MC(n)},To=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,mm=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Hp=(e,n,o,a)=>({red:e,green:n,blue:o,alpha:a}),Ay=(e,n,o,a)=>{const u=parseInt(e,10),m=parseInt(n,10),b=parseInt(o,10),S=parseFloat(a);return Hp(u,m,b,S)},iN=e=>{if(e==="transparent")return Y.some(Hp(0,0,0,0));const n=To.exec(e);if(n!==null)return Y.some(Ay(n[1],n[2],n[3],"1"));const o=mm.exec(e);return o!==null?Y.some(Ay(o[1],o[2],o[3],o[4])):Y.none()},Vp=e=>iN(e).map($C).map(n=>"#"+n.value).getOr(e),Oy=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},PC=e=>vo(e,n=>{const o=mr(n);return o?[ge.fromDom(o)]:[]}),BC=e=>Oy(e).length>1,IC=e=>st(PC(e),dr),$x=e=>Ri(e,"td[data-mce-selected],th[data-mce-selected]"),aN=(e,n)=>{const o=$x(n);return o.length>0?o:IC(e)},Oh=e=>aN(Oy(e.selection.getSel()),ge.fromDom(e.getBody())),yb=(e,n)=>Nn(e,"table",n),TP=e=>{const n=e.startContainer,o=e.startOffset;return Et(n)?o===0?Y.some(ge.fromDom(n)):Y.none():Y.from(n.childNodes[o]).map(ge.fromDom)},cN=e=>{const n=e.endContainer,o=e.endOffset;return Et(n)?o===n.data.length?Y.some(ge.fromDom(n)):Y.none():Y.from(n.childNodes[o-1]).map(ge.fromDom)},Dy=e=>Gd(e).fold(ot([e]),n=>[e].concat(Dy(n))),Ny=e=>La(e).fold(ot([e]),n=>Ss(n)==="br"?Gc(n).map(o=>[e].concat(Ny(o))).getOr([]):[e].concat(Ny(n))),hm=(e,n)=>Wi(TP(n),cN(n),(o,a)=>{const u=nn(Dy(e),lt(Jo,o)),m=nn(Ny(e),lt(Jo,a));return u.isSome()&&m.isSome()}).getOr(!1),Ry=(e,n,o,a)=>{const u=o,m=new Ir(o,u),b=ws(e.schema.getMoveCaretBeforeOnEnterElements(),(T,$)=>!je(["td","th","table"],$.toLowerCase()));let S=o;do{if(Et(S)&&gt.trim(S.data).length!==0){a?n.setStart(S,0):n.setEnd(S,S.data.length);return}if(b[S.nodeName]){a?n.setStartBefore(S):S.nodeName==="BR"?n.setEndBefore(S):n.setEndAfter(S);return}}while(S=a?m.next():m.prev());u.nodeName==="BODY"&&(a?n.setStart(u,0):n.setEnd(u,u.childNodes.length))},zp=e=>{const n=e.selection.getSel();return ye(n)&&n.rangeCount>0},pm=(e,n)=>{const o=Oh(e);o.length>0?Ae(o,a=>{const u=a.dom,m=e.dom.createRng();m.setStartBefore(u),m.setEndAfter(u),n(m,!0)}):n(e.selection.getRng(),!1)},Px=(e,n,o)=>{const a=$i(e,n);o(a),e.moveToBookmark(a)},dv=e=>Tt(e==null?void 0:e.nodeType),LC=e=>qt(e)&&!Tl(e)&&!nu(e)&&!Oc(e),lN=(e,n)=>{if(LC(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),a=parseInt(o,10);return!isNaN(a)&&a>0}else return!1},_f=e=>e.isContentEditable===!0,Bx=(e,n,o)=>{const{selection:a,dom:u}=e,m=a.getNode(),b=Yo(m);Px(a,!0,()=>{n()}),b&&Yo(m)&&u.isChildOf(m,e.getBody())?e.selection.select(m):o(a.getStart())&&uN(u,a)},uN=(e,n)=>{var o,a;const u=n.getRng(),{startContainer:m,startOffset:b}=u,S=n.getNode();if(!lN(e,S)&&qt(m)){const T=m.childNodes,$=e.getRoot();let W;if(b<T.length){const V=T[b];W=new Ir(V,(o=e.getParent(V,e.isBlock))!==null&&o!==void 0?o:$)}else{const V=T[T.length-1];W=new Ir(V,(a=e.getParent(V,e.isBlock))!==null&&a!==void 0?a:$),W.next(!0)}for(let V=W.current();V;V=W.next()){if(e.getContentEditable(V)==="false")return;if(Et(V)&&!HC(V)){u.setStart(V,0),n.setRng(u);return}}}},Ix=(e,n,o)=>{if(e){const a=n?"nextSibling":"previousSibling";for(e=o?e:e[a];e;e=e[a])if(qt(e)||!HC(e))return e}},FC=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||gh(e,n),_b=(e,n,o)=>e.schema.isValidChild(n,o),HC=(e,n=!1)=>{if(ye(e)&&Et(e)){const o=n?e.data.replace(/ /g,""):e.data;return Ql(o)}else return!1},dN=e=>ye(e)&&Et(e)&&e.length===0,wb=(e,n)=>{const o="[data-mce-cef-wrappable]",a=ix(e),u=ki(a)?o:`${o},${a}`;return ra(ge.fromDom(n),u)},Lx=(e,n)=>{const o=e.dom;return LC(n)&&o.getContentEditable(n)==="false"&&wb(e,n)&&o.select('[contenteditable="true"]',n).length===0},zt=(e,n)=>ie(e)?e(n):(ye(n)&&(e=e.replace(/%(\w+)/g,(o,a)=>n[a]||o)),e),ci=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),Cb=(e,n)=>{if(Ue(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=Vp(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Or=(e,n,o)=>{const a=e.getStyle(n,o);return Cb(a,o)},ou=(e,n)=>{let o;return e.getParent(n,a=>qt(a)?(o=e.getStyle(a,"text-decoration"),!!o&&o!=="none"):!1),o},fv=(e,n,o)=>e.getParents(n,o,e.getRoot()),Sb=(e,n,o)=>{const a=e.formatter.get(n);return ye(a)&&pt(a,o)},VC=(e,n)=>Sb(e,n,a=>{const u=m=>ie(m)||m.length>1&&m.charAt(0)==="%";return pt(["styles","attributes"],m=>cs(a,m).exists(b=>{const S=We(b)?b:Na(b);return pt(S,u)}))}),My=(e,n,o)=>{const a=["inline","block","selector","attributes","styles","classes"],u=m=>ws(m,(b,S)=>pt(a,T=>T===S));return Sb(e,n,m=>{const b=u(m);return Sb(e,o,S=>{const T=u(S);return ml(b,T)})})},kd=e=>Xr(e,"block"),$y=e=>kd(e)&&e.wrapper===!0,fN=e=>kd(e)&&e.wrapper!==!0,kl=e=>Xr(e,"selector"),_i=e=>Xr(e,"inline"),zC=e=>kl(e)&&_i(e)&&Uc(cs(e,"mixed"),!0),Py=e=>kl(e)&&e.expand!==!1&&!_i(e),Wp=Tl,Eb=fv,mv=HC,By=FC,Iy=e=>Xs(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Ly=(e,n)=>{let o=n;for(;o;){if(qt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},Fx=(e,n,o,a)=>{const u=n.data;if(e){for(let m=o;m>0;m--)if(a(u.charAt(m-1)))return m}else for(let m=o;m<u.length;m++)if(a(u.charAt(m)))return m;return-1},xb=(e,n,o)=>Fx(e,n,o,a=>Fp(a)||vb(a)),gm=(e,n,o)=>Fx(e,n,o,RC),Hx=(e,n,o,a,u,m)=>{let b;const S=e.getParent(o,e.isBlock)||n,T=(W,V,X)=>{const ue=wh(e),he=u?ue.backwards:ue.forwards;return Y.from(he(W,V,(re,fe)=>Wp(re.parentNode)?-1:(b=re,X(u,re,fe)),S))};return T(o,a,xb).bind(W=>m?T(W.container,W.offset+(u?-1:0),gm):Y.some(W)).orThunk(()=>b?Y.some({container:b,offset:u?0:b.length}):Y.none())},WC=(e,n,o,a,u)=>{const m=a[u];Et(a)&&ki(a.data)&&m&&(a=m);const b=Eb(e,a);for(let S=0;S<b.length;S++)for(let T=0;T<n.length;T++){const $=n[T];if(!(ye($.collapsed)&&$.collapsed!==o.collapsed)&&kl($)&&e.is(b[S],$.selector))return b[S]}return a},Fy=(e,n,o,a)=>{var u;let m=o;const b=e.getRoot(),S=n[0];if(kd(S)&&(m=S.wrapper?null:e.getParent(o,S.block,b)),!m){const T=(u=e.getParent(o,"LI,TD,TH"))!==null&&u!==void 0?u:b;m=e.getParent(Et(o)?o.parentNode:o,$=>$!==b&&By(e.schema,$),T)}if(m&&kd(S)&&S.wrapper&&(m=Eb(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[a]&&!e.isBlock(m[a])&&(m=m[a],!ci(m,"br")););return m||o},Vx=(e,n,o,a)=>{const u=o.parentNode;return ye(o[a])?!1:u===n||Ue(u)||e.isBlock(u)?!0:Vx(e,n,u,a)},hv=(e,n,o,a,u)=>{let m=o;const b=u?"previousSibling":"nextSibling",S=e.getRoot();if(Et(o)&&!mv(o)&&(u?a>0:a<o.data.length))return o;for(;m;){if(!n[0].block_expand&&e.isBlock(m))return m;for(let T=m[b];T;T=T[b]){const $=Et(T)&&!Vx(e,S,T,b);if(!Wp(T)&&!Iy(T)&&!mv(T,$))return m}if(m===S||m.parentNode===S){o=m;break}m=m.parentNode}return o},pv=e=>Wp(e.parentNode)||Wp(e),Up=(e,n,o,a=!1)=>{let{startContainer:u,startOffset:m,endContainer:b,endOffset:S}=n;const T=o[0];return qt(u)&&u.hasChildNodes()&&(u=xa(u,m),Et(u)&&(m=0)),qt(b)&&b.hasChildNodes()&&(b=xa(b,n.collapsed?S:S-1),Et(b)&&(S=b.data.length)),u=Ly(e,u),b=Ly(e,b),pv(u)&&(u=Wp(u)?u:u.parentNode,n.collapsed?u=u.previousSibling||u:u=u.nextSibling||u,Et(u)&&(m=n.collapsed?u.length:0)),pv(b)&&(b=Wp(b)?b:b.parentNode,n.collapsed?b=b.nextSibling||b:b=b.previousSibling||b,Et(b)&&(S=n.collapsed?0:b.length)),n.collapsed&&(Hx(e,e.getRoot(),u,m,!0,a).each(({container:V,offset:X})=>{u=V,m=X}),Hx(e,e.getRoot(),b,S,!1,a).each(({container:V,offset:X})=>{b=V,S=X})),(_i(T)||T.block_expand)&&((!_i(T)||!Et(u)||m===0)&&(u=hv(e,o,u,m,!0)),(!_i(T)||!Et(b)||S===b.data.length)&&(b=hv(e,o,b,S,!1))),Py(T)&&(u=WC(e,o,n,u,"previousSibling"),b=WC(e,o,n,b,"nextSibling")),(kd(T)||kl(T))&&(u=Fy(e,o,u,"previousSibling"),b=Fy(e,o,b,"nextSibling"),kd(T)&&(e.isBlock(u)||(u=hv(e,o,u,m,!0)),e.isBlock(b)||(b=hv(e,o,b,S,!1)))),qt(u)&&u.parentNode&&(m=e.nodeIndex(u),u=u.parentNode),qt(b)&&b.parentNode&&(S=e.nodeIndex(b)+1,b=b.parentNode),{startContainer:u,startOffset:m,endContainer:b,endOffset:S}},Dh=(e,n,o)=>{var a;const u=n.startOffset,m=xa(n.startContainer,u),b=n.endOffset,S=xa(n.endContainer,b-1),T=fe=>{const Re=fe[0];Et(Re)&&Re===m&&u>=Re.data.length&&fe.splice(0,1);const Pe=fe[fe.length-1];return b===0&&fe.length>0&&Pe===S&&Et(Pe)&&fe.splice(fe.length-1,1),fe},$=(fe,Re,Pe)=>{const Be=[];for(;fe&&fe!==Pe;fe=fe[Re])Be.push(fe);return Be},W=(fe,Re)=>e.getParent(fe,Pe=>Pe.parentNode===Re,Re),V=(fe,Re,Pe)=>{const Be=Pe?"nextSibling":"previousSibling";for(let Ve=fe,ht=Ve.parentNode;Ve&&Ve!==Re;Ve=ht){ht=Ve.parentNode;const dn=$(Ve===fe?Ve:Ve[Be],Be);dn.length&&(Pe||dn.reverse(),o(T(dn)))}};if(m===S)return o(T([m]));const X=(a=e.findCommonAncestor(m,S))!==null&&a!==void 0?a:e.getRoot();if(e.isChildOf(m,S))return V(m,X,!0);if(e.isChildOf(S,m))return V(S,X);const ue=W(m,X)||m,he=W(S,X)||S;V(m,ue,!0);const re=$(ue===m?ue:ue.nextSibling,"nextSibling",he===S?he.nextSibling:he);re.length&&o(T(re)),V(S,he)},Bi=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Bu=e=>Ur(e)&&Bg(e)===se,su=(e,n,o,a)=>_a(n).fold(()=>"skipping",u=>a==="br"||Bu(n)?"valid":sm(n)?"existing":nu(n.dom)?"caret":pt(Bi,m=>ra(n,m))?"valid-block":!_b(e,o,a)||!_b(e,Ss(u),o)?"invalid-child":"valid"),Hy=(e,n)=>{const o=Up(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},Iu=(e,n,o,a,u,m)=>{const{uid:b=n,...S}=o;wl(e,vh()),ur(e,`${xl()}`,b),ur(e,`${cc()}`,a);const{attributes:T={},classes:$=[]}=u(b,S);if(ji(e,T),QO(e,$),m){$.length>0&&ur(e,`${tb()}`,$.join(","));const W=Hs(T);W.length>0&&ur(e,`${yh()}`,W.join(","))}},mN=e=>{qc(e,vh()),Go(e,`${xl()}`),Go(e,`${cc()}`),Go(e,`${ii()}`);const n=Kc(e,`${yh()}`).map(a=>a.split(",")).getOr([]),o=Kc(e,`${tb()}`).map(a=>a.split(",")).getOr([]);Ae(n,a=>Go(e,a)),eD(e,o),Go(e,`${tb()}`),Go(e,`${yh()}`)},Vy=(e,n,o,a,u)=>{const m=ge.fromTag("span",e);return Iu(m,n,o,a,u,!1),m},UC=(e,n,o,a,u,m)=>{const b=[],S=Vy(e.getDoc(),o,m,a,u),T=Ji(),$=()=>{T.clear()},W=()=>T.get().getOrThunk(()=>{const he=_h(S);return b.push(he),T.set(he),he}),V=he=>{Ae(he,X)},X=he=>{switch(su(e,he,"span",Ss(he))){case"invalid-child":{$();const fe=ni(he);V(fe),$();break}case"valid-block":{$(),Iu(he,o,m,a,u,!0);break}case"valid":{const fe=W();k0(he,fe);break}}},ue=he=>{const re=Ye(he,ge.fromDom);V(re)};return Dh(e.dom,n,he=>{$(),ue(he)}),b},jC=(e,n,o,a)=>{e.undoManager.transact(()=>{const u=e.selection,m=u.getRng(),b=Oh(e).length>0,S=H1("mce-annotation");if(m.collapsed&&!b&&Hy(e,m),u.getRng().collapsed&&!b){const T=Vy(e.getDoc(),S,a,n,o.decorate);fo(T,rt),u.getRng().insertNode(T.dom),u.select(T.dom)}else Px(u,!1,()=>{pm(e,T=>{UC(e,T,S,n,o.decorate,a)})})})},zx=e=>{const n=JO();XO(e,n);const o=YO(e,n),a=Ul("span"),u=m=>{Ae(m,b=>{a(b)?wa(b):mN(b)})};return{register:(m,b)=>{n.register(m,b)},annotate:(m,b)=>{n.lookup(m).each(S=>{jC(e,m,S,b)})},annotationChanged:(m,b)=>{o.addListener(m,b)},remove:m=>{I2(e,Y.some(m)).each(({elements:b})=>{const S=e.selection.getBookmark();u(b),e.selection.moveToBookmark(S)})},removeAll:m=>{const b=e.selection.getBookmark();Mt(jw(e,m),(S,T)=>{u(S)}),e.selection.moveToBookmark(b)},getAll:m=>{const b=jw(e,m);return xo(b,S=>Ye(S,T=>T.dom))}}},jp=e=>({getBookmark:lt(oN,e),moveToBookmark:lt(sN,e)});jp.isBookmarkNode=Tl;const Wx=(e,n,o)=>o.collapsed?!1:pt(o.getClientRects(),a=>nD(a,e,n)),hN=(e,n)=>e.dispatch("PreProcess",n),ZC=(e,n)=>e.dispatch("PostProcess",n),KC=e=>{e.dispatch("remove")},vs=e=>{e.dispatch("detach")},Nh=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},Ux=(e,n,o,a,u)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:a,origin:u})},jx=(e,n,o,a,u)=>{e.dispatch("ObjectResized",{target:n,width:o,height:a,origin:u})},Zx=e=>{e.dispatch("PreInit")},qC=e=>{e.dispatch("PostRender")},Kx=e=>{e.dispatch("Init")},GC=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},YC=(e,n,o)=>{e.dispatch(n,o)},qx=(e,n,o,a)=>{e.dispatch("FormatApply",{format:n,node:o,vars:a})},XC=(e,n,o,a)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:a})},pN=(e,n)=>e.dispatch("BeforeSetContent",n),zy=(e,n)=>e.dispatch("SetContent",n),gN=(e,n)=>e.dispatch("BeforeGetContent",n),Rh=(e,n)=>e.dispatch("GetContent",n),gv=(e,n)=>{e.dispatch("AutocompleterStart",n)},JC=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},bN=e=>{e.dispatch("AutocompleterEnd")},qr=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),li=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),Zp=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),Wy=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),en={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||en.metaKeyPressed(e),metaKeyPressed:e=>Oo.os.isMacOS()||Oo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Kp="data-mce-selected",So="table,img,figure.image,hr,video,span.mce-preview-object,details",Gx=Math.abs,bv=Math.round,vv={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},vN=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Yx=(e,n)=>{const o=n.dom,a=n.getDoc(),u=document,m=n.getBody();let b,S,T,$,W,V,X,ue,he,re,fe,Re,Pe,Be,Ve,ht,dn;const yt=Ot=>ye(Ot)&&(A0(Ot)||o.is(Ot,"figure.image")),et=Ot=>Tr(Ot)||o.hasClass(Ot,"mce-preview-object"),ct=(Ot,Ln)=>{if(vN(Ot)){const Yn=Ot.touches[0];return yt(Ot.target)&&!Wx(Yn.clientX,Yn.clientY,Ln)}else return yt(Ot.target)&&!Wx(Ot.clientX,Ot.clientY,Ln)},It=Ot=>{const Ln=Ot.target;ct(Ot,n.selection.getRng())&&!Ot.isDefaultPrevented()&&n.selection.select(Ln)},Ht=Ot=>o.hasClass(Ot,"mce-preview-object")&&ye(Ot.firstElementChild)?[Ot,Ot.firstElementChild]:o.is(Ot,"figure.image")?[Ot.querySelector("img")]:[Ot],on=Ot=>{const Ln=sx(n);return!Ln||Ot.getAttribute("data-mce-resize")==="false"||Ot===n.getBody()?!1:o.hasClass(Ot,"mce-preview-object")&&ye(Ot.firstElementChild)?ra(ge.fromDom(Ot.firstElementChild),Ln):ra(ge.fromDom(Ot),Ln)},Mn=Ot=>et(Ot)?o.create("img",{src:Oo.transparentSrc}):Ot.cloneNode(!0),$n=(Ot,Ln,Yn)=>{if(ye(Yn)){const Bo=Ht(Ot);Ae(Bo,Js=>{Js.style[Ln]||!n.schema.isValid(Js.nodeName.toLowerCase(),Ln)?o.setStyle(Js,Ln,Yn):o.setAttrib(Js,Ln,""+Yn)})}},Po=(Ot,Ln,Yn)=>{$n(Ot,"width",Ln),$n(Ot,"height",Yn)},Wo=Ot=>{let Ln,Yn,Bo,Js,Zn;Ln=Ot.screenX-V,Yn=Ot.screenY-X,Be=Ln*$[2]+re,Ve=Yn*$[3]+fe,Be=Be<5?5:Be,Ve=Ve<5?5:Ve,(yt(b)||et(b))&&CD(n)!==!1?Bo=!en.modifierPressed(Ot):Bo=en.modifierPressed(Ot),Bo&&(Gx(Ln)>Gx(Yn)?(Ve=bv(Be*Re),Be=bv(Ve/Re)):(Be=bv(Ve/Re),Ve=bv(Be*Re))),Po(S,Be,Ve),Js=$.startPos.x+Ln,Zn=$.startPos.y+Yn,Js=Js>0?Js:0,Zn=Zn>0?Zn:0,o.setStyles(T,{left:Js,top:Zn,display:"block"}),T.innerHTML=Be+" &times; "+Ve,$[2]<0&&S.clientWidth<=Be&&o.setStyle(S,"left",ue+(re-Be)),$[3]<0&&S.clientHeight<=Ve&&o.setStyle(S,"top",he+(fe-Ve)),Ln=m.scrollWidth-ht,Yn=m.scrollHeight-dn,Ln+Yn!==0&&o.setStyles(T,{left:Js-Ln,top:Zn-Yn}),Pe||(Ux(n,b,re,fe,"corner-"+$.name),Pe=!0)},ys=()=>{const Ot=Pe;Pe=!1,Ot&&($n(b,"width",Be),$n(b,"height",Ve)),o.unbind(a,"mousemove",Wo),o.unbind(a,"mouseup",ys),u!==a&&(o.unbind(u,"mousemove",Wo),o.unbind(u,"mouseup",ys)),o.remove(S),o.remove(T),o.remove(W),Xa(b),Ot&&(jx(n,b,Be,Ve,"corner-"+$.name),o.setAttrib(b,"style",o.getAttrib(b,"style"))),n.nodeChanged()},Xa=Ot=>{Do();const Ln=o.getPos(Ot,m),Yn=Ln.x,Bo=Ln.y,Js=Ot.getBoundingClientRect(),Zn=Js.width||Js.right-Js.left,No=Js.height||Js.bottom-Js.top;b!==Ot&&(Rt(),b=Ot,Be=Ve=0);const Nr=n.dispatch("ObjectSelected",{target:Ot});on(Ot)&&!Nr.isDefaultPrevented()?Mt(vv,(Rs,xr)=>{const ir=ui=>{const Ja=Ht(b)[0];V=ui.screenX,X=ui.screenY,re=Ja.clientWidth,fe=Ja.clientHeight,Re=fe/re,$=Rs,$.name=xr,$.startPos={x:Zn*Rs[0]+Yn,y:No*Rs[1]+Bo},ht=m.scrollWidth,dn=m.scrollHeight,W=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),S=Mn(b),o.addClass(S,"mce-clonedresizable"),o.setAttrib(S,"data-mce-bogus","all"),S.contentEditable="false",o.setStyles(S,{left:Yn,top:Bo,margin:0}),Po(S,Zn,No),S.removeAttribute(Kp),m.appendChild(S),o.bind(a,"mousemove",Wo),o.bind(a,"mouseup",ys),u!==a&&(o.bind(u,"mousemove",Wo),o.bind(u,"mouseup",ys)),T=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},re+" &times; "+fe)};let Fs=o.get("mceResizeHandle"+xr);Fs&&o.remove(Fs),Fs=o.add(m,"div",{id:"mceResizeHandle"+xr,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+xr+"-resize; margin:0; padding:0"}),o.bind(Fs,"mousedown",ui=>{ui.stopImmediatePropagation(),ui.preventDefault(),ir(ui)}),Rs.elm=Fs,o.setStyles(Fs,{left:Zn*Rs[0]+Yn-Fs.offsetWidth/2,top:No*Rs[1]+Bo-Fs.offsetHeight/2})}):Rt(!1)},Li=om(Xa,0),Rt=(Ot=!0)=>{Li.cancel(),Do(),b&&Ot&&b.removeAttribute(Kp),Mt(vv,(Ln,Yn)=>{const Bo=o.get("mceResizeHandle"+Yn);Bo&&(o.unbind(Bo),o.remove(Bo))})},rn=(Ot,Ln)=>o.isChildOf(Ot,Ln),Fo=Ot=>{if(Pe||n.removed||n.composing)return;const Ln=Ot.type==="mousedown"?Ot.target:e.getNode(),Yn=jn(ge.fromDom(Ln),So).map(Js=>Js.dom).filter(Js=>o.isEditable(Js.parentElement)).getOrUndefined(),Bo=ye(Yn)?o.getAttrib(Yn,Kp,"1"):"1";if(Ae(o.select(`img[${Kp}],hr[${Kp}]`),Js=>{Js.removeAttribute(Kp)}),ye(Yn)&&rn(Yn,m)&&n.hasFocus()){fn();const Js=e.getStart(!0);if(rn(Js,Yn)&&rn(e.getEnd(!0),Yn)){o.setAttrib(Yn,Kp,Bo),Li.throttle(Yn);return}}Rt()},Do=()=>{Mt(vv,Ot=>{Ot.elm&&(o.unbind(Ot.elm),delete Ot.elm)})},fn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{fn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Fo),n.on("keyup compositionend",Ot=>{b&&b.nodeName==="TABLE"&&Fo(Ot)}),n.on("hide blur",Rt),n.on("contextmenu longpress",It,!0)}),n.on("remove",Do),{isResizable:on,showResizeRect:Xa,hideResizeRect:Rt,updateResizeRect:Fo,destroy:()=>{Li.cancel(),b=S=W=null}}},QC=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,a)=>{e.setStart(o.dom,a)},o=>{e.setStartAfter(o.dom)})},yN=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,a)=>{e.setEnd(o.dom,a)},o=>{e.setEndAfter(o.dom)})},Xx=(e,n,o)=>{const a=e.document.createRange();return QC(a,n),yN(a,o),a},eS=(e,n,o,a,u)=>{const m=e.document.createRange();return m.setStart(n.dom,o),m.setEnd(a.dom,u),m},qp=Sd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Uy=(e,n,o)=>n(ge.fromDom(o.startContainer),o.startOffset,ge.fromDom(o.endContainer),o.endOffset),Jx=(e,n)=>n.match({domRange:o=>({ltr:ot(o),rtl:Y.none}),relative:(o,a)=>({ltr:hl(()=>Xx(e,o,a)),rtl:hl(()=>Y.some(Xx(e,a,o)))}),exact:(o,a,u,m)=>({ltr:hl(()=>eS(e,o,a,u,m)),rtl:hl(()=>Y.some(eS(e,u,m,o,a)))})}),kP=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(u=>u.collapsed===!1).map(u=>qp.rtl(ge.fromDom(u.endContainer),u.endOffset,ge.fromDom(u.startContainer),u.startOffset)).getOrThunk(()=>Uy(e,qp.ltr,o)):Uy(e,qp.ltr,o)},Qx=(e,n)=>{const o=Jx(e,n);return kP(e,o)};qp.ltr,qp.rtl;const eT={create:(e,n,o,a)=>({start:e,soffset:n,finish:o,foffset:a})},_N=(e,n,o)=>{var a,u;return Y.from((u=(a=e.dom).caretPositionFromPoint)===null||u===void 0?void 0:u.call(a,n,o)).bind(m=>{if(m.offsetNode===null)return Y.none();const b=e.dom.createRange();return b.setStart(m.offsetNode,m.offset),b.collapse(),Y.some(b)})},AP=(e,n,o)=>{var a,u;return Y.from((u=(a=e.dom).caretRangeFromPoint)===null||u===void 0?void 0:u.call(a,n,o))},On=(()=>document.caretPositionFromPoint?_N:document.caretRangeFromPoint?AP:Y.none)(),wN=(e,n,o)=>{const a=ge.fromDom(e.document);return On(a,n,o).map(u=>eT.create(ge.fromDom(u.startContainer),u.startOffset,ge.fromDom(u.endContainer),u.endOffset))},tT=Sd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),CN=(e,n,o,a)=>e.fold(n,o,a),yv=e=>e.fold(Xn,Xn,Xn),OP=tT.before,jy=tT.on,SN=tT.after,bm={before:OP,on:jy,after:SN,cata:CN,getStart:yv},Tb=Sd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),EN=e=>Tb.exact(e.start,e.soffset,e.finish,e.foffset),tS=e=>e.match({domRange:n=>ge.fromDom(n.startContainer),relative:(n,o)=>bm.getStart(n),exact:(n,o,a,u)=>n}),nS=Tb.domRange,oS=Tb.relative,sS=Tb.exact,xN=e=>{const n=tS(e);return qd(n)},TN=eT.create,vm={domRange:nS,relative:oS,exact:sS,exactFromRange:EN,getWin:xN,range:TN},_v=(e,n)=>{const o=Ss(e);return o==="input"?bm.after(e):je(["br","img"],o)?n===0?bm.before(e):bm.after(e):bm.on(e,n)},kN=(e,n)=>{const o=e.fold(bm.before,_v,bm.after),a=n.fold(bm.before,_v,bm.after);return vm.relative(o,a)},Lo=(e,n,o,a)=>{const u=_v(e,n),m=_v(o,a);return vm.relative(u,m)},AN=e=>e.match({domRange:n=>{const o=ge.fromDom(n.startContainer),a=ge.fromDom(n.endContainer);return Lo(o,n.startOffset,a,n.endOffset)},relative:kN,exact:Lo}),Lu=(e,n)=>{const a=(n||document).createDocumentFragment();return Ae(e,u=>{a.appendChild(u.dom)}),ge.fromDom(a)},Ad=e=>{const n=vm.getWin(e).dom,o=(u,m,b,S)=>eS(n,u,m,b,S),a=AN(e);return Qx(n,a).match({ltr:o,rtl:o})},Zy=(e,n,o)=>wN(e,n,o),$c=(e,n,o)=>{const a=qd(ge.fromDom(o));return Zy(a.dom,e,n).map(u=>{const m=o.createRange();return m.setStart(u.start.dom,u.soffset),m.setEnd(u.finish.dom,u.foffset),m}).getOrUndefined()},kb=(e,n)=>ye(e)&&ye(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,wv=(e,n,o)=>{let a=e;for(;a&&a!==n;){if(o(a))return a;a=a.parentNode}return null},Cv=(e,n,o)=>wv(e,n,o)!==null,Ab=(e,n,o)=>Cv(e,n,a=>a.nodeName===o),DP=(e,n)=>Qo(e)&&!Cv(e,n,nu),nT=(e,n,o)=>{const a=n.parentNode;if(a){const u=new Ir(n,e.getParent(a,e.isBlock)||e.getRoot());let m;for(;m=u[o?"prev":"next"]();)if(Xs(m))return!0}return!1},NP=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},RP=(e,n)=>{let o=n;for(;o&&o!==e;){if(Yo(o))return!0;o=o.parentNode}return!1},ko=(e,n,o,a,u)=>{const m=e.getRoot(),b=e.schema.getNonEmptyElements(),S=u.parentNode;let T,$;if(!S)return Y.none();const W=e.getParent(S,e.isBlock)||m;if(a&&Xs(u)&&n&&e.isEmpty(W))return Y.some(Je(S,e.nodeIndex(u)));const V=new Ir(u,W);for(;$=V[a?"prev":"next"]();){if(e.getContentEditableParent($)==="false"||DP($,m))return Y.none();if(Et($)&&$.data.length>0)return Ab($,m,"A")?Y.none():Y.some(Je($,a?$.data.length:0));if(e.isBlock($)||b[$.nodeName.toLowerCase()])return Y.none();T=$}return rc(T)?Y.none():o&&T?Y.some(Je(T,0)):Y.none()},ru=(e,n,o,a)=>{const u=e.getRoot();let m,b=!1,S=o?a.startContainer:a.endContainer,T=o?a.startOffset:a.endOffset;const $=qt(S)&&T===S.childNodes.length,W=e.schema.getNonEmptyElements();let V=o;if(Qo(S))return Y.none();if(qt(S)&&T>S.childNodes.length-1&&(V=!1),mh(S)&&(S=u,T=0),S===u){if(V&&(m=S.childNodes[T>0?T-1:0],m&&(Qo(m)||W[m.nodeName]||tr(m))))return Y.none();if(S.hasChildNodes()){if(T=Math.min(!V&&T>0?T-1:T,S.childNodes.length-1),S=S.childNodes[T],T=Et(S)&&$?S.data.length:0,!n&&S===u.lastChild&&tr(S)||RP(u,S)||Qo(S))return Y.none();if(S.hasChildNodes()&&!tr(S)){m=S;const X=new Ir(S,u);do{if(Yo(m)||Qo(m)){b=!1;break}if(Et(m)&&m.data.length>0){T=V?0:m.data.length,S=m,b=!0;break}if(W[m.nodeName.toLowerCase()]&&!hh(m)){T=e.nodeIndex(m),S=m.parentNode,V||T++,b=!0;break}}while(m=V?X.next():X.prev())}}}return n&&(Et(S)&&T===0&&ko(e,$,n,!0,S).each(X=>{S=X.container(),T=X.offset(),b=!0}),qt(S)&&(m=S.childNodes[T],m||(m=S.childNodes[T-1]),m&&Xs(m)&&!NP(m,"A")&&!nT(e,m,!1)&&!nT(e,m,!0)&&ko(e,$,n,!0,m).each(X=>{S=X.container(),T=X.offset(),b=!0}))),V&&!n&&Et(S)&&T===S.data.length&&ko(e,$,n,!1,S).each(X=>{S=X.container(),T=X.offset(),b=!0}),b&&S?Y.some(Je(S,T)):Y.none()},ym=(e,n)=>{const o=n.collapsed,a=n.cloneRange(),u=Je.fromRangeStart(n);return ru(e,o,!0,a).each(m=>{(!o||!Je.isAbove(u,m))&&a.setStart(m.container(),m.offset())}),o||ru(e,o,!1,a).each(m=>{a.setEnd(m.container(),m.offset())}),o&&a.collapse(!0),kb(n,a)?Y.none():Y.some(a)},Ky=(e,n)=>e.splitText(n),Mh=e=>{let n=e.startContainer,o=e.startOffset,a=e.endContainer,u=e.endOffset;if(n===a&&Et(n)){if(o>0&&o<n.data.length)if(a=Ky(n,o),n=a.previousSibling,u>o){u=u-o;const m=Ky(a,u).previousSibling;n=a=m,u=m.data.length,o=0}else u=0}else if(Et(n)&&o>0&&o<n.data.length&&(n=Ky(n,o),o=0),Et(a)&&u>0&&u<a.data.length){const m=Ky(a,u).previousSibling;a=m,u=m.data.length}return{startContainer:n,startOffset:o,endContainer:a,endOffset:u}},go=e=>({walk:(m,b)=>Dh(e,m,b),split:Mh,expand:(m,b={type:"word"})=>{if(b.type==="word"){const S=Up(e,m,[{inline:"span"}]),T=e.createRng();return T.setStart(S.startContainer,S.startOffset),T.setEnd(S.endContainer,S.endOffset),T}return m},normalize:m=>ym(e,m).fold(at,b=>(m.setStart(b.startContainer,b.startOffset),m.setEnd(b.endContainer,b.endOffset),!0))});go.compareRanges=kb,go.getCaretRangeFromPoint=$c,go.getSelectedNode=mr,go.getNode=xa;const sT=((e,n)=>{const o=(S,T)=>{if(!Tt(T)&&!T.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+T);const $=S.dom;oi($)&&($.style[e]=T+"px")},a=S=>{const T=n(S);if(T<=0||T===null){const $=jr(S,e);return parseFloat($)||0}return T},u=a,m=(S,T)=>tn(T,($,W)=>{const V=jr(S,W),X=V===void 0?0:parseInt(V,10);return isNaN(X)?$:$+X},0);return{set:o,get:a,getOuter:u,aggregate:m,max:(S,T,$)=>{const W=m(S,$);return T>W?T-W:0}}})("height",e=>{const n=e.dom;return Gl(e)?n.getBoundingClientRect().height:n.offsetHeight}),rS=e=>sT.get(e),rT=()=>ge.fromDom(document),Gp=(e,n)=>e.view(n).fold(ot([]),a=>{const u=e.owner(a),m=Gp(e,u);return[a].concat(m)}),Yp=(e,n)=>{const o=n.owner(e);return Gp(n,o)};var g=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?Y.none():Y.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(ge.fromDom)},owner:e=>ql(e)});const _=e=>{const n=rT(),o=Yl(n),a=Yp(e,g),u=x1(e),m=Bt(a,(b,S)=>{const T=x1(S);return{left:b.left+T.left,top:b.top+T.top}},{left:0,top:0});return Kf(m.left+u.left+o.left,m.top+u.top+o.top)},x=e=>Ss(e)==="textarea",N=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),L=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},Z=(e,n)=>{const o=ni(e);if(o.length===0||x(e))return{element:e,offset:n};if(n<o.length&&!x(o[n]))return{element:o[n],offset:0};{const a=o[o.length-1];return x(a)?{element:e,offset:n}:Ss(a)==="img"?{element:a,offset:1}:Ur(a)?{element:a,offset:Bg(a).length}:{element:a,offset:ni(a).length}}},ne=(e,n)=>{const o=dd(e),a=rS(e);return{element:e,bottom:o.top+a,height:a,pos:o,cleanup:n}},de=(e,n)=>{const o=Z(e,n),a=ge.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+se+"</span>");return Ha(o.element,a),ne(a,()=>Uo(a))},_e=e=>ne(ge.fromDom(e),xt),Le=(e,n,o,a)=>{dt(e,(u,m)=>Zt(e,n,o,a),o)},bt=(e,n,o,a,u)=>{const m={elm:a.element.dom,alignToTop:u};if(N(e,m))return;const b=Yl(n).top;o(n,b,a,u),L(e,m)},Zt=(e,n,o,a)=>{const u=ge.fromDom(e.getBody()),m=ge.fromDom(e.getDoc());er(u);const b=de(ge.fromDom(o.startContainer),o.startOffset);bt(e,m,n,b,a),b.cleanup()},Ft=(e,n,o,a)=>{const u=ge.fromDom(e.getDoc());bt(e,u,o,_e(n),a)},dt=(e,n,o)=>{const a=o.startContainer,u=o.startOffset,m=o.endContainer,b=o.endOffset;n(ge.fromDom(a),ge.fromDom(m));const S=e.dom.createRng();S.setStart(a,u),S.setEnd(m,b),e.selection.setRng(o)},Vt=(e,n)=>e.element.dom.scrollIntoView({block:n?"start":"end"}),ut=(e,n,o,a)=>{const u=n+e,m=o.pos.top,b=o.bottom,S=b-m>=n;m<e?Vt(o,a!==!1):m>u?Vt(o,S?a!==!1:a===!0):b>u&&!S&&Vt(o,a===!0)},sn=(e,n,o,a)=>{const u=qd(e).dom.innerHeight;ut(n,u,o,a)},In=(e,n,o,a)=>{const u=qd(e).dom.innerHeight;ut(n,u,o,a);const m=_(o.element),b=T1(window);m.top<b.y?ef(o.element,a!==!1):m.top>b.bottom&&ef(o.element,a===!0)},ro=(e,n,o)=>Le(e,sn,n,o),Is=(e,n,o)=>Ft(e,n,sn,o),ea=(e,n,o)=>Le(e,In,n,o),Dr=(e,n,o)=>Ft(e,n,In,o),sl=(e,n,o)=>{(e.inline?Is:Dr)(e,n,o)},Od=(e,n,o)=>{(e.inline?ro:ea)(e,n,o)},Sv=e=>e.dom.focus(),qy=e=>{const n=Cl(e).dom;return e.dom===n.activeElement},Ob=(e=rT())=>Y.from(e.dom.activeElement).map(ge.fromDom),hs=e=>Ob(Cl(e)).filter(n=>e.dom.contains(n.dom)),Ga=(e,n)=>{const o=Ur(n)?Bg(n).length:ni(n).length+1;return e>o?o:e<0?0:e},hc=e=>vm.range(e.start,Ga(e.soffset,e.start),e.finish,Ga(e.foffset,e.finish)),iu=(e,n)=>!yn(n.dom)&&(sc(e,n)||Jo(e,n)),Al=e=>n=>iu(e,n.start)&&iu(e,n.finish),Db=e=>e.inline||Oo.browser.isFirefox(),pc=e=>vm.range(ge.fromDom(e.startContainer),e.startOffset,ge.fromDom(e.endContainer),e.endOffset),iS=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?Y.none():Y.from(n.getRangeAt(0))).map(pc)},Ev=e=>{const n=qd(e);return iS(n.dom).filter(Al(e))},au=(e,n)=>Y.from(n).filter(Al(e)).map(hc),da=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),Y.some(n)}catch{return Y.none()}},aS=e=>{const n=Db(e)?Ev(ge.fromDom(e.getBody())):Y.none();e.bookmark=n.isSome()?n:e.bookmark},Gy=e=>(e.bookmark?e.bookmark:Y.none()).bind(o=>au(ge.fromDom(e.getBody()),o)).bind(da),iT=e=>{Gy(e).each(n=>e.selection.setRng(n))},aT={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},cS=(e,n)=>(Tt(n)||(n=0),setTimeout(e,n)),DN=(e,n)=>(Tt(n)||(n=0),setInterval(e,n)),gc={setEditorTimeout:(e,n,o)=>cS(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const a=DN(()=>{e.removed?clearInterval(a):n()},o);return a}},$P=e=>e.type==="nodechange"&&e.selectionChange,PP=(e,n)=>{const o=()=>{n.throttle()};bs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{bs.DOM.unbind(document,"mouseup",o)})},cT=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},kz=(e,n)=>{cT(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{$P(o)||aS(e)})},Az=e=>{const n=om(()=>{aS(e)},0);e.on("init",()=>{e.inline&&PP(e,n),kz(e,n)}),e.on("remove",()=>{n.cancel()})};let Nb;const NN=bs.DOM,BP=e=>qt(e)&&aT.isEditorUIElement(e),lT=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},lS=(e,n)=>{const o=ED(e);return NN.getParent(n,u=>BP(u)||(o?e.dom.is(u,o):!1))!==null},RN=e=>{try{const n=Cl(ge.fromDom(e.getElement()));return Ob(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},Oz=(e,n)=>{const o=n.editor;Az(o);const a=(u,m)=>{if(FD(u)&&u.inline!==!0){const b=ge.fromDom(u.getContainer());m(b,"tox-edit-focus")}};o.on("focusin",()=>{const u=e.focusedEditor;lT(RN(o))&&a(o,wl),u!==o&&(u&&u.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:u}),o.focus(!0))}),o.on("focusout",()=>{gc.setEditorTimeout(o,()=>{const u=e.focusedEditor;(!lT(RN(o))||u!==o)&&a(o,qc),!lS(o,RN(o))&&u===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Nb||(Nb=u=>{const m=e.activeEditor;m&&Xd(u).each(b=>{const S=b;S.ownerDocument===document&&S!==document.body&&!lS(m,S)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},NN.bind(document,"focusin",Nb))},Dz=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Nb&&(NN.unbind(document,"focusin",Nb),Nb=null)},Nz=e=>{e.on("AddEditor",lt(Oz,e)),e.on("RemoveEditor",lt(Dz,e))},uT=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),IP=e=>e.collapsed?Y.from(xa(e.startContainer,e.startOffset)).map(ge.fromDom):Y.none(),LP=(e,n)=>IP(n).bind(o=>hi(o)?Y.some(o):sc(e,o)?Y.none():Y.some(e)),MN=(e,n)=>{LP(ge.fromDom(e.getBody()),n).bind(o=>yi(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},dT=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Rz=e=>qy(e)||hs(e).isSome(),Mz=e=>ye(e.iframeElement)&&qy(ge.fromDom(e.iframeElement)),$z=e=>{const n=e.getBody();return n&&Rz(ge.fromDom(n))},Pz=e=>{const n=Cl(ge.fromDom(e.getElement()));return Ob(n).filter(o=>!lT(o.dom)&&lS(e,o.dom)).isSome()},xv=e=>e.inline?$z(e):Mz(e),Bz=e=>xv(e)||Pz(e),Iz=e=>{const n=e.selection,o=e.getBody();let a=n.getRng();e.quirks.refreshContentEditable(),ye(e.bookmark)&&!xv(e)&&Gy(e).each(m=>{e.selection.setRng(m),a=m});const u=uT(e,n.getNode());if(u&&e.dom.isChildOf(u,o)){dT(u),MN(e,a),$N(e);return}e.inline||(Oo.browser.isOpera()||dT(o),e.getWin().focus()),(Oo.browser.isFirefox()||e.inline)&&(dT(o),MN(e,a)),$N(e)},$N=e=>e.editorManager.setActive(e),Lz=(e,n)=>{e.removed||(n?$N(e):Iz(e))},FP=(e,n,o,a,u)=>{const m=o?n.startContainer:n.endContainer,b=o?n.startOffset:n.endOffset;return Y.from(m).map(ge.fromDom).map(S=>!a||!n.collapsed?ku(S,u(S,b)).getOr(S):S).bind(S=>gs(S)?Y.some(S):_a(S).filter(gs)).map(S=>S.dom).getOr(e)},HP=(e,n,o=!1)=>FP(e,n,!0,o,(a,u)=>Math.min(ia(a),u)),VP=(e,n,o=!1)=>FP(e,n,!1,o,(a,u)=>u>0?u-1:u),uS=(e,n)=>{const o=e;for(;e&&Et(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},zP=(e,n)=>{if(!n)return e;let o=n.startContainer,a=n.endContainer;const u=n.startOffset,m=n.endOffset;let b=n.commonAncestorContainer;n.collapsed||(o===a&&m-u<2&&o.hasChildNodes()&&(b=o.childNodes[u]),Et(o)&&Et(a)&&(o.length===u?o=uS(o.nextSibling,!0):o=o.parentNode,m===0?a=uS(a.previousSibling,!1):a=a.parentNode,o&&o===a&&(b=o)));const S=Et(b)?b.parentNode:b;return qt(S)?S:e},WP=(e,n,o,a)=>{const u=[],m=e.getRoot(),b=e.getParent(o||HP(m,n,n.collapsed),e.isBlock),S=e.getParent(a||VP(m,n,n.collapsed),e.isBlock);if(b&&b!==m&&u.push(b),b&&S&&b!==S){let T;const $=new Ir(b,m);for(;(T=$.next())&&T!==S;)e.isBlock(T)&&u.push(T)}return S&&b!==S&&S!==m&&u.push(S),u},Fz=(e,n,o)=>Y.from(n).bind(a=>Y.from(a.parentNode).map(u=>{const m=e.nodeIndex(a),b=e.createRng();return b.setStart(u,m),b.setEnd(u,m+1),o&&(Ry(e,b,a,!0),Ry(e,b,a,!1)),b})),PN=(e,n)=>Ye(n,o=>{const a=e.dispatch("GetSelectionRange",{range:o});return a.range!==o?a.range:o}),Hz=e=>Ss(e)==="img"?1:Dc(e).fold(()=>ni(e).length,n=>n.length),Vz=e=>Dc(e).filter(n=>n.trim().length!==0||n.indexOf(rt)>-1).isSome(),zz=e=>Tc(e)&&ei(e,"contenteditable")==="false",Wz=["img","br"],BN=e=>Vz(e)||je(Wz,Ss(e))||zz(e),Uz=e=>Ct(e,BN),UP=e=>jP(e,BN),jP=(e,n)=>{const o=a=>{const u=ni(a);for(let m=u.length-1;m>=0;m--){const b=u[m];if(n(b))return Y.some(b);const S=o(b);if(S.isSome())return S}return Y.none()};return o(e)},ZP="[data-mce-autocompleter]",jz=(e,n)=>{if(KP(ge.fromDom(e.getBody())).isNone()){const o=ge.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());_r(o,ge.fromDom(n.extractContents())),n.insertNode(o.dom),_a(o).each(a=>a.dom.normalize()),UP(o).map(a=>{e.selection.setCursorLocation(a.dom,Hz(a))})}},Zz=e=>jn(e,ZP),KP=e=>Un(e,ZP),Kz=(e,n)=>KP(n).each(o=>{const a=e.selection.getBookmark();wa(o),e.selection.moveToBookmark(a)}),qz={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},fT=(e,n,o)=>{const a=o?"lastChild":"firstChild",u=o?"prev":"next";if(e[a])return e[a];if(e!==n){let m=e[u];if(m)return m;for(let b=e.parent;b&&b!==n;b=b.parent)if(m=b[u],m)return m}},Gz=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Ql(o))return!1;const a=e.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(o))},qP=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ol{static create(n,o){const a=new Ol(n,qz[n]||1);return o&&Mt(o,(u,m)=>{a.attr(m,u)}),a}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const a=this;if(!q(n))return ye(n)&&Mt(n,(m,b)=>{a.attr(b,m)}),a;const u=a.attributes;if(u){if(o!==void 0){if(o===null){if(n in u.map){delete u.map[n];let m=u.length;for(;m--;)if(u[m].name===n)return u.splice(m,1),a}return a}if(n in u.map){let m=u.length;for(;m--;)if(u[m].name===n){u[m].value=o;break}}else u.push({name:n,value:o});return u.map[n]=o,a}return u.map[n]}}clone(){const n=this,o=new Ol(n.name,n.type),a=n.attributes;if(a){const u=[];u.map={};for(let m=0,b=a.length;m<b;m++){const S=a[m];S.name!=="id"&&(u[u.length]={name:S.name,value:S.value},u.map[S.name]=S.value)}o.attributes=u}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const a=o.next;n.insert(o,n,!0),o=a}n.remove()}remove(){const n=this,o=n.parent,a=n.next,u=n.prev;return o&&(o.firstChild===n?(o.firstChild=a,a&&(a.prev=null)):u&&(u.next=a),o.lastChild===n?(o.lastChild=u,u&&(u.next=null)):a&&(a.prev=u),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const a=o.lastChild;return a?(a.next=n,n.prev=a,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,a){n.parent&&n.remove();const u=o.parent||this;return a?(o===u.firstChild?u.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===u.lastChild?u.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=u,n}getAll(n){const o=this,a=[];for(let u=o.firstChild;u;u=fT(u,o))u.name===n&&a.push(u);return a}children(){const n=this,o=[];for(let a=n.firstChild;a;a=a.next)o.push(a);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let u=n.firstChild;u;u=fT(u,n))o.push(u);let a=o.length;for(;a--;){const u=o[a];u.parent=u.firstChild=u.lastChild=u.next=u.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},a){var u;const m=this;let b=m.firstChild;if(qP(m))return!1;if(b)do{if(b.type===1){if(b.attr("data-mce-bogus"))continue;if(n[b.name]||qP(b))return!1}if(b.type===8||b.type===3&&!Gz(b)||b.type===3&&b.parent&&o[b.parent.name]&&Ql((u=b.value)!==null&&u!==void 0?u:"")||a&&a(b))return!1}while(b=fT(b,m));return!0}walk(n){return fT(this,null,n)}}const Yz=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),GP=(e,n,o=0)=>{const a=e.toLowerCase();if(a.indexOf("[if ",o)!==-1&&Yz(a,o)){const u=a.indexOf("[endif]",o);return a.indexOf(">",u)}else if(n){const u=a.indexOf(">",o);return u!==-1?u:a.length}else{const u=/--!?>/g;u.lastIndex=o;const m=u.exec(e);return m?m.index+m[0].length:a.length}},Xz=(e,n,o)=>{const a=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,u=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,m=e.getVoidElements();let b=1,S=o;for(;b!==0;)for(a.lastIndex=S;;){const T=a.exec(n);if(T===null)return S;if(T[1]==="!"){us(T[2],"--")?S=GP(n,!1,T.index+3):S=GP(n,!0,T.index+1);break}else{u.lastIndex=a.lastIndex;const $=u.exec(n);if(J($)||$.index!==a.lastIndex)continue;T[1]==="/"?b-=1:Dn(m,T[2])||(b+=1),S=a.lastIndex+$[0].length;break}}return S},Jz=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},YP=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a=e.schema;let u=Jz(e.getTempAttrs(),n);const m=a.getVoidElements();let b;for(;b=o.exec(u);){const S=o.lastIndex,T=b[0].length;let $;m[b[1]]?$=S:$=Xz(a,u,S),u=u.substring(0,S-T)+u.substring($),o.lastIndex=S-T}return nt(u)},Qz=YP,XP=e=>{const n=Ri(e,"[data-mce-bogus]");Ae(n,o=>{ei(o,"data-mce-bogus")==="all"?Uo(o):Yi(o)?(Ha(o,ge.fromText(fd)),Uo(o)):wa(o)})},JP=e=>{const n=Ri(e,"input");Ae(n,o=>{Go(o,"name")})},e9=(e,n)=>{const o=Sr(e),a=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(a,"")},_n=(e,n)=>{const o=e.getDoc(),a=Cl(ge.fromDom(e.getBody())),u=ge.fromTag("div",o);ur(u,"data-mce-bogus","all"),Og(u,{position:"fixed",left:"-9999999px",top:"0"}),fo(u,n.innerHTML),XP(u),JP(u);const m=yw(a);_r(m,u);const b=nt(u.dom.innerText);return Uo(u),b},QP=(e,n,o)=>{let a;return n.format==="raw"?a=gt.trim(Qz(e.serializer,o.innerHTML)):n.format==="text"?a=_n(e,o):n.format==="tree"?a=e.serializer.serialize(o,n):a=e9(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Fg(ge.fromDom(o))&&q(a)?gt.trim(a):a},eB=(e,n)=>Y.from(e.getBody()).fold(ot(n.format==="tree"?new Ol("body",11):""),o=>QP(e,n,o)),tB=gt.makeMap,mT=e=>{const n=[];e=e||{};const o=e.indent,a=tB(e.indent_before||""),u=tB(e.indent_after||""),m=em.getEncodeFunc(e.entity_encoding||"raw",e.entities),b=e.element_format!=="xhtml";return{start:(S,T,$)=>{if(o&&a[S]&&n.length>0){const W=n[n.length-1];W.length>0&&W!==`
`&&n.push(`
`)}if(n.push("<",S),T)for(let W=0,V=T.length;W<V;W++){const X=T[W];n.push(" ",X.name,'="',m(X.value,!0),'"')}if(!$||b?n[n.length]=">":n[n.length]=" />",$&&o&&u[S]&&n.length>0){const W=n[n.length-1];W.length>0&&W!==`
`&&n.push(`
`)}},end:S=>{let T;n.push("</",S,">"),o&&u[S]&&n.length>0&&(T=n[n.length-1],T.length>0&&T!==`
`&&n.push(`
`))},text:(S,T)=>{S.length>0&&(n[n.length]=T?S:m(S))},cdata:S=>{n.push("<![CDATA[",S,"]]>")},comment:S=>{n.push("<!--",S,"-->")},pi:(S,T)=>{T?n.push("<?",S," ",m(T),"?>"):n.push("<?",S,"?>"),o&&n.push(`
`)},doctype:S=>{n.push("<!DOCTYPE",S,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Rb=(e={},n=_d())=>{const o=mT(e);return e.validate="validate"in e?e.validate:!0,{serialize:u=>{const m=e.validate,b={3:T=>{var $;o.text(($=T.value)!==null&&$!==void 0?$:"",T.raw)},8:T=>{var $;o.comment(($=T.value)!==null&&$!==void 0?$:"")},7:T=>{o.pi(T.name,T.value)},10:T=>{var $;o.doctype(($=T.value)!==null&&$!==void 0?$:"")},4:T=>{var $;o.cdata(($=T.value)!==null&&$!==void 0?$:"")},11:T=>{let $=T;if($=$.firstChild)do S($);while($=$.next)}};o.reset();const S=T=>{var $;const W=b[T.type];if(W)W(T);else{const V=T.name,X=V in n.getVoidElements();let ue=T.attributes;if(m&&ue&&ue.length>1){const he=[];he.map={};const re=n.getElementRule(T.name);if(re){for(let fe=0,Re=re.attributesOrder.length;fe<Re;fe++){const Pe=re.attributesOrder[fe];if(Pe in ue.map){const Be=ue.map[Pe];he.map[Pe]=Be,he.push({name:Pe,value:Be})}}for(let fe=0,Re=ue.length;fe<Re;fe++){const Pe=ue[fe].name;if(!(Pe in he.map)){const Be=ue.map[Pe];he.map[Pe]=Be,he.push({name:Pe,value:Be})}}ue=he}}if(o.start(V,ue,X),!X){let he=T.firstChild;if(he){(V==="pre"||V==="textarea")&&he.type===3&&(($=he.value)===null||$===void 0?void 0:$[0])===`
`&&o.text(`
`,!0);do S(he);while(he=he.next)}o.end(V)}}};return u.type===1&&!e.inner?S(u):u.type===3?b[3](u):b[11](u),o.getContent()}}},nB=new Set;Ae(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{nB.add(n)});const oB=["font","text-decoration","text-emphasis"],IN=(e,n)=>Hs(e.parseStyle(e.getAttrib(n,"style"))),t9=e=>nB.has(e),hT=(e,n)=>Qn(IN(e,n),o=>!t9(o)),sB=e=>st(e,n=>pt(oB,o=>us(n,o))),Lte=(e,n,o)=>{const a=IN(e,n),u=IN(e,o),m=b=>{var S,T;const $=(S=e.getStyle(n,b))!==null&&S!==void 0?S:"",W=(T=e.getStyle(o,b))!==null&&T!==void 0?T:"";return Xo($)&&Xo(W)&&$!==W};return pt(a,b=>{const S=T=>pt(T,$=>$===b);if(!S(u)&&S(oB)){const T=sB(u);return pt(T,m)}else return m(b)})},rB=(e,n,o)=>Y.from(o.container()).filter(Et).exists(a=>{const u=e?0:-1;return n(a.data.charAt(o.offset()+u))}),Vn=lt(rB,!0,vb),LN=lt(rB,!1,vb),eo=e=>{const n=e.container();return Et(n)&&(n.data.length===0||xe(n.data)&&jp.isBookmarkNode(n.parentNode))},Xp=(e,n)=>o=>lb(e?0:-1,o).filter(n).isSome(),n9=e=>A0(e)&&jr(ge.fromDom(e),"display")==="block",o9=e=>Yo(e)&&!dh(e),s9=Xp(!0,n9),Fte=Xp(!1,n9),pT=Xp(!0,Tr),dS=Xp(!1,Tr),iB=Xp(!0,tr),Rn=Xp(!1,tr),Mb=Xp(!0,o9),$b=Xp(!1,o9),r9=e=>e.slice(0,-1),fS=(e,n,o)=>sc(n,e)?r9(Uf(e,a=>o(a)||Jo(a,n))):[],FN=(e,n)=>fS(e,n,at),Jp=(e,n)=>[e].concat(FN(e,n)),HN=(e,n,o)=>Bp(e,n,o,eo),aB=(e,n)=>nn(Jp(ge.fromDom(n.container()),e),wr),VN=(e,n,o)=>HN(e,n.dom,o).forall(a=>aB(n,o).fold(()=>!um(a,o,n.dom),u=>!um(a,o,n.dom)&&sc(u,ge.fromDom(a.container())))),cB=(e,n,o)=>aB(n,o).fold(()=>HN(e,n.dom,o).forall(a=>!um(a,o,n.dom)),a=>HN(e,a.dom,o).isNone()),lB=lt(cB,!1),i9=lt(cB,!0),a9=lt(VN,!1),c9=lt(VN,!0),l9=e=>cv(e).exists(Yi),gT=(e,n,o)=>{const a=st(Jp(ge.fromDom(o.container()),n),wr),u=oo(a).getOr(n);return $u(e,u.dom,o).filter(l9)},bT=(e,n)=>cv(n).exists(Yi)||gT(!0,e,n).isSome(),zN=(e,n)=>dm(n).exists(Yi)||gT(!1,e,n).isSome(),ao=lt(gT,!1),uB=lt(gT,!0),mS=e=>Je.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),WN=(e,n)=>{const o=st(Jp(ge.fromDom(n.container()),e),wr);return oo(o).getOr(e)},UN=(e,n)=>mS(n)?LN(n):LN(n)||ua(WN(e,n).dom,n).exists(LN),jN=(e,n)=>mS(n)?Vn(n):Vn(n)||ka(WN(e,n).dom,n).exists(Vn),dB=e=>je(["pre","pre-wrap"],e),vT=e=>cv(e).bind(n=>te(n,gs)).exists(n=>dB(jr(n,"white-space"))),u9=(e,n)=>ua(e.dom,n).isNone(),fB=(e,n)=>ka(e.dom,n).isNone(),d9=(e,n)=>u9(e,n)||fB(e,n)||lB(e,n)||i9(e,n)||zN(e,n)||bT(e,n),f9=e=>ye(e)&&Yo(e)&&Cx(e),mB=(e,n)=>o=>f9(new Ir(o,e)[n]()),m9=(e,n)=>{const o=ka(e.dom,n).getOr(n),a=mB(e.dom,"next");return n.isAtEnd()&&(a(n.container())||a(o.container()))},h9=(e,n)=>{const o=ua(e.dom,n).getOr(n),a=mB(e.dom,"prev");return n.isAtStart()&&(a(n.container())||a(o.container()))},hB=(e,n)=>vT(n)?!1:d9(e,n)||UN(e,n)||jN(e,n),hS=(e,n)=>vT(n)?!1:lB(e,n)||a9(e,n)||zN(e,n)||UN(e,n)||h9(e,n),p9=e=>{const n=e.container(),o=e.offset();return Et(n)&&o<n.data.length?Je(n,o+1):e},Tv=(e,n)=>vT(n)?!1:i9(e,n)||c9(e,n)||bT(e,n)||jN(e,n)||m9(e,n),pS=(e,n)=>hS(e,n)||Tv(e,p9(n)),pB=(e,n)=>Fp(e.charAt(n)),gB=(e,n)=>vb(e.charAt(n)),g9=e=>{const n=e.container();return Et(n)&&As(n.data,rt)},b9=e=>{const n=e.split("");return Ye(n,(o,a)=>Fp(o)&&a>0&&a<n.length-1&&RC(n[a-1])&&RC(n[a+1])?" ":o).join("")},bB=(e,n,o)=>{const a=n.data,u=Je(n,0);return!o&&pB(a,0)&&!pS(e,u)?(n.data=" "+a.slice(1),!0):o&&gB(a,0)&&hS(e,u)?(n.data=rt+a.slice(1),!0):!1},v9=e=>{const n=e.data,o=b9(n);return o!==n?(e.data=o,!0):!1},vB=(e,n,o)=>{const a=n.data,u=Je(n,a.length-1);return!o&&pB(a,a.length-1)&&!pS(e,u)?(n.data=a.slice(0,-1)+" ",!0):o&&gB(a,a.length-1)&&Tv(e,u)?(n.data=a.slice(0,-1)+rt,!0):!1},y9=(e,n)=>{const o=n.container();if(!Et(o))return Y.none();if(g9(n)){const a=bB(e,o,!1)||v9(o)||vB(e,o,!1);return Co(a,n)}else if(pS(e,n)){const a=bB(e,o,!0)||vB(e,o,!0);return Co(a,n)}else return Y.none()},yB=e=>{const n=ge.fromDom(e.getBody());e.selection.isCollapsed()&&y9(n,Je.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},_B=(e,n,o)=>{if(o===0)return;const a=ge.fromDom(e),u=z(a,wr).getOr(a),m=e.data.slice(n,n+o),b=n+o>=e.data.length&&Tv(u,Je(e,e.data.length)),S=n===0&&hS(u,Je(e,0));e.replaceData(n,o,Cr(m,4,S,b))},yT=(e,n)=>{const o=e.data.slice(n),a=o.length-wu(o).length;_B(e,n,a)},Qp=(e,n)=>{const o=e.data.slice(0,n),a=o.length-bl(o).length;_B(e,n-a,a)},ZN=(e,n,o,a=!0)=>{const u=bl(e.data).length,m=a?e:n,b=a?n:e;return a?m.appendData(b.data):m.insertData(0,b.data),Uo(ge.fromDom(b)),o&&yT(m,u),m},wB=(e,n)=>{const o=e.container(),a=e.offset();return!Je.isTextPosition(e)&&o===n.parentNode&&a>Je.before(n).offset()},_9=(e,n)=>wB(n,e)?Je(n.container(),n.offset()-1):n,w9=e=>Et(e)?Je(e,0):Je.before(e),CB=e=>Et(e)?Je(e,e.data.length):Je.after(e),KN=e=>fr(e.previousSibling)?Y.some(CB(e.previousSibling)):e.previousSibling?ol(e.previousSibling):Y.none(),qN=e=>fr(e.nextSibling)?Y.some(w9(e.nextSibling)):e.nextSibling?yi(e.nextSibling):Y.none(),SB=(e,n)=>Y.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ua(e,Je.before(o))).orThunk(()=>ka(e,Je.after(n))),rl=(e,n)=>ka(e,Je.after(n)).orThunk(()=>ua(e,Je.before(n))),C9=(e,n)=>KN(n).orThunk(()=>qN(n)).orThunk(()=>SB(e,n)),S9=(e,n)=>qN(n).orThunk(()=>KN(n)).orThunk(()=>rl(e,n)),E9=(e,n,o)=>e?S9(n,o):C9(n,o),x9=(e,n,o)=>E9(e,n,o).map(lt(_9,o)),EB=(e,n,o)=>{o.fold(()=>{e.focus()},a=>{e.selection.setRng(a.toRange(),n)})},kv=e=>n=>n.dom===e,T9=(e,n)=>n&&Dn(e.schema.getBlockElements(),Ss(n)),k9=e=>{if(ri(e)){const n=ge.fromHtml('<br data-mce-bogus="1">');return Au(e),_r(e,n),Y.some(Je.before(n.dom))}else return Y.none()},hr=(e,n,o)=>{const a=Gc(e).filter(Ur),u=ud(e).filter(Ur);return Uo(e),Jm(a,u,n,(m,b,S)=>{const T=m.dom,$=b.dom,W=T.data.length;return ZN(T,$,o),S.container()===$?Je(T,W):S}).orThunk(()=>(o&&(a.each(m=>Qp(m.dom,m.dom.length)),u.each(m=>yT(m.dom,0))),n))},_T=(e,n)=>Dn(e.schema.getTextInlineElements(),Ss(n)),Yy=(e,n,o,a=!0)=>{const u=x9(n,e.getBody(),o.dom),m=z(o,lt(T9,e),kv(e.getBody())),b=hr(o,u,_T(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):m.bind(k9).fold(()=>{a&&EB(e,n,b)},S=>{a&&EB(e,n,Y.some(S))})},Aa=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,os=e=>Aa.test(e),bc=(e,n)=>ra(ge.fromDom(n),wD(e))&&!gh(e.schema,n)&&e.dom.isEditable(n),xB=e=>{var n;return bs.DOM.getStyle(e,"direction",!0)==="rtl"||os((n=e.textContent)!==null&&n!==void 0?n:"")},TB=(e,n,o)=>st(bs.DOM.getParents(o.container(),"*",n),e),$h=(e,n,o)=>{const a=TB(e,n,o);return Y.from(a[a.length-1])},GN=(e,n,o)=>{const a=Ed(n,e),u=Ed(o,e);return ye(a)&&a===u},kB=e=>Xi(e)||Xc(e),Fu=(e,n)=>{const o=n.container(),a=n.offset();return e?Pn(o)?Et(o.nextSibling)?Je(o.nextSibling,0):Je.after(o):Xi(n)?Je(o,a+1):n:Pn(o)?Et(o.previousSibling)?Je(o.previousSibling,o.previousSibling.data.length):Je.before(o):Xc(n)?Je(o,a-1):n},AB=lt(Fu,!0),OB=lt(Fu,!1),wT=(e,n)=>{const o=a=>a.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},DB=e=>{e.execCommand("delete")},Hu=e=>wT(e,"Delete"),A9=e=>wT(e,"ForwardDelete"),O9=e=>n=>Uc(_a(n),e,Jo),Hte=e=>gp(e)||ca(e),Xy=(e,n)=>sc(e,n)?te(n,Hte,O9(e)):Y.none(),YN=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},Jy=(e,n,o)=>Wi(yi(o),ol(o),(a,u)=>{const m=Fu(!0,a),b=Fu(!1,u),S=Fu(!1,n);return e?ka(o,S).exists(T=>T.isEqual(b)&&n.isEqual(m)):ua(o,S).exists(T=>T.isEqual(m)&&n.isEqual(b))}).getOr(!0),NB=e=>(Vf(e)?Gc(e):La(e)).bind(NB).orThunk(()=>Y.some(e)),Av=(e,n,o,a=!0)=>{var u;n.deleteContents();const m=NB(o).getOr(o),b=ge.fromDom((u=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&u!==void 0?u:o.dom);if(b.dom===e.getBody()?YN(e,a):ri(b)&&(M(b),a&&e.selection.setCursorLocation(b.dom,0)),!Jo(o,b)){const S=Uc(_a(b),o)?[]:ih(b);Ae(S.concat(ni(o)),T=>{!Jo(T,b)&&!sc(T,b)&&ri(T)&&Uo(T)})}},Dd=e=>n=>Jo(e,n),Ov=e=>Ri(e,"td,th"),Ls=(e,n)=>{const o=$=>yb(ge.fromDom($),n),a=o(e.startContainer),u=o(e.endContainer),m=a.isSome(),b=u.isSome(),S=Wi(a,u,Jo).getOr(!1);return{startTable:a,endTable:u,isStartInTable:m,isEndInTable:b,isSameTable:S,isMultiTable:!S&&m&&b}},Dv=(e,n)=>({start:e,end:n}),RB=(e,n,o)=>({rng:e,table:n,cells:o}),Qy=Sd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),e_=(e,n)=>jn(ge.fromDom(e),"td,th",n),CT=e=>!Jo(e.start,e.end),ST=(e,n)=>yb(e.start,n).bind(o=>yb(e.end,n).bind(a=>Co(Jo(o,a),o))),XN=(e,n)=>!CT(e)&&ST(e,n).exists(o=>{const a=o.dom.rows;return a.length===1&&a[0].cells.length===1}),ET=(e,n)=>{const o=e_(e.startContainer,n),a=e_(e.endContainer,n);return Wi(o,a,Dv)},JN=e=>n=>yb(n,e).bind(o=>fs(Ov(o)).map(a=>Dv(n,a))),MB=e=>n=>yb(n,e).bind(o=>oo(Ov(o)).map(a=>Dv(a,n))),xT=e=>n=>ST(n,e).map(o=>RB(n,o,Ov(o))),QN=(e,n,o,a)=>{if(o.collapsed||!e.forall(CT))return Y.none();if(n.isSameTable){const u=e.bind(xT(a));return Y.some({start:u,end:u})}else{const u=e_(o.startContainer,a),m=e_(o.endContainer,a),b=u.bind(JN(a)).bind(xT(a)),S=m.bind(MB(a)).bind(xT(a));return Y.some({start:b,end:S})}},eR=(e,n)=>kn(e,o=>Jo(o,n)),TT=e=>Wi(eR(e.cells,e.rng.start),eR(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),t_=(e,n,o)=>e.exists(a=>XN(a,o)&&hm(a.start,n)),tR=(e,n)=>{const{startTable:o,endTable:a}=n,u=e.cloneRange();return o.each(m=>u.setStartAfter(m.dom)),a.each(m=>u.setEndBefore(m.dom)),u},nR=(e,n,o,a)=>QN(e,n,o,a).bind(({start:u,end:m})=>u.or(m)).bind(u=>{const{isSameTable:m}=n,b=TT(u).getOr([]);if(m&&u.cells.length===b.length)return Y.some(Qy.fullTable(u.table));if(b.length>0){if(m)return Y.some(Qy.partialTable(b,Y.none()));{const S=tR(o,n);return Y.some(Qy.partialTable(b,Y.some({...n,rng:S})))}}else return Y.none()}),D9=(e,n,o,a)=>QN(e,n,o,a).bind(({start:u,end:m})=>{const b=u.bind(TT).getOr([]),S=m.bind(TT).getOr([]);if(b.length>0&&S.length>0){const T=tR(o,n);return Y.some(Qy.multiTable(b,S,T))}else return Y.none()}),N9=(e,n)=>{const o=Dd(e),a=ET(n,o),u=Ls(n,o);return t_(a,n,o)?a.map(m=>Qy.singleCellTable(n,m.start)):u.isMultiTable?D9(a,u,n,o):nR(a,u,n,o)},oR=e=>Ae(e,n=>{Go(n,"contenteditable"),M(n)}),$B=(e,n)=>Y.from(e.dom.getParent(n,e.dom.isBlock)).map(ge.fromDom),PB=(e,n,o)=>{o.each(a=>{n?Uo(a):(M(a),e.selection.setCursorLocation(a.dom,0))})},n_=(e,n,o,a)=>{const u=o.cloneRange();a?(u.setStart(o.startContainer,o.startOffset),u.setEndAfter(n.dom.lastChild)):(u.setStartBefore(n.dom.firstChild),u.setEnd(o.endContainer,o.endOffset)),kT(e,u,n,!1).each(m=>m())},sR=e=>{const n=Oh(e),o=ge.fromDom(e.selection.getNode());qi(o.dom)&&ri(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&pt(n,a=>Jo(a,o))&&ur(o,"data-mce-selected","1")},rR=(e,n,o)=>Y.some(()=>{const a=e.selection.getRng(),u=o.bind(({rng:m,isStartInTable:b})=>{const S=$B(e,b?m.endContainer:m.startContainer);m.deleteContents(),PB(e,b,S.filter(ri));const T=b?n[0]:n[n.length-1];return n_(e,T,a,b),ri(T)?Y.none():Y.some(b?n.slice(1):n.slice(0,-1))}).getOr(n);oR(u),sR(e)}),BB=(e,n,o,a)=>Y.some(()=>{const u=e.selection.getRng(),m=n[0],b=o[o.length-1];n_(e,m,u,!0),n_(e,b,u,!1);const S=ri(m)?n:n.slice(1),T=ri(b)?o:o.slice(0,-1);oR(S.concat(T)),a.deleteContents(),sR(e)}),kT=(e,n,o,a=!0)=>Y.some(()=>{Av(e,n,o,a)}),IB=(e,n)=>Y.some(()=>Yy(e,!1,n)),LB=(e,n,o)=>N9(n,o).bind(a=>a.fold(lt(kT,e),lt(IB,e),lt(rR,e),lt(BB,e))),FB=(e,n)=>gS(e,n),HB=(e,n,o,a)=>AT(n,a).fold(()=>LB(e,n,o),u=>FB(e,u)),VB=(e,n,o)=>{const a=ge.fromDom(e.getBody()),u=e.selection.getRng();return o.length!==0?rR(e,o,Y.none()):HB(e,a,u,n)},iR=(e,n)=>nn(Jp(n,e),dr),AT=(e,n)=>nn(Jp(n,e),Ul("caption")),zB=(e,n,o,a,u)=>TC(o,e.getBody(),u).bind(m=>iR(n,ge.fromDom(m.getNode())).bind(b=>Jo(b,a)?Y.none():Y.some(xt))),gS=(e,n)=>Y.some(()=>{M(n),e.selection.setCursorLocation(n.dom,0)}),WB=(e,n,o,a)=>yi(e.dom).bind(u=>ol(e.dom).map(m=>n?o.isEqual(u)&&a.isEqual(m):o.isEqual(m)&&a.isEqual(u))).getOr(!0),UB=(e,n)=>gS(e,n),aR=(e,n,o)=>AT(e,ge.fromDom(o.getNode())).fold(()=>Y.some(xt),a=>Co(!Jo(a,n),xt)),OT=(e,n,o,a,u)=>TC(o,e.getBody(),u).fold(()=>Y.some(xt),m=>WB(a,o,u,m)?UB(e,a):aR(n,a,m)),jB=(e,n,o,a)=>{const u=Je.fromRangeStart(e.selection.getRng());return iR(o,a).bind(m=>ri(m)?gS(e,m):zB(e,o,n,m,u))},ZB=(e,n,o,a)=>{const u=Je.fromRangeStart(e.selection.getRng());return ri(a)?gS(e,a):OT(e,o,n,a,u)},bS=(e,n)=>e?iB(n):Rn(n),cR=(e,n)=>{const o=Je.fromRangeStart(e.selection.getRng());return bS(n,o)||$u(n,e.getBody(),o).exists(a=>bS(n,a))},vS=(e,n,o)=>{const a=ge.fromDom(e.getBody());return AT(a,o).fold(()=>jB(e,n,a,o).orThunk(()=>Co(cR(e,n),xt)),u=>ZB(e,n,a,u))},yS=(e,n)=>{const o=ge.fromDom(e.selection.getStart(!0)),a=Oh(e);return e.selection.isCollapsed()&&a.length===0?vS(e,n,o):VB(e,o,a)},Pb=(e,n)=>{let o=n;for(;o&&o!==e;){if(as(o)||Yo(o))return o;o=o.parentNode}return null},o_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],lR=gt.each,_S=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),a=(m,b)=>{if(m.nodeName!==b.nodeName||m.nodeType!==b.nodeType)return!1;const S=$=>{const W={};return lR(n.getAttribs($),V=>{const X=V.nodeName.toLowerCase();X!=="style"&&!u(X)&&(W[X]=n.getAttrib($,X))}),W},T=($,W)=>{for(const V in $)if(Dn($,V)){const X=W[V];if(Ge(X)||$[V]!==X)return!1;delete W[V]}for(const V in W)if(Dn(W,V))return!1;return!0};return qt(m)&&qt(b)&&(!T(S(m),S(b))||!T(n.parseStyle(n.getAttrib(m,"style")),n.parseStyle(n.getAttrib(b,"style"))))?!1:!Tl(m)&&!Tl(b)},u=m=>pt(o_,b=>us(m,b))||o.has(m);return{compare:a,isAttributeInternal:u}},wS=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},eg=(e,n,o,a)=>{const u=o.name;for(let m=0,b=e.length;m<b;m++){const S=e[m];if(S.name===u){const T=a.nodes[u];T?T.nodes.push(o):a.nodes[u]={filter:S,nodes:[o]}}}if(o.attributes)for(let m=0,b=n.length;m<b;m++){const S=n[m],T=S.name;if(T in o.attributes.map){const $=a.attributes[T];$?$.nodes.push(o):a.attributes[T]={filter:S,nodes:[o]}}}},KB=(e,n,o)=>{const a={nodes:{},attributes:{}};return o.firstChild&&wS(o,u=>{eg(e,n,u,a)}),a},qB=(e,n)=>{const o=(a,u)=>{Mt(a,m=>{const b=ms(m.nodes);Ae(m.filter.callbacks,S=>{for(let T=b.length-1;T>=0;T--){const $=b[T];(!(u?$.attr(m.filter.name)!==void 0:$.name===m.filter.name)||Ue($.parent))&&b.splice(T,1)}b.length>0&&S(b,m.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},uR=(e,n,o,a={})=>{const u=KB(e,n,o);qB(u,a)},DT=(e,n,o,a)=>{if((e.pad_empty_with_br||n.insert)&&o(a)){const m=new Ol("br",1);n.insert&&m.attr("data-mce-bogus","1"),a.empty().append(m)}else a.empty().append(new Ol("#text",3)).value=rt},R9=e=>{var n;return M9(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===rt},M9=(e,n)=>{const o=e==null?void 0:e.firstChild;return ye(o)&&o===e.lastChild&&o.name===n},$9=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},Nv=(e,n,o,a)=>a.isEmpty(n,o,u=>$9(e,u)),_m=(e,n)=>ye(e)&&(n(e)||e.name==="br"),dR=e=>{let n;for(let o=e;o;o=o.parent){const a=o.attr("contenteditable");if(a==="false")break;a==="true"&&(n=o)}return Y.from(n)},s_=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const u of a)o&&!n.isValidChild(o.name,u.name)&&s_(u,n,o);e.unwrap()}},CS=(e,n,o,a=xt)=>{const u=n.getTextBlockElements(),m=n.getNonEmptyElements(),b=n.getWhitespaceElements(),S=gt.makeMap("tr,td,th,tbody,thead,tfoot,table"),T=new Set,$=W=>W!==o&&!S[W.name];for(let W=0;W<e.length;W++){const V=e[W];let X,ue,he;if(!V.parent||T.has(V))continue;if(u[V.name]&&V.parent.name==="li"){let fe=V.next;for(;fe&&u[fe.name];){fe.name="li",T.add(fe),V.parent.insert(fe,V.parent);fe=fe.next}V.unwrap();continue}const re=[V];for(X=V.parent;X&&!n.isValidChild(X.name,V.name)&&$(X);X=X.parent)re.push(X);if(X&&re.length>1)if(n.isValidChild(X.name,V.name)){re.reverse(),ue=re[0].clone(),a(ue);let fe=ue;for(let Re=0;Re<re.length-1;Re++){n.isValidChild(fe.name,re[Re].name)&&Re>0?(he=re[Re].clone(),a(he),fe.append(he)):he=fe;for(let Pe=re[Re].firstChild;Pe&&Pe!==re[Re+1];){const Be=Pe.next;he.append(Pe),Pe=Be}fe=he}Nv(n,m,b,ue)?X.insert(V,re[0],!0):(X.insert(ue,re[0],!0),X.insert(V,ue)),X=re[0],(Nv(n,m,b,X)||M9(X,"br"))&&X.empty().remove()}else s_(V,n);else if(V.parent){if(V.name==="li"){let fe=V.prev;if(fe&&(fe.name==="ul"||fe.name==="ol")){fe.append(V);continue}if(fe=V.next,fe&&(fe.name==="ul"||fe.name==="ol")&&fe.firstChild){fe.insert(V,fe.firstChild,!0);continue}const Re=new Ol("ul",1);a(Re),V.wrap(Re);continue}if(n.isValidChild(V.parent.name,"div")&&n.isValidChild("div",V.name)){const fe=new Ol("div",1);a(fe),V.wrap(fe)}else s_(V,n)}}},P9=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},fR=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&P9(o,"a")),B9=(e,n,o,a)=>{const u=document.createRange();return u.setStart(e,n),u.setEnd(o,a),u},GB=e=>{const n=Je.fromRangeStart(e),o=Je.fromRangeEnd(e),a=e.commonAncestorContainer;return $u(!1,a,o).map(u=>!um(n,o,a)&&um(n,u,a)?B9(n.container(),n.offset(),u.container(),u.offset()):e).getOr(e)},SS=e=>e.collapsed?e:GB(e),I9=e=>ye(e.firstChild)&&e.firstChild===e.lastChild,YB=e=>e.name==="br"||e.value===rt,L9=(e,n)=>e.getBlockElements()[n.name]&&I9(n)&&YB(n.firstChild),ES=(e,n)=>{const o=e.getNonEmptyElements();return ye(n)&&(n.isEmpty(o)||L9(e,n))},XB=(e,n)=>{let o=n.firstChild,a=n.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),ES(e,a)&&(a=a==null?void 0:a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},F9=e=>{var n,o;const a=e.firstChild,u=e.lastChild;return a&&a.nodeName==="META"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),u&&u.id==="mce_marker"&&((o=u.parentNode)===null||o===void 0||o.removeChild(u)),e},JB=(e,n,o)=>{const a=n.serialize(o),u=e.createFragment(a);return F9(u)},H9=e=>{var n;return st((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},V9=e=>e.data===rt||Xs(e),z9=e=>ye(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&V9(e.firstChild),W9=e=>!e.firstChild||z9(e),U9=e=>e.length>0&&W9(e[e.length-1])?e.slice(0,-1):e,NT=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},j9=(e,n)=>!!NT(e,n),mR=(e,n)=>{const o=n.cloneRange(),a=n.cloneRange();return o.setStartBefore(e),a.setEndAfter(e),[o.cloneContents(),a.cloneContents()]},Rv=(e,n)=>{const o=Je.before(e),u=xd(n).next(o);return u?u.toRange():null},QB=(e,n)=>{const o=Je.after(e),u=xd(n).prev(o);return u?u.toRange():null},Z9=(e,n,o,a)=>{const u=mR(e,a),m=e.parentNode;return m&&(m.insertBefore(u[0],e),gt.each(n,b=>{m.insertBefore(b,e)}),m.insertBefore(u[1],e),m.removeChild(e)),QB(n[n.length-1],o)},RT=(e,n,o)=>{const a=e.parentNode;return a&&gt.each(n,u=>{a.insertBefore(u,e)}),Rv(e,o)},eI=(e,n,o,a)=>(a.insertAfter(n.reverse(),e),QB(n[0],o)),tI=(e,n,o,a)=>{const u=JB(n,e,a),m=NT(n,o.startContainer),b=U9(H9(u.firstChild)),S=1,T=2,$=n.getRoot(),W=V=>{const X=Je.fromRangeStart(o),ue=xd(n.getRoot()),he=V===S?ue.prev(X):ue.next(X),re=he==null?void 0:he.getNode();return re?NT(n,re)!==m:!0};return m?W(S)?RT(m,b,$):W(T)?eI(m,b,$,n):Z9(m,b,$,o):null},K9=["pre"],nI=(e,n,o,a)=>{var u;const m=n.firstChild,b=n.lastChild,S=b.attr("data-mce-type")==="bookmark"?b.prev:b,T=m===S,$=je(K9,m.name);if(T&&$){const W=m.attr("contenteditable")!=="false",V=((u=e.getParent(o,e.isBlock))===null||u===void 0?void 0:u.nodeName.toLowerCase())===m.name,X=Y.from(Pb(a,o)).forall(as);return W&&V&&X}else return!1},hR=qi,Mv=(e,n,o)=>{if(ye(o)){const a=e.getParent(n.endContainer,hR);return o===a&&hm(ge.fromDom(o),n)}else return!1},oI=(e,n,o)=>{var a;if(o.getAttribute("data-mce-bogus")==="all")(a=o.parentNode)===null||a===void 0||a.insertBefore(e.dom.createFragment(n),o);else{const u=o.firstChild,m=o.lastChild;!u||u===m&&u.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},sI=(e,n)=>{Y.from(e.getParent(n,"td,th")).map(ge.fromDom).each(G)},rI=(e,n)=>{const o=e.schema.getTextInlineElements(),a=e.dom;if(n){const u=e.getBody(),m=_S(e);gt.each(a.select("*[data-mce-fragment]"),b=>{if(ye(o[b.nodeName.toLowerCase()])&&hT(a,b)){for(let T=b.parentElement;ye(T)&&T!==u&&!Lte(a,b,T);T=T.parentElement)if(m.compare(T,b)){a.remove(b,!0);break}}})}},MT=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},iI=e=>{gt.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},q9=e=>!!e.getAttribute("data-mce-fragment"),aI=(e,n)=>ye(n)&&!e.schema.getVoidElements()[n.nodeName],G9=(e,n)=>{var o,a,u;let m;const b=e.dom,S=e.selection;if(!n)return;S.scrollIntoView(n);const T=Pb(e.getBody(),n);if(T&&b.getContentEditable(T)==="false"){b.remove(n),S.select(T);return}let $=b.createRng();const W=n.previousSibling;if(Et(W)){$.setStart(W,(a=(o=W.nodeValue)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);const ue=n.nextSibling;Et(ue)&&(W.appendData(ue.data),(u=ue.parentNode)===null||u===void 0||u.removeChild(ue))}else $.setStartBefore(n),$.setEndBefore(n);const V=ue=>{let he=Je.fromRangeStart(ue);return he=xd(e.getBody()).next(he),he==null?void 0:he.toRange()},X=b.getParent(n,b.isBlock);b.remove(n),X&&b.isEmpty(X)&&(Au(ge.fromDom(X)),$.setStart(X,0),$.setEnd(X,0),!hR(X)&&!q9(X)&&(m=V($))?($=m,b.remove(X)):b.add(X,b.create("br",{"data-mce-bogus":"1"}))),S.setRng($)},Y9=e=>{const n=e.dom,o=SS(e.selection.getRng());e.selection.setRng(o);const a=n.getParent(o.startContainer,hR);Mv(n,o,a)?kT(e,o,ge.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Et(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},$T=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return Y.some(n);return Y.none()},cI=e=>{Ae(ms(e.getBody().querySelectorAll("details")),n=>{const o=st(ms(n.children),a=>a.nodeName==="SUMMARY");o.length>1&&Ae(o.slice(1),a=>{const u=ge.fromDom(a);qc(u,"mce-accordion-summary"),Ar(u,"p")})})},pR=(e,n,o)=>{var a,u;const m=e.selection,b=e.dom,S=e.parser,T=o.merge,$=Rb({validate:!0},e.schema),W='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,W);let V=m.getRng();const X=V.startContainer,ue=e.getBody();X===ue&&m.isCollapsed()&&b.isBlock(ue.firstChild)&&aI(e,ue.firstChild)&&b.isEmpty(ue.firstChild)&&(V=b.createRng(),V.setStart(ue.firstChild,0),V.setEnd(ue.firstChild,0),m.setRng(V)),m.isCollapsed()||Y9(e);const he=m.getNode(),re={context:he.nodeName.toLowerCase(),data:o.data,insert:!0},fe=S.parse(n,re);if(o.paste===!0&&XB(e.schema,fe)&&j9(b,he))return V=tI($,b,m.getRng(),fe),V&&m.setRng(V),n;o.paste===!0&&nI(b,fe,he,e.getBody())&&((a=fe.firstChild)===null||a===void 0||a.unwrap()),MT(fe);let Re=fe.lastChild;if(Re&&Re.attr("id")==="mce_marker"){const Pe=Re;for(Re=Re.prev;Re;Re=Re.walk(!0))if(Re.type===3||!b.isBlock(Re.name)){Re.parent&&e.schema.isValidChild(Re.parent.name,"span")&&Re.parent.insert(Pe,Re,Re.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(he),!re.invalid)n=$.serialize(fe),oI(e,n,he);else{e.selection.setContent(W);let Pe=m.getNode(),Be;const Ve=e.getBody();for(mh(Pe)?Pe=Be=Ve:Be=Pe;Be&&Be!==Ve;)Pe=Be,Be=Be.parentNode;n=Pe===Ve?Ve.innerHTML:b.getOuterHTML(Pe);const ht=S.parse(n),dn=$T(ht),yt=dn.bind(dR).getOr(ht);dn.each(Ht=>Ht.replace(fe));const et=fe.children(),ct=(u=fe.parent)!==null&&u!==void 0?u:ht;fe.unwrap();const It=st(et,Ht=>fR(e.schema,Ht,ct));CS(It,e.schema,yt),uR(S.getNodeFilters(),S.getAttributeFilters(),ht),n=$.serialize(ht),Pe===Ve?b.setHTML(Ve,n):b.setOuterHTML(Pe,n)}return rI(e,T),G9(e,b.get("mce_marker")),iI(e.getBody()),sI(b,m.getStart()),cI(e),N0(e.schema,e.getBody(),m.getStart()),n},PT=e=>e instanceof Ol,X9=e=>{xv(e)&&yi(e.getBody()).each(n=>{const o=n.getNode(),a=tr(o)?yi(o).getOr(n):n;e.selection.setRng(a.toRange())})},BT=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&X9(e)},gR=(e,n,o,a)=>{if(o.length===0||/^\s+$/.test(o)){const u='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+u+"</li>");const m=Sr(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),m.toLowerCase())?(o=u,o=e.dom.createHTML(m,Eh(e),o)):o||(o=u),BT(e,o,a.no_selection),{content:o,html:o}}else{a.format!=="raw"&&(o=Rb({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const u=Fg(ge.fromDom(n))?o:gt.trim(o);return BT(e,u,a.no_selection),{content:u,html:u}}},lI=(e,n,o,a)=>{uR(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const u=Rb({validate:!1},e.schema).serialize(o),m=Fg(ge.fromDom(n))?u:gt.trim(u);return BT(e,m,a.no_selection),{content:o,html:m}},J9=(e,n,o)=>Y.from(e.getBody()).map(a=>PT(n)?lI(e,a,n,o):gR(e,a,n,o)).getOr({content:n,html:PT(o.content)?"":o.content}),Q9=(e,n,o)=>z(e,n,o).isSome(),eW=(e,n)=>Ce(e,n).isSome(),xS=e=>ie(e)?e:at,tg=(e,n,o)=>{let a=e.dom;const u=xS(o);for(;a.parentNode;){a=a.parentNode;const m=ge.fromDom(a),b=n(m);if(b.isSome())return b;if(u(m))break}return Y.none()},bR=(e,n,o)=>{const a=n(e),u=xS(o);return a.orThunk(()=>u(e)?Y.none():tg(e,n,u))},TS=ci,Lr=(e,n,o)=>{const a=e.formatter.get(o);if(a)for(let u=0;u<a.length;u++){const m=a[u];if(kl(m)&&m.inherit===!1&&e.dom.is(n,m.selector))return!0}return!1},kS=(e,n,o,a,u)=>{const m=e.dom.getRoot();if(n===m)return!1;const b=e.dom.getParent(n,S=>Lr(e,S,o)?!0:S.parentNode===m||!!wm(e,S,o,a,!0));return!!wm(e,b,o,a,u)},r_=(e,n,o)=>_i(o)&&TS(n,o.inline)||kd(o)&&TS(n,o.block)?!0:kl(o)?qt(n)&&e.is(n,o.selector):!1,Ph=(e,n,o,a,u,m)=>{const b=o[a],S=a==="attributes";if(ie(o.onmatch))return o.onmatch(n,o,a);if(b){if(yu(b)){for(let T=0;T<b.length;T++)if(S?e.getAttrib(n,b[T]):Or(e,n,b[T]))return!0}else for(const T in b)if(Dn(b,T)){const $=S?e.getAttrib(n,T):Or(e,n,T),W=zt(b[T],m),V=Ue($)||ki($);if(V&&Ue(W))continue;if(u&&V&&!o.exact||(!u||o.exact)&&!TS($,Cb(W,T)))return!1}}return!0},wm=(e,n,o,a,u)=>{const m=e.formatter.get(o),b=e.dom;if(m&&qt(n))for(let S=0;S<m.length;S++){const T=m[S];if(r_(e.dom,n,T)&&Ph(b,n,T,"attributes",u,a)&&Ph(b,n,T,"styles",u,a)){const $=T.classes;if($){for(let W=0;W<$.length;W++)if(!e.dom.hasClass(n,zt($[W],a)))return}return T}}},IT=(e,n,o,a,u)=>{if(a)return kS(e,a,n,o,u);if(a=e.selection.getNode(),kS(e,a,n,o,u))return!0;const m=e.selection.getStart();return!!(m!==a&&kS(e,m,n,o,u))},AS=(e,n,o)=>{const a=[],u={},m=e.selection.getStart();return e.dom.getParent(m,b=>{for(let S=0;S<n.length;S++){const T=n[S];!u[T]&&wm(e,b,T,o)&&(u[T]=!0,a.push(T))}},e.dom.getRoot()),a},tW=(e,n)=>{const o=u=>Jo(u,ge.fromDom(e.getBody())),a=(u,m)=>wm(e,u.dom,m)?Y.some(m):Y.none();return Y.from(e.selection.getStart(!0)).bind(u=>bR(ge.fromDom(u),m=>ba(n,b=>a(m,b)),o)).getOrNull()},nW=(e,n)=>{const o=e.formatter.get(n),a=e.dom;if(o&&e.selection.isEditable()){const u=e.selection.getStart(),m=fv(a,u);for(let b=o.length-1;b>=0;b--){const S=o[b];if(!kl(S))return!0;for(let T=m.length-1;T>=0;T--)if(a.is(m[T],S.selector))return!0}}return!1},i_=(e,n,o)=>tn(o,(a,u)=>{const m=VC(e,u);return e.formatter.matchNode(n,u,{},m)?a.concat([u]):a},[]),a_=se,$v=(e,n)=>e.importNode(n,!0),oW=e=>{const n=[];let o=e;for(;o;){if(Et(o)&&o.data!==a_||o.childNodes.length>1)return[];qt(o)&&n.push(o),o=o.firstChild}return n},ng=e=>oW(e).length>0,Vu=e=>{if(e){const n=new Ir(e,e);for(let o=n.current();o;o=n.next())if(Et(o))return o}return null},c_=e=>{const n=ge.fromTag("span");return ji(n,{id:uv,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&_r(n,ge.fromText(a_)),n},vR=e=>{const n=Vu(e);return n&&n.data.charAt(0)===a_&&n.deleteData(0,1),n},yR=(e,n,o=!0)=>{const a=e.dom,u=e.selection;if(ng(n))Yy(e,!1,ge.fromDom(n),o);else{const m=u.getRng(),b=a.getParent(n,a.isBlock),S=m.startContainer,T=m.startOffset,$=m.endContainer,W=m.endOffset,V=vR(n);a.remove(n,!0),S===V&&T>0&&m.setStart(V,T-1),$===V&&W>0&&m.setEnd(V,W-1),b&&a.isEmpty(b)&&M(ge.fromDom(b)),u.setRng(m)}},_R=(e,n,o=!0)=>{const a=e.dom,u=e.selection;if(n)yR(e,n,o);else if(n=Ip(e.getBody(),u.getStart()),!n)for(;n=a.get(uv);)yR(e,n,o)},LT=(e,n,o)=>{var a,u;const m=e.dom,b=m.getParent(o,lt(FC,e.schema));b&&m.isEmpty(b)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):(_2(ge.fromDom(o)),m.isEmpty(o)?(u=o.parentNode)===null||u===void 0||u.replaceChild(n,o):m.insertAfter(n,o))},uI=(e,n)=>(e.appendChild(n),n),Nd=(e,n)=>{var o;const a=Bt(e,(m,b)=>uI(m,b.cloneNode(!1)),n),u=(o=a.ownerDocument)!==null&&o!==void 0?o:document;return uI(a,u.createTextNode(a_))},FT=(e,n,o,a,u,m)=>{const b=e.formatter,S=e.dom,T=st(Hs(b.get()),V=>V!==a&&!As(V,"removeformat")),$=i_(e,o,T);if(st($,V=>!My(e,V,a)).length>0){const V=o.cloneNode(!1);return S.add(n,V),b.remove(a,u,V,m),S.remove(V),Y.some(V)}else return Y.none()},dI=(e,n,o)=>{let a;const u=e.selection,m=e.formatter.get(n);if(!m)return;const b=u.getRng();let S=b.startOffset;const $=b.startContainer.nodeValue;a=Ip(e.getBody(),u.getStart());const W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if($&&S>0&&S<$.length&&W.test($.charAt(S))&&W.test($.charAt(S-1))){const V=u.getBookmark();b.collapse(!0);let X=Up(e.dom,b,m);X=Mh(X),e.formatter.apply(n,o,X),u.moveToBookmark(V)}else{let V=a?Vu(a):null;(!a||(V==null?void 0:V.data)!==a_)&&(a=$v(e.getDoc(),c_(!0).dom),V=a.firstChild,b.insertNode(a),S=1),e.formatter.apply(n,o,a),u.setCursorLocation(V,S)}},wR=(e,n,o,a)=>{const u=e.dom,m=e.selection;let b=!1;const S=e.formatter.get(n);if(!S)return;const T=m.getRng(),$=T.startContainer,W=T.startOffset;let V=$;Et($)&&(W!==$.data.length&&(b=!0),V=V.parentNode);const X=[];let ue;for(;V;){if(wm(e,V,n,o,a)){ue=V;break}V.nextSibling&&(b=!0),X.push(V),V=V.parentNode}if(ue)if(b){const he=m.getBookmark();T.collapse(!0);let re=Up(u,T,S,!0);re=Mh(re),e.formatter.remove(n,o,re,a),m.moveToBookmark(he)}else{const he=Ip(e.getBody(),ue),re=c_(!1).dom;LT(e,re,he??ue);const fe=FT(e,re,ue,n,o,a),Re=Nd(X.concat(fe.toArray()),re);he&&yR(e,he,!1),m.setCursorLocation(Re,1),u.isEmpty(ue)&&u.remove(ue)}},CR=(e,n,o)=>{const a=e.selection,u=e.getBody();_R(e,null,o),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===a_&&_R(e,Ip(u,a.getStart())),(n===37||n===39)&&_R(e,Ip(u,a.getStart()))},Pv=e=>Et(e)&&Wc(e.data,rt),SR=e=>{e.on("mouseup keydown",n=>{CR(e,n.keyCode,Pv(e.selection.getRng().endContainer))})},fI=e=>{const n=c_(!1),o=Nd(e,n.dom);return{caretContainer:n,caretPosition:Je(o,0)}},ER=(e,n)=>{const{caretContainer:o,caretPosition:a}=fI(n);return Ha(ge.fromDom(e),o),Uo(ge.fromDom(e)),a},sW=(e,n)=>{const{caretContainer:o,caretPosition:a}=fI(n);return e.insertNode(o.dom),a},mI=(e,n)=>{const o=e.schema.getTextInlineElements();return Dn(o,Ss(n))&&!nu(n.dom)&&!Oc(n.dom)},hI=e=>nu(e.dom)&&ng(e.dom),OS={},l_=Yc(["pre"]),rW=(e,n)=>{OS[e]||(OS[e]=[]),OS[e].push(n)},pI=(e,n)=>{Dn(OS,e)&&Ae(OS[e],o=>{o(n)})};rW("pre",e=>{const n=e.selection.getRng(),o=u=>m=>{const b=m.previousSibling;return l_(b)&&je(u,b)},a=(u,m)=>{const b=ge.fromDom(m),S=ql(b).dom;Uo(b),Es(ge.fromDom(u),[ge.fromTag("br",S),ge.fromTag("br",S),...ni(b)])};if(!n.collapsed){const u=e.selection.getSelectedBlocks(),m=st(st(u,l_),o(u));Ae(m,b=>{a(b.previousSibling,b)})}});const HT=["fontWeight","fontStyle","color","fontSize","fontFamily"],iW=e=>ke(e.styles)&&pt(Hs(e.styles),n=>je(HT,n)),gI=e=>nn(e,n=>_i(n)&&n.inline==="span"&&iW(n)),xR=(e,n)=>{const o=e.get(n);return We(o)?gI(o):Y.none()},bI=(e,n)=>ua(n,Je.fromRangeStart(e)).isNone(),vI=(e,n)=>ka(n,Je.fromRangeEnd(e)).exists(o=>!Xs(o.getNode())||ka(n,o).isSome())===!1,yI=e=>n=>qf(n)&&e.isEditable(n),aW=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return bI(o,n[0])&&vI(o,n[0])?n:[];{const a=oo(n).filter(b=>bI(o,b)).toArray(),u=fs(n).filter(b=>vI(o,b)).toArray(),m=n.slice(1,-1);return a.concat(m).concat(u)}},cW=e=>st(aW(e),yI(e.dom)),_I=e=>st(e.getSelectedBlocks(),yI(e.dom)),TR=gt.each,kR=e=>qt(e)&&!Tl(e)&&!nu(e)&&!Oc(e),wI=(e,n)=>{for(let o=e;o;o=o[n]){if(Et(o)&&Xo(o.data))return e;if(qt(o)&&!Tl(o))return o}return e},CI=(e,n,o)=>{const a=_S(e),u=qt(n)&&_f(n),m=qt(o)&&_f(o);if(u&&m){const b=wI(n,"previousSibling"),S=wI(o,"nextSibling");if(a.compare(b,S)){for(let T=b.nextSibling;T&&T!==S;){const $=T;T=T.nextSibling,b.appendChild($)}return e.dom.remove(S),gt.each(gt.grep(S.childNodes),T=>{b.appendChild(T)}),b}}return o},SI=(e,n,o,a)=>{var u;if(a&&n.merge_siblings!==!1){const m=(u=CI(e,Ix(a),a))!==null&&u!==void 0?u:a;CI(e,m,Ix(m,!0))}},lW=(e,n,o)=>{if(n.clear_child_styles){const a=n.links?"*:not(a)":"*";TR(e.select(a,o),u=>{kR(u)&&_f(u)&&TR(n.styles,(m,b)=>{e.setStyle(u,b,"")})})}},AR=(e,n,o)=>{TR(e.childNodes,a=>{kR(a)&&(n(a)&&o(a),a.hasChildNodes()&&AR(a,n,o))})},EI=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},xI=(e,n)=>o=>!!(o&&Or(e,o,n)),Bv=(e,n,o)=>a=>{e.setStyle(a,n,o),a.getAttribute("style")===""&&a.removeAttribute("style"),EI(e,a)},Iv=Sd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),uW=/^(src|href|style)$/,OR=gt.each,VT=ci,TI=e=>/^(TR|TH|TD)$/.test(e.nodeName),kI=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),AI=(e,n,o)=>{let a=n[o?"startContainer":"endContainer"],u=n[o?"startOffset":"endOffset"];if(qt(a)){const m=a.childNodes.length-1;!o&&u&&u--,a=a.childNodes[u>m?m:u]}return Et(a)&&o&&u>=a.data.length&&(a=new Ir(a,e.getBody()).next()||a),Et(a)&&!o&&u===0&&(a=new Ir(a,e.getBody()).prev()||a),a},OI=(e,n)=>{const o=n?"firstChild":"lastChild",a=e[o];return TI(e)&&a?e.nodeName==="TR"&&a[o]||a:e},DR=(e,n,o,a)=>{var u;const m=e.create(o,a);return(u=n.parentNode)===null||u===void 0||u.insertBefore(m,n),m.appendChild(n),m},DI=(e,n,o,a,u)=>{const m=ge.fromDom(n),b=ge.fromDom(e.create(a,u)),S=o?Ia(m):xg(m);return Es(b,S),o?(Ha(m,b),ch(b,m)):(kc(m,b),_r(b,m)),b.dom},dW=(e,n)=>n.links&&e.nodeName==="A",NI=(e,n,o)=>{const a=n.parentNode;let u;const m=e.dom,b=Sr(e);kd(o)&&a===m.getRoot()&&(!o.list_block||!VT(n,o.list_block))&&Ae(ms(n.childNodes),S=>{_b(e,b,S.nodeName.toLowerCase())?u?u.appendChild(S):(u=DR(m,S,b),m.setAttribs(u,Eh(e))):u=null}),!(zC(o)&&!VT(o.inline,n))&&m.remove(n,!0)},RI=(e,n,o)=>Tt(e)?{name:n,value:null}:{name:e,value:zt(n,o)},MI=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},$I=(e,n,o,a,u)=>{let m=!1;OR(o.styles,(b,S)=>{const{name:T,value:$}=RI(S,b,a),W=Cb($,T);(o.remove_similar||J($)||!qt(u)||VT(Or(e,u,T),W))&&e.setStyle(n,T,""),m=!0}),m&&MI(e,n)},NR=(e,n,o)=>{n==="removeformat"?Ae(_I(e.selection),a=>{Ae(HT,u=>e.dom.setStyle(a,u,"")),MI(e.dom,a)}):xR(e.formatter,n).each(a=>{Ae(_I(e.selection),u=>$I(e.dom,u,a,o,null))})},RR=(e,n,o,a,u)=>{const m=e.dom,b=_S(e),S=e.schema;if(_i(n)&&R0(S,n.inline)&&gh(S,a)&&a.parentElement===e.getBody())return NI(e,a,n),Iv.removed();if(!n.ceFalseOverride&&a&&m.getContentEditableParent(a)==="false"||a&&!r_(m,a,n)&&!dW(a,n))return Iv.keep();const T=a,$=n.preserve_attributes;if(_i(n)&&n.remove==="all"&&We($)){const W=st(m.getAttribs(T),V=>je($,V.name.toLowerCase()));if(m.removeAllAttribs(T),Ae(W,V=>m.setAttrib(T,V.name,V.value)),W.length>0)return Iv.rename("span")}if(n.remove!=="all"){$I(m,T,n,o,u),OR(n.attributes,(V,X)=>{const{name:ue,value:he}=RI(X,V,o);if(n.remove_similar||J(he)||!qt(u)||VT(m.getAttrib(u,ue),he)){if(ue==="class"){const re=m.getAttrib(T,ue);if(re){let fe="";if(Ae(re.split(/\s+/),Re=>{/mce\-\w+/.test(Re)&&(fe+=(fe?" ":"")+Re)}),fe){m.setAttrib(T,ue,fe);return}}}if(uW.test(ue)&&T.removeAttribute("data-mce-"+ue),ue==="style"&&Yc(["li"])(T)&&m.getStyle(T,"list-style-type")==="none"){T.removeAttribute(ue),m.setStyle(T,"list-style-type","none");return}ue==="class"&&T.removeAttribute("className"),T.removeAttribute(ue)}}),OR(n.classes,V=>{V=zt(V,o),(!qt(u)||m.hasClass(u,V))&&m.removeClass(T,V)});const W=m.getAttribs(T);for(let V=0;V<W.length;V++){const X=W[V].nodeName;if(!b.isAttributeInternal(X))return Iv.keep()}}return n.remove!=="none"?(NI(e,T,n),Iv.removed()):Iv.keep()},Vte=(e,n,o,a,u)=>{let m;return n.parentNode&&Ae(fv(e.dom,n.parentNode).reverse(),b=>{if(!m&&qt(b)&&b.id!=="_start"&&b.id!=="_end"){const S=wm(e,b,o,a,u);S&&S.split!==!1&&(m=b)}}),m},DS=(e,n,o,a)=>RR(e,n,o,a,a).fold(ot(a),u=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,u)),ot(null)),PI=(e,n,o,a,u,m,b,S)=>{var T,$;let W,V;const X=e.dom;if(o){const ue=o.parentNode;for(let he=a.parentNode;he&&he!==ue;he=he.parentNode){let re=X.clone(he,!1);for(let fe=0;fe<n.length&&(re=DS(e,n[fe],S,re),re!==null);fe++);re&&(W&&re.appendChild(W),V||(V=re),W=re)}m&&(!b.mixed||!X.isBlock(o))&&(a=(T=X.split(o,a))!==null&&T!==void 0?T:a),W&&V&&(($=u.parentNode)===null||$===void 0||$.insertBefore(W,u),V.appendChild(u),_i(b)&&SI(e,b,S,W))}return a},NS=(e,n,o,a,u)=>{const m=e.formatter.get(n),b=m[0],S=e.dom,T=e.selection,$=re=>{const fe=Vte(e,re,n,o,u);return PI(e,m,fe,re,re,!0,b,o)},W=re=>Tl(re)&&qt(re)&&(re.id==="_start"||re.id==="_end"),V=re=>pt(m,fe=>d_(e,fe,o,re,re)),X=re=>{const fe=ms(re.childNodes),Pe=V(re)||pt(m,ht=>r_(S,re,ht)),Be=re.parentNode;if(!Pe&&ye(Be)&&Py(b)&&V(Be),b.deep&&fe.length)for(let ht=0;ht<fe.length;ht++)X(fe[ht]);Ae(["underline","line-through","overline"],ht=>{qt(re)&&e.dom.getStyle(re,"text-decoration")===ht&&re.parentNode&&ou(S,re.parentNode)===ht&&d_(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:ht}},void 0,re)})},ue=re=>{const fe=S.get(re?"_start":"_end");if(fe){let Re=fe[re?"firstChild":"lastChild"];return W(Re)&&(Re=Re[re?"firstChild":"lastChild"]),Et(Re)&&Re.data.length===0&&(Re=re?fe.previousSibling||fe.nextSibling:fe.nextSibling||fe.previousSibling),S.remove(fe,!0),Re}else return null},he=re=>{let fe,Re,Pe=Up(S,re,m,re.collapsed);if(b.split){if(Pe=Mh(Pe),fe=AI(e,Pe,!0),Re=AI(e,Pe),fe!==Re){if(fe=OI(fe,!0),Re=OI(Re,!1),kI(S,fe,Re)){const Ve=Y.from(fe.firstChild).getOr(fe);$(DI(S,Ve,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ue(!0);return}if(kI(S,Re,fe)){const Ve=Y.from(Re.lastChild).getOr(Re);$(DI(S,Ve,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ue(!1);return}fe=DR(S,fe,"span",{id:"_start","data-mce-type":"bookmark"}),Re=DR(S,Re,"span",{id:"_end","data-mce-type":"bookmark"});const Be=S.createRng();Be.setStartAfter(fe),Be.setEndBefore(Re),Dh(S,Be,Ve=>{Ae(Ve,ht=>{!Tl(ht)&&!Tl(ht.parentNode)&&$(ht)})}),$(fe),$(Re),fe=ue(!0),Re=ue()}else fe=Re=$(fe);Pe.startContainer=fe.parentNode?fe.parentNode:fe,Pe.startOffset=S.nodeIndex(fe),Pe.endContainer=Re.parentNode?Re.parentNode:Re,Pe.endOffset=S.nodeIndex(Re)+1}Dh(S,Pe,Be=>{Ae(Be,X)})};if(a){if(dv(a)){const re=S.createRng();re.setStartBefore(a),re.setEndAfter(a),he(re)}else he(a);XC(e,n,a,o);return}!T.isCollapsed()||!_i(b)||Oh(e).length?(Bx(e,()=>pm(e,he),re=>_i(b)&&IT(e,n,o,re)),e.nodeChanged()):wR(e,n,o,u),NR(e,n,o),XC(e,n,a,o)},u_=(e,n,o,a,u)=>{(a||e.selection.isEditable())&&NS(e,n,o,a,u)},d_=(e,n,o,a,u)=>RR(e,n,o,a,u).fold(at,m=>(e.dom.rename(a,m),!0),wt),fW=gt.each,mW=(e,n,o,a)=>{const u=m=>{if(qt(m)&&qt(m.parentNode)&&_f(m)){const b=ou(e,m.parentNode);e.getStyle(m,"color")&&b?e.setStyle(m,"text-decoration",b):e.getStyle(m,"text-decoration")===b&&e.setStyle(m,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(gt.walk(a,u,"childNodes"),u(a))},zte=(e,n,o,a)=>{if(n.styles&&n.styles.backgroundColor){const u=xI(e,"fontSize");AR(a,m=>u(m)&&_f(m),Bv(e,"backgroundColor",zt(n.styles.backgroundColor,o)))}},hW=(e,n,o,a)=>{if(_i(n)&&(n.inline==="sub"||n.inline==="sup")){const u=xI(e,"fontSize");AR(a,b=>u(b)&&_f(b),Bv(e,"fontSize",""));const m=st(e.select(n.inline==="sup"?"sub":"sup",a),_f);e.remove(m,!0)}},pW=(e,n,o,a)=>{fW(n,u=>{_i(u)&&fW(e.dom.select(u.inline,a),m=>{kR(m)&&d_(e,u,o,m,u.exact?m:null)}),lW(e.dom,u,a)})},Wte=(e,n,o,a,u)=>{const m=u.parentNode;wm(e,m,o,a)&&d_(e,n,a,u)||n.merge_with_parents&&m&&e.dom.getParent(m,b=>wm(e,b,o,a)?(d_(e,n,a,u),!0):!1)},zT=gt.each,BI=(e,n,o,a)=>{if(my(e)&&_i(n)&&o.parentNode){const u=Nu(e.schema),m=eW(ge.fromDom(o),b=>nu(b.dom));return Xr(u,a)&&ri(ge.fromDom(o.parentNode),!1)&&!m}else return!1},II=(e,n,o,a)=>{if(zT(o.styles,(u,m)=>{e.setStyle(n,m,zt(u,a))}),o.styles){const u=e.getAttrib(n,"style");u&&e.setAttrib(n,"data-mce-style",u)}},LI=(e,n,o,a)=>{const u=e.formatter.get(n),m=u[0],b=!a&&e.selection.isCollapsed(),S=e.dom,T=e.selection,$=(he,re=m)=>{ie(re.onformat)&&re.onformat(he,re,o,a),II(S,he,re,o),zT(re.attributes,(fe,Re)=>{S.setAttrib(he,Re,zt(fe,o))}),zT(re.classes,fe=>{const Re=zt(fe,o);S.hasClass(he,Re)||S.addClass(he,Re)})},W=(he,re)=>{let fe=!1;return zT(he,Re=>kl(Re)?S.getContentEditable(re)==="false"&&!Re.ceFalseOverride||ye(Re.collapsed)&&Re.collapsed!==b?!0:S.is(re,Re.selector)&&!nu(re)?($(re,Re),fe=!0,!1):!0:!1),fe},V=he=>{if(q(he)){const re=S.create(he);return $(re),re}else return null},X=(he,re,fe)=>{const Re=[];let Pe=!0;const Be=m.inline||m.block,Ve=V(Be),ht=et=>$y(m)&&wm(e,et,n,o),dn=(et,ct,It)=>{const Ht=fN(m)&&FC(e.schema,et)&&_b(e,ct,Be);return It&&Ht},yt=(et,ct,It,Ht)=>{const on=et.nodeName.toLowerCase(),Mn=_b(e,Be,on)&&_b(e,ct,Be),$n=!fe&&Et(et)&&xe(et.data),Po=nu(et),Wo=!_i(m)||!he.isBlock(et);return(It||Ht)&&Mn&&!$n&&!Po&&Wo};Dh(he,re,et=>{let ct;const It=Ht=>{let on=!1,Mn=Pe,$n=!1;const Po=Ht.parentNode,Wo=Po.nodeName.toLowerCase(),ys=he.getContentEditable(Ht);ye(ys)&&(Mn=Pe,Pe=ys==="true",on=!0,$n=Lx(e,Ht));const Xa=Pe&&!on;if(Xs(Ht)&&!BI(e,m,Ht,Wo)){ct=null,kd(m)&&he.remove(Ht);return}if(ht(Ht)){ct=null;return}if(dn(Ht,Wo,Xa)){const Li=he.rename(Ht,Be);$(Li),Re.push(Li),ct=null;return}if(kl(m)){let Li=W(u,Ht);if(!Li&&ye(Po)&&Py(m)&&(Li=W(u,Po)),!_i(m)||Li){ct=null;return}}ye(Ve)&&yt(Ht,Wo,Xa,$n)?(ct||(ct=he.clone(Ve,!1),Po.insertBefore(ct,Ht),Re.push(ct)),$n&&on&&(Pe=Mn),ct.appendChild(Ht)):(ct=null,Ae(ms(Ht.childNodes),It),on&&(Pe=Mn),ct=null)};Ae(et,It)}),m.links===!0&&Ae(Re,et=>{const ct=It=>{It.nodeName==="A"&&$(It,m),Ae(ms(It.childNodes),ct)};ct(et)}),Ae(Re,et=>{const ct=on=>{let Mn=0;return Ae(on.childNodes,$n=>{!dN($n)&&!Tl($n)&&Mn++}),Mn},It=on=>nn(on.childNodes,LC).filter($n=>he.getContentEditable($n)!=="false"&&r_(he,$n,m)).map($n=>{const Po=he.clone($n,!1);return $(Po),he.replace(Po,on,!0),he.remove($n,!0),Po}).getOr(on),Ht=ct(et);if((Re.length>1||!he.isBlock(et))&&Ht===0){he.remove(et,!0);return}(_i(m)||kd(m)&&m.wrapper)&&(!m.exact&&Ht===1&&(et=It(et)),pW(e,u,o,et),Wte(e,m,n,o,et),zte(he,m,o,et),mW(he,m,o,et),hW(he,m,o,et),SI(e,m,o,et))})},ue=dv(a)?a:T.getNode();if(S.getContentEditable(ue)==="false"&&!Lx(e,ue)){a=ue,W(u,a),qx(e,n,a,o);return}if(m){if(a)if(dv(a)){if(!W(u,a)){const he=S.createRng();he.setStartBefore(a),he.setEndAfter(a),X(S,Up(S,he,u),!0)}}else X(S,a,!0);else!b||!_i(m)||Oh(e).length?(T.setRng(SS(T.getRng())),Bx(e,()=>{pm(e,(he,re)=>{const fe=re?he:Up(S,he,u);X(S,fe,!1)})},wt),e.nodeChanged()):dI(e,n,o),xR(e.formatter,n).each(he=>{Ae(cW(e.selection),re=>II(S,re,he,o))});pI(n,e)}qx(e,n,a,o)},FI=(e,n,o,a)=>{(a||e.selection.isEditable())&&LI(e,n,o,a)},RS=e=>Dn(e,"vars"),HI=(e,n)=>{e.set({}),n.on("NodeChange",o=>{vW(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const a=Y.from(o.node).map(u=>dv(u)?u:u.startContainer).bind(u=>qt(u)?Y.some(u):Y.from(u.parentElement)).getOrThunk(()=>wi(n));vW(n,a,e.get())})},wi=e=>e.selection.getStart(),gW=(e,n,o,a,u)=>vn(n,S=>{const T=e.formatter.matchNode(S,o,u??{},a);return!Ge(T)},S=>Lr(e,S,o)?!0:a?!1:ye(e.formatter.matchNode(S,o,u,!0))),bW=(e,n)=>{const o=n??wi(e);return st(fv(e.dom,o),a=>qt(a)&&!Oc(a))},vW=(e,n,o)=>{const a=bW(e,n);Mt(o,(u,m)=>{const b=S=>{const T=gW(e,a,m,S.similar,RS(S)?S.vars:void 0),$=T.isSome();if(S.state.get()!==$){S.state.set($);const W=T.getOr(n);RS(S)?S.callback($,{node:W,format:m,parents:a}):Ae(S.callbacks,V=>V($,{node:W,format:m,parents:a}))}};Ae([u.withSimilar,u.withoutSimilar],b),Ae(u.withVars,b)})},Ute=(e,n,o,a,u,m)=>{const b=n.get();Ae(o.split(","),S=>{const T=cs(b,S).getOrThunk(()=>{const W={withSimilar:{state:pi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:pi(!1),similar:!1,callbacks:[]},withVars:[]};return b[S]=W,W}),$=()=>{const W=bW(e);return gW(e,W,S,u,m).isSome()};if(Ge(m)){const W=u?T.withSimilar:T.withoutSimilar;W.callbacks.push(a),W.callbacks.length===1&&W.state.set($())}else T.withVars.push({state:pi($()),similar:u,vars:m,callback:a})}),n.set(b)},wf=(e,n,o)=>{const a=e.get();Ae(n.split(","),u=>cs(a,u).each(m=>{a[u]={withSimilar:{...m.withSimilar,callbacks:st(m.withSimilar.callbacks,b=>b!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:st(m.withoutSimilar.callbacks,b=>b!==o)},withVars:st(m.withVars,b=>b.callback!==o)}})),e.set(a)},WT=(e,n,o,a,u,m)=>(Ute(e,n,o,a,u,m),{unbind:()=>wf(n,o,a)}),Bb=(e,n,o,a)=>{const u=e.formatter.get(n);u&&(IT(e,n,o,a)&&(!("toggle"in u[0])||u[0].toggle)?u_(e,n,o,a):FI(e,n,o,a))},og=gt.explode,VI=()=>{const e={};return{addFilter:(u,m)=>{Ae(og(u),b=>{Dn(e,b)||(e[b]={name:b,callbacks:[]}),e[b].callbacks.push(m)})},getFilters:()=>Na(e),removeFilter:(u,m)=>{Ae(og(u),b=>{if(Dn(e,b))if(ye(m)){const S=e[b],T=st(S.callbacks,$=>$!==m);T.length>0?S.callbacks=T:delete e[b]}else delete e[b]})}}},yW=(e,n)=>{Ae(n,o=>{e.attr(o,null)})},f_=(e,n,o)=>{e.addNodeFilter("font",a=>{Ae(a,u=>{const m=n.parse(u.attr("style")),b=u.attr("color"),S=u.attr("face"),T=u.attr("size");b&&(m.color=b),S&&(m["font-family"]=S),T&&vl(T).each($=>{m["font-size"]=o[$-1]}),u.name="span",u.attr("style",n.serialize(m)),yW(u,["color","face","size"])})})},m_=(e,n,o)=>{e.addNodeFilter("strike",a=>{const u=n.type!=="html4";Ae(a,m=>{if(u)m.name="s";else{const b=o.parse(m.attr("style"));b["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(b))}})})},h_=(e,n,o)=>{var a;const u=Bw();n.convert_fonts_to_spans&&f_(e,u,gt.explode((a=n.font_size_legacy_values)!==null&&a!==void 0?a:"")),m_(e,o,u)},_W=(e,n,o)=>{n.inline_styles&&h_(e,n,o)},UT=(e,n,o)=>{n.addNodeFilter("br",(a,u,m)=>{const b=gt.extend({},o.getBlockElements()),S=o.getNonEmptyElements(),T=o.getWhitespaceElements();b.body=1;const $=W=>W.name in b||M1(o,W);for(let W=0,V=a.length;W<V;W++){let X=a[W],ue=X.parent;if(ue&&$(ue)&&X===ue.lastChild){let he=X.prev;for(;he;){const re=he.name;if(re!=="span"||he.attr("data-mce-type")!=="bookmark"){re==="br"&&(X=null);break}he=he.prev}if(X&&(X.remove(),Nv(o,S,T,ue))){const re=o.getElementRule(ue.name);re&&(re.removeEmpty?ue.remove():re.paddEmpty&&DT(e,m,$,ue))}}else{let he=X;for(;ue&&ue.firstChild===he&&ue.lastChild===he&&(he=ue,!b[ue.name]);)ue=ue.parent;if(he===ue){const re=new Ol("#text",3);re.value=rt,X.replace(re)}}}})},zI=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),WI=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},MR=e=>{const[n,...o]=e.split(","),a=o.join(","),u=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(u){const m=u[2]===";base64",b=m?WI(a):decodeURIComponent(a);return Y.some({type:u[1],data:b,base64Encoded:m})}else return Y.none()},UI=(e,n,o=!0)=>{let a=n;if(o)try{a=atob(n)}catch{return Y.none()}const u=new Uint8Array(a.length);for(let m=0;m<u.length;m++)u[m]=a.charCodeAt(m);return Y.some(new Blob([u],{type:e}))},jI=e=>new Promise((n,o)=>{MR(e).bind(({type:a,data:u,base64Encoded:m})=>UI(a,u,m)).fold(()=>o("Invalid data URI"),n)}),wW=e=>us(e,"blob:")?zI(e):us(e,"data:")?jI(e):Promise.reject("Unknown URI format"),ZI=e=>new Promise((n,o)=>{const a=new FileReader;a.onloadend=()=>{n(a.result)},a.onerror=()=>{var u;o((u=a.error)===null||u===void 0?void 0:u.message)},a.readAsDataURL(e)});let CW=0;const SW=e=>(e||"blobid")+CW++,KI=(e,n,o)=>MR(e).bind(({data:a,type:u,base64Encoded:m})=>{if(n&&!m)return Y.none();{const b=m?a:btoa(a);return o(b,u)}}),$R=(e,n,o)=>{const a=e.create(SW(),n,o);return e.add(a),a},qI=(e,n,o=!1)=>KI(n,o,(a,u)=>Y.from(e.getByData(a,u)).orThunk(()=>UI(u,a).map(m=>$R(e,m,a)))),MS=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(us(n,"blob:")){const a=e.getByUri(n);return ye(a)?Promise.resolve(a):wW(n).then(u=>ZI(u).then(m=>KI(m,!1,b=>Y.some($R(e,u,b))).getOrThunk(o)))}else return us(n,"data:")?qI(e,n).fold(o,a=>Promise.resolve(a)):Promise.reject("Unknown image data format")},GI=e=>ye(e.attr("data-mce-bogus")),EW=e=>e.attr("src")===Oo.transparentSrc||ye(e.attr("data-mce-placeholder")),YI=(e,n)=>{const{blob_cache:o}=n;if(o){const a=u=>{const m=u.attr("src");EW(u)||GI(u)||Ue(m)||qI(o,m,!0).each(b=>{u.attr("src",b.blobUri())})};e.addAttributeFilter("src",u=>Ae(u,a))}},xW=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&UT(n,e,o),e.addAttributeFilter("href",u=>{let m=u.length;const b=T=>T.split(" ").filter(W=>W.length>0).concat(["noopener"]).sort().join(" "),S=T=>{const $=T?gt.trim(T):"";return/\b(noopener)\b/g.test($)?$:b($)};if(!n.allow_unsafe_link_target)for(;m--;){const T=u[m];T.name==="a"&&T.attr("target")==="_blank"&&T.attr("rel",S(T.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",u=>{let m=u.length,b,S,T,$;for(;m--;)if($=u[m],$.name==="a"&&$.firstChild&&!$.attr("href"))for(T=$.parent,b=$.lastChild;b&&T;)S=b.prev,T.insert(b,$),b=S}),n.fix_list_elements&&e.addNodeFilter("ul,ol",u=>{let m=u.length,b,S;for(;m--;)if(b=u[m],S=b.parent,S&&(S.name==="ul"||S.name==="ol"))if(b.prev&&b.prev.name==="li")b.prev.append(b);else{const T=new Ol("li",1);T.attr("style","list-style-type: none"),b.wrap(T)}});const a=o.getValidClasses();n.validate&&a&&e.addAttributeFilter("class",u=>{var m;let b=u.length;for(;b--;){const S=u[b],T=(m=S.attr("class"))!==null&&m!==void 0?m:"",$=gt.explode(T," ");let W="";for(let V=0;V<$.length;V++){const X=$[V];let ue=!1,he=a["*"];he&&he[X]&&(ue=!0),he=a[S.name],!ue&&he&&he[X]&&(ue=!0),ue&&(W&&(W+=" "),W+=X)}W.length||(W=null),S.attr("class",W)}}),YI(e,n)};function Ib(e){return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ib(e)}function PR(e,n){return PR=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},PR(e,n)}function TW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $S(e,n,o){return TW()?$S=Reflect.construct:$S=function(u,m,b){var S=[null];S.push.apply(S,m);var T=Function.bind.apply(u,S),$=new T;return b&&PR($,b.prototype),$},$S.apply(null,arguments)}function Cf(e){return XI(e)||JI(e)||QI(e)||kW()}function XI(e){if(Array.isArray(e))return jT(e)}function JI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QI(e,n){if(e){if(typeof e=="string")return jT(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return jT(e,n)}}function jT(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,a=new Array(n);o<n;o++)a[o]=e[o];return a}function kW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var AW=Object.hasOwnProperty,eL=Object.setPrototypeOf,BR=Object.isFrozen,PS=Object.getPrototypeOf,tL=Object.getOwnPropertyDescriptor,Dl=Object.freeze,Rd=Object.seal,OW=Object.create,nL=typeof Reflect<"u"&&Reflect,Cm=nL.apply,BS=nL.construct;Cm||(Cm=function(n,o,a){return n.apply(o,a)}),Dl||(Dl=function(n){return n}),Rd||(Rd=function(n){return n}),BS||(BS=function(n,o){return $S(n,Cf(o))});var oL=Sm(Array.prototype.forEach),IS=Sm(Array.prototype.pop),p_=Sm(Array.prototype.push),g_=Sm(String.prototype.toLowerCase),sL=Sm(String.prototype.match),sg=Sm(String.prototype.replace),DW=Sm(String.prototype.indexOf),NW=Sm(String.prototype.trim),cu=Sm(RegExp.prototype.test),LS=rL(TypeError);function Sm(e){return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return Cm(e,n,a)}}function rL(e){return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return BS(e,o)}}function xs(e,n){eL&&eL(e,null);for(var o=n.length;o--;){var a=n[o];if(typeof a=="string"){var u=g_(a);u!==a&&(BR(n)||(n[o]=u),a=u)}e[a]=!0}return e}function Lv(e){var n=OW(null),o;for(o in e)Cm(AW,e,[o])&&(n[o]=e[o]);return n}function ZT(e,n){for(;e!==null;){var o=tL(e,n);if(o){if(o.get)return Sm(o.get);if(typeof o.value=="function")return Sm(o.value)}e=PS(e)}function a(u){return console.warn("fallback value for",u),null}return a}var KT=Dl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ya=Dl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),IR=Dl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),qT=Dl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rg=Dl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),iL=Dl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nl=Dl(["#text"]),Lb=Dl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),GT=Dl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),aL=Dl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),FS=Dl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),RW=Rd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cL=Rd(/<%[\w\W]*|[\w\W]*%>/gm),HS=Rd(/^data-[\-\w.\u00B7-\uFFFF]/),LR=Rd(/^aria-[\-\w]+$/),MW=Rd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lL=Rd(/^(?:\w+script|data):/i),$W=Rd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),FR=Rd(/^html$/i),HR=function(){return typeof window>"u"?null:window},VR=function(n,o){if(Ib(n)!=="object"||typeof n.createPolicy!="function")return null;var a=null,u="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(u)&&(a=o.currentScript.getAttribute(u));var m="dompurify"+(a?"#"+a:"");try{return n.createPolicy(m,{createHTML:function(S){return S}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function zR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:HR(),n=function(tt){return zR(tt)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,a=e.document,u=e.DocumentFragment,m=e.HTMLTemplateElement,b=e.Node,S=e.Element,T=e.NodeFilter,$=e.NamedNodeMap,W=$===void 0?e.NamedNodeMap||e.MozNamedAttrMap:$,V=e.HTMLFormElement,X=e.DOMParser,ue=e.trustedTypes,he=S.prototype,re=ZT(he,"cloneNode"),fe=ZT(he,"nextSibling"),Re=ZT(he,"childNodes"),Pe=ZT(he,"parentNode");if(typeof m=="function"){var Be=a.createElement("template");Be.content&&Be.content.ownerDocument&&(a=Be.content.ownerDocument)}var Ve=VR(ue,o),ht=Ve?Ve.createHTML(""):"",dn=a,yt=dn.implementation,et=dn.createNodeIterator,ct=dn.createDocumentFragment,It=dn.getElementsByTagName,Ht=o.importNode,on={};try{on=Lv(a).documentMode?a.documentMode:{}}catch{}var Mn={};n.isSupported=typeof Pe=="function"&&yt&&typeof yt.createHTMLDocument<"u"&&on!==9;var $n=RW,Po=cL,Wo=HS,ys=LR,Xa=lL,Li=$W,Rt=MW,rn=null,Fo=xs({},[].concat(Cf(KT),Cf(Ya),Cf(IR),Cf(rg),Cf(Nl))),Do=null,fn=xs({},[].concat(Cf(Lb),Cf(GT),Cf(aL),Cf(FS))),gn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ot=null,Ln=null,Yn=!0,Bo=!0,Js=!1,Zn=!1,No=!1,Nr=!1,Rs=!1,xr=!1,ir=!1,Fs=!1,ui=!0,Ja=!0,Qa=!1,Pm={},Hr=null,dg=xs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ll=null,Bm=xs({},["audio","video","img","source","image","track"]),Io=null,pr=xs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$l="http://www.w3.org/1998/Math/MathML",Tf="http://www.w3.org/2000/svg",fu="http://www.w3.org/1999/xhtml",mu=fu,Uh=!1,Da,fg=["application/xhtml+xml","text/html"],Im="text/html",$d,jh=null,PE=a.createElement("form"),H_=function(tt){return tt instanceof RegExp||tt instanceof Function},WA=function(tt){jh&&jh===tt||((!tt||Ib(tt)!=="object")&&(tt={}),tt=Lv(tt),rn="ALLOWED_TAGS"in tt?xs({},tt.ALLOWED_TAGS):Fo,Do="ALLOWED_ATTR"in tt?xs({},tt.ALLOWED_ATTR):fn,Io="ADD_URI_SAFE_ATTR"in tt?xs(Lv(pr),tt.ADD_URI_SAFE_ATTR):pr,ll="ADD_DATA_URI_TAGS"in tt?xs(Lv(Bm),tt.ADD_DATA_URI_TAGS):Bm,Hr="FORBID_CONTENTS"in tt?xs({},tt.FORBID_CONTENTS):dg,Ot="FORBID_TAGS"in tt?xs({},tt.FORBID_TAGS):{},Ln="FORBID_ATTR"in tt?xs({},tt.FORBID_ATTR):{},Pm="USE_PROFILES"in tt?tt.USE_PROFILES:!1,Yn=tt.ALLOW_ARIA_ATTR!==!1,Bo=tt.ALLOW_DATA_ATTR!==!1,Js=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Zn=tt.SAFE_FOR_TEMPLATES||!1,No=tt.WHOLE_DOCUMENT||!1,xr=tt.RETURN_DOM||!1,ir=tt.RETURN_DOM_FRAGMENT||!1,Fs=tt.RETURN_TRUSTED_TYPE||!1,Rs=tt.FORCE_BODY||!1,ui=tt.SANITIZE_DOM!==!1,Ja=tt.KEEP_CONTENT!==!1,Qa=tt.IN_PLACE||!1,Rt=tt.ALLOWED_URI_REGEXP||Rt,mu=tt.NAMESPACE||fu,tt.CUSTOM_ELEMENT_HANDLING&&H_(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(gn.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&H_(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(gn.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(gn.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Da=fg.indexOf(tt.PARSER_MEDIA_TYPE)===-1?Da=Im:Da=tt.PARSER_MEDIA_TYPE,$d=Da==="application/xhtml+xml"?function(an){return an}:g_,Zn&&(Bo=!1),ir&&(xr=!0),Pm&&(rn=xs({},Cf(Nl)),Do=[],Pm.html===!0&&(xs(rn,KT),xs(Do,Lb)),Pm.svg===!0&&(xs(rn,Ya),xs(Do,GT),xs(Do,FS)),Pm.svgFilters===!0&&(xs(rn,IR),xs(Do,GT),xs(Do,FS)),Pm.mathMl===!0&&(xs(rn,rg),xs(Do,aL),xs(Do,FS))),tt.ADD_TAGS&&(rn===Fo&&(rn=Lv(rn)),xs(rn,tt.ADD_TAGS)),tt.ADD_ATTR&&(Do===fn&&(Do=Lv(Do)),xs(Do,tt.ADD_ATTR)),tt.ADD_URI_SAFE_ATTR&&xs(Io,tt.ADD_URI_SAFE_ATTR),tt.FORBID_CONTENTS&&(Hr===dg&&(Hr=Lv(Hr)),xs(Hr,tt.FORBID_CONTENTS)),Ja&&(rn["#text"]=!0),No&&xs(rn,["html","head","body"]),rn.table&&(xs(rn,["tbody"]),delete Ot.tbody),Dl&&Dl(tt),jh=tt)},t$=xs({},["mi","mo","mn","ms","mtext"]),n$=xs({},["foreignobject","desc","title","annotation-xml"]),c8=xs({},["title","style","font","a","script"]),Lm=xs({},Ya);xs(Lm,IR),xs(Lm,qT);var V_=xs({},rg);xs(V_,iL);var Ke=function(tt){var an=Pe(tt);(!an||!an.tagName)&&(an={namespaceURI:fu,tagName:"template"});var Kn=g_(tt.tagName),Rr=g_(an.tagName);return tt.namespaceURI===Tf?an.namespaceURI===fu?Kn==="svg":an.namespaceURI===$l?Kn==="svg"&&(Rr==="annotation-xml"||t$[Rr]):Boolean(Lm[Kn]):tt.namespaceURI===$l?an.namespaceURI===fu?Kn==="math":an.namespaceURI===Tf?Kn==="math"&&n$[Rr]:Boolean(V_[Kn]):tt.namespaceURI===fu?an.namespaceURI===Tf&&!n$[Rr]||an.namespaceURI===$l&&!t$[Rr]?!1:!V_[Kn]&&(c8[Kn]||!Lm[Kn]):!1},qe=function(tt){p_(n.removed,{element:tt});try{tt.parentNode.removeChild(tt)}catch{try{tt.outerHTML=ht}catch{tt.remove()}}},$t=function(tt,an){try{p_(n.removed,{attribute:an.getAttributeNode(tt),from:an})}catch{p_(n.removed,{attribute:null,from:an})}if(an.removeAttribute(tt),tt==="is"&&!Do[tt])if(xr||ir)try{qe(an)}catch{}else try{an.setAttribute(tt,"")}catch{}},kt=function(tt){var an,Kn;if(Rs)tt="<remove></remove>"+tt;else{var Rr=sL(tt,/^[\r\n\t ]+/);Kn=Rr&&Rr[0]}Da==="application/xhtml+xml"&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");var Gu=Ve?Ve.createHTML(tt):tt;if(mu===fu)try{an=new X().parseFromString(Gu,Da)}catch{}if(!an||!an.documentElement){an=yt.createDocument(mu,"template",null);try{an.documentElement.innerHTML=Uh?"":Gu}catch{}}var Pl=an.body||an.documentElement;return tt&&Kn&&Pl.insertBefore(a.createTextNode(Kn),Pl.childNodes[0]||null),mu===fu?It.call(an,No?"html":"body")[0]:No?an.documentElement:Pl},wn=function(tt){return et.call(tt.ownerDocument||tt,tt,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT,null,!1)},Ro=function(tt){return tt instanceof V&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof W)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function")},Qs=function(tt){return Ib(b)==="object"?tt instanceof b:tt&&Ib(tt)==="object"&&typeof tt.nodeType=="number"&&typeof tt.nodeName=="string"},ma=function(tt,an,Kn){Mn[tt]&&oL(Mn[tt],function(Rr){Rr.call(n,an,Kn,jh)})},ha=function(tt){var an;if(ma("beforeSanitizeElements",tt,null),Ro(tt)||cu(/[\u0080-\uFFFF]/,tt.nodeName))return qe(tt),!0;var Kn=$d(tt.nodeName);if(ma("uponSanitizeElement",tt,{tagName:Kn,allowedTags:rn}),tt.hasChildNodes()&&!Qs(tt.firstElementChild)&&(!Qs(tt.content)||!Qs(tt.content.firstElementChild))&&cu(/<[/\w]/g,tt.innerHTML)&&cu(/<[/\w]/g,tt.textContent)||Kn==="select"&&cu(/<template/i,tt.innerHTML))return qe(tt),!0;if(!rn[Kn]||Ot[Kn]){if(!Ot[Kn]&&W_(Kn)&&(gn.tagNameCheck instanceof RegExp&&cu(gn.tagNameCheck,Kn)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(Kn)))return!1;if(Ja&&!Hr[Kn]){var Rr=Pe(tt)||tt.parentNode,Gu=Re(tt)||tt.childNodes;if(Gu&&Rr)for(var Pl=Gu.length,Pc=Pl-1;Pc>=0;--Pc)Rr.insertBefore(re(Gu[Pc],!0),fe(tt))}return qe(tt),!0}return tt instanceof S&&!Ke(tt)||(Kn==="noscript"||Kn==="noembed")&&cu(/<\/no(script|embed)/i,tt.innerHTML)?(qe(tt),!0):(Zn&&tt.nodeType===3&&(an=tt.textContent,an=sg(an,$n," "),an=sg(an,Po," "),tt.textContent!==an&&(p_(n.removed,{element:tt.cloneNode()}),tt.textContent=an)),ma("afterSanitizeElements",tt,null),!1)},z_=function(tt,an,Kn){if(ui&&(an==="id"||an==="name")&&(Kn in a||Kn in PE))return!1;if(!(Bo&&!Ln[an]&&cu(Wo,an))){if(!(Yn&&cu(ys,an))){if(!Do[an]||Ln[an]){if(!(W_(tt)&&(gn.tagNameCheck instanceof RegExp&&cu(gn.tagNameCheck,tt)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(tt))&&(gn.attributeNameCheck instanceof RegExp&&cu(gn.attributeNameCheck,an)||gn.attributeNameCheck instanceof Function&&gn.attributeNameCheck(an))||an==="is"&&gn.allowCustomizedBuiltInElements&&(gn.tagNameCheck instanceof RegExp&&cu(gn.tagNameCheck,Kn)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(Kn))))return!1}else if(!Io[an]){if(!cu(Rt,sg(Kn,Li,""))){if(!((an==="src"||an==="xlink:href"||an==="href")&&tt!=="script"&&DW(Kn,"data:")===0&&ll[tt])){if(!(Js&&!cu(Xa,sg(Kn,Li,"")))){if(Kn)return!1}}}}}}return!0},W_=function(tt){return tt.indexOf("-")>0},o$=function(tt){var an,Kn,Rr,Gu;ma("beforeSanitizeAttributes",tt,null);var Pl=tt.attributes;if(Pl){var Pc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Do};for(Gu=Pl.length;Gu--;){an=Pl[Gu];var BE=an,Bc=BE.name,s$=BE.namespaceURI;Kn=Bc==="value"?an.value:NW(an.value),Rr=$d(Bc);var r$=Kn;if(Pc.attrName=Rr,Pc.attrValue=Kn,Pc.keepAttr=!0,Pc.forceKeepAttr=void 0,ma("uponSanitizeAttribute",tt,Pc),Kn=Pc.attrValue,!Pc.forceKeepAttr){if(!Pc.keepAttr){$t(Bc,tt);continue}if(cu(/\/>/i,Kn)){$t(Bc,tt);continue}Zn&&(Kn=sg(Kn,$n," "),Kn=sg(Kn,Po," "));var u8=$d(tt.nodeName);if(!z_(u8,Rr,Kn)){$t(Bc,tt);continue}if(Kn!==r$)try{s$?tt.setAttributeNS(s$,Bc,Kn):tt.setAttribute(Bc,Kn)}catch{$t(Bc,tt)}}}ma("afterSanitizeAttributes",tt,null)}},l8=function po(tt){var an,Kn=wn(tt);for(ma("beforeSanitizeShadowDOM",tt,null);an=Kn.nextNode();)ma("uponSanitizeShadowNode",an,null),!ha(an)&&(an.content instanceof u&&po(an.content),o$(an));ma("afterSanitizeShadowDOM",tt,null)};return n.sanitize=function(po,tt){var an,Kn,Rr,Gu,Pl;if(Uh=!po,Uh&&(po="<!-->"),typeof po!="string"&&!Qs(po)){if(typeof po.toString!="function")throw LS("toString is not a function");if(po=po.toString(),typeof po!="string")throw LS("dirty is not a string, aborting")}if(!n.isSupported){if(Ib(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof po=="string")return e.toStaticHTML(po);if(Qs(po))return e.toStaticHTML(po.outerHTML)}return po}if(Nr||WA(tt),n.removed=[],typeof po=="string"&&(Qa=!1),Qa){if(po.nodeName){var Pc=$d(po.nodeName);if(!rn[Pc]||Ot[Pc])throw LS("root node is forbidden and cannot be sanitized in-place")}}else if(po instanceof b)an=kt("<!---->"),Kn=an.ownerDocument.importNode(po,!0),Kn.nodeType===1&&Kn.nodeName==="BODY"||Kn.nodeName==="HTML"?an=Kn:an.appendChild(Kn);else{if(!xr&&!Zn&&!No&&po.indexOf("<")===-1)return Ve&&Fs?Ve.createHTML(po):po;if(an=kt(po),!an)return xr?null:Fs?ht:""}an&&Rs&&qe(an.firstChild);for(var BE=wn(Qa?po:an);Rr=BE.nextNode();)Rr.nodeType===3&&Rr===Gu||ha(Rr)||(Rr.content instanceof u&&l8(Rr.content),o$(Rr),Gu=Rr);if(Gu=null,Qa)return po;if(xr){if(ir)for(Pl=ct.call(an.ownerDocument);an.firstChild;)Pl.appendChild(an.firstChild);else Pl=an;return Do.shadowroot&&(Pl=Ht.call(o,Pl,!0)),Pl}var Bc=No?an.outerHTML:an.innerHTML;return No&&rn["!doctype"]&&an.ownerDocument&&an.ownerDocument.doctype&&an.ownerDocument.doctype.name&&cu(FR,an.ownerDocument.doctype.name)&&(Bc="<!DOCTYPE "+an.ownerDocument.doctype.name+`>
`+Bc),Zn&&(Bc=sg(Bc,$n," "),Bc=sg(Bc,Po," ")),Ve&&Fs?Ve.createHTML(Bc):Bc},n.setConfig=function(po){WA(po),Nr=!0},n.clearConfig=function(){jh=null,Nr=!1},n.isValidAttribute=function(po,tt,an){jh||WA({});var Kn=$d(po),Rr=$d(tt);return z_(Kn,Rr,an)},n.addHook=function(po,tt){typeof tt=="function"&&(Mn[po]=Mn[po]||[],p_(Mn[po],tt))},n.removeHook=function(po){if(Mn[po])return IS(Mn[po])},n.removeHooks=function(po){Mn[po]&&(Mn[po]=[])},n.removeAllHooks=function(){Mn={}},n}var uL=zR();const dL=gt.each,Bh=gt.trim,WR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],PW={ftp:21,http:80,https:443,mailto:25},BW=["img","video"],fL=(e,n)=>ye(e)?!e:ye(n)?!je(BW,n):!0,mL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},b_=(e,n,o)=>{const a=mL(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(a)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(a)?fL(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)};class Em{static parseDataUri(n){let o;const a=decodeURIComponent(n).split(","),u=/data:([^;]+)/.exec(a[0]);return u&&(o=u[1]),{type:o,data:a[1]}}static isDomSafe(n,o,a={}){if(a.allow_script_urls)return!0;{const u=em.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!b_(a,u,o)}}static getDocumentBaseUrl(n){var o;let a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=(o=n.href)!==null&&o!==void 0?o:"":a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(n,o={}){this.path="",this.directory="",n=Bh(n),this.settings=o;const a=o.base_uri,u=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){u.source=n;return}const m=n.indexOf("//")===0;if(n.indexOf("/")===0&&!m&&(n=(a&&a.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const S=a?a.path:new Em(document.location.href).directory;if((a==null?void 0:a.protocol)==="")n="//mce_host"+u.toAbsPath(S,n);else{const T=/([^#?]*)([#?]?.*)/.exec(n);T&&(n=(a&&a.protocol||"http")+"://mce_host"+u.toAbsPath(S,T[1])+T[2])}}n=n.replace(/@@/g,"(mce_at)");const b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);b&&dL(WR,(S,T)=>{let $=b[T];$&&($=$.replace(/\(mce_at\)/g,"@@")),u[S]=$}),a&&(u.protocol||(u.protocol=a.protocol),u.userInfo||(u.userInfo=a.userInfo),!u.port&&u.host==="mce_host"&&(u.port=a.port),(!u.host||u.host==="mce_host")&&(u.host=a.host),u.source=""),m&&(u.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Em(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const a=this.getURI(),u=o.getURI();if(a===u||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===u)return a;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(n,o){const a=new Em(n,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?PW[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let a=0,u="",m,b;const S=n.substring(0,n.lastIndexOf("/")).split("/"),T=o.split("/");if(S.length>=T.length){for(m=0,b=S.length;m<b;m++)if(m>=T.length||S[m]!==T[m]){a=m+1;break}}if(S.length<T.length){for(m=0,b=T.length;m<b;m++)if(m>=S.length||S[m]!==T[m]){a=m+1;break}}if(a===1)return o;for(m=0,b=S.length-(a-1);m<b;m++)u+="../";for(m=a-1,b=T.length;m<b;m++)m!==a-1?u+="/"+T[m]:u+=T[m];return u}toAbsPath(n,o){let a=0;const u=/\/$/.test(o)?"/":"",m=n.split("/"),b=o.split("/"),S=[];dL(m,V=>{V&&S.push(V)});const T=[];for(let V=b.length-1;V>=0;V--)if(!(b[V].length===0||b[V]===".")){if(b[V]===".."){a++;continue}if(a>0){a--;continue}T.push(b[V])}const $=S.length-a;let W;return $<=0?W=uo(T).join("/"):W=S.slice(0,$).join("/")+"/"+uo(T).join("/"),W.indexOf("/")!==0&&(W="/"+W),u&&W.lastIndexOf("/")!==W.length-1&&(W+=u),W}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const IW=gt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),UR="data-mce-type";let hL=0;const pL=(e,n,o,a)=>{var u,m,b,S;const T=n.validate,$=o.getSpecialElements();e.nodeType===$a&&!n.allow_conditional_comments&&/^\[if/i.test((u=e.nodeValue)!==null&&u!==void 0?u:"")&&(e.nodeValue=" "+e.nodeValue);const W=(m=a==null?void 0:a.tagName)!==null&&m!==void 0?m:e.nodeName.toLowerCase();if(e.nodeType!==zl||W==="body")return;const V=ge.fromDom(e),X=Eu(V,UR),ue=ei(V,"data-mce-bogus");if(!X&&q(ue)){ue==="all"?Uo(V):wa(V);return}const he=o.getElementRule(W);if(T&&!he){Dn($,W)?Uo(V):wa(V);return}else ye(a)&&(a.allowedTags[W]=!0);if(T&&he&&!X){if(Ae((b=he.attributesForced)!==null&&b!==void 0?b:[],re=>{ur(V,re.name,re.value==="{$uid}"?`mce_${hL++}`:re.value)}),Ae((S=he.attributesDefault)!==null&&S!==void 0?S:[],re=>{Eu(V,re.name)||ur(V,re.name,re.value==="{$uid}"?`mce_${hL++}`:re.value)}),he.attributesRequired&&!pt(he.attributesRequired,re=>Eu(V,re))){wa(V);return}if(he.removeEmptyAttrs&&oc(V)){wa(V);return}he.outputName&&he.outputName!==W&&Ar(V,he.outputName)}},jR=(e,n,o,a,u)=>!(a in IW&&b_(e,u,o))&&(!e.validate||n.isValid(o,a)||us(a,"data-")||us(a,"aria-")),gL=(e,n)=>e.hasAttribute(UR)&&(n==="id"||n==="class"||n==="style"),bL=(e,n)=>e in n.getBoolAttrs(),LW=(e,n,o)=>{const{attributes:a}=e;for(let u=a.length-1;u>=0;u--){const m=a[u],b=m.name,S=m.value;!jR(n,o,e.tagName.toLowerCase(),b,S)&&!gL(e,b)?e.removeAttribute(b):bL(b,o)&&e.setAttribute(b,b)}},vL=(e,n)=>{const o=uL();return o.addHook("uponSanitizeElement",(a,u)=>{pL(a,e,n,u)}),o.addHook("uponSanitizeAttribute",(a,u)=>{const m=a.tagName.toLowerCase(),{attrName:b,attrValue:S}=u;u.keepAttr=jR(e,n,m,b,S),u.keepAttr?(u.allowedAttributes[b]=!0,bL(b,n)&&(u.attrValue=b),e.allow_svg_data_urls&&us(S,"data:image/svg+xml")&&(u.forceKeepAttr=!0)):gL(a,b)&&(u.forceKeepAttr=!0)}),o},ZR=(e,n)=>{const a={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return a.PARSER_MEDIA_TYPE=n,e.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},yL=(e,n)=>{if(e.sanitize){const o=vL(e,n);return(a,u)=>{o.sanitize(a,ZR(e,u)),o.removed=[]}}else return(o,a)=>{const u=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let m;for(;m=u.nextNode();)pL(m,e,n),qt(m)&&LW(m,e,n)}},KR=gt.makeMap,YT=gt.extend,qR=(e,n,o)=>{const a=e.name,u=a in o&&a!=="title"&&a!=="textarea",m=n.childNodes;for(let b=0,S=m.length;b<S;b++){const T=m[b],$=new Ol(T.nodeName.toLowerCase(),T.nodeType);if(qt(T)){const W=T.attributes;for(let V=0,X=W.length;V<X;V++){const ue=W[V];$.attr(ue.name,ue.value)}}else Et(T)?($.value=T.data,u&&($.raw=!0)):(rc(T)||Ew(T)||xw(T))&&($.value=T.data);qR($,T,o),e.append($)}},_L=(e,n,o)=>{const a=[];for(let u=e,m=u;u;m=u,u=u.walk()){const b=u;Ae(n,S=>S(b)),Ue(b.parent)&&b!==e?u=m:a.push(b)}for(let u=a.length-1;u>=0;u--){const m=a[u];Ae(o,b=>b(m))}},wL=(e,n,o,a)=>{const u=o.validate,m=n.getNonEmptyElements(),b=n.getWhitespaceElements(),S=YT(KR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),T=Nu(n),$=/[ \t\r\n]+/g,W=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/,X=Pe=>{let Be=Pe.parent;for(;ye(Be);){if(Be.name in b)return!0;Be=Be.parent}return!1},ue=Pe=>{let Be=Pe;for(;ye(Be);){if(Be.name in T)return Nv(n,m,b,Be);Be=Be.parent}return!1},he=Pe=>Pe.name in S||M1(n,Pe),re=(Pe,Be)=>{const Ve=Be?Pe.prev:Pe.next;return ye(Ve)||Ue(Pe.parent)?!1:he(Pe.parent)&&(Pe.parent!==e||a.isRootContent===!0)};return[Pe=>{var Be;if(Pe.type===3&&!X(Pe)){let Ve=(Be=Pe.value)!==null&&Be!==void 0?Be:"";Ve=Ve.replace($," "),(_m(Pe.prev,he)||re(Pe,!0))&&(Ve=Ve.replace(W,"")),Ve.length===0?Pe.remove():Pe.value=Ve}},Pe=>{var Be;if(Pe.type===1){const Ve=n.getElementRule(Pe.name);if(u&&Ve){const ht=Nv(n,m,b,Pe);Ve.paddInEmptyBlock&&ht&&ue(Pe)?DT(o,a,he,Pe):Ve.removeEmpty&&ht?he(Pe)?Pe.remove():Pe.unwrap():Ve.paddEmpty&&(ht||R9(Pe))&&DT(o,a,he,Pe)}}else if(Pe.type===3&&!X(Pe)){let Ve=(Be=Pe.value)!==null&&Be!==void 0?Be:"";(Pe.next&&he(Pe.next)||re(Pe,!1))&&(Ve=Ve.replace(V,"")),Ve.length===0?Pe.remove():Pe.value=Ve}}]},CL=(e,n)=>{var o;const a=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return a===!1?"":a===!0?"p":a},v_=(e={},n=_d())=>{const o=VI(),a=VI(),u={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,b=yL(u,n),S=(Be,Ve,ht="html")=>{const dn=ht==="xhtml"?"application/xhtml+xml":"text/html",yt=Dn(n.getSpecialElements(),Ve.toLowerCase()),et=yt?`<${Ve}>${Be}</${Ve}>`:Be,ct=ht==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${et}</body></html>`:`<body>${et}</body>`,It=m.parseFromString(ct,dn).body;return b(It,dn),yt?It.firstChild:It},T=o.addFilter,$=o.getFilters,W=o.removeFilter,V=a.addFilter,X=a.getFilters,ue=a.removeFilter,he=(Be,Ve)=>{fR(n,Be)&&Ve.push(Be)},re=(Be,Ve)=>{const ht=q(Ve.attr(UR)),dn=Ve.type===1&&!Dn(Be,Ve.name)&&!M1(n,Ve);return Ve.type===3||dn&&!ht},fe=(Be,Ve)=>{const ht=YT(KR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),dn=/^[ \t\r\n]+/,yt=/[ \t\r\n]+$/;let et=Be.firstChild,ct=null;const It=Ht=>{var on,Mn;Ht&&(et=Ht.firstChild,et&&et.type===3&&(et.value=(on=et.value)===null||on===void 0?void 0:on.replace(dn,"")),et=Ht.lastChild,et&&et.type===3&&(et.value=(Mn=et.value)===null||Mn===void 0?void 0:Mn.replace(yt,"")))};if(n.isValidChild(Be.name,Ve.toLowerCase())){for(;et;){const Ht=et.next;re(ht,et)?(ct||(ct=new Ol(Ve,1),ct.attr(u.forced_root_block_attrs),Be.insert(ct,et)),ct.append(et)):(It(ct),ct=null),et=Ht}It(ct)}},Pe={schema:n,addAttributeFilter:V,getAttributeFilters:X,removeAttributeFilter:ue,addNodeFilter:T,getNodeFilters:$,removeNodeFilter:W,parse:(Be,Ve={})=>{var ht;const dn=u.validate,yt=(ht=Ve.context)!==null&&ht!==void 0?ht:u.root_name,et=S(Be,yt,Ve.format);lf(n,et);const ct=new Ol(yt,11);qR(ct,et,n.getSpecialElements()),et.innerHTML="";const[It,Ht]=wL(ct,n,u,Ve),on=[],Mn=dn?ys=>he(ys,on):xt,$n={nodes:{},attributes:{}},Po=ys=>eg($(),X(),ys,$n);if(_L(ct,[It,Po],[Ht,Mn]),on.reverse(),dn&&on.length>0)if(Ve.context){const{pass:ys,fail:Xa}=Wt(on,Li=>Li.parent===ct);CS(Xa,n,ct,Po),Ve.invalid=ys.length>0}else CS(on,n,ct,Po);const Wo=CL(u,Ve);return Wo&&(ct.name==="body"||Ve.isRootContent)&&fe(ct,Wo),Ve.invalid||qB($n,Ve),ct}};return xW(Pe,u),_W(Pe,u,n),Pe},GR=e=>PT(e)?Rb({validate:!1}).serialize(e):e,SL=(e,n,o)=>{const a=GR(e),u=n(a);if(u.isDefaultPrevented())return u;if(PT(e))if(u.content!==a){const m=v_({validate:!1,forced_root_block:!1,sanitize:o}).parse(u.content,{context:e.name});return{...u,content:m}}else return{...u,content:e};else return u},VS=(e,n)=>{if(n.no_events)return qa.value(n);{const o=gN(e,n);return o.isDefaultPrevented()?qa.error(Rh(e,{content:"",...o}).content):qa.value(o)}},EL=(e,n,o)=>o.no_events?n:SL(n,u=>Rh(e,{...o,content:u}),yy(e)).content,YR=(e,n)=>{if(n.no_events)return qa.value(n);{const o=SL(n.content,a=>pN(e,{...n,content:a}),yy(e));return o.isDefaultPrevented()?(zy(e,o),qa.error(void 0)):qa.value(o)}},XR=(e,n,o)=>{o.no_events||zy(e,{...o,content:n})},XT=(e,n,o)=>({element:e,width:n,rows:o}),JR=(e,n)=>({element:e,cells:n}),FW=(e,n)=>({x:e,y:n}),xL=(e,n)=>Kc(e,n).bind(vl).getOr(1),HW=(e,n,o,a,u)=>{const m=xL(u,"rowspan"),b=xL(u,"colspan"),S=e.rows;for(let T=o;T<o+m;T++){S[T]||(S[T]=JR(tD(a),[]));for(let $=n;$<n+b;$++){const W=S[T].cells;W[$]=T===o&&$===n?u:_h(u)}}},VW=(e,n,o)=>{const a=e.rows;return!!(a[o]?a[o].cells:[])[n]},TL=(e,n,o)=>{for(;VW(e,n,o);)n++;return n},zW=e=>tn(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),kL=(e,n)=>{const o=e.rows;for(let a=0;a<o.length;a++){const u=o[a].cells;for(let m=0;m<u.length;m++)if(Jo(u[m],n))return Y.some(FW(m,a))}return Y.none()},AL=(e,n,o,a,u)=>{const m=[],b=e.rows;for(let S=o;S<=u;S++){const T=b[S].cells,$=n<a?T.slice(n,a+1):T.slice(a,n+1);m.push(JR(b[S].element,$))}return m},WW=(e,n,o)=>{const a=n.x,u=n.y,m=o.x,b=o.y,S=u<b?AL(e,a,u,m,b):AL(e,a,b,m,u);return XT(e.element,zW(S),S)},UW=(e,n)=>{const o=_h(e.element),a=ge.fromTag("tbody");return Es(a,n),_r(o,a),o},jW=e=>Ye(e.rows,n=>{const o=Ye(n.cells,u=>{const m=tD(u);return Go(m,"colspan"),Go(m,"rowspan"),m}),a=_h(n.element);return Es(a,o),a}),ZW=e=>{const n=XT(_h(e),0,[]);return Ae(Ri(e,"tr"),(o,a)=>{Ae(Ri(o,"td,th"),(u,m)=>{HW(n,TL(n,m,a),a,o,u)})}),XT(n.element,zW(n.rows),n.rows)},KW=e=>UW(e,jW(e)),OL=(e,n,o)=>kL(e,n).bind(a=>kL(e,o).map(u=>WW(e,a,u))),qW=e=>nn(e,n=>Ss(n)==="ul"||Ss(n)==="ol"),GW=(e,n)=>nn(e,o=>Ss(o)==="li"&&hm(o,n)).fold(ot([]),o=>qW(e).map(a=>{const u=ge.fromTag(Ss(a)),m=ws(Zi(a),(b,S)=>us(S,"list-style"));return Og(u,m),[ge.fromTag("li"),u]}).getOr([])),YW=(e,n)=>{const o=tn(n,(a,u)=>(_r(u,a),u),e);return n.length>0?Lu([o]):o},XW=e=>ca(e)?_a(e).filter(Sa).fold(ot([]),n=>[e,n]):Sa(e)?[e]:[],JW=(e,n)=>{const o=ge.fromDom(n.commonAncestorContainer),a=Jp(o,e),u=st(a,rf),m=GW(a,n),b=u.concat(m.length?m:XW(o));return Ye(b,_h)},QW=()=>Lu([]),jte=(e,n)=>YW(ge.fromDom(n.cloneContents()),JW(e,n)),eU=(e,n)=>Nn(n,"table",lt(Jo,e)),tU=(e,n)=>eU(e,n[0]).bind(o=>{const a=n[0],u=n[n.length-1],m=ZW(o);return OL(m,a,u).map(b=>Lu([KW(b)]))}).getOrThunk(QW),Zte=(e,n)=>n.length>0&&n[0].collapsed?QW():jte(e,n[0]),nU=(e,n)=>{const o=aN(n,e);return o.length>0?tU(e,o):Zte(e,n)},rr=(e,n)=>n>=0&&n<e.length&&vb(e.charAt(n)),JT=e=>nt(e.innerText),Kte=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),oU=e=>Y.from(e.selection.getRng()).map(n=>{var o;const a=Y.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),u=e.getBody(),m=Kte(a),b=ge.fromDom(n.cloneContents());XP(b),JP(b);const S=e.dom.add(u,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},b.dom),T=JT(S),$=nt((o=S.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(S),rr($,0)||rr($,$.length-1)){const W=a.getOr(u),V=JT(W),X=V.indexOf(T);if(X===-1)return T;{const ue=rr(V,X-1),he=rr(V,X+T.length);return(ue?" ":"")+T+(he?" ":"")}}else return T}).getOr(""),sU=(e,n)=>{const o=e.selection.getRng(),a=e.dom.create("body"),u=e.selection.getSel(),m=PN(e,Oy(u)),b=n.contextual?nU(ge.fromDom(e.getBody()),m).dom:o.cloneContents();return b&&a.appendChild(b),e.selection.serializer.serialize(a,n)},y_=(e,n)=>{if(n.format==="text")return oU(e);{const o=sU(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},qte=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),Gte=(e,n,o={})=>{const a=qte(o,n);return VS(e,a).fold(Xn,u=>{const m=y_(e,u);return EL(e,m,u)})},fa=0,QR=1,eM=2,DL=(e,n)=>{const o=e.length+n.length+2,a=new Array(o),u=new Array(o),m=(W,V,X)=>({start:W,end:V,diag:X}),b=(W,V,X,ue,he)=>{const re=T(W,V,X,ue);if(re===null||re.start===V&&re.diag===V-ue||re.end===W&&re.diag===W-X){let fe=W,Re=X;for(;fe<V||Re<ue;)fe<V&&Re<ue&&e[fe]===n[Re]?(he.push([fa,e[fe]]),++fe,++Re):V-W>ue-X?(he.push([eM,e[fe]]),++fe):(he.push([QR,n[Re]]),++Re)}else{b(W,re.start,X,re.start-re.diag,he);for(let fe=re.start;fe<re.end;++fe)he.push([fa,e[fe]]);b(re.end,V,re.end-re.diag,ue,he)}},S=(W,V,X,ue)=>{let he=W;for(;he-V<ue&&he<X&&e[he]===n[he-V];)++he;return m(W,he,V)},T=(W,V,X,ue)=>{const he=V-W,re=ue-X;if(he===0||re===0)return null;const fe=he-re,Re=re+he,Pe=(Re%2===0?Re:Re+1)/2;a[1+Pe]=W,u[1+Pe]=V+1;let Be,Ve,ht,dn,yt;for(Be=0;Be<=Pe;++Be){for(Ve=-Be;Ve<=Be;Ve+=2){for(ht=Ve+Pe,Ve===-Be||Ve!==Be&&a[ht-1]<a[ht+1]?a[ht]=a[ht+1]:a[ht]=a[ht-1]+1,dn=a[ht],yt=dn-W+X-Ve;dn<V&&yt<ue&&e[dn]===n[yt];)a[ht]=++dn,++yt;if(fe%2!==0&&fe-Be<=Ve&&Ve<=fe+Be&&u[ht-fe]<=a[ht])return S(u[ht-fe],Ve+W-X,V,ue)}for(Ve=fe-Be;Ve<=fe+Be;Ve+=2){for(ht=Ve+Pe-fe,Ve===fe-Be||Ve!==fe+Be&&u[ht+1]<=u[ht-1]?u[ht]=u[ht+1]-1:u[ht]=u[ht-1],dn=u[ht]-1,yt=dn-W+X-Ve;dn>=W&&yt>=X&&e[dn]===n[yt];)u[ht]=dn--,yt--;if(fe%2===0&&-Be<=Ve&&Ve<=Be&&u[ht]<=a[ht+fe])return S(u[ht],Ve+W-X,V,ue)}}return null},$=[];return b(0,e.length,0,n.length,$),$},NL=e=>qt(e)?e.outerHTML:Et(e)?em.encodeRaw(e.data,!1):rc(e)?"<!--"+e.data+"-->":"",rU=e=>{let n;const o=document.createElement("div"),a=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)a.appendChild(n);return a},QT=(e,n,o)=>{const a=rU(n);if(e.hasChildNodes()&&o<e.childNodes.length){const u=e.childNodes[o];e.insertBefore(a,u)}else e.appendChild(a)},iU=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},tM=(e,n)=>{let o=0;Ae(e,a=>{a[0]===fa?o++:a[0]===QR?(QT(n,a[1],o),o++):a[0]===eM&&iU(n,o)})},aU=e=>st(Ye(ms(e.childNodes),NL),n=>n.length>0),RL=(e,n)=>{const o=Ye(ms(n.childNodes),NL);return tM(DL(o,e),n),n},ML=hl(()=>document.implementation.createHTMLDocument("undo")),nM=e=>e.indexOf("</iframe>")!==-1,$L=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),oM=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),ek=e=>{const n=aU(e.getBody()),o=vo(n,u=>{const m=YP(e.serializer,u);return m.length>0?[m]:[]}),a=o.join("");return nM(a)?$L(o):oM(a)},sM=(e,n,o)=>{const a=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?RL(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:ye(a)&&Ty(a)?!a.isFakeCaret:!0}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},rM=e=>e.type==="fragmented"?e.fragments.join(""):e.content,zu=e=>{const n=ge.fromTag("body",ML());return fo(n,rM(e)),Ae(Ri(n,"*[data-mce-bogus]"),wa),Zf(n)},cU=(e,n)=>rM(e)===rM(n),lU=(e,n)=>zu(e)===zu(n),iM=(e,n)=>!e||!n?!1:cU(e,n)?!0:lU(e,n),aM=e=>e.get()===0,tk=(e,n,o)=>{aM(o)&&(e.typing=n)},cM=(e,n)=>{e.typing&&(tk(e,!1,n),e.add())},uU=e=>{e.typing&&(e.typing=!1,e.add())},dU=(e,n,o)=>{aM(n)&&o.set(Ka(e.selection))},fU=(e,n,o,a,u,m,b)=>{const S=ek(e),T=gt.extend(m||{},S);if(!aM(a)||e.removed)return null;const $=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:T,lastLevel:$,originalEvent:b}).isDefaultPrevented()||$&&iM($,T))return null;n.data[o.get()]&&u.get().each(X=>{n.data[o.get()].beforeBookmark=X});const W=AD(e);if(W&&n.data.length>W){for(let X=0;X<n.data.length-1;X++)n.data[X]=n.data[X+1];n.data.length--,o.set(n.data.length)}T.bookmark=Ka(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(T),o.set(n.data.length-1);const V={level:T,lastLevel:$,originalEvent:b};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",V),e.dispatch("change",V)):e.dispatch("AddUndo",V),T},nk=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},mU=(e,n,o,a,u)=>{if(n.transact(a)){const m=n.data[o.get()].bookmark,b=n.data[o.get()-1];sM(e,b,!0),n.transact(u)&&(n.data[o.get()-1].beforeBookmark=m)}},hU=(e,n,o)=>{let a;return n.get()<o.length-1&&(n.set(n.get()+1),a=o[n.get()],sM(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a},PL=(e,n,o,a)=>{let u;return n.typing&&(n.add(),n.typing=!1,tk(n,!1,o)),a.get()>0&&(a.set(a.get()-1),u=n.data[a.get()],sM(e,u,!0),e.setDirty(!0),e.dispatch("Undo",{level:u})),u},lM=e=>{e.clear(),e.add()},pU=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!iM(ek(e),n.data[0]),gU=(e,n)=>n.get()<e.data.length-1&&!e.typing,Yte=(e,n,o)=>(cM(e,n),e.beforeChange(),e.ignore(o),e.add()),bU=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},vU=(e,n)=>{const o=e.dom,a=ye(n)?n:e.getBody();Ae(o.select("table,a",a),u=>{switch(u.nodeName){case"TABLE":const m=Np(e),b=o.getAttrib(u,"border");(!b||b==="0")&&e.hasVisual?o.addClass(u,m):o.removeClass(u,m);break;case"A":if(!o.getAttrib(u,"href")){const S=o.getAttrib(u,"name")||u.id,T=J1(e);S&&e.hasVisual?o.addClass(u,T):o.removeClass(u,T)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},uM=e=>({init:{bindEvents:xt},undoManager:{beforeChange:(n,o)=>dU(e,n,o),add:(n,o,a,u,m,b)=>fU(e,n,o,a,u,m,b),undo:(n,o,a)=>PL(e,n,o,a),redo:(n,o)=>hU(e,n,o),clear:(n,o)=>nk(e,n,o),reset:n=>lM(n),hasUndo:(n,o)=>pU(e,n,o),hasRedo:(n,o)=>gU(n,o),transact:(n,o,a)=>Yte(n,o,a),ignore:(n,o)=>bU(n,o),extra:(n,o,a,u)=>mU(e,n,o,a,u)},formatter:{match:(n,o,a,u)=>IT(e,n,o,a,u),matchAll:(n,o)=>AS(e,n,o),matchNode:(n,o,a,u)=>wm(e,n,o,a,u),canApply:n=>nW(e,n),closest:n=>tW(e,n),apply:(n,o,a)=>FI(e,n,o,a),remove:(n,o,a,u)=>u_(e,n,o,a,u),toggle:(n,o,a)=>Bb(e,n,o,a),formatChanged:(n,o,a,u,m)=>WT(e,n,o,a,u,m)},editor:{getContent:n=>eB(e,n),setContent:(n,o)=>J9(e,n,o),insertContent:(n,o)=>pR(e,n,o),addVisual:n=>vU(e,n)},selection:{getContent:(n,o)=>Gte(e,n,o)},autocompleter:{addDecoration:n=>jz(e,n),removeDecoration:()=>Kz(e,ge.fromDom(e.getBody()))},raw:{getModel:()=>Y.none()}}),yU=e=>{const n=$=>ke($)?$:{},{init:o,undoManager:a,formatter:u,editor:m,selection:b,autocompleter:S,raw:T}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:($,W,V)=>a.transact(V),ignore:($,W)=>a.ignore(W),extra:($,W,V,X)=>a.extra(V,X)},formatter:{match:($,W,V,X)=>u.match($,n(W),X),matchAll:u.matchAll,matchNode:u.matchNode,canApply:$=>u.canApply($),closest:$=>u.closest($),apply:($,W,V)=>u.apply($,n(W)),remove:($,W,V,X)=>u.remove($,n(W)),toggle:($,W,V)=>u.toggle($,n(W)),formatChanged:($,W,V,X,ue)=>u.formatChanged(W,V,X,ue)},editor:{getContent:$=>m.getContent($),setContent:($,W)=>({content:m.setContent($,W),html:""}),insertContent:($,W)=>(m.insertContent($),""),addVisual:m.addVisual},selection:{getContent:($,W)=>b.getContent(W)},autocompleter:{addDecoration:S.addDecoration,removeDecoration:S.removeDecoration},raw:{getModel:()=>Y.some(T.getRawModel())}}},Fv=()=>{const e=ot(null),n=ot("");return{init:{bindEvents:xt},undoManager:{beforeChange:xt,add:e,undo:e,redo:e,clear:xt,reset:xt,hasUndo:at,hasRedo:at,transact:e,ignore:xt,extra:xt},formatter:{match:at,matchAll:ot([]),matchNode:ot(void 0),canApply:at,closest:n,apply:xt,remove:xt,toggle:xt,formatChanged:ot({unbind:xt})},editor:{getContent:n,setContent:ot({content:"",html:""}),insertContent:ot(""),addVisual:xt},selection:{getContent:n},autocompleter:{addDecoration:xt,removeDecoration:xt},raw:{getModel:ot(Y.none())}}},lu=e=>Dn(e.plugins,"rtc"),zS=e=>cs(e.plugins,"rtc").bind(n=>Y.from(n.setup)),BL=e=>{const n=e;return zS(e).fold(()=>(n.rtcInstance=uM(e),Y.none()),o=>(n.rtcInstance=Fv(),Y.some(()=>o().then(a=>(n.rtcInstance=yU(a),a.rtc.isRemote)))))},ok=e=>e.rtcInstance?e.rtcInstance:uM(e),Ci=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},IL=(e,n,o)=>{Ci(e).undoManager.beforeChange(n,o)},_U=(e,n,o,a,u,m,b)=>Ci(e).undoManager.add(n,o,a,u,m,b),wU=(e,n,o,a)=>Ci(e).undoManager.undo(n,o,a),CU=(e,n,o)=>Ci(e).undoManager.redo(n,o),SU=(e,n,o)=>{Ci(e).undoManager.clear(n,o)},LL=(e,n)=>{Ci(e).undoManager.reset(n)},EU=(e,n,o)=>Ci(e).undoManager.hasUndo(n,o),xU=(e,n,o)=>Ci(e).undoManager.hasRedo(n,o),WS=(e,n,o,a)=>Ci(e).undoManager.transact(n,o,a),FL=(e,n,o)=>{Ci(e).undoManager.ignore(n,o)},HL=(e,n,o,a,u)=>{Ci(e).undoManager.extra(n,o,a,u)},TU=(e,n,o,a,u)=>Ci(e).formatter.match(n,o,a,u),kU=(e,n,o)=>Ci(e).formatter.matchAll(n,o),AU=(e,n,o,a,u)=>Ci(e).formatter.matchNode(n,o,a,u),VL=(e,n)=>Ci(e).formatter.canApply(n),OU=(e,n)=>Ci(e).formatter.closest(n),DU=(e,n,o,a)=>{Ci(e).formatter.apply(n,o,a)},NU=(e,n,o,a,u)=>{Ci(e).formatter.remove(n,o,a,u)},RU=(e,n,o,a)=>{Ci(e).formatter.toggle(n,o,a)},Xte=(e,n,o,a,u,m)=>Ci(e).formatter.formatChanged(n,o,a,u,m),xm=(e,n)=>ok(e).editor.getContent(n),dM=(e,n,o)=>ok(e).editor.setContent(n,o),MU=(e,n,o)=>ok(e).editor.insertContent(n,o),$U=(e,n,o)=>Ci(e).selection.getContent(n,o),PU=(e,n)=>Ci(e).editor.addVisual(n),zL=e=>Ci(e).init.bindEvents(),ss=(e,n)=>Ci(e).autocompleter.addDecoration(n),Jte=e=>Ci(e).autocompleter.removeDecoration(),BU=(e,n={})=>{const o=n.format?n.format:"html";return $U(e,o,n)},WL=e=>e.dom.length===0?(Uo(e),Y.none()):Y.some(e),Er=(e,n)=>e.filter(o=>jp.isBookmarkNode(o.dom)).bind(n?ud:Gc),IU=(e,n,o,a)=>{const u=e.dom,m=n.dom,b=a?u.length:m.length;a?(ZN(u,m,!1,!a),o.setStart(m,b)):(ZN(m,u,!1,!a),o.setEnd(m,b))},US=(e,n)=>{_a(e).each(o=>{const a=e.dom;n&&hS(o,Je(a,0))?yT(a,0):!n&&Tv(o,Je(a,a.length))&&Qp(a,a.length)})},UL=(e,n,o,a)=>{e.bind(u=>((a?Qp:yT)(u.dom,a?u.dom.length:0),n.filter(Ur).map(b=>IU(u,b,o,a)))).orThunk(()=>Er(n,a).or(n).filter(Ur).map(m=>US(m,a)))},LU=(e,n)=>{const o=Y.from(n.firstChild).map(ge.fromDom),a=Y.from(n.lastChild).map(ge.fromDom);e.deleteContents(),e.insertNode(n);const u=o.bind(Gc).filter(Ur).bind(WL),m=a.bind(ud).filter(Ur).bind(WL);UL(u,o,e,!0),UL(m,a,e,!1),e.collapse(!1)},FU=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),jL=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),a=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),u=a?{context:a.nodeName.toLowerCase()}:{},m=e.parser.parse(n.content,{forced_root_block:!1,...u,...n});return Rb({validate:!1},e.schema).serialize(m)}else return n.content},Fb=(e,n,o={})=>{const a=FU(o,n);YR(e,a).each(u=>{const m=jL(e,u),b=e.selection.getRng();LU(b,b.createContextualFragment(m)),e.selection.setRng(b),Od(e,b),XR(e,m,u)})},Rl=(e,n,o)=>{if(Dn(e,n)){const a=st(e[n],u=>u!==o);a.length===0?delete e[n]:e[n]=a}};var jS=(e,n)=>{let o,a;const u=(S,T)=>nn(T,$=>e.is($,S)),m=S=>e.getParents(S,void 0,e.getRoot()),b=()=>{o={},a={},n.on("NodeChange",S=>{const T=S.element,$=m(T),W={};Mt(o,(V,X)=>{u(X,$).each(ue=>{a[X]||(Ae(V,he=>{he(!0,{node:ue,selector:X,parents:$})}),a[X]=V),W[X]=V})}),Mt(a,(V,X)=>{W[X]||(delete a[X],Ae(V,ue=>{ue(!1,{node:T,selector:X,parents:$})}))})})};return{selectorChangedWithUnbind:(S,T)=>(o||b(),o[S]||(o[S]=[]),o[S].push(T),u(S,m(n.selection.getStart())).each(()=>{a[S]=o[S]}),{unbind:()=>{Rl(o,S,T),Rl(a,S,T)}})}};const ig=e=>!!(e&&e.ownerDocument)&&sc(ge.fromDom(e.ownerDocument),ge.fromDom(e)),Ih=e=>e?ig(e.startContainer)&&ig(e.endContainer):!1,__=(e,n,o,a)=>{let u,m;const{selectorChangedWithUnbind:b}=jS(e,a),S=(Rt,rn)=>{const Fo=e.createRng();ye(Rt)&&ye(rn)?(Fo.setStart(Rt,rn),Fo.setEnd(Rt,rn),Ve(Fo),Re(!1)):(Ry(e,Fo,a.getBody(),!0),Ve(Fo))},T=Rt=>BU(a,Rt),$=(Rt,rn)=>Fb(a,Rt,rn),W=Rt=>HP(a.getBody(),Be(),Rt),V=Rt=>VP(a.getBody(),Be(),Rt),X=(Rt,rn)=>Xa.getBookmark(Rt,rn),ue=Rt=>Xa.moveToBookmark(Rt),he=(Rt,rn)=>(Fz(e,Rt,rn).each(Ve),Rt),re=()=>{const Rt=Be(),rn=Pe();return!Rt||Rt.item?!1:Rt.compareEndPoints?Rt.compareEndPoints("StartToEnd",Rt)===0:!rn||Rt.collapsed},fe=()=>{const Rt=Be(),rn=a.getBody().querySelectorAll('[data-mce-selected="1"]');return rn.length>0?Qn(rn,Fo=>e.isEditable(Fo.parentElement)):Rt.startContainer===Rt.endContainer?e.isEditable(Rt.startContainer):e.isEditable(Rt.startContainer)&&e.isEditable(Rt.endContainer)},Re=Rt=>{const rn=Be();rn.collapse(!!Rt),Ve(rn)},Pe=()=>n.getSelection?n.getSelection():n.document.selection,Be=()=>{let Rt;const rn=(Do,fn,gn)=>{try{return fn.compareBoundaryPoints(Do,gn)}catch{return-1}},Fo=n.document;if(ye(a.bookmark)&&!xv(a)){const Do=Gy(a);if(Do.isSome())return Do.map(fn=>PN(a,[fn])[0]).getOr(Fo.createRange())}try{const Do=Pe();Do&&!yn(Do.anchorNode)&&(Do.rangeCount>0?Rt=Do.getRangeAt(0):Rt=Fo.createRange(),Rt=PN(a,[Rt])[0])}catch{}if(Rt||(Rt=Fo.createRange()),mh(Rt.startContainer)&&Rt.collapsed){const Do=e.getRoot();Rt.setStart(Do,0),Rt.setEnd(Do,0)}return u&&m&&(rn(Rt.START_TO_START,Rt,u)===0&&rn(Rt.END_TO_END,Rt,u)===0?Rt=m:(u=null,m=null)),Rt},Ve=(Rt,rn)=>{if(!Ih(Rt))return;const Fo=Pe();if(Rt=a.dispatch("SetSelectionRange",{range:Rt,forward:rn}).range,Fo){m=Rt;try{Fo.removeAllRanges(),Fo.addRange(Rt)}catch{}rn===!1&&Fo.extend&&(Fo.collapse(Rt.endContainer,Rt.endOffset),Fo.extend(Rt.startContainer,Rt.startOffset)),u=Fo.rangeCount>0?Fo.getRangeAt(0):null}if(!Rt.collapsed&&Rt.startContainer===Rt.endContainer&&(Fo!=null&&Fo.setBaseAndExtent)&&Rt.endOffset-Rt.startOffset<2&&Rt.startContainer.hasChildNodes()){const fn=Rt.startContainer.childNodes[Rt.startOffset];fn&&fn.nodeName==="IMG"&&(Fo.setBaseAndExtent(Rt.startContainer,Rt.startOffset,Rt.endContainer,Rt.endOffset),(Fo.anchorNode!==Rt.startContainer||Fo.focusNode!==Rt.endContainer)&&Fo.setBaseAndExtent(fn,0,fn,1))}a.dispatch("AfterSetSelectionRange",{range:Rt,forward:rn})},ht=Rt=>($(e.getOuterHTML(Rt)),Rt),dn=()=>zP(a.getBody(),Be()),yt=(Rt,rn)=>WP(e,Be(),Rt,rn),et=()=>{const Rt=Pe(),rn=Rt==null?void 0:Rt.anchorNode,Fo=Rt==null?void 0:Rt.focusNode;if(!Rt||!rn||!Fo||yn(rn)||yn(Fo))return!0;const Do=e.createRng(),fn=e.createRng();try{Do.setStart(rn,Rt.anchorOffset),Do.collapse(!0),fn.setStart(Fo,Rt.focusOffset),fn.collapse(!0)}catch{return!0}return Do.compareBoundaryPoints(Do.START_TO_START,fn)<=0},ys={dom:e,win:n,serializer:o,editor:a,expand:(Rt={type:"word"})=>Ve(go(e).expand(Be(),Rt)),collapse:Re,setCursorLocation:S,getContent:T,setContent:$,getBookmark:X,moveToBookmark:ue,select:he,isCollapsed:re,isEditable:fe,isForward:et,setNode:ht,getNode:dn,getSel:Pe,setRng:Ve,getRng:Be,getStart:W,getEnd:V,getSelectedBlocks:yt,normalize:()=>{const Rt=Be(),rn=Pe();if(!BC(rn)&&zp(a)){const Fo=ym(e,Rt);return Fo.each(Do=>{Ve(Do,et())}),Fo.getOr(Rt)}return Rt},selectorChanged:(Rt,rn)=>(b(Rt,rn),ys),selectorChangedWithUnbind:b,getScrollContainer:()=>{let Rt,rn=e.getRoot();for(;rn&&rn.nodeName!=="BODY";){if(rn.scrollHeight>rn.clientHeight){Rt=rn;break}rn=rn.parentNode}return Rt},scrollIntoView:(Rt,rn)=>{ye(Rt)?sl(a,Rt,rn):Od(a,Be(),rn)},placeCaretAt:(Rt,rn)=>Ve($c(Rt,rn,a.getDoc())),getBoundingClientRect:()=>{const Rt=Be();return Rt.collapsed?Je.fromRangeStart(Rt).getClientRects()[0]:Rt.getBoundingClientRect()},destroy:()=>{n=u=m=null,Li.destroy()}},Xa=jp(ys),Li=Yx(ys,a);return ys.bookmarkManager=Xa,ys.controlSelection=Li,ys},fM=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(a,u)=>{let m=a.length;for(;m--;){const b=a[m];b.attr("tabindex",b.attr("data-mce-tabindex")),b.attr(u,null)}}),e.addAttributeFilter("src,href,style",(a,u)=>{const m="data-mce-"+u,b=n.url_converter,S=n.url_converter_scope;let T=a.length;for(;T--;){const $=a[T];let W=$.attr(m);W!==void 0?($.attr(u,W.length>0?W:null),$.attr(m,null)):(W=$.attr(u),u==="style"?W=o.serializeStyle(o.parseStyle(W),$.name):b&&(W=b.call(S,W,u,$.name)),$.attr(u,W.length>0?W:null))}}),e.addAttributeFilter("class",a=>{let u=a.length;for(;u--;){const m=a[u];let b=m.attr("class");b&&(b=b.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",b.length>0?b:null))}}),e.addAttributeFilter("data-mce-type",(a,u,m)=>{let b=a.length;for(;b--;){const S=a[b];S.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(Y.from(S.firstChild).exists($=>{var W;return!xe((W=$.value)!==null&&W!==void 0?W:"")})?S.unwrap():S.remove())}}),e.addNodeFilter("noscript",a=>{var u;let m=a.length;for(;m--;){const b=a[m].firstChild;b&&(b.value=em.decode((u=b.value)!==null&&u!==void 0?u:""))}}),e.addNodeFilter("script,style",(a,u)=>{var m;const b=T=>T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let S=a.length;for(;S--;){const T=a[S],$=T.firstChild,W=(m=$==null?void 0:$.value)!==null&&m!==void 0?m:"";if(u==="script"){const V=T.attr("type");V&&T.attr("type",V==="mce-no/type"?null:V.replace(/^mce\-/,"")),n.element_format==="xhtml"&&$&&W.length>0&&($.value=`// <![CDATA[
`+b(W)+`
// ]]>`)}else n.element_format==="xhtml"&&$&&W.length>0&&($.value=`<!--
`+b(W)+`
-->`)}}),e.addNodeFilter("#comment",a=>{let u=a.length;for(;u--;){const m=a[u],b=m.value;n.preserve_cdata&&(b==null?void 0:b.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(b.replace(/^\[CDATA\[|\]\]$/g,""))):(b==null?void 0:b.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(b).substr(14))}}),e.addNodeFilter("xml:namespace,input",(a,u)=>{let m=a.length;for(;m--;){const b=a[m];b.type===7?b.remove():b.type===1&&u==="input"&&!b.attr("type")&&b.attr("type","text")}}),e.addAttributeFilter("data-mce-type",a=>{Ae(a,u=>{u.attr("data-mce-type")==="format-caret"&&(u.isEmpty(e.schema.getNonEmptyElements())?u.remove():u.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(a,u)=>{let m=a.length;for(;m--;)a[m].attr(u,null)}),n.remove_trailing_brs&&UT(n,e,e.schema)},mM=e=>{const n=a=>(a==null?void 0:a.name)==="br",o=e.lastChild;if(n(o)){const a=o.prev;n(a)&&(o.remove(),a.remove())}},ZL=(e,n,o)=>{let a;const u=e.dom;let m=n.cloneNode(!0);const b=document.implementation;if(b.createHTMLDocument){const S=b.createHTMLDocument("");gt.each(m.nodeName==="BODY"?m.childNodes:[m],T=>{S.body.appendChild(S.importNode(T,!0))}),m.nodeName!=="BODY"?m=S.body.firstChild:m=S.body,a=u.doc,u.doc=S}return hN(e,{...o,node:m}),a&&(u.doc=a),m},KL=(e,n)=>ye(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,HU=(e,n,o)=>KL(e,o)?ZL(e,n,o):n,VU=(e,n,o)=>{gt.inArray(n,o)===-1&&(e.addAttributeFilter(o,(a,u)=>{let m=a.length;for(;m--;)a[m].attr(u,null)}),n.push(o))},qL=(e,n,o)=>!n.no_events&&e?ZC(e,{...n,content:o}).content:o,GL=(e,n,o)=>{const a=nt(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Fg(ge.fromDom(n))?a:gt.trim(a)},YL=(e,n,o)=>{const a=o.selection?{forced_root_block:!1,...o}:o,u=e.parse(n,a);return mM(u),u},XL=(e,n,o)=>Rb(e,n).serialize(o),hM=(e,n,o,a,u)=>{const m=XL(n,o,a);return qL(e,u,m)},Qte=(e,n)=>{const o=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},u=n&&n.dom?n.dom:bs.DOM,m=n&&n.schema?n.schema:_d(a),b=v_(a,m);fM(b,a,u);const S=(T,$={})=>{const W={format:"html",...$},V=HU(n,T,W),X=GL(u,V,W),ue=YL(b,X,W);return W.format==="tree"?ue:hM(n,a,m,ue,W)};return{schema:m,addNodeFilter:b.addNodeFilter,addAttributeFilter:b.addAttributeFilter,serialize:S,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:lt(VU,b,o),getTempAttrs:ot(o),getNodeFilters:b.getNodeFilters,getAttributeFilters:b.getAttributeFilters,removeNodeFilter:b.removeNodeFilter,removeAttributeFilter:b.removeAttributeFilter}},JL=(e,n)=>{const o=Qte(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},ene="html",zU=(e,n)=>({...e,format:n,get:!0,getInner:!0}),WU=(e,n={})=>{const o=n.format?n.format:ene,a=zU(n,o);return VS(e,a).fold(Xn,u=>{const m=xm(e,u);return EL(e,m,u)})},Lh="html",tne=(e,n)=>({format:Lh,...e,set:!0,content:n}),QL=(e,n,o={})=>{const a=tne(o,n);return YR(e,a).map(u=>{const m=dM(e,u.content,u);return XR(e,m.html,u),m.content}).getOr(n)},UU="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),ZS="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),jU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),pM=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],gM=(e,n)=>{const o=st(n,a=>Dn(e,a));return qo(o)},e5=e=>{const n=gM(e,UU),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),qo(n)},ZU=e=>gM(e,ZS),t5=(e,n)=>{const o=gt.makeMap(e.plugins," "),u=st(n,m=>Dn(o,m));return qo(u)},Hb=e=>t5(e,jU),KU=e=>t5(e,pM.map(n=>n.name)),qU=(e,n)=>{const o=e5(e),a=Hb(n),u=a.length>0,m=o.length>0,b=n.theme==="mobile";if(u||m||b){const S=`
- `,T=b?`

Themes:${S}mobile`:"",$=u?`

Plugins:${S}${a.join(S)}`:"",W=m?`

Options:${S}${o.join(S)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+T+$+W)}},GU=e=>nn(pM,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),YU=(e,n)=>{const o=ZU(e),a=KU(n),u=a.length>0,m=o.length>0;if(u||m){const b=`
- `,S=u?`

Plugins:${b}${a.map(GU).join(b)}`:"",T=m?`

Options:${b}${o.join(b)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+S+T)}},XU=(e,n)=>{qU(e,n),YU(e,n)},sk=bs.DOM,JU=e=>{sk.setStyle(e.id,"display",e.orgDisplay)},rk=e=>Y.from(e).each(n=>n.destroy()),QU=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const a=o.dom;n.selection=o.win=o.dom=a.doc=null}},ej=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),sk.unbind(n,"submit reset",e.formEventDelegate))},tj=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,a=e.getBody(),u=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&ye(u==null?void 0:u.nextSibling)&&sk.remove(u.nextSibling),KC(e),e.editorManager.remove(e),!e.inline&&a&&JU(e),vs(e),sk.remove(e.getContainer()),rk(n),rk(o),e.destroy()}},nne=(e,n)=>{const{selection:o,dom:a}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),rk(o),rk(a)),ej(e),QU(e),e.destroyed=!0}},ak=(()=>{const e={};return{add:(u,m)=>{e[u]=m},get:u=>e[u]?e[u]:{icons:{}},has:u=>Dn(e,u)}})(),Vb=zo.ModelManager,n5=(e,n)=>n.dom[e],o5=(e,n)=>parseInt(jr(n,e),10),nj=lt(n5,"clientWidth"),oj=lt(n5,"clientHeight"),Hv=lt(o5,"margin-top"),Vv=lt(o5,"margin-left"),ck=e=>e.dom.getBoundingClientRect(),lk=(e,n,o)=>{const a=nj(e),u=oj(e);return n>=0&&o>=0&&n<=a&&o<=u},zv=(e,n,o,a)=>{const u=ck(n),m=e?u.left+n.dom.clientLeft+Vv(n):0,b=e?u.top+n.dom.clientTop+Hv(n):0,S=o-m,T=a-b;return{x:S,y:T}},Wv=(e,n,o)=>{const a=ge.fromDom(e.getBody()),u=e.inline?a:Tu(a),m=zv(e.inline,u,n,o);return lk(u,m.x,m.y)},uk=e=>Y.from(e).map(ge.fromDom),dk=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return uk(n).map(Gl).getOr(!1)};var s5=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const fk=e=>{const n=[],o=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():s5()},a=()=>Y.from(n[0]),u=(X,ue)=>X.type===ue.type&&X.text===ue.text&&!X.progressBar&&!X.timeout&&!ue.progressBar&&!ue.timeout,m=()=>{Ae(n,X=>{X.reposition()})},b=X=>{n.push(X)},S=X=>{kn(n,ue=>ue===X).each(ue=>{n.splice(ue,1)})},T=(X,ue=!0)=>e.removed||!dk(e)?{}:(ue&&e.dispatch("BeforeOpenNotification",{notification:X}),nn(n,he=>u(o().getArgs(he),X)).getOrThunk(()=>{e.editorManager.setActive(e);const he=o().open(X,()=>{S(he),m(),a().fold(()=>e.focus(),re=>Sv(ge.fromDom(re.getEl())))});return b(he),m(),e.dispatch("OpenNotification",{notification:{...he}}),he})),$=()=>{a().each(X=>{o().close(X),S(X),m()})},W=ot(n);return(X=>{X.on("SkinLoaded",()=>{const ue=rx(X);ue&&T({text:ue,type:"warning",timeout:0},!1),m()}),X.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(m)}),X.on("remove",()=>{Ae(n.slice(),ue=>{o().close(ue)})})})(e),{open:T,close:$,getNotifications:W}},zb=zo.PluginManager,Wb=zo.ThemeManager;var r5=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const Uv=e=>{let n=[];const o=()=>{const re=e.theme;return re&&re.getWindowManagerImpl?re.getWindowManagerImpl():r5()},a=(re,fe)=>(...Re)=>fe?fe.apply(re,Re):void 0,u=re=>{e.dispatch("OpenWindow",{dialog:re})},m=re=>{e.dispatch("CloseWindow",{dialog:re})},b=re=>{n.push(re),u(re)},S=re=>{m(re),n=st(n,fe=>fe!==re),n.length===0&&e.focus()},T=()=>Y.from(n[n.length-1]),$=re=>{e.editorManager.setActive(e),aS(e),e.ui.show();const fe=re();return b(fe),fe},W=(re,fe)=>$(()=>o().open(re,fe,S)),V=re=>$(()=>o().openUrl(re,S)),X=(re,fe,Re)=>{const Pe=o();Pe.alert(re,a(Re||Pe,fe))},ue=(re,fe,Re)=>{const Pe=o();Pe.confirm(re,a(Re||Pe,fe))},he=()=>{T().each(re=>{o().close(re),S(re)})};return e.on("remove",()=>{Ae(n,re=>{o().close(re)})}),{open:W,openUrl:V,alert:X,confirm:ue,close:he}},bM=(e,n)=>{e.notificationManager.open({type:"error",text:n})},KS=(e,n)=>{e._skinLoaded?bM(e,n):e.on("SkinLoaded",()=>{bM(e,n)})},i5=(e,n)=>{KS(e,wd.translate(["Failed to upload image: {0}",n]))},Ub=(e,n,o)=>{YC(e,n,{message:o}),console.error(o)},w_=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,a5=(e,n,o)=>{Ub(e,"PluginLoadError",w_("plugin",n,o))},c5=(e,n,o)=>{Ub(e,"IconsLoadError",w_("icons",n,o))},l5=(e,n,o)=>{Ub(e,"LanguageLoadError",w_("language",n,o))},ag=(e,n,o)=>{Ub(e,"ThemeLoadError",w_("theme",n,o))},jb=(e,n,o)=>{Ub(e,"ModelLoadError",w_("model",n,o))},Sf=(e,n,o)=>{const a=wd.translate(["Failed to initialize plugin: {0}",n]);YC(e,"PluginLoadError",{message:a}),mk(a,o),KS(e,a)},mk=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},sj=e=>/^[a-z0-9\-]+$/i.test(e),rj=e=>u5(e,ox(e)),ij=e=>u5(e,q1(e)),u5=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",u=`content${e.editorManager.suffix}.css`;return Ye(n,m=>sj(m)&&!e.inline?`${o}/${m}/${u}`:e.documentBaseURI.toAbsolute(m))},aj=e=>{e.contentCSS=e.contentCSS.concat(rj(e),ij(e))},cj=e=>e?ms(e.getElementsByTagName("img")):[],lj=(e,n)=>{const o={};return{findAll:(u,m=wt)=>{const b=st(cj(u),T=>{const $=T.src;return T.hasAttribute("data-mce-bogus")||T.hasAttribute("data-mce-placeholder")||!$||$===Oo.transparentSrc?!1:us($,"blob:")?!e.isUploaded($)&&m(T):us($,"data:")?m(T):!1}),S=Ye(b,T=>{const $=T.src;if(Dn(o,$))return o[$].then(W=>q(W)?W:{image:T,blobInfo:W.blobInfo});{const W=MS(n,$).then(V=>(delete o[$],{image:T,blobInfo:V})).catch(V=>(delete o[$],V));return o[$]=W,W}});return Promise.all(S)}}},d5=()=>{let o={};const a=(X,ue)=>({status:X,resultUri:ue}),u=X=>X in o;return{hasBlobUri:u,getResultUri:X=>{const ue=o[X];return ue?ue.resultUri:null},isPending:X=>u(X)?o[X].status===1:!1,isUploaded:X=>u(X)?o[X].status===2:!1,markPending:X=>{o[X]=a(1,null)},markUploaded:(X,ue)=>{o[X]=a(2,ue)},removeFailed:X=>{delete o[X]},destroy:()=>{o={}}}};let uj=0;const dj=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},fj=e=>e+uj+++dj(),vM=()=>{let e=[];const n=V=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[V.toLowerCase()]||"dat",o=(V,X,ue,he,re)=>{if(q(V))return a({id:V,name:he,filename:re,blob:X,base64:ue});if(ke(V))return a(V);throw new Error("Unknown input type")},a=V=>{if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=V.id||fj("blobid"),ue=V.name||X,he=V.blob;return{id:ot(X),name:ot(ue),filename:ot(V.filename||ue+"."+n(he.type)),blob:ot(he),base64:ot(V.base64),blobUri:ot(V.blobUri||URL.createObjectURL(he)),uri:ot(V.uri)}},u=V=>{b(V.id())||e.push(V)},m=V=>nn(e,V).getOrUndefined(),b=V=>m(X=>X.id()===V);return{create:o,add:u,get:b,getByUri:V=>m(X=>X.blobUri()===V),getByData:(V,X)=>m(ue=>ue.base64()===V&&ue.blob().type===X),findFirst:m,removeByUri:V=>{e=st(e,X=>X.blobUri()===V?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{Ae(e,V=>{URL.revokeObjectURL(V.blobUri())}),e=[]}}},yM=(e,n)=>{const o={},a=(re,fe)=>re?re.replace(/\/$/,"")+"/"+fe.replace(/^\//,""):fe,u=(re,fe)=>new Promise((Re,Pe)=>{const Be=new XMLHttpRequest;Be.open("POST",n.url),Be.withCredentials=n.credentials,Be.upload.onprogress=ht=>{fe(ht.loaded/ht.total*100)},Be.onerror=()=>{Pe("Image upload failed due to a XHR Transport error. Code: "+Be.status)},Be.onload=()=>{if(Be.status<200||Be.status>=300){Pe("HTTP Error: "+Be.status);return}const ht=JSON.parse(Be.responseText);if(!ht||!q(ht.location)){Pe("Invalid JSON: "+Be.responseText);return}Re(a(n.basePath,ht.location))};const Ve=new FormData;Ve.append("file",re.blob(),re.filename()),Be.send(Ve)}),m=ie(n.handler)?n.handler:u,b=()=>new Promise(re=>{re([])}),S=(re,fe)=>({url:fe,blobInfo:re,status:!0}),T=(re,fe)=>({url:"",blobInfo:re,status:!1,error:fe}),$=(re,fe)=>{gt.each(o[re],Re=>{Re(fe)}),delete o[re]},W=(re,fe,Re)=>(e.markPending(re.blobUri()),new Promise(Pe=>{let Be,Ve;try{const ht=()=>{Be&&(Be.close(),Ve=xt)},dn=et=>{ht(),e.markUploaded(re.blobUri(),et),$(re.blobUri(),S(re,et)),Pe(S(re,et))},yt=et=>{ht(),e.removeFailed(re.blobUri()),$(re.blobUri(),T(re,et)),Pe(T(re,et))};Ve=et=>{et<0||et>100||Y.from(Be).orThunk(()=>Y.from(Re).map(so)).each(ct=>{Be=ct,ct.progressBar.value(et)})},fe(re,Ve).then(dn,et=>{yt(q(et)?{message:et}:et)})}catch(ht){Pe(T(re,ht))}})),V=re=>re===u,X=re=>{const fe=re.blobUri();return new Promise(Re=>{o[fe]=o[fe]||[],o[fe].push(Re)})},ue=(re,fe)=>(re=gt.grep(re,Re=>!e.isUploaded(Re.blobUri())),Promise.all(gt.map(re,Re=>e.isPending(Re.blobUri())?X(Re):W(Re,m,fe))));return{upload:(re,fe)=>!n.url&&V(m)?b():ue(re,fe)}},_M=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),f5=(e,n)=>yM(n,{url:dC(e),basePath:hD(e),credentials:tx(e),handler:pD(e)}),mj=e=>{const n=d5(),o=f5(e,n);return{upload:(a,u=!0)=>o.upload(a,u?_M(e):void 0)}},m5=(e,n)=>e.dom.isEmpty(n.dom)&&ye(e.schema.getTextBlockElements()[Ss(n)]),h5=e=>n=>{m5(e,n)&&_r(n,ge.fromHtml('<br data-mce-bogus="1" />'))},wM=e=>{const n=vM();let o,a;const u=d5(),m=[],b=Be=>Ve=>e.selection?Be(Ve):[],S=Be=>Be+(Be.indexOf("?")===-1?"?":"&")+new Date().getTime(),T=(Be,Ve,ht)=>{let dn=0;do dn=Be.indexOf(Ve,dn),dn!==-1&&(Be=Be.substring(0,dn)+ht+Be.substr(dn+Ve.length),dn+=ht.length-Ve.length+1);while(dn!==-1);return Be},$=(Be,Ve,ht)=>{const dn=`src="${ht}"${ht===Oo.transparentSrc?' data-mce-placeholder="1"':""}`;return Be=T(Be,`src="${Ve}"`,dn),Be=T(Be,'data-mce-src="'+Ve+'"','data-mce-src="'+ht+'"'),Be},W=(Be,Ve)=>{Ae(e.undoManager.data,ht=>{ht.type==="fragmented"?ht.fragments=Ye(ht.fragments,dn=>$(dn,Be,Ve)):ht.content=$(ht.content,Be,Ve)})},V=(Be,Ve)=>{const ht=e.convertURL(Ve,"src");W(Be.src,Ve),ji(ge.fromDom(Be),{src:cC(e)?S(Ve):Ve,"data-mce-src":ht})},X=()=>(o||(o=f5(e,u)),fe().then(b(Be=>{const Ve=Ye(Be,ht=>ht.blobInfo);return o.upload(Ve,_M(e)).then(b(ht=>{const dn=[];let yt=!1;const et=Ye(ht,(ct,It)=>{const{blobInfo:Ht,image:on}=Be[It];let Mn=!1;return ct.status&&lC(e)?(ct.url&&!As(on.src,ct.url)&&(yt=!0),n.removeByUri(on.src),lu(e)||V(on,ct.url)):ct.error&&(ct.error.remove&&(W(on.src,Oo.transparentSrc),dn.push(on),Mn=!0),i5(e,ct.error.message)),{element:on,status:ct.status,uploadUri:ct.url,blobInfo:Ht,removed:Mn}});return dn.length>0&&!lu(e)?e.undoManager.transact(()=>{Ae(Qd(dn),ct=>{const It=_a(ct);Uo(ct),It.each(h5(e)),n.removeByUri(ct.dom.src)})}):yt&&e.undoManager.dispatchChange(),et}))}))),ue=()=>Q2(e)?X():Promise.resolve([]),he=Be=>Qn(m,Ve=>Ve(Be)),re=Be=>{m.push(Be)},fe=()=>(a||(a=lj(u,n)),a.findAll(e.getBody(),he).then(b(Be=>{const Ve=st(Be,ht=>q(ht)?(KS(e,ht),!1):ht.uriType!=="blob");return lu(e)||Ae(Ve,ht=>{W(ht.image.src,ht.blobInfo.blobUri()),ht.image.src=ht.blobInfo.blobUri(),ht.image.removeAttribute("data-mce-src")}),Ve}))),Re=()=>{n.destroy(),u.destroy(),a=o=null},Pe=Be=>Be.replace(/src="(blob:[^"]+)"/g,(Ve,ht)=>{const dn=u.getResultUri(ht);if(dn)return'src="'+dn+'"';let yt=n.getByUri(ht);return yt||(yt=tn(e.editorManager.get(),(et,ct)=>et||ct.editorUpload&&ct.editorUpload.blobCache.getByUri(ht),void 0)),yt?'src="data:'+yt.blob().type+";base64,"+yt.base64()+'"':Ve});return e.on("SetContent",()=>{Q2(e)?ue():fe()}),e.on("RawSaveContent",Be=>{Be.content=Pe(Be.content)}),e.on("GetContent",Be=>{Be.source_view||Be.format==="raw"||Be.format==="tree"||(Be.content=Pe(Be.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Be=>{Ae(Be,Ve=>{const ht=Ve.attr("src");if(!ht||n.getByUri(ht))return;const dn=u.getResultUri(ht);dn&&Ve.attr("src",dn)})})}),{blobCache:n,addFilter:re,uploadImages:X,uploadImagesAuto:ue,scanForImages:fe,destroy:Re}},p5=e=>{const n=e.dom,o=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:u=>{n.setStyle(u,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:u=>{n.setStyle(u,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const u={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},b={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[b,u,m]:[u,b,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(u,m,b)=>qt(u)&&u.hasAttribute("href"),onformat:(u,m,b)=>{gt.each(b,(S,T)=>{n.setAttrib(u,T,S)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":u=>{var m;return(m=u==null?void 0:u.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return gt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),u=>{a[u]={block:u,remove:"all"}}),a},CM={remove_similar:!0,inherit:!1},Zb={selector:"td,th",...CM},hj={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Zb},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Zb},tablecellbordercolor:{styles:{borderColor:"%value"},...Zb},tablecellclass:{classes:["%value"],...Zb},tableclass:{selector:"table",classes:["%value"],...CM},tablecellborderstyle:{styles:{borderStyle:"%value"},...Zb},tablecellborderwidth:{styles:{borderWidth:"%value"},...Zb}},pj=ot(hj),Fh=e=>{const n={},o=b=>ye(b)?n[b]:n,a=b=>Dn(n,b),u=(b,S)=>{b&&(q(b)?(We(S)||(S=[S]),Ae(S,T=>{Ge(T.deep)&&(T.deep=!kl(T)),Ge(T.split)&&(T.split=!kl(T)||_i(T)),Ge(T.remove)&&kl(T)&&!_i(T)&&(T.remove="none"),kl(T)&&_i(T)&&(T.mixed=!0,T.block_expand=!0),q(T.classes)&&(T.classes=T.classes.split(/\s+/))}),n[b]=S):Mt(b,(T,$)=>{u($,T)}))},m=b=>(b&&n[b]&&delete n[b],n);return u(p5(e)),u(pj()),u(Y1(e)),{get:o,has:a,register:u,unregister:m}},uu=gt.each,Ml=bs.DOM,hk=e=>ye(e)&&ke(e),qS=(e,n)=>{const o=n&&n.schema||_d({}),a=(T,$)=>{$.classes.length>0&&Ml.addClass(T,$.classes.join(" ")),Ml.setAttribs(T,$.attrs)},u=T=>{const $=q(T)?{name:T,classes:[],attrs:{}}:T,W=Ml.create($.name);return a(W,$),W},m=(T,$)=>{const W=o.getElementRule(T.nodeName.toLowerCase()),V=W==null?void 0:W.parentsRequired;return V&&V.length?$&&je(V,$)?$:V[0]:!1},b=(T,$,W)=>{let V;const X=$[0],ue=hk(X)?X.name:void 0,he=m(T,ue);if(he)ue===he?(V=X,$=$.slice(1)):V=he;else if(X)V=X,$=$.slice(1);else if(!W)return T;const re=V?u(V):Ml.create("div");re.appendChild(T),W&&gt.each(W,Re=>{const Pe=u(Re);re.insertBefore(Pe,T)});const fe=hk(V)?V.siblings:void 0;return b(re,$,fe)},S=Ml.create("div");if(e.length>0){const T=e[0],$=u(T),W=hk(T)?T.siblings:void 0;S.appendChild(b($,e.slice(1),W))}return S},g5=e=>{e=gt.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,u,m,b,S)=>{switch(u){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":gt.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(b==="["){const T=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);T&&(o.attrs[T[1]]=T[2])}return""})),o.name=n||"div",o},b5=e=>q(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),gt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=gt.map(n.split(/(?:~\+|~|\+)/),g5),a=o.pop();return o.length&&(a.siblings=o),a}).reverse()):[],v5=(e,n)=>{let o="",a=Pi(e);if(a==="")return"";const u=X=>q(X)?X.replace(/%(\w+)/g,""):"",m=(X,ue)=>Ml.getStyle(ue??e.getBody(),X,!0);if(q(n)){const X=e.formatter.get(n);if(!X)return"";n=X[0]}if("preview"in n){const X=n.preview;if(X===!1)return"";a=X||a}let b=n.block||n.inline||"span",S;const T=b5(n.selector);T.length>0?(T[0].name||(T[0].name=b),b=n.selector,S=qS(T,e)):S=qS([b],e);const $=Ml.select(b,S)[0]||S.firstChild;uu(n.styles,(X,ue)=>{const he=u(X);he&&Ml.setStyle($,ue,he)}),uu(n.attributes,(X,ue)=>{const he=u(X);he&&Ml.setAttrib($,ue,he)}),uu(n.classes,X=>{const ue=u(X);Ml.hasClass($,ue)||Ml.addClass($,ue)}),e.dispatch("PreviewFormats"),Ml.setStyles(S,{position:"absolute",left:-65535}),e.getBody().appendChild(S);const W=m("fontSize"),V=/px$/.test(W)?parseInt(W,10):0;return uu(a.split(" "),X=>{let ue=m(X,$);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ue)&&(ue=m(X),Vp(ue).toLowerCase()==="#ffffff"))&&!(X==="color"&&Vp(ue).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(ue)){if(V===0)return;ue=parseFloat(ue)/(/%$/.test(ue)?100:1)*V+"px"}X==="border"&&ue&&(o+="padding:0 2px;"),o+=X+":"+ue+";"}}),e.dispatch("AfterPreviewFormats"),Ml.remove(S),o},y5=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},SM=e=>{const n=Fh(e),o=pi({});return y5(e),SR(e),lu(e)||HI(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(a,u,m)=>{DU(e,a,u,m)},remove:(a,u,m,b)=>{NU(e,a,u,m,b)},toggle:(a,u,m)=>{RU(e,a,u,m)},match:(a,u,m,b)=>TU(e,a,u,m,b),closest:a=>OU(e,a),matchAll:(a,u)=>kU(e,a,u),matchNode:(a,u,m,b)=>AU(e,a,u,m,b),canApply:a=>VL(e,a),formatChanged:(a,u,m,b)=>Xte(e,o,a,u,m,b),getCssText:lt(v5,e)}},EM=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},pk=(e,n,o)=>{const a=pi(!1),u=T=>{tk(n,!1,o),n.add({},T)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",T=>{const $=T.command;EM($)||(cM(n,o),n.beforeChange())}),e.on("ExecCommand",T=>{const $=T.command;EM($)||u(T)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",u),e.on("dragend",u),e.on("keyup",T=>{const $=T.keyCode;if(T.isDefaultPrevented())return;const W=Oo.os.isMacOS()&&T.key==="Meta";($>=33&&$<=36||$>=37&&$<=40||$===45||T.ctrlKey||W)&&(u(),e.nodeChanged()),($===46||$===8)&&e.nodeChanged(),a.get()&&n.typing&&!iM(ek(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())}),e.on("keydown",T=>{const $=T.keyCode;if(T.isDefaultPrevented())return;if($>=33&&$<=36||$>=37&&$<=40||$===45){n.typing&&u(T);return}const W=T.ctrlKey&&!T.altKey||T.metaKey;if(($<16||$>20)&&$!==224&&$!==91&&!n.typing&&!W){n.beforeChange(),tk(n,!0,o),n.add({},T),a.set(!0);return}(Oo.os.isMacOS()?T.metaKey:T.ctrlKey&&!T.altKey)&&n.beforeChange()}),e.on("mousedown",T=>{n.typing&&u(T)});const m=T=>T.inputType==="insertReplacementText",b=T=>T.inputType==="insertText"&&T.data===null,S=T=>T.inputType==="insertFromPaste"||T.inputType==="insertFromDrop";e.on("input",T=>{T.inputType&&(m(T)||b(T)||S(T))&&u(T)}),e.on("AddUndo Undo Redo ClearUndos",T=>{T.isDefaultPrevented()||e.nodeChanged()})},xM=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},_5=e=>{const n=Ji(),o=pi(0),a=pi(0),u={data:[],typing:!1,beforeChange:()=>{IL(e,o,n)},add:(m,b)=>_U(e,u,a,o,n,m,b),dispatchChange:()=>{e.setDirty(!0);const m=ek(e);m.bookmark=Ka(e.selection),e.dispatch("change",{level:m,lastLevel:wc(u.data,a.get()).getOrUndefined()})},undo:()=>wU(e,u,o,a),redo:()=>CU(e,a,u.data),clear:()=>{SU(e,u,a)},reset:()=>{LL(e,u)},hasUndo:()=>EU(e,u,a),hasRedo:()=>xU(e,u,a),transact:m=>WS(e,u,o,m),ignore:m=>{FL(e,o,m)},extra:(m,b)=>{HL(e,u,a,m,b)}};return lu(e)||pk(e,u,o),xM(e),u},gj=[9,27,en.HOME,en.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,en.DOWN,en.UP,en.LEFT,en.RIGHT].concat(Oo.browser.isFirefox()?[224]:[]),w5="data-mce-placeholder",C5=e=>e.type==="keydown"||e.type==="keyup",TM=e=>{const n=e.keyCode;return n===en.BACKSPACE||n===en.DELETE},bj=e=>{if(C5(e)){const n=e.keyCode;return!TM(e)&&(en.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||je(gj,n))}else return!1},vj=e=>C5(e)&&!(TM(e)||e.type==="keyup"&&e.keyCode===229),kM=(e,n,o)=>{if(ri(ge.fromDom(n),!1)){const a=n.firstElementChild;return a?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===a.nodeName.toLowerCase():!0}else return!1},yj=e=>{var n;const o=e.dom,a=Sr(e),u=(n=SD(e))!==null&&n!==void 0?n:"",m=(b,S)=>{if(bj(b))return;const T=e.getBody(),$=vj(b)?!1:kM(o,T,a);(o.getAttrib(T,w5)!==""!==$||S)&&(o.setAttrib(T,w5,$?u:null),o.setAttrib(T,"aria-placeholder",$?u:null),GC(e,$),e.on($?"keydown":"keyup",m),e.off($?"keyup":"keydown",m))};Xo(u)&&e.on("init",b=>{m(b,!0),e.on("change SetContent ExecCommand",m),e.on("paste",S=>gc.setEditorTimeout(e,()=>m(S)))})},_j=(e,n)=>({block:e,position:n}),wj=(e,n)=>({from:e,to:n}),AM=(e,n)=>{const o=ge.fromDom(e),a=ge.fromDom(n.container());return Xy(o,a).map(u=>_j(u,n))},Cj=e=>!Jo(e.from.block,e.to.block),S5=(e,n)=>te(n,u=>dr(u)||as(u.dom),u=>Jo(u,e)).filter(gs).getOr(e),Sj=(e,n)=>{const o=ge.fromDom(e);return Jo(S5(o,n.from.block),S5(o,n.to.block))},gk=e=>Yo(e.from.block.dom)===!1&&Yo(e.to.block.dom)===!1,OM=e=>{const n=o=>gp(o)||R1(o.dom);return n(e.from.block)&&n(e.to.block)},Ej=(e,n,o)=>Xs(o.position.getNode())&&!ri(o.block)?vi(!1,o.block.dom).bind(a=>a.isEqual(o.position)?$u(n,e,a).bind(u=>AM(e,u)):Y.some(o)).getOr(o):o,xj=(e,n,o)=>{const a=AM(e,Je.fromRangeStart(o)),u=a.bind(m=>$u(n,e,m.position).bind(b=>AM(e,b).map(S=>Ej(e,n,S))));return Wi(a,u,wj).filter(m=>Cj(m)&&Sj(e,m)&&gk(m)&&OM(m))},Tj=(e,n,o)=>o.collapsed?xj(e,n,o):Y.none(),kj=e=>{const n=ni(e);return kn(n,wr).fold(ot(n),o=>n.slice(0,o))},DM=e=>{const n=kj(e);return Ae(n,Uo),n},E5=(e,n)=>{const o=Jp(n,e);return nn(o.reverse(),a=>ri(a)).each(Uo)},Aj=e=>st(xg(e),n=>!ri(n)).length===0,NM=(e,n,o,a)=>{if(ri(o))return M(o),yi(o.dom);Aj(a)&&ri(n)&&Ha(a,ge.fromTag("br"));const u=ua(o.dom,Je.before(a.dom));return Ae(DM(n),m=>{Ha(a,m)}),E5(e,n),u},Oj=(e,n,o)=>{if(ri(o)){if(ri(n)){const m=Bt((b=>{const S=(T,$)=>Gd(T).fold(()=>$,W=>He(W)?S(W,$.concat(_h(W))):$);return S(b,[])})(o),(b,S)=>(k0(b,S),S),O());Au(n),_r(n,m)}return Uo(o),yi(n.dom)}const a=ol(o.dom);return Ae(DM(n),u=>{_r(o,u)}),E5(e,n),a},Dj=(e,n)=>{const o=Jp(n,e);return Y.from(o[o.length-1])},Nj=(e,n)=>sc(n,e)?Dj(n,e):Y.none(),x5=(e,n)=>{vi(e,n.dom).bind(o=>Y.from(o.getNode())).map(ge.fromDom).filter(Yi).each(Uo)},T5=(e,n,o)=>(x5(!0,n),x5(!1,o),Nj(n,o).fold(lt(Oj,e,n,o),lt(NM,e,n,o))),k5=(e,n,o,a)=>n?T5(e,a,o):T5(e,o,a),RM=(e,n)=>{const o=ge.fromDom(e.getBody());return Tj(o.dom,n,e.selection.getRng()).map(u=>()=>{k5(o,n,u.from.block,u.to.block).each(m=>{e.selection.setRng(m.toRange())})})},bk=(e,n)=>{const o=n.getRng();return Wi(Xy(e,ge.fromDom(o.startContainer)),Xy(e,ge.fromDom(o.endContainer)),(a,u)=>Jo(a,u)?Y.none():Y.some(()=>{o.deleteContents(),k5(e,!0,a,u).each(m=>{n.setRng(m.toRange())})})).getOr(Y.none())},GS=(e,n)=>{const o=ge.fromDom(n),a=lt(Jo,e);return z(o,dr,a).isSome()},Rj=(e,n)=>GS(e,n.startContainer)||GS(e,n.endContainer),Mj=(e,n)=>{const o=ua(e.dom,Je.fromRangeStart(n)).isNone(),a=ka(e.dom,Je.fromRangeEnd(n)).isNone();return!Rj(e,n)&&o&&a},vk=e=>Y.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),$j=e=>{const n=ge.fromDom(e.getBody()),o=e.selection.getRng();return Mj(n,o)?vk(e):bk(n,e.selection)},MM=(e,n)=>e.selection.isCollapsed()?Y.none():$j(e),cg=(e,n,o,a,u)=>Y.from(n._selectionOverrides.showCaret(e,o,a,u)),Pj=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},YS=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?Y.none():Y.some(Pj(n)),Bj=(e,n,o)=>{const a=fb(1,e.getBody(),n),u=Je.fromRangeStart(a),m=u.getNode();if(wy(m))return cg(1,e,m,!u.isAtEnd(),!1);const b=u.getNode(!0);if(wy(b))return cg(1,e,b,!1,!1);const S=Pb(e.dom.getRoot(),u.getNode());return wy(S)?cg(1,e,S,!1,o):Y.none()},$M=(e,n,o)=>n.collapsed?Bj(e,n,o).getOr(n):n,Ij=e=>Mb(e)||pT(e),Lj=e=>$b(e)||dS(e),Fj=(e,n)=>{Et(n)&&n.data.length===0&&e.remove(n)},A5=(e,n,o,a,u,m)=>{cg(a,e,m.getNode(!u),u,!0).each(b=>{if(n.collapsed){const S=n.cloneRange();u?S.setEnd(b.startContainer,b.startOffset):S.setStart(b.endContainer,b.endOffset),S.deleteContents()}else n.deleteContents();e.selection.setRng(b)}),Fj(e.dom,o)},one=(e,n)=>{const o=e.selection.getRng();if(!Et(o.commonAncestorContainer))return Y.none();const a=n?bi.Forwards:bi.Backwards,u=xd(e.getBody()),m=lt(Ah,n?u.next:u.prev),b=n?Ij:Lj,S=$p(a,e.getBody(),o),T=m(S),$=T&&Fu(n,T);if(!$||!lv(S,$))return Y.none();if(b($))return Y.some(()=>A5(e,o,S.getNode(),a,n,$));const W=m($);return W&&b(W)&&lv($,W)?Y.some(()=>A5(e,o,S.getNode(),a,n,W)):Y.none()},Wu=(e,n)=>one(e,n),XS=(e,n)=>{const o=e.getBody();return n?yi(o).filter(Mb):ol(o).filter($b)},yk=e=>{const n=e.selection.getRng();return!n.collapsed&&(XS(e,!0).exists(o=>o.isEqual(Je.fromRangeStart(n)))||XS(e,!1).exists(o=>o.isEqual(Je.fromRangeEnd(n))))},O5=e=>ye(e)&&(dr(ge.fromDom(e))||ca(ge.fromDom(e))),Uu=Sd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),D5=(e,n)=>{const o=n.getNode(!e),a=e?"after":"before";return qt(o)&&o.getAttribute("data-mce-caret")===a},Hj=(e,n,o,a)=>{const u=m=>He(ge.fromDom(m))&&!um(o,a,e);return SC(!n,o).fold(()=>SC(n,a).fold(at,u),u)},PM=(e,n,o,a)=>{const u=a.getNode(!n);return Xy(ge.fromDom(e),ge.fromDom(o.getNode())).map(m=>ri(m)?Uu.remove(m.dom):Uu.moveToElement(u)).orThunk(()=>Y.some(Uu.moveToElement(u)))},N5=(e,n,o)=>$u(n,e,o).bind(a=>O5(a.getNode())||Hj(e,n,o,a)?Y.none():n&&Yo(a.getNode())||!n&&Yo(a.getNode(!0))?PM(e,n,o,a):n&&$b(o)||!n&&Mb(o)?Y.some(Uu.moveToPosition(a)):Y.none()),Vj=(e,n)=>Ue(n)?Y.none():e&&Yo(n.nextSibling)?Y.some(Uu.moveToElement(n.nextSibling)):!e&&Yo(n.previousSibling)?Y.some(Uu.moveToElement(n.previousSibling)):Y.none(),zj=(e,n,o)=>o.fold(a=>Y.some(Uu.remove(a)),a=>Y.some(Uu.moveToElement(a)),a=>um(n,a,e)?Y.none():Y.some(Uu.moveToPosition(a))),C_=(e,n,o)=>D5(n,o)?Vj(n,o.getNode(!n)).orThunk(()=>N5(e,n,o)):N5(e,n,o).bind(a=>zj(e,o,a)),R5=(e,n,o)=>{const a=fb(n?1:-1,e,o),u=Je.fromRangeStart(a),m=ge.fromDom(e);return!n&&$b(u)?Y.some(Uu.remove(u.getNode(!0))):n&&Mb(u)?Y.some(Uu.remove(u.getNode())):!n&&Mb(u)&&zN(m,u)?ao(m,u).map(b=>Uu.remove(b.getNode())):n&&$b(u)&&bT(m,u)?uB(m,u).map(b=>Uu.remove(b.getNode())):C_(e,n,u)},M5=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Yy(e,n,ge.fromDom(o)),!0),$5=(e,n)=>o=>{const a=n?Je.before(o):Je.after(o);return e.selection.setRng(a.toRange()),!0},BM=e=>n=>(e.selection.setRng(n.toRange()),!0),P5=(e,n)=>Y.from(Pb(e.getBody(),n)),Wj=(e,n)=>{const o=e.selection.getNode();return P5(e,o).filter(Yo).fold(()=>R5(e.getBody(),n,e.selection.getRng()).map(a=>()=>a.fold(M5(e,n),$5(e,n),BM(e))),()=>Y.some(xt))},Uj=e=>{Ae(Ri(e,".mce-offscreen-selection"),Uo)},sne=(e,n)=>{const o=e.selection.getNode();return Yo(o)&&!qi(o)?P5(e,o.parentNode).filter(Yo).fold(()=>Y.some(()=>{Uj(ge.fromDom(e.getBody())),Yy(e,n,ge.fromDom(e.selection.getNode())),YN(e)}),()=>Y.some(xt)):yk(e)?Y.some(()=>{Av(e,e.selection.getRng(),ge.fromDom(e.getBody()))}):Y.none()},jj=e=>{const n=e.dom,o=e.selection,a=Pb(e.getBody(),o.getNode());if(as(a)&&n.isBlock(a)&&n.isEmpty(a)){const u=n.create("br",{"data-mce-bogus":"1"});n.setHTML(a,""),a.appendChild(u),o.setRng(Je.before(u).toRange())}return!0},B5=(e,n)=>e.selection.isCollapsed()?Wj(e,n):sne(e,n),Ef=(e,n)=>{const o=Je.fromRangeStart(e.selection.getRng());return $u(n,e.getBody(),o).filter(a=>n?s9(a):Fte(a)).bind(a=>lb(n?0:-1,a)).map(a=>()=>e.selection.select(a))},IM=(e,n)=>e.selection.isCollapsed()?Ef(e,n):Y.none(),S_=Et,Kb=e=>S_(e)&&e.data[0]===se,LM=e=>S_(e)&&e.data[e.data.length-1]===se,I5=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(se)},_k=e=>{var n;if(S_(e.previousSibling))return LM(e.previousSibling)||e.previousSibling.appendData(se),e.previousSibling;if(S_(e))return Kb(e)||e.insertData(0,se),e;{const o=I5(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},Zj=e=>{var n,o;if(S_(e.nextSibling))return Kb(e.nextSibling)||e.nextSibling.insertData(0,se),e.nextSibling;if(S_(e))return LM(e)||e.appendData(se),e;{const a=I5(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(a,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(a),a}},wk=(e,n)=>e?_k(n):Zj(n),Kj=lt(wk,!0),qj=lt(wk,!1),L5=(e,n)=>Et(e.container())?wk(n,e.container()):wk(n,e.getNode()),F5=(e,n)=>{const o=n.get();return o&&e.container()===o&&Pn(o)},Tm=(e,n)=>n.fold(o=>{Mp(e.get());const a=Kj(o);return e.set(a),Y.some(Je(a,a.length-1))},o=>yi(o).map(a=>{if(F5(a,e)){const u=e.get();return Je(u,1)}else{Mp(e.get());const u=L5(a,!0);return e.set(u),Je(u,1)}}),o=>ol(o).map(a=>{if(F5(a,e)){const u=e.get();return Je(u,u.length-1)}else{Mp(e.get());const u=L5(a,!1);return e.set(u),Je(u,u.length-1)}}),o=>{Mp(e.get());const a=qj(o);return e.set(a),Y.some(Je(a,1))}),H5=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o].apply(null,n);if(a.isSome())return a}return Y.none()},il=Sd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),V5=(e,n)=>{const o=Ed(n,e);return o||e},Gj=(e,n,o)=>{const a=AB(o),u=V5(n,a.container());return $h(e,u,a).fold(()=>ka(u,a).bind(lt($h,e,u)).map(m=>il.before(m)),Y.none)},Yj=(e,n)=>Ip(e,n)===null,Ck=(e,n,o)=>$h(e,n,o).filter(lt(Yj,n)),FM=(e,n,o)=>{const a=OB(o);return Ck(e,n,a).bind(u=>ua(u,a).isNone()?Y.some(il.start(u)):Y.none())},HM=(e,n,o)=>{const a=AB(o);return Ck(e,n,a).bind(u=>ka(u,a).isNone()?Y.some(il.end(u)):Y.none())},z5=(e,n,o)=>{const a=OB(o),u=V5(n,a.container());return $h(e,u,a).fold(()=>ua(u,a).bind(lt($h,e,u)).map(m=>il.after(m)),Y.none)},VM=e=>!xB(zM(e)),km=(e,n,o)=>H5([Gj,FM,HM,z5],[e,n,o]).filter(VM),zM=e=>e.fold(Xn,Xn,Xn,Xn),E_=e=>e.fold(ot("before"),ot("start"),ot("end"),ot("after")),x_=e=>e.fold(il.before,il.before,il.after,il.after),Sk=e=>e.fold(il.start,il.start,il.end,il.end),W5=(e,n)=>E_(e)===E_(n)&&zM(e)===zM(n),U5=(e,n,o,a,u,m)=>Wi($h(n,o,a),$h(n,o,u),(b,S)=>b!==S&&GN(o,b,S)?il.after(e?b:S):m).getOr(m),j5=(e,n)=>e.fold(wt,o=>!W5(o,n)),Ek=(e,n,o,a,u)=>{const m=Fu(e,u);return $u(e,o,m).map(lt(Fu,e)).fold(()=>a.map(x_),T=>km(n,o,T).map(lt(U5,e,n,o,m,T)).filter(lt(j5,a))).filter(VM)},WM=(e,n)=>e?n.fold(I(Y.some,il.start),Y.none,I(Y.some,il.after),Y.none):n.fold(Y.none,I(Y.some,il.before),Y.none,I(Y.some,il.end)),JS=(e,n,o,a)=>{const u=Fu(e,a),m=km(n,o,u);return km(n,o,u).bind(lt(WM,e)).orThunk(()=>Ek(e,n,o,m,a))},Xj=e=>ie(e.selection.getSel().modify),UM=(e,n,o)=>{const a=e?1:-1;return n.setRng(Je(o.container(),o.offset()+a).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},Jj=(e,n)=>{const o=n.selection.getRng(),a=e?Je.fromRangeEnd(o):Je.fromRangeStart(o);return Xj(n)?e&&Xi(a)?UM(!0,n.selection,a):!e&&Xc(a)?UM(!1,n.selection,a):!1:!1};var Hh;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Hh||(Hh={}));const QS=(e,n)=>e===bi.Backwards?uo(n):n,Qj=(e,n,o)=>e===bi.Forwards?n.next(o):n.prev(o),Z5=(e,n,o,a)=>Xs(a.getNode(n===bi.Forwards))?Hh.Br:um(o,a)===!1?Hh.Block:Hh.Wrap,eZ=(e,n,o,a)=>{const u=xd(o);let m=a;const b=[];for(;m;){const S=Qj(n,u,m);if(!S)break;if(Xs(S.getNode(!1)))return n===bi.Forwards?{positions:QS(n,b).concat([S]),breakType:Hh.Br,breakAt:Y.some(S)}:{positions:QS(n,b),breakType:Hh.Br,breakAt:Y.some(S)};if(!S.isVisible()){m=S;continue}if(e(m,S)){const T=Z5(o,n,m,S);return{positions:QS(n,b),breakType:T,breakAt:Y.some(S)}}b.push(S),m=S}return{positions:QS(n,b),breakType:Hh.Eol,breakAt:Y.none()}},K5=(e,n,o,a)=>n(o,a).breakAt.map(u=>{const m=n(o,u).positions;return e===bi.Backwards?m.concat(u):[u].concat(m)}).getOr([]),jM=(e,n)=>tn(e,(o,a)=>o.fold(()=>Y.some(a),u=>Wi(oo(u.getClientRects()),oo(a.getClientRects()),(m,b)=>{const S=Math.abs(n-m.left);return Math.abs(n-b.left)<=S?a:u}).or(o)),Y.none()),xk=(e,n)=>oo(n.getClientRects()).bind(o=>jM(e,o.left)),eE=lt(eZ,Je.isAbove,-1),tE=lt(eZ,Je.isBelow,1),q5=lt(K5,-1,eE),G5=lt(K5,1,tE),tZ=(e,n)=>eE(e,n).breakAt.isNone(),Y5=(e,n)=>tE(e,n).breakAt.isNone(),nZ=e=>yi(e).map(n=>[n].concat(tE(e,n).positions)).getOr([]),jv=e=>ol(e).map(n=>eE(e,n).positions.concat(n)).getOr([]),X5=(e,n)=>xk(q5(e,n),n),ZM=(e,n)=>xk(G5(e,n),n),J5=Yo,Tk=(e,n)=>Math.abs(e.left-n),lg=(e,n)=>Math.abs(e.right-n),Q5=e=>Xr(e,"node"),ju=(e,n)=>va(e,(o,a)=>{const u=Math.min(Tk(o,n),lg(o,n)),m=Math.min(Tk(a,n),lg(a,n));return m===u&&Q5(a)&&J5(a.node)||m<u?a:o}),Zv=e=>{const n=o=>Ye(o,a=>{const u=rm(a);return u.node=e,u});if(qt(e))return n(e.getClientRects());if(Et(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},kk=e=>vo(e,Zv);var nE;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(nE||(nE={}));const eF=(e,n,o,a)=>{let u=a;for(;u=av(u,e,ph,n);)if(o(u))return},tF=(e,n,o,a,u,m)=>{let b=0;const S=[],T=V=>{let X=kk([V]);e===-1&&(X=X.reverse());for(let ue=0;ue<X.length;ue++){const he=X[ue];if(!o(he,$)){if(S.length>0&&n(he,Ti(S))&&b++,he.line=b,u(he))return!0;S.push(he)}}return!1},$=Ti(m.getClientRects());if(!$)return S;const W=m.getNode();return W&&(T(W),eF(e,a,T,W)),S},oZ=(e,n)=>n.line>e,sZ=(e,n)=>n.line===e,rZ=lt(tF,nE.Up,nb,ob),iZ=lt(tF,nE.Down,ob,nb),KM=e=>Ti(e.getClientRects()),aZ=(e,n,o,a)=>{const u=xd(n);let m,b,S,T;const $=[];let W=0;e===1?(m=u.next,b=ob,S=nb,T=Je.after(a)):(m=u.prev,b=nb,S=ob,T=Je.before(a));const V=KM(T);do{if(!T.isVisible())continue;const X=KM(T);if(S(X,V))continue;$.length>0&&b(X,Ti($))&&W++;const ue=rm(X);if(ue.position=T,ue.line=W,o(ue))return $;$.push(ue)}while(T=m(T));return $},nF=e=>n=>oZ(e,n),qb=e=>n=>sZ(e,n),Am=(e,n)=>{e.selection.setRng(n),Od(e,e.selection.getRng())},Ak=(e,n,o)=>Y.some($M(e,n,o)),qM=(e,n,o,a,u,m)=>{const b=n===bi.Forwards,S=xd(e.getBody()),T=lt(Ah,b?S.next:S.prev),$=b?a:u;if(!o.collapsed){const he=mr(o);if(m(he))return cg(n,e,he,n===bi.Backwards,!1);if(yk(e)){const re=o.cloneRange();return re.collapse(n===bi.Backwards),Y.from(re)}}const W=$p(n,e.getBody(),o);if($(W))return YS(e,W.getNode(!b));let V=T(W);const X=af(o);if(V)V=Fu(b,V);else return X?Y.some(o):Y.none();if($(V))return cg(n,e,V.getNode(!b),b,!1);const ue=T(V);return ue&&$(ue)&&lv(V,ue)?cg(n,e,ue.getNode(!b),b,!1):X?Ak(e,V.toRange(),!1):Y.none()},Ok=(e,n,o,a,u,m)=>{const b=$p(n,e.getBody(),o),S=Ti(b.getClientRects()),T=n===nE.Down,$=e.getBody();if(!S)return Y.none();if(yk(e)){const fe=T?Je.fromRangeEnd(o):Je.fromRangeStart(o);return(T?ZM:X5)($,fe).orThunk(()=>Y.from(fe)).map(Pe=>Pe.toRange())}const V=(T?iZ:rZ)($,nF(1),b),X=st(V,qb(1)),ue=S.left,he=ju(X,ue);if(he&&m(he.node)){const fe=Math.abs(ue-he.left),Re=Math.abs(ue-he.right);return cg(n,e,he.node,fe<Re,!1)}let re;if(a(b)?re=b.getNode():u(b)?re=b.getNode(!0):re=mr(o),re){const fe=aZ(n,$,nF(1),re);let Re=ju(st(fe,qb(1)),ue);if(Re||(Re=Ti(st(fe,qb(0))),Re))return Ak(e,Re.position.toRange(),!1)}return X.length===0?GM(e,T).filter(T?u:a).map(fe=>$M(e,fe.toRange(),!1)):Y.none()},GM=(e,n)=>{const o=e.selection.getRng(),a=n?Je.fromRangeEnd(o):Je.fromRangeStart(o),u=Ex(a.container(),e.getBody());if(n){const m=tE(u,a);return fs(m.positions)}else{const m=eE(u,a);return oo(m.positions)}},oF=(e,n,o)=>GM(e,n).filter(o).exists(a=>(e.selection.setRng(a.toRange()),!0)),Dk=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},sF=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},rF=(e,n,o)=>Tm(n,o).map(a=>(Dk(e,a),o)),cZ=(e,n,o)=>{const a=Je.fromRangeStart(e);if(e.collapsed)return a;{const u=Je.fromRangeEnd(e);return o?ua(n,u).getOr(u):ka(n,a).getOr(a)}},lZ=(e,n,o)=>{const a=e.getBody(),u=cZ(e.selection.getRng(),a,o),m=lt(bc,e);return JS(o,m,a,u).bind(S=>rF(e,n,S))},iF=(e,n,o)=>{const a=Ye(Ri(ge.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),b=>b.dom),u=st(a,e),m=st(o,e);Ae(mi(u,m),lt(sF,!1)),Ae(mi(m,u),lt(sF,!0))},uZ=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const a=Je.fromRangeStart(e.selection.getRng());Je.isTextPosition(a)&&!kB(a)&&(Dk(e,jD(o,a)),n.set(null))}},dZ=(e,n,o,a)=>{if(n.selection.isCollapsed()){const u=st(a,e);Ae(u,m=>{const b=Je.fromRangeStart(n.selection.getRng());km(e,n.getBody(),b).bind(S=>rF(n,o,S))})}},du=(e,n,o)=>Dp(e)?lZ(e,n,o).isSome():!1,aF=(e,n,o)=>Dp(n)?Jj(e,n):!1,YM=e=>{const n=pi(null),o=lt(bc,e);return e.on("NodeChange",a=>{Dp(e)&&(iF(o,e.dom,a.parents),uZ(e,n),dZ(o,e,n,a.parents))}),n},cF=lt(aF,!0),XM=lt(aF,!1),Nk=(e,n,o)=>{if(Dp(e)){const a=GM(e,n).getOrThunk(()=>{const u=e.selection.getRng();return n?Je.fromRangeEnd(u):Je.fromRangeStart(u)});return km(lt(bc,e),e.getBody(),a).exists(u=>{const m=x_(u);return Tm(o,m).exists(b=>(Dk(e,b),!0))})}else return!1},fZ=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},mZ=e=>Wi(yi(e),ol(e),(n,o)=>{const a=Fu(!0,n),u=Fu(!1,o);return ka(e,a).forall(m=>m.isEqual(u))}).getOr(!0),lF=(e,n)=>o=>Tm(n,o).map(a=>()=>Dk(e,a)),uF=(e,n,o,a)=>{const u=e.getBody(),m=lt(bc,e);e.undoManager.ignore(()=>{e.selection.setRng(fZ(o,a)),Hu(e),km(m,u,Je.fromRangeStart(e.selection.getRng())).map(Sk).bind(lF(e,n)).each(Mo)}),e.nodeChanged()},dF=(e,n)=>{const o=Ed(n,e);return o||e},hZ=(e,n,o,a)=>{const u=dF(e.getBody(),a.container()),m=lt(bc,e),b=km(m,u,a);return b.bind(T=>o?T.fold(ot(Y.some(Sk(T))),Y.none,ot(Y.some(x_(T))),Y.none):T.fold(Y.none,ot(Y.some(x_(T))),Y.none,ot(Y.some(Sk(T))))).map(lF(e,n)).getOrThunk(()=>{const T=TC(o,u,a),$=T.bind(W=>km(m,u,W));return Wi(b,$,()=>$h(m,u,a).bind(W=>mZ(W)?Y.some(()=>{Yy(e,o,ge.fromDom(W))}):Y.none())).getOrThunk(()=>$.bind(()=>T.map(W=>()=>{o?uF(e,n,a,W):uF(e,n,W,a)})))})},JM=(e,n,o)=>{if(e.selection.isCollapsed()&&Dp(e)){const a=Je.fromRangeStart(e.selection.getRng());return hZ(e,n,o,a)}return Y.none()},oE=e=>ia(e)>1,Vh=(e,n)=>{const o=ge.fromDom(e.getBody()),a=ge.fromDom(e.selection.getStart()),u=Jp(a,o);return kn(u,n).fold(ot(u),m=>u.slice(0,m))},Kv=e=>ia(e)===1,Rk=e=>Vh(e,n=>wr(n)||oE(n)),QM=e=>Vh(e,wr),Mk=(e,n)=>{const o=lt(mI,e);return vo(n,a=>o(a)?[a.dom]:[])},e4=e=>{const n=QM(e);return Mk(e,n)},pZ=(e,n,o,a)=>{const u=Mk(n,a);if(u.length===0)Yy(n,e,o);else{const m=ER(o.dom,u);n.selection.setRng(m.toRange())}},fF=(e,n)=>{const o=st(Rk(e),Kv);return fs(o).bind(a=>{const u=Je.fromRangeStart(e.selection.getRng());return Jy(n,u,a.dom)&&!hI(a)?Y.some(()=>pZ(n,e,a,o)):Y.none()})},mF=(e,n)=>{const o=n.parentElement;return Xs(n)&&!J(o)&&e.dom.isEmpty(o)},gZ=e=>hI(ge.fromDom(e)),hF=(e,n)=>{const o=e.selection.getStart(),a=mF(e,o)||gZ(o)?ER(o,n):sW(e.selection.getRng(),n);e.selection.setRng(a.toRange())},bZ=(e,n)=>{const o=mi(n,e4(e));o.length>0&&hF(e,o)},pF=e=>Et(e.startContainer),vZ=e=>e.startOffset===0&&pF(e),yZ=(e,n)=>{const o=n.startContainer.parentElement;return!J(o)&&mI(e,ge.fromDom(o))},gF=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!J(n)&&!J(o)&&n.isEqualNode(o)},bF=e=>{const n=e.endContainer;return e.endOffset===(Et(n)?n.length:n.childNodes.length)},rne=e=>gF(e)&&bF(e),ine=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),ane=e=>rne(e)||ine(e),_Z=e=>{const n=e.selection.getRng();return vZ(n)&&yZ(e,n)&&ane(n)},cne=e=>{if(_Z(e)){const n=e4(e);return Y.some(()=>{Hu(e),bZ(e,n)})}else return Y.none()},vF=(e,n)=>e.selection.isCollapsed()?fF(e,n):cne(e),wZ=e=>Q9(e,n=>nu(n.dom),wr),CZ=e=>wZ(ge.fromDom(e.selection.getStart())),lne=e=>{const n=e.selection.getRng();return n.collapsed&&(pF(n)||e.dom.isEmpty(n.startContainer))&&!CZ(e)},sE=e=>(lne(e)&&hF(e,[]),!0),al=(e,n,o)=>ye(o)?Y.some(()=>{e._selectionOverrides.hideFakeCaret(),Yy(e,n,ge.fromDom(o))}):Y.none(),yF=(e,n)=>{const o=n?pT:dS,a=n?bi.Forwards:bi.Backwards,u=$p(a,e.getBody(),e.selection.getRng());return o(u)?al(e,n,u.getNode(!n)):Y.from(Fu(n,u)).filter(m=>o(m)&&lv(u,m)).bind(m=>al(e,n,m.getNode(!n)))},rE=(e,n)=>{const o=e.selection.getNode();return Tr(o)?al(e,n,o):Y.none()},t4=(e,n)=>e.selection.isCollapsed()?yF(e,n):rE(e,n),_F=e=>te(e,n=>as(n.dom)||Yo(n.dom)).exists(n=>as(n.dom)),$k=e=>vl(e??"").getOr(0),Pk=(e,n)=>{const o=e||Lg(n)?"margin":"padding",a=jr(n,"direction")==="rtl"?"-right":"-left";return o+a},SZ=(e,n,o,a,u,m)=>{const b=Pk(o,ge.fromDom(m)),S=$k(e.getStyle(m,b));if(n==="outdent"){const T=Math.max(0,S-a);e.setStyle(m,b,T?T+u:"")}else{const T=S+a+u;e.setStyle(m,b,T)}},EZ=(e,n)=>Qn(n,o=>{const a=Pk(dy(e),o),u=Fa(o,a).map($k).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&u>0}),n4=e=>{const n=CF(e);return!e.mode.isReadOnly()&&(n.length>1||EZ(e,n))},wF=e=>Sa(e)||ca(e),xZ=e=>_a(e).exists(wF),CF=e=>st(Qd(e.selection.getSelectedBlocks()),n=>!wF(n)&&!xZ(n)&&_F(n)),Bk=(e,n)=>{var o,a;const{dom:u}=e,m=vD(e),b=(a=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:"px",S=$k(m),T=dy(e);Ae(CF(e),$=>{SZ(u,n,T,S,b,$.dom)})},TZ=e=>Bk(e,"indent"),SF=e=>Bk(e,"outdent"),kZ=e=>{if(e.selection.isCollapsed()&&n4(e)){const n=e.dom,o=e.selection.getRng(),a=Je.fromRangeStart(o),u=n.getParent(o.startContainer,n.isBlock);if(u!==null&&lB(ge.fromDom(u),a))return Y.some(()=>SF(e))}return Y.none()},EF=(e,n,o)=>ba([kZ,B5,Wu,(a,u)=>JM(a,n,u),RM,yS,IM,t4,MM,vF],a=>a(e,o)).filter(a=>e.selection.isEditable()),xF=(e,n)=>{EF(e,n,!1).fold(()=>{Hu(e),YN(e)},Mo)},une=(e,n)=>{EF(e,n,!0).fold(()=>A9(e),Mo)},AZ=(e,n)=>{e.addCommand("delete",()=>{xF(e,n)}),e.addCommand("forwardDelete",()=>{une(e,n)})},TF=5,OZ=400,Ik=e=>e.touches===void 0||e.touches.length!==1?Y.none():Y.some(e.touches[0]),Lk=(e,n)=>{const o=Math.abs(e.clientX-n.x),a=Math.abs(e.clientY-n.y);return o>TF||a>TF},kF=e=>{const n=Ji(),o=pi(!1),a=Ww(u=>{e.dispatch("longpress",{...u,type:"longpress"}),o.set(!0)},OZ);e.on("touchstart",u=>{Ik(u).each(m=>{a.cancel();const b={x:m.clientX,y:m.clientY,target:u.target};a.throttle(u),o.set(!1),n.set(b)})},!0),e.on("touchmove",u=>{a.cancel(),Ik(u).each(m=>{n.on(b=>{Lk(m,b)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",u=>{a.cancel(),u.type!=="touchcancel"&&n.get().filter(m=>m.target.isEqualNode(u.target)).each(()=>{o.get()?u.preventDefault():e.dispatch("tap",{...u,type:"tap"})})},!0)},Fk=(e,n)=>Dn(e,n.nodeName),DZ=(e,n)=>Et(n)?!0:qt(n)?!Fk(e.getBlockElements(),n)&&!Tl(n)&&!gh(e,n):!1,NZ=(e,n,o)=>pt(FN(ge.fromDom(o),ge.fromDom(n)),a=>Fk(e,a.dom)),o4=(e,n)=>{if(Et(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||Fk(e,n.nextSibling)))return!0}return!1},AF=e=>e.dom.create(Sr(e),Eh(e)),RZ=e=>{const n=e.dom,o=e.selection,a=e.schema,u=a.getBlockElements(),m=o.getStart(),b=e.getBody();let S,T,$=!1;const W=Sr(e);if(!m||!qt(m))return;const V=b.nodeName.toLowerCase();if(!a.isValidChild(V,W.toLowerCase())||NZ(u,b,m))return;const X=o.getRng(),{startContainer:ue,startOffset:he,endContainer:re,endOffset:fe}=X,Re=xv(e);let Pe=b.firstChild;for(;Pe;)if(qt(Pe)&&Nw(a,Pe),DZ(a,Pe)){if(o4(u,Pe)){T=Pe,Pe=Pe.nextSibling,n.remove(T);continue}S||(S=AF(e),b.insertBefore(S,Pe),$=!0),T=Pe,Pe=Pe.nextSibling,S.appendChild(T)}else S=null,Pe=Pe.nextSibling;$&&Re&&(X.setStart(ue,he),X.setEnd(re,fe),o.setRng(X),e.nodeChanged())},OF=(e,n,o)=>{const a=ge.fromDom(AF(e)),u=O();_r(a,u),o(n,a);const m=document.createRange();return m.setStartBefore(u.dom),m.setEndBefore(u.dom),m},MZ=e=>{e.on("NodeChange",lt(RZ,e))},Md=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,DF=(e,n,o)=>function(a){const u=arguments,m=u[u.length-2],b=m>0?n.charAt(m-1):"";if(b==='"')return a;if(b===">"){const S=n.lastIndexOf("<",m);if(S!==-1&&n.substring(S,m).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(u[0])+'">'+e.dom.encode(typeof u[1]=="string"?u[1]:u[0])+"</span>"},NF=(e,n,o)=>{let a=n.length,u=o.content;if(o.format!=="raw"){for(;a--;)u=u.replace(n[a],DF(e,u,hx(e)));o.content=u}},dne=e=>{const n="contenteditable",o=" "+gt.trim(gC(e))+" ",a=" "+gt.trim(hx(e))+" ",u=Md(o),m=Md(a),b=ID(e);b.length>0&&e.on("BeforeSetContent",S=>{NF(e,b,S)}),e.parser.addAttributeFilter("class",S=>{let T=S.length;for(;T--;){const $=S[T];u($)?$.attr(n,"true"):m($)&&$.attr(n,"false")}}),e.serializer.addAttributeFilter(n,S=>{let T=S.length;for(;T--;){const $=S[T];!u($)&&!m($)||(b.length>0&&$.attr("data-mce-content")?($.name="#text",$.type=3,$.raw=!0,$.value=$.attr("data-mce-content")):$.attr(n,null))}})},fne=e=>Un(ge.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),$Z=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Yf(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},mne=(e,n)=>{const o=fne(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),$Z(e,o);return}Vo(o)&&($Z(e,o),e.undoManager.add())}},PZ=e=>{e.on("keyup compositionstart",lt(mne,e))},iE=Yo,BZ=(e,n,o)=>qM(n,e,o,Mb,$b,iE),s4=(e,n,o)=>Ok(n,e,o,m=>Mb(m)||iB(m),m=>$b(m)||Rn(m),iE),RF=e=>{const n=e.dom.create(Sr(e));return n.innerHTML='<br data-mce-bogus="1">',n},r4=(e,n,o)=>{const a=xd(e.getBody()),u=lt(Ah,n===1?a.next:a.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!u(Je.fromRangeStart(o))){const S=ge.fromDom(RF(e));n===1?kc(ge.fromDom(m),S):Ha(ge.fromDom(m),S),e.selection.select(S.dom,!0),e.selection.collapse()}}},MF=(e,n)=>{const o=n?bi.Forwards:bi.Backwards,a=e.selection.getRng();return BZ(o,e,a).orThunk(()=>(r4(e,o,a),Y.none()))},IZ=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return s4(o,e,a).orThunk(()=>(r4(e,o,a),Y.none()))},LZ=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return xB(o)?!n:n},$F=(e,n)=>MF(e,LZ(e.selection,n)).exists(o=>(Am(e,o),!0)),PF=(e,n)=>IZ(e,n).exists(o=>(Am(e,o),!0)),aE=(e,n)=>oF(e,n,n?$b:Mb),Hk=(e,n)=>XS(e,!n).map(o=>{const a=o.toRange(),u=e.selection.getRng();return n?a.setStart(u.startContainer,u.startOffset):a.setEnd(u.endContainer,u.endOffset),a}).exists(o=>(Am(e,o),!0)),FZ=e=>je(["figcaption"],Ss(e)),HZ=(e,n)=>{const o=lt(Jo,n);return te(ge.fromDom(e.container()),wr,o).filter(FZ)},i4=(e,n,o)=>n?Y5(e.dom,o):tZ(e.dom,o),VZ=(e,n)=>{const o=ge.fromDom(e.getBody()),a=Je.fromRangeStart(e.selection.getRng());return HZ(a,o).exists(()=>{if(i4(o,n,a)){const m=OF(e,o,n?_r:ch);return e.selection.setRng(m),!0}else return!1})},BF=(e,n)=>e.selection.isCollapsed()?VZ(e,n):!1,a4={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},zZ=e=>Ye(e,n=>({...a4,...n})),WZ=e=>Ye(e,n=>({...a4,...n})),IF=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,UZ=(e,n)=>vo(zZ(e),o=>IF(o,n)?[o]:[]),jZ=(e,n)=>vo(WZ(e),o=>IF(o,n)?[o]:[]),co=(e,...n)=>()=>e.apply(null,n),qv=(e,n)=>nn(UZ(e,n),o=>o.action()),LF=(e,n)=>ba(jZ(e,n),o=>o.action()),c4=(e,n)=>{const o=n?bi.Forwards:bi.Backwards,a=e.selection.getRng();return qM(e,o,a,pT,dS,Tr).exists(u=>(Am(e,u),!0))},FF=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return Ok(e,o,a,pT,dS,Tr).exists(u=>(Am(e,u),!0))},HF=(e,n)=>oF(e,n,n?dS:pT),VF=Sd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),cE={...VF,none:e=>VF.none(e)},ZZ=(e,n)=>Si(e,n,wt),Si=(e,n,o)=>vo(ni(e),a=>ra(a,n)?o(a)?[a]:[]:Si(a,n,o)),KZ=(e,n,o=at)=>{if(o(n))return Y.none();if(je(e,Ss(n)))return Y.some(n);const a=u=>ra(u,"table")||o(u);return Nn(n,e.join(","),a)},qZ=(e,n)=>KZ(["td","th"],e,n),GZ=e=>ZZ(e,"th,td"),l4=(e,n)=>jn(e,"table",n),lE=(e,n,o,a,u=wt)=>{const m=a===1;if(!m&&o<=0)return cE.first(e[0]);if(m&&o>=e.length-1)return cE.last(e[e.length-1]);{const b=o+a,S=e[b];return u(S)?cE.middle(n,S):lE(e,n,b,a,u)}},u4=(e,n)=>l4(e,n).bind(o=>{const a=GZ(o);return kn(a,m=>Jo(e,m)).map(m=>({index:m,all:a}))}),Gb=(e,n,o)=>u4(e,o).fold(()=>cE.none(e),u=>lE(u.all,e,u.index,1,n)),d4=(e,n,o)=>u4(e,o).fold(()=>cE.none(),u=>lE(u.all,e,u.index,-1,n)),zF=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),f4=(e,n)=>vo(n,o=>{const a=zF(rm(o.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:o},{x:a.right,y:e(a),cell:o}]}),m4=(e,n,o)=>tn(e,(a,u)=>a.fold(()=>Y.some(u),m=>{const b=Math.sqrt(Math.abs(m.x-n)+Math.abs(m.y-o)),S=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o));return Y.some(S<b?u:m)}),Y.none()),Vk=(e,n,o,a,u)=>{const m=Ri(ge.fromDom(o),"td,th,caption").map(S=>S.dom),b=st(f4(e,m),S=>n(S,u));return m4(b,a,u).map(S=>S.cell)},WF=e=>e.bottom,zk=e=>e.top,Wk=(e,n)=>e.y<n,uE=(e,n)=>e.y>n,dE=lt(Vk,WF,Wk),xf=lt(Vk,zk,uE),fE=(e,n)=>oo(n.getClientRects()).bind(o=>dE(e,o.left,o.top)).bind(o=>xk(jv(o),n)),UF=(e,n)=>fs(n.getClientRects()).bind(o=>xf(e,o.left,o.top)).bind(o=>xk(nZ(o),n)),jF=(e,n,o)=>o.breakAt.exists(a=>e(n,a).breakAt.isSome()),YZ=e=>e.breakType===Hh.Wrap&&e.positions.length===0,ZF=e=>e.breakType===Hh.Br&&e.positions.length===1,KF=(e,n,o)=>{const a=e(n,o);return YZ(a)||!Xs(o.getNode())&&ZF(a)?!jF(e,n,a):a.breakAt.isNone()},XZ=lt(KF,eE),mE=lt(KF,tE),JZ=(e,n,o)=>{const a=Je.fromRangeStart(n);return vi(!e,o).exists(u=>u.isEqual(a))},QZ=(e,n,o,a)=>{const u=e.selection.getRng(),m=n?1:-1;return Ta()&&JZ(n,u,o)?(cg(m,e,o,!n,!1).each(b=>{Am(e,b)}),!0):!1},eK=(e,n,o)=>fE(n,o).orThunk(()=>oo(o.getClientRects()).bind(a=>jM(q5(e,Je.before(n)),a.left))).getOr(Je.before(n)),tK=(e,n,o)=>UF(n,o).orThunk(()=>oo(o.getClientRects()).bind(a=>jM(G5(e,Je.after(n)),a.left))).getOr(Je.after(n)),qF=(e,n)=>{const o=n.getNode(e);return tr(o)?Y.some(o):Y.none()},nK=(e,n,o)=>{n.undoManager.transact(()=>{const a=e?kc:Ha,u=OF(n,ge.fromDom(o),a);Am(n,u)})},GF=(e,n,o)=>{const a=qF(!!n,o),u=n===!1;a.fold(()=>Am(e,o.toRange()),m=>vi(u,e.getBody()).filter(b=>b.isEqual(o)).fold(()=>Am(e,o.toRange()),b=>nK(n,e,m)))},oK=(e,n,o,a)=>{const u=e.selection.getRng(),m=Je.fromRangeStart(u),b=e.getBody();if(!n&&XZ(a,m)){const S=eK(b,o,m);return GF(e,n,S),!0}else if(n&&mE(a,m)){const S=tK(b,o,m);return GF(e,n,S),!0}else return!1},YF=(e,n,o)=>Y.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(a=>Y.from(e.dom.getParent(a,"table")).map(u=>o(e,n,u,a))).getOr(!1),XF=(e,n)=>YF(e,n,QZ),JF=(e,n)=>YF(e,n,oK),sK=e=>{const n=vm.exact(e,0,e,0);return Ad(n)},QF=(e,n,o)=>o.fold(Y.none,Y.none,(a,u)=>Uz(u).map(m=>sK(m)),a=>(e.execCommand("mceTableInsertRowAfter"),eH(e,n,a))),eH=(e,n,o)=>QF(e,n,Gb(o,un)),tH=(e,n,o)=>QF(e,n,d4(o,un)),h4=(e,n)=>{const o=["table","li","dl"],a=ge.fromDom(e.getBody()),u=S=>{const T=Ss(S);return Jo(S,a)||je(o,T)},m=e.selection.getRng(),b=ge.fromDom(n?m.endContainer:m.startContainer);return qZ(b,u).map(S=>(l4(S,u).each(W=>{e.model.table.clearSelectedCells(W.dom)}),e.selection.collapse(!n),(n?eH:tH)(e,u,S).each(W=>{e.selection.setRng(W)}),!0)).getOr(!1)},nH=(e,n,o)=>{const a=Oo.os.isMacOS()||Oo.os.isiOS();qv([{keyCode:en.RIGHT,action:co($F,e,!0)},{keyCode:en.LEFT,action:co($F,e,!1)},{keyCode:en.UP,action:co(PF,e,!1)},{keyCode:en.DOWN,action:co(PF,e,!0)},...a?[{keyCode:en.UP,action:co(Hk,e,!1),metaKey:!0,shiftKey:!0},{keyCode:en.DOWN,action:co(Hk,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:en.RIGHT,action:co(XF,e,!0)},{keyCode:en.LEFT,action:co(XF,e,!1)},{keyCode:en.UP,action:co(JF,e,!1)},{keyCode:en.DOWN,action:co(JF,e,!0)},{keyCode:en.RIGHT,action:co(c4,e,!0)},{keyCode:en.LEFT,action:co(c4,e,!1)},{keyCode:en.UP,action:co(FF,e,!1)},{keyCode:en.DOWN,action:co(FF,e,!0)},{keyCode:en.RIGHT,action:co(du,e,n,!0)},{keyCode:en.LEFT,action:co(du,e,n,!1)},{keyCode:en.RIGHT,ctrlKey:!a,altKey:a,action:co(cF,e,n)},{keyCode:en.LEFT,ctrlKey:!a,altKey:a,action:co(XM,e,n)},{keyCode:en.UP,action:co(BF,e,!1)},{keyCode:en.DOWN,action:co(BF,e,!0)}],o).each(u=>{o.preventDefault()})},rK=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||nH(e,n,o)})},Om=(e,n)=>({container:e,offset:n}),Uk=bs.DOM,jk=e=>n=>e===n?-1:0,oH=e=>n=>e.isBlock(n)||je(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",p4=(e,n,o)=>{if(Et(e)&&n>=0)return Y.some(Om(e,n));{const a=wh(Uk);return Y.from(a.backwards(e,n,jk(e),o)).map(u=>Om(u.container,u.container.data.length))}},sH=(e,n,o)=>{if(Et(e)&&n>=e.length)return Y.some(Om(e,n));{const a=wh(Uk);return Y.from(a.forwards(e,n,jk(e),o)).map(u=>Om(u.container,0))}},g4=(e,n,o)=>{if(!Et(e))return Y.none();const a=e.data;if(n>=0&&n<=a.length)return Y.some(Om(e,n));{const u=wh(Uk);return Y.from(u.backwards(e,n,jk(e),o)).bind(m=>{const b=m.container.data;return g4(m.container,n+b.length,o)})}},b4=(e,n,o)=>{if(!Et(e))return Y.none();const a=e.data;if(n<=a.length)return Y.some(Om(e,n));{const u=wh(Uk);return Y.from(u.forwards(e,n,jk(e),o)).bind(m=>b4(m.container,n-a.length,o))}},Zk=(e,n,o,a,u)=>{const m=wh(e,oH(e));return Y.from(m.backwards(n,o,a,u))},iK=e=>e.collapsed&&Et(e.startContainer),rH=e=>nt(e.toString().replace(/\u00A0/g," ")),iH=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Kk=(e,n)=>e.substring(n.length),aK=(e,n,o)=>{let a;const u=o.charAt(0);for(a=n-1;a>=0;a--){const m=e.charAt(a);if(iH(m))return Y.none();if(u===m&&As(e,o,a,n))break}return Y.some(a)},cK=(e,n,o,a=0)=>{if(!iK(n))return Y.none();const u={text:"",offset:0},m=(S,T,$)=>(u.text=$+u.text,u.offset+=T,aK(u.text,u.offset,o).getOr(T)),b=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return Zk(e,n.startContainer,n.startOffset,m,b).bind(S=>{const T=n.cloneRange();if(T.setStart(S.container,S.offset),T.setEnd(n.endContainer,n.endOffset),T.collapsed)return Y.none();const $=rH(T);return $.lastIndexOf(o)!==0||Kk($,o).length<a?Y.none():Y.some({text:Kk($,o),range:T,trigger:o})})},v4=(e,n,o,a=0)=>Zz(ge.fromDom(n.startContainer)).fold(()=>cK(e,n,o,a),u=>{const m=e.createRng();m.selectNode(u.dom);const b=rH(m);return Y.some({range:m,text:Kk(b,o),trigger:o})}),lK=e=>e.nodeType===Wl,uK=e=>e.nodeType===zl,y4=e=>{if(lK(e))return Om(e,e.data.length);{const n=e.childNodes;return n.length>0?y4(n[n.length-1]):Om(e,n.length)}},aH=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?aH(o[n],0):o.length>0&&uK(e)&&o.length===n?y4(o[o.length-1]):Om(e,n)},dK=(e,n)=>{var o;const a=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return Zk(e,n.container,n.offset,(u,m)=>m===0?-1:m,a).filter(u=>{const m=u.container.data.charAt(u.offset-1);return!iH(m)}).isSome()},fK=e=>n=>{const o=aH(n.startContainer,n.startOffset);return!dK(e,o)},cH=(e,n,o)=>ba(o.triggers,a=>v4(e,n,a)),lH=(e,n)=>{const o=n(),a=e.selection.getRng();return cH(e.dom,a,o).bind(u=>uH(e,n,u))},uH=(e,n,o,a={})=>{var u;const m=n(),S=(u=e.selection.getRng().startContainer.nodeValue)!==null&&u!==void 0?u:"",T=st(m.lookupByTrigger(o.trigger),W=>o.text.length>=W.minChars&&W.matches.getOrThunk(()=>fK(e.dom))(o.range,S,o.text));if(T.length===0)return Y.none();const $=Promise.all(Ye(T,W=>W.fetch(o.text,W.maxResults,a).then(X=>({matchText:o.text,items:X,columns:W.columns,onAction:W.onAction,highlightOn:W.highlightOn}))));return Y.some({lookupData:$,context:o})};var Dm;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Dm||(Dm={}));const _4=(e,n,o)=>e.stype===Dm.Error?n(e.serror):o(e.svalue),mK=e=>{const n=[],o=[];return Ae(e,a=>{_4(a,u=>o.push(u),u=>n.push(u))}),{values:n,errors:o}},hK=(e,n)=>e.stype===Dm.Error?{stype:Dm.Error,serror:n(e.serror)}:e,pK=(e,n)=>e.stype===Dm.Value?{stype:Dm.Value,svalue:n(e.svalue)}:e,gK=(e,n)=>e.stype===Dm.Value?n(e.svalue):e,bK=(e,n)=>e.stype===Dm.Error?n(e.serror):e,vK=e=>({stype:Dm.Value,svalue:e}),dH=e=>({stype:Dm.Error,serror:e}),Oa={fromResult:e=>e.fold(dH,vK),toResult:e=>_4(e,qa.error,qa.value),svalue:vK,partition:mK,serror:dH,bind:gK,bindError:bK,map:pK,mapError:hK,fold:_4},C4=e=>ke(e)&&Hs(e).length>100?" removed due to size":JSON.stringify(e,null,2),fH=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ot("... (only showing first ten failures)")}]):e;return Ye(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},hE=(e,n)=>Oa.serror([{path:e,getErrorInfo:n}]),_K=(e,n,o)=>hE(e,()=>'Could not find valid *required* value for "'+n+'" in '+C4(o)),wK=(e,n)=>hE(e,()=>'Choice schema did not contain choice key: "'+n+'"'),CK=(e,n,o)=>hE(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+C4(n)),mH=(e,n)=>hE(e,ot(n)),SK=(e,n,o,a)=>cs(o,a).fold(()=>CK(e,o,a),m=>m.extract(e.concat(["branch: "+a]),n)),S4=(e,n)=>({extract:(u,m)=>cs(m,e).fold(()=>wK(u,e),S=>SK(u,m,n,S)),toString:()=>"chooseOn("+e+"). Possible values: "+Hs(n)}),EK=(e,n)=>n,xK=(e,n)=>ze(e)&&ze(n)?pE(e,n):n,hH=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let a=0;a<n.length;a++){const u=n[a];for(const m in u)Dn(u,m)&&(o[m]=e(o[m],u[m]))}return o},pE=hH(xK),TK=hH(EK),pH=()=>({tag:"required",process:{}}),kK=e=>({tag:"defaultedThunk",process:e}),gH=e=>kK(ot(e)),AK=()=>({tag:"option",process:{}}),ta=(e,n)=>e.length>0?Oa.svalue(pE(n,TK.apply(void 0,e))):Oa.svalue(n),Nm=e=>I(Oa.serror,lo)(e),OK={consolidateObj:(e,n)=>{const o=Oa.partition(e);return o.errors.length>0?Nm(o.errors):ta(o.values,n)},consolidateArr:e=>{const n=Oa.partition(e);return n.errors.length>0?Nm(n.errors):Oa.svalue(n.values)}},DK=(e,n,o,a)=>({tag:"field",key:e,newKey:n,presence:o,prop:a}),NK=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),bH=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},qk=e=>{const n=(a,u)=>Oa.bindError(e(u),m=>mH(a,m)),o=ot("val");return{extract:n,toString:o}},T_=qk(Oa.svalue),gne=(e,n,o,a)=>cs(n,o).fold(()=>_K(e,o,n),a),vH=(e,n,o,a)=>{const u=cs(e,n).getOrThunk(()=>o(e));return a(u)},RK=(e,n,o)=>o(cs(e,n)),Rm=(e,n,o,a)=>{const u=cs(e,n).map(m=>m===!0?o(e):m);return a(u)},MK=(e,n,o,a,u)=>{const m=S=>u.extract(n.concat([a]),S),b=S=>S.fold(()=>Oa.svalue(Y.none()),T=>{const $=u.extract(n.concat([a]),T);return Oa.map($,Y.some)});switch(e.tag){case"required":return gne(n,o,a,m);case"defaultedThunk":return vH(o,a,e.process,m);case"option":return RK(o,a,b);case"defaultedOptionThunk":return Rm(o,a,e.process,b);case"mergeWithThunk":return vH(o,a,ot({}),S=>{const T=pE(e.process(o),S);return m(T)})}},$K=(e,n,o)=>{const a={},u=[];for(const m of o)bH(m,(b,S,T,$)=>{const W=MK(T,e,n,b,$);Oa.fold(W,V=>{u.push(...V)},V=>{a[S]=V})},(b,S)=>{a[b]=S(n)});return u.length>0?Oa.serror(u):Oa.svalue(a)},Gk=e=>({extract:(a,u)=>$K(a,u,e),toString:()=>`obj{
`+Ye(e,u=>bH(u,(m,b,S,T)=>m+" -> "+T.toString(),(m,b)=>"state("+m+")")).join(`
`)+"}"}),yH=e=>({extract:(a,u)=>{const m=Ye(u,(b,S)=>e.extract(a.concat(["["+S+"]"]),b));return OK.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),E4=e=>qk(n=>e(n).fold(Oa.serror,Oa.svalue)),_H=(e,n,o)=>{const a=n.extract([e],o);return Oa.mapError(a,u=>({input:o,errors:u}))},PK=(e,n,o)=>Oa.toResult(_H(e,n,o)),BK=e=>`Errors: 
`+fH(e.errors).join(`
`)+`

Input object: `+C4(e.input),wH=(e,n)=>S4(e,xo(n,Gk)),CH=ot(T_),gE=(e,n)=>qk(o=>{const a=typeof o;return e(o)?Oa.svalue(o):Oa.serror(`Expected type: ${n} but got: ${a}`)}),x4=gE(Tt,"number"),k_=gE(q,"string"),T4=gE(Te,"boolean"),k4=gE(ie,"function"),bE=DK,SH=NK,IK=e=>E4(n=>je(e,n)?qa.value(n):qa.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),Yk=(e,n)=>bE(e,e,pH(),n),A4=e=>Yk(e,k_),EH=e=>Yk(e,k4),xH=(e,n)=>bE(e,e,pH(),yH(n)),O4=(e,n)=>bE(e,e,AK(),n),A_=e=>O4(e,k_),LK=e=>O4(e,k4),FK=(e,n)=>bE(e,e,gH(n),CH()),O_=(e,n,o)=>bE(e,e,gH(n),o),TH=(e,n)=>O_(e,n,x4),HK=(e,n)=>O_(e,n,k_),D4=(e,n,o)=>O_(e,n,IK(o)),vE=(e,n)=>O_(e,n,T4),Xk=(e,n)=>O_(e,n,k4),kH=(e,n,o)=>O_(e,n,yH(o)),VK=A4("type"),zK=EH("fetch"),N4=EH("onAction"),Jk=Xk("onSetup",()=>xt),AH=A_("text"),OH=A_("icon"),WK=A_("tooltip"),UK=A_("label"),bne=vE("active",!1),vne=vE("enabled",!0),jK=vE("primary",!1),ZK=e=>FK("columns",e),Qk=e=>HK("type",e),KK=Gk([VK,A4("trigger"),TH("minChars",1),ZK(1),TH("maxResults",10),LK("matches"),zK,N4,kH("highlightOn",[],k_)]),qK=e=>PK("Autocompleter",KK,{trigger:e.ch,...e}),DH=[vne,WK,OH,AH,Jk],NH=[bne].concat(DH),Fr=[Xk("predicate",at),D4("scope","node",["node","editor"]),D4("position","selection",["node","selection","line"])],R4=DH.concat([Qk("contextformbutton"),jK,N4,SH("original",Xn)]),zh=NH.concat([Qk("contextformbutton"),jK,N4,SH("original",Xn)]),RH=DH.concat([Qk("contextformbutton")]),MH=NH.concat([Qk("contextformtogglebutton")]),GK=wH("type",{contextformbutton:R4,contextformtogglebutton:zh});Gk([Qk("contextform"),Xk("initValue",ot("")),UK,xH("commands",GK),O4("launch",wH("type",{contextformbutton:RH,contextformtogglebutton:MH}))].concat(Fr));const eA=e=>{const n=e.ui.registry.getAll().popups,o=xo(n,b=>qK(b).fold(S=>{throw new Error(BK(S))},Xn)),a=Hc(Hl(o,b=>b.trigger)),u=Na(o);return{dataset:o,triggers:a,lookupByTrigger:b=>st(u,S=>S.trigger===b)}},M4=(e,n)=>{const o=Ww(n.load,50);e.on("keypress compositionend",a=>{a.which!==27&&o.throttle()}),e.on("keydown",a=>{const u=a.which;u===8?o.throttle():u===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},$H=e=>{const n=Ji(),o=pi(!1),a=n.isSet,u=()=>{a()&&(Jte(e),bN(e),o.set(!1),n.clear())},m=$=>{a()||(ss(e,$.range),n.set({trigger:$.trigger,matchLength:$.text.length}))},b=hl(()=>eA(e)),S=$=>n.get().map(W=>v4(e.dom,e.selection.getRng(),W.trigger).bind(V=>uH(e,b,V,$))).getOrThunk(()=>lH(e,b)),T=$=>{S($).fold(u,W=>{m(W.context),W.lookupData.then(V=>{n.get().map(X=>{const ue=W.context;X.trigger===ue.trigger&&(ue.text.length-X.matchLength>=10?u():(n.set({...X,matchLength:ue.text.length}),o.get()?JC(e,{lookupData:V}):(o.set(!0),gv(e,{lookupData:V}))))})})})};e.addCommand("mceAutocompleterReload",($,W)=>{const V=ke(W)?W.fetchOptions:{};T(V)}),e.addCommand("mceAutocompleterClose",u),M4(e,{cancelIfNecessary:u,load:T})},$4=e=>(n,o,a={})=>{const u=n.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:u,currentTarget:u,eventPhase:Event.AT_TARGET,originalTarget:u,explicitOriginalTarget:u,isTrusted:!1,srcElement:u,cancelable:!1,preventDefault:xt,inputType:o},b=F1(new InputEvent(e));return n.dispatch(e,{...b,...m,...a})},tA=$4("input"),nA=$4("beforeinput"),YK=(e,n,o)=>{const a=o.keyCode===en.BACKSPACE?"deleteContentBackward":"deleteContentForward";LF([{keyCode:en.BACKSPACE,action:co(kZ,e)},{keyCode:en.BACKSPACE,action:co(B5,e,!1)},{keyCode:en.DELETE,action:co(B5,e,!0)},{keyCode:en.BACKSPACE,action:co(Wu,e,!1)},{keyCode:en.DELETE,action:co(Wu,e,!0)},{keyCode:en.BACKSPACE,action:co(JM,e,n,!1)},{keyCode:en.DELETE,action:co(JM,e,n,!0)},{keyCode:en.BACKSPACE,action:co(yS,e,!1)},{keyCode:en.DELETE,action:co(yS,e,!0)},{keyCode:en.BACKSPACE,action:co(IM,e,!1)},{keyCode:en.DELETE,action:co(IM,e,!0)},{keyCode:en.BACKSPACE,action:co(t4,e,!1)},{keyCode:en.DELETE,action:co(t4,e,!0)},{keyCode:en.BACKSPACE,action:co(MM,e,!1)},{keyCode:en.DELETE,action:co(MM,e,!0)},{keyCode:en.BACKSPACE,action:co(RM,e,!1)},{keyCode:en.DELETE,action:co(RM,e,!0)},{keyCode:en.BACKSPACE,action:co(vF,e,!1)},{keyCode:en.DELETE,action:co(vF,e,!0)}],o).filter(u=>e.selection.isEditable()).each(u=>{o.preventDefault(),nA(e,a).isDefaultPrevented()||(u(),tA(e,a))})},XK=(e,n,o)=>{const a=Cs(),u=a.os,m=a.browser,b=u.isMacOS()?[{keyCode:en.BACKSPACE,altKey:!0,action:co(sE,e)},{keyCode:en.DELETE,altKey:!0,action:co(sE,e)}]:[{keyCode:en.BACKSPACE,ctrlKey:!0,action:co(sE,e)},{keyCode:en.DELETE,ctrlKey:!0,action:co(sE,e)}];u.isMacOS()&&o&&b.push({keyCode:m.isFirefox()?224:91,action:co(sE,e)}),qv([{keyCode:en.BACKSPACE,action:co(jj,e)},{keyCode:en.DELETE,action:co(jj,e)},...b],n)},JK=(e,n)=>{let o=!1;e.on("keydown",a=>{o=a.keyCode===en.BACKSPACE,a.isDefaultPrevented()||YK(e,n,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||XK(e,a,o),o=!1})},PH=e=>{for(;e;){if(qt(e)||Et(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},D_=(e,n)=>{const o=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const m=PH(n.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&n.insertBefore(o.doc.createTextNode(rt),n.firstChild)}const u=o.createRng();if(n.normalize(),n.hasChildNodes()){const m=new Ir(n,n);let b=n,S;for(;S=m.current();){if(Et(S)){u.setStart(S,0),u.setEnd(S,0);break}if(a[S.nodeName.toLowerCase()]){u.setStartBefore(S),u.setEndBefore(S);break}b=S,S=m.next()}S||(u.setStart(b,0),u.setEnd(b,0))}else Xs(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(u.setStartBefore(n),u.setEndBefore(n)):(u.setStartAfter(n),u.setEndAfter(n)):(u.setStart(n,0),u.setEnd(n,0));e.selection.setRng(u),Od(e,u)},oA=(e,n)=>{const o=e.getRoot();let a,u=n;for(;u!==o&&u&&e.getContentEditable(u)!=="false";)e.getContentEditable(u)==="true"&&(a=u),u=u.parentNode;return u!==o?a:o},P4=e=>Y.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),QK=e=>P4(e).fold(ot(""),n=>n.nodeName.toUpperCase()),eq=e=>P4(e).filter(n=>ca(ge.fromDom(n))).isSome(),BH=(e,n)=>e.dom.getParent(n,si),IH=(e,n,o)=>{let a=n;for(;a&&a!==e&&J(a.nextSibling);){const u=a.parentElement;if(!u||!o(u))return si(u);a=u}return!1},tq=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Sr(e)&&e.dom.isEmpty(o)&&IH(e.getBody(),o,a=>Dn(e.schema.getTextBlockElements(),a.nodeName.toLowerCase())),nq=(e,n,o)=>{var a,u,m;const b=n(Sr(e)),S=BH(e,o);S&&(e.dom.insertAfter(b,S),D_(e,b),((m=(u=(a=o.parentElement)===null||a===void 0?void 0:a.childNodes)===null||u===void 0?void 0:u.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},yne=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,B4=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},LH=(e,n)=>{const o=e==null?void 0:e.parentNode;return ye(o)&&o.nodeName===n},FH=e=>ye(e)&&/^(OL|UL|LI)$/.test(e.nodeName),oq=e=>ye(e)&&/^(LI|DT|DD)$/.test(e.nodeName),HH=e=>FH(e)&&FH(e.parentNode),sA=e=>{const n=e.parentNode;return oq(n)?n:e},yE=(e,n,o)=>{let a=e[o?"firstChild":"lastChild"];for(;a&&!qt(a);)a=a[o?"nextSibling":"previousSibling"];return a===n},sq=(e,n,o,a,u)=>{const m=e.dom,b=e.selection.getRng(),S=o.parentNode;if(o===e.getBody()||!S)return;HH(o)&&(u="LI");let T=n(u);if(yE(o,a,!0)&&yE(o,a,!1))if(LH(o,"LI")){const $=sA(o);m.insertAfter(T,$),B4(o)?m.remove($):m.remove(o)}else m.replace(T,o);else if(yE(o,a,!0))LH(o,"LI")?(m.insertAfter(T,sA(o)),T.appendChild(m.doc.createTextNode(" ")),T.appendChild(o)):S.insertBefore(T,o),m.remove(a);else if(yE(o,a,!1))m.insertAfter(T,sA(o)),m.remove(a);else{o=sA(o);const $=b.cloneRange();$.setStartAfter(a),$.setEndAfter(o);const W=$.extractContents();u==="LI"&&yne(W,"LI")?(T=W.firstChild,m.insertAfter(W,o)):(m.insertAfter(W,o),m.insertAfter(T,o)),m.remove(a)}D_(e,T)},rq=e=>{Ae(A1(ge.fromDom(e),Ur),n=>{const o=n.dom;o.nodeValue=nt(o.data)})},_ne=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},vc=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),I4=e=>{e.innerHTML='<br data-mce-bogus="1">'},L4=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,F4=(e,n)=>ye(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",iq=(e,n,o)=>{var a;const u=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;qt(m)&&!n[m.nodeName.toLowerCase()]&&u.push(m)}let b=u.length;for(;b--;)m=u[b],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((a=m.firstChild)===null||a===void 0?void 0:a.nodeValue)===""||vc(e,m))&&e.remove(m)},H4=(e,n,o)=>Et(n)?e?o===1&&n.data.charAt(o-1)===se?0:o:o===n.data.length-1&&n.data.charAt(o)===se?n.data.length:o:o,aq=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,H4(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,H4(!1,e.endContainer,e.endOffset)),n},cq=e=>{let n=e;do Et(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},rA=(e,n,o)=>{const a=e.dom;Y.from(o.style).map(a.parseStyle).each(T=>{const W={...Zi(ge.fromDom(n)),...T};a.setStyles(n,W)});const u=Y.from(o.class).map(T=>T.split(/\s+/)),m=Y.from(n.className).map(T=>st(T.split(/\s+/),$=>$!==""));Wi(u,m,(T,$)=>{const W=st($,X=>!je(T,X)),V=[...T,...W];a.setAttrib(n,"class",V.join(" "))});const b=["style","class"],S=ws(o,(T,$)=>!je(b,$));a.setAttribs(n,S)},_E=(e,n)=>{if(Sr(e).toLowerCase()===n.tagName.toLowerCase()){const a=Eh(e);rA(e,n,a)}},lq=(e,n,o,a,u)=>{var m,b;const S=e.dom,T=(m=oA(S,a))!==null&&m!==void 0?m:S.getRoot();let $=S.getParent(a,S.isBlock);if(!$||!F4(S,$)){if($=$||T,!$.hasChildNodes()){const ue=S.create(n);return _E(e,ue),$.appendChild(ue),o.setStart(ue,0),o.setEnd(ue,0),ue}let W=a;for(;W&&W.parentNode!==$;)W=W.parentNode;let V;for(;W&&!S.isBlock(W);)V=W,W=W.previousSibling;const X=(b=V==null?void 0:V.parentElement)===null||b===void 0?void 0:b.nodeName;if(V&&X&&e.schema.isValidChild(X,n.toLowerCase())){const ue=V.parentNode,he=S.create(n);for(_E(e,he),ue.insertBefore(he,V),W=V;W&&!S.isBlock(W);){const re=W.nextSibling;he.appendChild(W),W=re}o.setStart(a,u),o.setEnd(a,u)}}return a},V4=(e,n)=>{n.normalize();const o=n.lastChild;(!o||qt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},z4=(e,n)=>{const o=nl(e);return Ue(n)?!1:q(o)?je(gt.explode(o),n.nodeName.toLowerCase()):o},uq={insert:(e,n)=>{let o,a,u,m,b=!1;const S=e.dom,T=e.schema,$=T.getNonEmptyElements(),W=e.selection.getRng(),V=Sr(e),X=W.collapsed&&W.startContainer===e.dom.getRoot(),ue=ge.fromDom(W.startContainer),he=ku(ue,W.startOffset),re=he.exists(Ht=>Tc(Ht)&&!un(Ht)),fe=X&&re,Re=Ht=>{let on=o;const Mn=T.getTextInlineElements();let $n;Ht||u==="TABLE"||u==="HR"?$n=S.create(Ht||V):$n=yt.cloneNode(!1);let Po=$n;if(K1(e)===!1)S.setAttrib($n,"style",null),S.setAttrib($n,"class",null);else do if(Mn[on.nodeName]){if(nu(on)||Tl(on))continue;const Wo=on.cloneNode(!1);S.setAttrib(Wo,"id",""),$n.hasChildNodes()?(Wo.appendChild($n.firstChild),$n.appendChild(Wo)):(Po=Wo,$n.appendChild(Wo))}while((on=on.parentNode)&&on!==dn);return _E(e,$n),I4(Po),$n},Pe=Ht=>{const on=H4(Ht,o,a);if(Et(o)&&(Ht?on>0:on<o.data.length))return!1;if(o.parentNode===yt&&b&&!Ht||Ht&&qt(o)&&o===yt.firstChild)return!0;if(L4(o,"TABLE")||L4(o,"HR"))return b&&!Ht||!b&&Ht;const Mn=new Ir(o,yt);Et(o)&&(Ht&&on===0?Mn.prev():!Ht&&on===o.data.length&&Mn.next());let $n;for(;$n=Mn.current();){if(qt($n)){if(!$n.getAttribute("data-mce-bogus")){const Po=$n.nodeName.toLowerCase();if($[Po]&&Po!=="br")return!1}}else if(Et($n)&&!Ql($n.data))return!1;Ht?Mn.prev():Mn.next()}return!0},Be=()=>{let Ht;return/^(H[1-6]|PRE|FIGURE)$/.test(u)&&et!=="HGROUP"?Ht=Re(V):Ht=Re(),z4(e,m)&&F4(S,m)&&S.isEmpty(yt,void 0,{includeZwsp:!0})?Ht=S.split(m,yt):S.insertAfter(Ht,yt),D_(e,Ht),Ht};ym(S,W).each(Ht=>{W.setStart(Ht.startContainer,Ht.startOffset),W.setEnd(Ht.endContainer,Ht.endOffset)}),o=W.startContainer,a=W.startOffset;const Ve=!!(n&&n.shiftKey),ht=!!(n&&n.ctrlKey);qt(o)&&o.hasChildNodes()&&!fe&&(b=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,b&&Et(o)?a=o.data.length:a=0);const dn=oA(S,o);if(!dn||_ne(e,o))return;Ve||(o=lq(e,V,W,o,a));let yt=S.getParent(o,S.isBlock)||S.getRoot();m=ye(yt==null?void 0:yt.parentNode)?S.getParent(yt.parentNode,S.isBlock):null,u=yt?yt.nodeName.toUpperCase():"";const et=m?m.nodeName.toUpperCase():"";if(et==="LI"&&!ht){const Ht=m;yt=Ht,m=Ht.parentNode,u=et}if(qt(m)&&tq(e,Ve,yt))return nq(e,Re,yt);if(/^(LI|DT|DD)$/.test(u)&&qt(m)&&S.isEmpty(yt)){sq(e,Re,m,yt,V);return}if(!fe&&(yt===e.getBody()||!F4(S,yt)))return;const ct=yt.parentNode;let It;if(fe)It=Re(V),he.fold(()=>{_r(ue,ge.fromDom(It))},Ht=>{Ha(Ht,ge.fromDom(It))}),e.selection.setCursorLocation(It,0);else if(An(yt))It=Yf(yt),S.isEmpty(yt)&&I4(yt),_E(e,It),D_(e,It);else if(Pe(!1))It=Be();else if(Pe(!0)&&ct){It=ct.insertBefore(Re(),yt);const Ht=ap(ge.fromDom(W.startContainer))&&W.collapsed;D_(e,L4(yt,"HR")||Ht?It:yt)}else{const Ht=aq(W).cloneRange();Ht.setEndAfter(yt);const on=Ht.extractContents();rq(on),cq(on),It=on.firstChild,S.insertAfter(on,yt),iq(S,$,It),V4(S,yt),S.isEmpty(yt)&&I4(yt),It.normalize(),S.isEmpty(It)?(S.remove(It),Be()):(_E(e,It),D_(e,It))}S.setAttrib(It,"id",""),e.dispatch("NewBlock",{newBlock:It})},fakeEventName:"insertParagraph"},Cne=(e,n,o)=>{const a=new Ir(n,o);let u;const m=e.getNonEmptyElements();for(;u=a.next();)if(m[u.nodeName.toLowerCase()]||Et(u)&&u.length>0)return!0;return!1},VH=(e,n,o)=>{const a=e.dom.createRng();o?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),e.selection.setRng(a),Od(e,a)},dq=(e,n)=>{const o=e.selection,a=e.dom,u=o.getRng();let m,b=!1;ym(a,u).each(ue=>{u.setStart(ue.startContainer,ue.startOffset),u.setEnd(ue.endContainer,ue.endOffset)});let S=u.startOffset,T=u.startContainer;if(qt(T)&&T.hasChildNodes()){const ue=S>T.childNodes.length-1;T=T.childNodes[Math.min(S,T.childNodes.length-1)]||T,ue&&Et(T)?S=T.data.length:S=0}let $=a.getParent(T,a.isBlock);const W=$&&$.parentNode?a.getParent($.parentNode,a.isBlock):null,V=W?W.nodeName.toUpperCase():"",X=!!(n&&n.ctrlKey);V==="LI"&&!X&&($=W),Et(T)&&S>=T.data.length&&(Cne(e.schema,T,$||a.getRoot())||(m=a.create("br"),u.insertNode(m),u.setStartAfter(m),u.setEndAfter(m),b=!0)),m=a.create("br"),ny(a,u,m),VH(e,m,b),e.undoManager.add()},Sne=(e,n)=>{const o=ge.fromTag("br");Ha(ge.fromDom(n),o),e.undoManager.add()},fq=(e,n)=>{mq(e.getBody(),n)||kc(ge.fromDom(n),ge.fromTag("br"));const o=ge.fromTag("br");kc(ge.fromDom(n),o),VH(e,o.dom,!1),e.undoManager.add()},Mm=e=>Xs(e.getNode()),mq=(e,n)=>Mm(Je.after(n))?!0:ka(e,Je.after(n)).map(o=>Xs(o.getNode())).getOr(!1),zH=e=>e&&e.nodeName==="A"&&"href"in e,Yb=e=>e.fold(at,zH,zH,at),hq=e=>{const n=lt(bc,e),o=Je.fromRangeStart(e.selection.getRng());return km(n,e.getBody(),o).filter(Yb)},WH=(e,n)=>{n.fold(xt,lt(Sne,e),lt(fq,e),xt)},UH={insert:(e,n)=>{const o=hq(e);o.isSome()?o.each(lt(WH,e)):dq(e,n)},fakeEventName:"insertLineBreak"},jH=(e,n)=>P4(e).filter(o=>n.length>0&&ra(ge.fromDom(o),n)).isSome(),pq=e=>jH(e,pf(e)),gq=e=>jH(e,Mu(e)),Zu=Sd.generate([{br:[]},{block:[]},{none:[]}]),W4=(e,n)=>gq(e),U4=e=>(n,o)=>eq(n)===e,wE=(e,n)=>(o,a)=>QK(o)===e.toUpperCase()===n,bq=e=>{const n=oA(e.dom,e.selection.getStart());return Ue(n)},CE=e=>wE("pre",e),vq=()=>wE("summary",!0),iA=e=>(n,o)=>J2(n)===e,yq=(e,n)=>pq(e),SE=(e,n)=>n,_q=e=>{const n=Sr(e),o=oA(e.dom,e.selection.getStart());return ye(o)&&e.schema.isValidChild(o.nodeName,n)},ZH=e=>{const n=e.selection.getRng(),o=n.collapsed&&n.startContainer===e.dom.getRoot(),a=ge.fromDom(n.startContainer),m=ku(a,n.startOffset).map(b=>Tc(b)&&!un(b));return o&&m.getOr(!0)},Ku=(e,n)=>(o,a)=>tn(e,(m,b)=>m&&b(o,a),!0)?Y.some(n):Y.none(),wq=(e,n)=>H5([Ku([W4],Zu.none()),Ku([CE(!0),bq],Zu.none()),Ku([vq()],Zu.br()),Ku([CE(!0),iA(!1),SE],Zu.br()),Ku([CE(!0),iA(!1)],Zu.block()),Ku([CE(!0),iA(!0),SE],Zu.block()),Ku([CE(!0),iA(!0)],Zu.br()),Ku([U4(!0),SE],Zu.br()),Ku([U4(!0)],Zu.block()),Ku([yq],Zu.br()),Ku([SE],Zu.br()),Ku([_q],Zu.block()),Ku([ZH],Zu.block())],[e,!!(n&&n.shiftKey)]).getOr(Zu.none()),aA=(e,n,o)=>{n.selection.isCollapsed()||DB(n),!(ye(o)&&nA(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),ye(o)&&tA(n,e.fakeEventName))},cA=(e,n)=>{const o=()=>aA(UH,e,n),a=()=>aA(uq,e,n),u=wq(e,n);switch(cb(e)){case"linebreak":u.fold(o,o,xt);break;case"block":u.fold(a,a,xt);break;case"invert":u.fold(a,o,xt);break;default:u.fold(o,a,xt);break}},KH=Cs(),Cq=KH.os.isiOS()&&KH.browser.isSafari(),EE=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),uU(e.undoManager),e.undoManager.transact(()=>{cA(e,n)}))},Sq=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(Et(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=n.data.charAt(e.startOffset-1);return o.test(a)}else return!1},j4=e=>{let n=Y.none();const o=u=>{n=Y.some(u.selection.getBookmark()),u.undoManager.add()},a=(u,m)=>{u.undoManager.undo(),n.fold(xt,b=>u.selection.moveToBookmark(b)),EE(u,m),n=Y.none()};e.on("keydown",u=>{u.keyCode===en.ENTER&&(Cq&&Sq(e.selection.getRng())?o(e):EE(e,u))}),e.on("keyup",u=>{u.keyCode===en.ENTER&&n.each(()=>a(e,u))})},Z4=(e,n,o)=>{const a=Oo.os.isMacOS()||Oo.os.isiOS();qv([{keyCode:en.END,action:co(aE,e,!0)},{keyCode:en.HOME,action:co(aE,e,!1)},...a?[]:[{keyCode:en.HOME,action:co(Hk,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:en.END,action:co(Hk,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:en.END,action:co(HF,e,!0)},{keyCode:en.HOME,action:co(HF,e,!1)},{keyCode:en.END,action:co(Nk,e,!0,n)},{keyCode:en.HOME,action:co(Nk,e,!1,n)}],o).each(u=>{o.preventDefault()})},qH=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Z4(e,n,o)})},Eq=e=>{e.on("input",n=>{n.isComposing||yB(e)})},Tne=Cs(),Xb=(e,n,o)=>{qv([{keyCode:en.PAGE_UP,action:co(Nk,e,!1,n)},{keyCode:en.PAGE_DOWN,action:co(Nk,e,!0,n)}],o)},GH=e=>e.stopImmediatePropagation(),YH=e=>e.keyCode===en.PAGE_UP||e.keyCode===en.PAGE_DOWN,XH=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",GH,!0):!o&&e.get()&&n.off("NodeChange",GH),e.set(o)},lA=(e,n)=>{if(Tne.os.isMacOS())return;const o=pi(!1);e.on("keydown",a=>{YH(a)&&XH(o,e,!0)}),e.on("keyup",a=>{a.isDefaultPrevented()||Xb(e,n,a),YH(a)&&o.get()&&(XH(o,e,!1),e.nodeChanged())})},K4=(e,n)=>{const o=n.container(),a=n.offset();return Et(o)?(o.insertData(a,e),Y.some(Je(o,a+e.length))):cv(n).map(u=>{const m=ge.fromText(e);return n.isAtEnd()?kc(u,m):Ha(u,m),Je(m.dom,e.length)})},q4=lt(K4,rt),JH=lt(K4," "),QH=(e,n)=>hB(e,n)?q4(n):JH(n),xq=e=>n=>n.fold(o=>ua(e.dom,Je.before(o)),o=>yi(o),o=>ol(o),o=>ka(e.dom,Je.after(o))),Tq=(e,n)=>o=>hB(e,o)?q4(n):JH(n),e6=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},t6=(e,n)=>e.isEditable(e.getParent(n,"summary")),G4=e=>{const n=Je.fromRangeStart(e.selection.getRng()),o=ge.fromDom(e.getBody());if(e.selection.isCollapsed()){const a=lt(bc,e),u=Je.fromRangeStart(e.selection.getRng());return km(a,e.getBody(),u).bind(xq(o)).map(m=>()=>Tq(o,n)(m).each(e6(e)))}else return Y.none()},kq=e=>{const n=()=>{const o=ge.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const a=Je.fromRangeStart(e.selection.getRng());QH(o,a).each(e6(e))};return Co(Oo.browser.isFirefox()&&e.selection.isEditable()&&t6(e.dom,e.selection.getRng().startContainer),n)},Y4=(e,n)=>{LF([{keyCode:en.SPACEBAR,action:co(G4,e)},{keyCode:en.SPACEBAR,action:co(kq,e)}],n).each(o=>{n.preventDefault(),nA(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),tA(e,"insertText",{data:" "}))})},n6=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Y4(e,n)})},uA=e=>WD(e)?[{keyCode:en.TAB,action:co(h4,e,!0)},{keyCode:en.TAB,shiftKey:!0,action:co(h4,e,!1)}]:[],o6=(e,n)=>{qv([...uA(e)],n).each(o=>{n.preventDefault()})},s6=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||o6(e,n)})},Aq=e=>{if(e.addShortcut("Meta+P","","mcePrint"),$H(e),lu(e))return pi(null);{const n=YM(e);return PZ(e),rK(e,n),JK(e,n),j4(e),n6(e),Eq(e),s6(e),qH(e,n),lA(e,n),n}};class Oq{constructor(n){this.lastPath=[],this.editor=n;let o;const a=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",u=>{const m=n.selection.getRng(),b={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(u.type==="nodechange"||!kb(b,o))&&n.dispatch("SelectionChange"),o=b}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const u=n.selection.getStart(!0);u&&zp(n)&&!a.isSameElementPath(u)&&n.dom.isChildOf(u,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",u=>{!u.isDefaultPrevented()&&zp(n)&&(n.selection.getNode().nodeName==="IMG"?gc.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let a;if(this.editor.initialized&&o&&!X1(this.editor)&&!this.editor.mode.isReadOnly()){const u=this.editor.getBody();a=o.getStart(!0)||u,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,u))&&(a=u);const m=[];this.editor.dom.getParent(a,b=>b===u?!0:(m.push(b),!1)),this.editor.dispatch("NodeChange",{...n,element:a,parents:m})}}isSameElementPath(n){let o;const a=this.editor,u=uo(a.dom.getParents(n,wt,a.getBody()));if(u.length===this.lastPath.length){for(o=u.length;o>=0&&u[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=u,!0}return this.lastPath=u,!1}}const xE=H1("image"),r6=e=>{const n=e;return Y.from(n[xE])},Dq=(e,n)=>{const o=e;o[xE]=n},X4=H1("event"),i6=e=>{const n=e;return Y.from(n[X4])},dA=e=>n=>{const o=n;o[X4]=e},Nq=(e,n)=>dA(n)(e),a6=dA(0),Rq=dA(2),Mq=dA(1),Pq=(e=>n=>{const o=n;return Y.from(o[X4]).exists(a=>a===e)})(0),c6=()=>Object.freeze({length:0,item:e=>null}),J4=H1("mode"),Bq=e=>{const n=e;return Y.from(n[J4])},fA=e=>n=>{const o=n;o[J4]=e},l6=(e,n)=>fA(n)(e),u6=fA(0),Jb=fA(2),Iq=fA(1),d6=e=>n=>{const o=n;return Y.from(o[J4]).exists(a=>a===e)},Gv=d6(0),f6=d6(1),Lq=(e,n)=>({...n,get length(){return n.length},add:(o,a)=>{if(Gv(e))if(q(o)){if(!Ge(a))return n.add(o,a)}else return n.add(o);return null},remove:o=>{Gv(e)&&n.remove(o)},clear:()=>{Gv(e)&&n.clear()}}),Fq=["none","copy","link","move"],m6=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Q4=()=>{const e=new window.DataTransfer;let n="move",o="all";const a={get dropEffect(){return n},set dropEffect(u){je(Fq,u)&&(n=u)},get effectAllowed(){return o},set effectAllowed(u){Pq(a)&&je(m6,u)&&(o=u)},get items(){return Lq(a,e.items)},get files(){return f6(a)?c6():e.files},get types(){return e.types},setDragImage:(u,m,b)=>{Gv(a)&&(Dq(a,{image:u,x:m,y:b}),e.setDragImage(u,m,b))},getData:u=>f6(a)?"":e.getData(u),setData:(u,m)=>{Gv(a)&&e.setData(u,m)},clearData:u=>{Gv(a)&&e.clearData(u)}};return u6(a),a},Hq=e=>{const n=Q4(),o=Bq(e);return Jb(e),a6(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,r6(e).each(a=>n.setDragImage(a.image,a.x,a.y)),Ae(e.types,a=>{a!=="Files"&&n.setData(a,e.getData(a))}),Ae(e.files,a=>n.items.add(a)),i6(e).each(a=>{Nq(n,a)}),o.each(a=>{l6(e,a),l6(n,a)}),n},kne=e=>{const n=e.getData("text/html");return n===""?Y.none():Y.some(n)},TE=(e,n)=>e.setData("text/html",n),h6="x-tinymce/html",mA=ot(h6),e3="<!-- "+h6+" -->",Vq=e=>e3+e,zq=e=>e.replace(e3,""),p6=e=>e.indexOf(e3)!==-1,Wq=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Uq=(e,n)=>{let o="<"+e;const a=Hl(n,(u,m)=>m+'="'+em.encodeAllRaw(u)+'"');return a.length&&(o+=" "+a.join(" ")),o+">"},jq=(e,n,o)=>{const a=e.split(/\n\n/),u=Uq(n,o),m="</"+n+">",b=Ye(a,T=>T.split(/\n/).join("<br />")),S=T=>u+T+m;return b.length===1?b[0]:Ye(b,S).join("")},g6="%MCEPASTEBIN%",Zq=(e,n)=>{const{dom:o,selection:a}=e,u=e.getBody();n.set(a.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},g6);Oo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(u,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",b=>{b.stopPropagation()}),m.focus(),a.select(m,!0)},Kq=(e,n)=>{const o=e.dom;if(t3(e)){let a;const u=n.get();for(;a=t3(e);)o.remove(a),o.unbind(a);u&&e.selection.setRng(u)}n.set(null)},t3=e=>e.dom.get("mcepastebin"),Ns=e=>ye(e)&&e.id==="mcepastebin",qq=e=>{const n=e.dom,o=(b,S)=>{b.appendChild(S),n.remove(S,!0)},[a,...u]=st(e.getBody().childNodes,Ns);Ae(u,b=>{o(a,b)});const m=n.select("div[id=mcepastebin]",a);for(let b=m.length-1;b>=0;b--){const S=n.create("div");a.insertBefore(S,m[b]),o(S,m[b])}return a?a.innerHTML:""},n3=e=>e===g6,Gq=e=>{const n=pi(null);return{create:()=>Zq(e,n),remove:()=>Kq(e,n),getEl:()=>t3(e),getHtml:()=>qq(e),getLastRng:n.get}},hA=(e,n)=>(gt.each(n,o=>{ce(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),b6=e=>{const n=_d(),o=v_({},n);let a="";const u=n.getVoidElements(),m=gt.makeMap("script noscript style textarea video audio iframe object"," "),b=n.getBlockElements(),S=T=>{const $=T.name,W=T;if($==="br"){a+=`
`;return}if($!=="wbr"){if(u[$]&&(a+=" "),m[$]){a+=" ";return}if(T.type===3&&(a+=T.value),!(T.name in n.getVoidElements())){let V=T.firstChild;if(V)do S(V);while(V=V.next)}b[$]&&W.next&&(a+=`
`,$==="p"&&(a+=`
`))}};return e=hA(e,[/<!\[[^\]]+\]>/g]),S(o.parse(e)),a},o3=e=>(e=hA(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,a,u)=>!a&&!u?" ":rt],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),Yq=e=>{let n=0;return()=>e+n++},v6=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return gt.hasOwn(o,n)?"image/"+o[n]:"image/"+n},Xq=(e,n)=>{const o=v_({sanitize:yy(e)},e.schema);o.addNodeFilter("meta",u=>{gt.each(u,m=>{m.remove()})});const a=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Rb({validate:!0},e.schema).serialize(a)},y6=(e,n)=>({content:e,cancelled:n}),_6=(e,n,o)=>{const a=e.dom.create("div",{style:"display:none"},n),u=li(e,a,o);return y6(u.node.innerHTML,u.isDefaultPrevented())},Jq=(e,n,o)=>{const a=qr(e,n,o),u=Xq(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?_6(e,u,o):y6(u,a.isDefaultPrevented())},Qq=(e,n,o)=>Jq(e,n,o),s3=(e,n)=>(e.insertContent(n,{merge:pC(e),paste:!0}),!0),Qb=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),kE=(e,n)=>Qb(n)&&pt(ev(e),o=>Wc(n.toLowerCase(),`.${o.toLowerCase()}`)),eG=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),tG=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),N_=(e,n,o)=>!e.selection.isCollapsed()&&Qb(n)?tG(e,n,o):!1,nG=(e,n,o)=>kE(e,n)?eG(e,n,o):!1,r3=(e,n)=>{gt.each([N_,nG,s3],o=>!o(e,n,s3))},i3=(e,n,o)=>{o||!dx(e)?s3(e,n):r3(e,n)},w6=Yq("mceclip"),oG=e=>{const n=Q4();return TE(n,e),Jb(n),n},C6=(e,n,o,a,u)=>{const m=Qq(e,n,o);if(!m.cancelled){const b=m.content,S=()=>i3(e,b,a);u?nA(e,"insertFromPaste",{dataTransfer:oG(b)}).isDefaultPrevented()||(S(),tA(e,"insertFromPaste")):S()}},AE=(e,n,o,a)=>{const u=o||p6(n);C6(e,zq(n),u,!1,a)},pA=(e,n,o)=>{const a=e.dom.encode(n).replace(/\r\n/g,`
`),u=Cr(a,fx(e)),m=jq(u,Sr(e),Eh(e));C6(e,m,!1,!0,o)},S6=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const a=e.types[o];try{n[a]=e.getData(a)}catch{n[a]=""}}return n},e1=(e,n)=>n in e&&e[n].length>0,E6=e=>e1(e,"text/html")||e1(e,"text/plain"),x6=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return ye(o)?e.dom.encode(o[1]):void 0},sG=(e,n,o,a)=>{const u=w6(),m=cC(e)&&ye(o.name),b=m?x6(e,o.name):u,S=m?o.name:void 0,T=n.create(u,o,a,b,S);return n.add(T),T},T6=(e,n)=>{MR(n.uri).each(({data:o,type:a,base64Encoded:u})=>{const m=u?o:btoa(o),b=n.file,S=e.editorUpload.blobCache,T=S.getByData(m,a),$=T??sG(e,S,b,m);AE(e,`<img src="${$.blobUri()}">`,!1,!0)})},rG=e=>e.type==="paste",iG=e=>Promise.all(Ye(e,n=>ZI(n).then(o=>({file:n,uri:o})))),aG=e=>{const n=ev(e);return o=>us(o.type,"image/")&&pt(n,a=>v6(a)===o.type)},cG=(e,n)=>{const o=n.items?vo(ms(n.items),u=>u.kind==="file"?[u.getAsFile()]:[]):[],a=n.files?ms(n.files):[];return st(o.length>0?o:a,aG(e))},k6=(e,n,o)=>{const a=rG(n)?n.clipboardData:n.dataTransfer;if(tu(e)&&a){const u=cG(e,a);if(u.length>0)return n.preventDefault(),iG(u).then(m=>{o&&e.selection.setRng(o),Ae(m,b=>{T6(e,b)})}),!0}return!1},gA=e=>{var n,o;return Oo.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},lG=e=>en.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,bA=(e,n,o,a,u)=>{let m=o3(o);const b=e1(n,mA())||p6(o),S=!b&&Wq(m),T=Qb(m);(n3(m)||!m.length||S&&!T)&&(a=!0),(a||T)&&(e1(n,"text/plain")&&S?m=n["text/plain"]:m=b6(m)),!n3(m)&&(a?pA(e,m,u):AE(e,m,b,u))},uG=(e,n,o)=>{let a;const u=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",m=>{lG(m)&&!m.isDefaultPrevented()&&(a=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||gA(m))return;const b=o.get()==="text"||a;a=!1;const S=S6(m.clipboardData);!E6(S)&&k6(e,m,u())||(e1(S,"text/html")?(m.preventDefault(),bA(e,S,S["text/html"],b,!0)):e1(S,"text/plain")&&e1(S,"text/uri-list")?(m.preventDefault(),bA(e,S,S["text/plain"],b,!0)):(n.create(),gc.setEditorTimeout(e,()=>{const T=n.getHtml();n.remove(),bA(e,S,T,b,!1)},0)))})},dG=e=>{const n=u=>us(u,"webkit-fake-url"),o=u=>us(u,"data:"),a=u=>{var m;return((m=u.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(u,m,b)=>{if(!tu(e)&&a(b))for(const S of u){const T=S.attr("src");q(T)&&!S.attr("data-mce-object")&&T!==Oo.transparentSrc&&(n(T)||!PD(e)&&o(T))&&S.remove()}})},fG=(e,n,o)=>{uG(e,n,o),dG(e)},mG=(e,n)=>{n.get()==="text"?(n.set("html"),Zp(e,!1)):(n.set("text"),Zp(e,!0)),e.focus()},hG=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{mG(e,n)}),e.addCommand("mceInsertClipboardContent",(o,a)=>{a.html&&AE(e,a.html,a.internal,!1),a.text&&pA(e,a.text,!1)})},pG=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(mA(),n),!0}catch{return!1}else return!1},a3=(e,n,o,a)=>{pG(e.clipboardData,n.html,n.text)?(e.preventDefault(),a()):o(n.html,a)},A6=e=>(n,o)=>{const{dom:a,selection:u}=e,m=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),b=a.create("div",{contenteditable:"true"},n);a.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(b),a.add(e.getBody(),m);const S=u.getRng();b.focus();const T=a.createRng();T.selectNodeContents(b),u.setRng(T),gc.setEditorTimeout(e,()=>{u.setRng(S),a.remove(m),o()},0)},O6=e=>({html:Vq(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),gG=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),D6=e=>!e.selection.isCollapsed()||gG(e),bG=e=>n=>{!n.isDefaultPrevented()&&D6(e)&&a3(n,O6(e),A6(e),()=>{if(Oo.browser.isChromium()||Oo.browser.isFirefox()){const o=e.selection.getRng();gc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},vG=e=>n=>{!n.isDefaultPrevented()&&D6(e)&&a3(n,O6(e),A6(e),xt)},yG=e=>{e.on("cut",bG(e)),e.on("copy",vG(e))},c3=(e,n)=>{var o,a;return go.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(a=n.clientY)!==null&&a!==void 0?a:0,e.getDoc())},_G=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},N6=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},wG=e=>pt(e.files,n=>/^image\//.test(n.type)),CG=(e,n,o,a)=>{const u=e.getParent(o,m=>gh(n,m));if(u&&Dn(a,"text/html")){const m=new DOMParser().parseFromString(a["text/html"],"text/html").body;return!J(m.querySelector(u.nodeName.toLowerCase()))}else return!1},SG=(e,n)=>{lx(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),tu(e)||e.on("drop",o=>{const a=o.dataTransfer;a&&wG(a)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const a=c3(e,o);if(Ue(a))return;const u=S6(o.dataTransfer),m=e1(u,mA());if((!E6(u)||_G(u))&&k6(e,o,a))return;const b=u[mA()],S=b||u["text/html"]||u["text/plain"],T=CG(e.dom,e.schema,a.startContainer,u);n.get()&&!T||S&&(o.preventDefault(),gc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{b&&e.execCommand("Delete"),N6(e,a);const $=o3(S);u["text/html"]?AE(e,$,m,!0):pA(e,$,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{tu(e)&&!n.get()&&(o.preventDefault(),N6(e,c3(e,o))),o.type==="dragend"&&n.set(!1)})},EG=e=>{const n=u=>m=>{u(e,m)},o=vy(e);ie(o)&&e.on("PastePreProcess",n(o));const a=ux(e);ie(a)&&e.on("PastePostProcess",n(a))},xG=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},vA=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l3=e=>gt.trim(e).replace(vA,Vp).toLowerCase(),TG=(e,n,o)=>{const a=Rp(e);if(o||a==="all"||!Q1(e))return n;const u=a?a.split(/[, ]/):[];if(u&&a!=="none"){const m=e.dom,b=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(S,T,$,W)=>{const V=m.parseStyle(m.decode($)),X={};for(let he=0;he<u.length;he++){const re=V[u[he]];let fe=re,Re=m.getStyle(b,u[he],!0);/color/.test(u[he])&&(fe=l3(fe),Re=l3(Re)),Re!==fe&&(X[u[he]]=re)}const ue=m.serializeStyle(X,"span");return ue?T+' style="'+ue+'"'+W:T+W})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,b,S,T)=>b+' style="'+S+'"'+T),n},R6=e=>{(Oo.browser.isChromium()||Oo.browser.isSafari())&&xG(e,TG)},M6=e=>{const n=pi(!1),o=pi($D(e)?"text":"html"),a=Gq(e);R6(e),hG(e,o),EG(e),e.on("PreInit",()=>{yG(e),SG(e,n),fG(e,a,o)})},u3=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},kG=e=>{e.parser.addNodeFilter("details",n=>{const o=tv(e);Ae(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=nv(e);Ae(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})})},d3=e=>M(ge.fromDom(e)),$6=(e,n)=>{const o=n.getNode();Ge(o)||e.selection.setCursorLocation(o,n.offset())},f3=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},P6=Cs(),B6=P6.browser,I6=P6.os,AG=B6.isSafari(),L6=I6.isMacOS()||I6.isiOS(),OE=(e,n)=>yi(n).exists(o=>o.isEqual(e)),OG=(e,n)=>ol(n).exists(o=>Xs(o.getNode())&&ua(n,o).exists(a=>a.isEqual(e))||o.isEqual(e)),DG=(e,n)=>{const o=Y.from(e.getParent(n.startContainer,"details")),a=Y.from(e.getParent(n.endContainer,"details"));if(o.isSome()||a.isSome()){const u=o.bind(m=>Y.from(e.select("summary",m)[0]));return Y.some({startSummary:u,startDetails:o,endDetails:a})}else return Y.none()},F6=(e,n)=>{const o=T=>T.contains(e.startContainer),a=T=>T.contains(e.endContainer),u=n.startSummary.exists(o),m=n.startSummary.exists(a),b=n.startDetails.forall(T=>n.endDetails.forall($=>T!==$));return(u||m)&&!(u&&m)||b},NG=(e,n)=>n.startSummary.exists(o=>OE(e,o)),RG=(e,n)=>n.startSummary.exists(o=>OG(e,o)),MG=(e,n)=>n.startDetails.exists(o=>ua(o,e).forall(a=>n.startSummary.exists(u=>!u.contains(e.container())&&u.contains(a.container())))),$G=(e,n,o)=>o.startDetails.exists(a=>ka(e,n).forall(u=>!a.contains(u.container()))),m3=(e,n)=>ye(e.getParent(n.container(),"details")),DE=(e,n)=>{const o=e.dom.getParent(n.container(),"details");if(o&&!o.open){const a=e.dom.select("summary",o)[0];a&&ol(a).each(u=>$6(e,u))}else $6(e,n)},H6=(e,n)=>{const{dom:o,selection:a}=e,u=e.getBody();if(e.selection.isCollapsed()){const m=Je.fromRangeStart(a.getRng()),b=o.getParent(m.container(),o.isBlock);if(b&&o.isEmpty(b)){if(J(b.nextSibling)){const S=ua(u,m).filter(T=>m3(o,T));if(S.isSome())return S.each(T=>{n||DE(e,T)}),!0}else if(J(b.previousSibling)&&ka(u,m).filter(T=>m3(o,T)))return!0}return TC(n,u,m).fold(at,S=>m3(o,S)?(b&&o.isEmpty(b)&&e.dom.remove(b),n||DE(e,S),!0):!1)}else return!1},V6=(e,n,o)=>{const a=e.selection,u=a.getNode(),m=a.getRng(),b=o.keyCode===en.BACKSPACE,S=o.keyCode===en.DELETE,T=e.selection.isCollapsed(),$=Je.fromRangeStart(m),W=e.getBody();return!T&&F6(m,n)||T&&b&&NG($,n)||T&&S&&RG($,n)||T&&b&&MG($,n)||T&&S&&$G(W,$,n)?!0:AG&&Ca(u)?(!T&&f3(m,u)||Jy(S,$,u)?d3(u):e.undoManager.transact(()=>{const V=a.getSel();let{anchorNode:X,anchorOffset:ue,focusNode:he,focusOffset:re}=V??{};const fe=()=>{ye(X)&&ye(ue)&&ye(he)&&ye(re)&&(V==null||V.setBaseAndExtent(X,ue,he,re))},Re=()=>{X=V==null?void 0:V.anchorNode,ue=V==null?void 0:V.anchorOffset,he=V==null?void 0:V.focusNode,re=V==null?void 0:V.focusOffset},Pe=(Ve,ht)=>{Ae(Ve.childNodes,dn=>{dv(dn)&&ht.appendChild(dn)})},Be=e.dom.create("span",{"data-mce-bogus":"all"});Pe(u,Be),u.appendChild(Be),fe(),T&&(L6&&(o.altKey||b&&o.metaKey)||!L6&&o.ctrlKey)&&(V==null||V.modify("extend",b?"left":"right",o.metaKey?"line":"word")),!a.isCollapsed()&&f3(a.getRng(),Be)?d3(u):(e.execCommand(b?"Delete":"ForwardDelete"),Re(),Pe(Be,u),fe()),e.dom.remove(Be)}),!0):!1},PG=e=>{e.on("keydown",n=>{(n.keyCode===en.BACKSPACE||n.keyCode===en.DELETE)&&DG(e.dom,e.selection.getRng()).fold(()=>{H6(e,n.keyCode===en.DELETE)&&n.preventDefault()},o=>{V6(e,o,n)&&n.preventDefault()})})},BG=e=>{u3(e),kG(e),PG(e)},IG=Xs,LG=Et,FG=e=>Yo(e.dom),h3=e=>as(e.dom),yA=e=>n=>Jo(ge.fromDom(e),n),_A=(e,n)=>te(ge.fromDom(e),o=>h3(o)||wr(o),yA(n)).getOr(ge.fromDom(n)).dom,z6=(e,n)=>te(ge.fromDom(e),FG,yA(n)),W6=(e,n,o)=>{const a=new Ir(e,n),u=o?a.next.bind(a):a.prev.bind(a);let m=e;for(let b=o?e:u();b&&!IG(b);b=u())fr(b)&&(m=b);return m},U6=(e,n)=>{const a=Je.fromRangeStart(e).getNode(),u=_A(a,n),m=W6(a,u,!1),b=W6(a,u,!0),S=document.createRange();return z6(m,u).fold(()=>{LG(m)?S.setStart(m,0):S.setStartBefore(m)},T=>S.setStartBefore(T.dom)),z6(b,u).fold(()=>{LG(b)?S.setEnd(b,b.data.length):S.setEndAfter(b)},T=>S.setEndAfter(T.dom)),S},HG=e=>{const n=U6(e.selection.getRng(),e.getBody());e.selection.setRng(SS(n))},p3=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),HG(e))})};var Yv;(function(e){e.Before="before",e.After="after"})(Yv||(Yv={}));const VG=(e,n)=>Math.abs(e.left-n),zG=(e,n)=>Math.abs(e.right-n),j6=(e,n)=>e>=n.top&&e<=n.bottom,WG=(e,n)=>e.top<n.bottom&&e.bottom>n.top,Ane=(e,n)=>{const o=im(e,n)/Math.min(e.height,n.height);return WG(e,n)&&o>.5},UG=(e,n)=>{const o=st(e,a=>j6(n,a));return F2(o).fold(()=>[[],e],a=>{const{pass:u,fail:m}=Wt(e,b=>Ane(b,a));return[u,m]})},jG=(e,n)=>({node:e.node,position:VG(e,n)<zG(e,n)?Yv.Before:Yv.After}),ZG=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),wA=(e,n,o)=>{const a=W=>fr(W.node)?Y.some(W):qt(W.node)?wA(ms(W.node.childNodes),n,o):Y.none(),u=(W,V)=>{if(W.length>=2){const X=a(W[0]).getOr(W[0]),ue=a(W[1]).getOr(W[1]);if(Math.abs(V(X,n,o)-V(ue,n,o))<2){if(Et(X.node))return Y.some(X);if(Et(ue.node))return Y.some(ue)}}return Y.none()},m=(W,V)=>{const X=qo(W,(ue,he)=>V(ue,n,o)-V(he,n,o));return u(X,V).orThunk(()=>ba(X,a))},[b,S]=UG(kk(e),o),{pass:T,fail:$}=Wt(S,W=>W.top<o);return m(b,ZG).orThunk(()=>m($,qw)).orThunk(()=>m(T,qw))},KG=(e,n,o,a)=>{const u=(m,b)=>{const S=$=>qt($)&&$.classList.contains("mce-drag-container"),T=st(m.dom.childNodes,mo(S));return b.fold(()=>wA(T,o,a),$=>{const W=st(T,V=>V!==$.dom);return wA(W,o,a)}).orThunk(()=>(Jo(m,e)?Y.none():rh(m)).bind(W=>u(W,Y.some(m))))};return u(n,Y.none())},Z6=(e,n,o)=>{const a=ge.fromDom(e),u=ql(a),b=ge.fromPoint(u,n,o).filter(S=>sc(a,S)).getOr(a);return KG(a,b,n,o)},K6=(e,n,o)=>Z6(e,n,o).filter(a=>gf(a.node)).map(a=>jG(a,n)),q6=e=>{var n,o;const a=e.getBoundingClientRect(),u=e.ownerDocument,m=u.documentElement,b=u.defaultView;return{top:a.top+((n=b==null?void 0:b.scrollY)!==null&&n!==void 0?n:0)-m.clientTop,left:a.left+((o=b==null?void 0:b.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},qG=e=>e.inline?q6(e.getBody()):{left:0,top:0},GG=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},YG=e=>{const n=e.getBody(),o=e.getDoc().documentElement,a={left:n.scrollLeft,top:n.scrollTop},u={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?a:u},G6=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=q6(e.getContentAreaContainer()),a=YG(e);return{left:n.pageX-o.left+a.left,top:n.pageY-o.top+a.top}}return{left:n.pageX,top:n.pageY}},One=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),XG=(e,n)=>One(qG(e),GG(e),G6(e,n)),g3=e=>({target:e,srcElement:e}),JG=(e,n,o,a)=>({...n,dataTransfer:a,type:e,...g3(o)}),b3=(e,n,o)=>{const a=ks("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:xt,stopImmediatePropagation:xt,stopPropagation:xt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:o,...g3(n)}},QG=(e,n)=>{const o=Hq(e);return n==="dragstart"?(a6(o),u6(o)):n==="drop"?(Rq(o),Jb(o)):(Mq(o),Iq(o)),o},eY=(e,n,o,a)=>{const u=QG(o,e);return Ge(a)?b3(e,n,u):JG(e,a,n,u)},CA=32,Y6=100,Xv=8,NE=16,v3=Yo,tY=oD(v3,as),nY=(e,n,o)=>v3(o)&&o!==n&&e.isEditable(o.parentElement),X6=(e,n,o)=>Ue(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),oY=(e,n,o,a)=>{const u=e.dom,m=n.cloneNode(!0);u.setStyles(m,{width:o,height:a}),u.setAttrib(m,"data-mce-selected",null);const b=u.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return u.setStyles(b,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),u.setStyles(m,{margin:0,boxSizing:"border-box"}),b.appendChild(m),b},sY=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},SA=(e,n)=>o=>()=>{const a=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:a+n,behavior:"smooth"})},EA=SA("left",-CA),J6=SA("left",CA),Q6=SA("top",-CA),e7=SA("top",CA),rY=(e,n,o,a,u,m,b,S,T,$,W,V)=>{let X=0,ue=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>u&&(X=n.pageX+o-u),n.pageY+a>m&&(ue=n.pageY+a-m),e.style.width=o-X+"px",e.style.height=a-ue+"px";const he=T.clientHeight,re=T.clientWidth,fe=b+T.getBoundingClientRect().top,Re=S+T.getBoundingClientRect().left;W.on(Pe=>{Pe.intervalId.clear(),Pe.dragging&&V&&(b+Xv>=he?Pe.intervalId.set(e7($)):b-Xv<=0?Pe.intervalId.set(Q6($)):S+Xv>=re?Pe.intervalId.set(J6($)):S-Xv<=0?Pe.intervalId.set(EA($)):fe+NE>=window.innerHeight?Pe.intervalId.set(e7(window)):fe-NE<=0?Pe.intervalId.set(Q6(window)):Re+NE>=window.innerWidth?Pe.intervalId.set(J6(window)):Re-NE<=0&&Pe.intervalId.set(EA(window)))})},t7=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},iY=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);t7(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&M(ge.fromDom(o))},n7=e=>e.button===0,o7=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),y3=(e,n)=>o=>{if(n7(o)){const a=nn(n.dom.getParents(o.target),tY).getOr(null);if(ye(a)&&nY(n.dom,n.getBody(),a)){const u=n.dom.getPos(a),m=n.getBody(),b=n.getDoc().documentElement;e.set({element:a,dataTransfer:Q4(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?m.scrollWidth:b.offsetWidth)-2,maxY:(n.inline?m.scrollHeight:b.offsetHeight)-2,relX:o.pageX-u.x,relY:o.pageY-u.y,width:a.offsetWidth,height:a.offsetHeight,ghost:oY(n,a,a.offsetWidth,a.offsetHeight),intervalId:ff(Y6)})}}},_3=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),K6(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),a=>{const u=e._selectionOverrides.showCaret(1,a.node,a.position===Yv.Before,!1);u?e.selection.setRng(u):e.selection.placeCaretAt(n,o)})},RE=(e,n,o,a,u)=>{n==="dragstart"&&TE(a,e.dom.getOuterHTML(o));const m=eY(n,o,a,u);return e.dispatch(n,m)},w3=(e,n)=>{const o=om((u,m)=>_3(n,u,m),0);n.on("remove",o.cancel);const a=e;return u=>e.on(m=>{const b=Math.max(Math.abs(u.screenX-m.screenX),Math.abs(u.screenY-m.screenY));if(!m.dragging&&b>10){const S=RE(n,"dragstart",m.element,m.dataTransfer,u);if(ye(S.dataTransfer)&&(m.dataTransfer=S.dataTransfer),S.isDefaultPrevented())return;m.dragging=!0,n.focus()}if(m.dragging){const S=u.currentTarget===n.getDoc().documentElement,T=o7(m,XG(n,u));sY(m.ghost,n.getBody()),rY(m.ghost,T,m.width,m.height,m.maxX,m.maxY,u.clientY,u.clientX,n.getContentAreaContainer(),n.getWin(),a,S),o.throttle(u.clientX,u.clientY)}})},aY=e=>{const n=e.getSel();if(ye(n)){const a=n.getRangeAt(0).startContainer;return Et(a)?a.parentNode:a}else return null},cY=(e,n)=>o=>{e.on(a=>{var u;if(a.intervalId.clear(),a.dragging){if(X6(n,aY(n.selection),a.element)){const m=(u=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&u!==void 0?u:n.getBody();RE(n,"drop",m,a.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{iY(n.dom,a.element),kne(a.dataTransfer).each(S=>n.insertContent(S)),n._selectionOverrides.hideFakeCaret()})}RE(n,"dragend",n.getBody(),a.dataTransfer,o)}}),s7(e)},C3=(e,n,o)=>{e.on(a=>{a.intervalId.clear(),a.dragging&&o.fold(()=>RE(n,"dragend",a.element,a.dataTransfer),u=>RE(n,"dragend",a.element,a.dataTransfer,u))}),s7(e)},lY=(e,n)=>o=>C3(e,n,Y.some(o)),s7=e=>{e.on(n=>{n.intervalId.clear(),t7(n.ghost)}),e.clear()},uY=e=>{const n=Ji(),o=bs.DOM,a=document,u=y3(n,e),m=w3(n,e),b=cY(n,e),S=lY(n,e);e.on("mousedown",u),e.on("mousemove",m),e.on("mouseup",b),o.bind(a,"mousemove",m),o.bind(a,"mouseup",S),e.on("remove",()=>{o.unbind(a,"mousemove",m),o.unbind(a,"mouseup",S)}),e.on("keydown",T=>{T.keyCode===en.ESC&&C3(n,e,Y.none())})},dY=e=>{const n=u=>{if(!u.isDefaultPrevented()){const m=u.dataTransfer;m&&(je(m.types,"Files")||m.files.length>0)&&(u.preventDefault(),u.type==="drop"&&KS(e,"Dropped file type is not supported"))}},o=u=>{lS(e,u.target)&&n(u)},a=()=>{const u=bs.DOM,m=e.dom,b=document,S=e.inline?e.getBody():e.getDoc(),T=["drop","dragover"];Ae(T,$=>{u.bind(b,$,o),m.bind(S,$,n)}),e.on("remove",()=>{Ae(T,$=>{u.unbind(b,$,o),m.unbind(S,$,n)})})};e.on("init",()=>{gc.setEditorTimeout(e,a,0)})},fY=e=>{uY(e),cx(e)&&dY(e)},mY=e=>{const n=om(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const a=$M(e,o,!1);e.selection.setRng(a)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},hY=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Tr(o)){const a=Pb(e.getBody(),o),u=Yo(a)?a:o;e.selection.getNode()!==u&&YS(e,u).each(m=>e.selection.setRng(m))}})})},R_=Yo,r7=(e,n)=>Pb(e.getBody(),n),S3=e=>{const n=e.selection,o=e.dom,a=e.getBody(),u=wx(e,a,o.isBlock,()=>xv(e)),m="sel-"+o.uniqueId(),b="data-mce-selected";let S;const T=yt=>ye(yt)&&o.hasClass(yt,"mce-offscreen-selection"),$=yt=>yt!==a&&(R_(yt)||Tr(yt))&&o.isChildOf(yt,a)&&o.isEditable(yt.parentNode),W=yt=>{yt&&n.setRng(yt)},V=(yt,et,ct,It=!0)=>e.dispatch("ShowCaret",{target:et,direction:yt,before:ct}).isDefaultPrevented()?null:(It&&n.scrollIntoView(et,yt===-1),u.show(ct,et)),X=yt=>{yt.hasAttribute("data-mce-caret")&&(Yf(yt),n.scrollIntoView(yt))},ue=()=>{e.on("click",et=>{o.isEditable(et.target)||(et.preventDefault(),e.focus())}),e.on("blur NewBlock",Ve),e.on("ResizeWindow FullscreenStateChanged",u.reposition),e.on("tap",et=>{const ct=et.target,It=r7(e,ct);R_(It)?(et.preventDefault(),YS(e,It).each(Be)):$(ct)&&YS(e,ct).each(Be)},!0),e.on("mousedown",et=>{const ct=et.target;if(ct!==a&&ct.nodeName!=="HTML"&&!o.isChildOf(ct,a)||!Wv(e,et.clientX,et.clientY))return;Ve(),dn();const It=r7(e,ct);R_(It)?(et.preventDefault(),YS(e,It).each(Be)):K6(a,et.clientX,et.clientY).each(Ht=>{et.preventDefault();const on=V(1,Ht.node,Ht.position===Yv.Before,!1);W(on),qt(It)?It.focus():e.getBody().focus()})}),e.on("keypress",et=>{en.modifierPressed(et)||R_(n.getNode())&&et.preventDefault()}),e.on("GetSelectionRange",et=>{let ct=et.range;if(S){if(!S.parentNode){S=null;return}ct=ct.cloneRange(),ct.selectNode(S),et.range=ct}}),e.on("SetSelectionRange",et=>{et.range=fe(et.range);const ct=Be(et.range,et.forward);ct&&(et.range=ct)});const yt=et=>qt(et)&&et.id==="mcepastebin";e.on("AfterSetSelectionRange",et=>{const ct=et.range,It=ct.startContainer.parentElement;!re(ct)&&!yt(It)&&dn(),T(It)||Ve()}),fY(e),mY(e),hY(e)},he=yt=>Qo(yt)||za(yt)||Gf(yt),re=yt=>he(yt.startContainer)||he(yt.endContainer),fe=yt=>{const et=e.schema.getVoidElements(),ct=o.createRng(),It=yt.startContainer,Ht=yt.startOffset,on=yt.endContainer,Mn=yt.endOffset;return Dn(et,It.nodeName.toLowerCase())?Ht===0?ct.setStartBefore(It):ct.setStartAfter(It):ct.setStart(It,Ht),Dn(et,on.nodeName.toLowerCase())?Mn===0?ct.setEndBefore(on):ct.setEndAfter(on):ct.setEnd(on,Mn),ct},Re=(yt,et)=>{const ct=ge.fromDom(e.getBody()),It=e.getDoc(),Ht=Un(ct,"#"+m).getOrThunk(()=>{const $n=ge.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',It);return ur($n,"id",m),_r(ct,$n),$n}),on=o.createRng();Au(Ht),Es(Ht,[ge.fromText(rt,It),ge.fromDom(et),ge.fromText(rt,It)]),on.setStart(Ht.dom.firstChild,1),on.setEnd(Ht.dom.lastChild,0),Og(Ht,{top:o.getPos(yt,e.getBody()).y+"px"}),Sv(Ht);const Mn=n.getSel();return Mn&&(Mn.removeAllRanges(),Mn.addRange(on)),on},Pe=yt=>{const et=yt.cloneNode(!0),ct=e.dispatch("ObjectSelected",{target:yt,targetClone:et});if(ct.isDefaultPrevented())return null;const It=Re(yt,ct.targetClone),Ht=ge.fromDom(yt);return Ae(Ri(ge.fromDom(e.getBody()),`*[${b}]`),on=>{Jo(Ht,on)||Go(on,b)}),o.getAttrib(yt,b)||yt.setAttribute(b,"1"),S=yt,dn(),It},Be=(yt,et)=>{if(!yt)return null;if(yt.collapsed){if(!re(yt)){const on=et?1:-1,Mn=$p(on,a,yt),$n=Mn.getNode(!et);if(ye($n)){if(gf($n))return V(on,$n,et?!Mn.isAtEnd():!1,!1);if(Pn($n)&&Yo($n.nextSibling)){const Wo=o.createRng();return Wo.setStart($n,0),Wo.setEnd($n,0),Wo}}const Po=Mn.getNode(et);if(ye(Po)){if(gf(Po))return V(on,Po,et?!1:!Mn.isAtEnd(),!1);if(Pn(Po)&&Yo(Po.previousSibling)){const Wo=o.createRng();return Wo.setStart(Po,1),Wo.setEnd(Po,1),Wo}}}return null}let ct=yt.startContainer,It=yt.startOffset;const Ht=yt.endOffset;if(Et(ct)&&It===0&&R_(ct.parentNode)&&(ct=ct.parentNode,It=o.nodeIndex(ct),ct=ct.parentNode),!qt(ct))return null;if(Ht===It+1&&ct===yt.endContainer){const on=ct.childNodes[It];if($(on))return Pe(on)}return null},Ve=()=>{S&&S.removeAttribute(b),Un(ge.fromDom(e.getBody()),"#"+m).each(Uo),S=null},ht=()=>{u.destroy(),S=null},dn=()=>{u.hide()};return lu(e)||ue(),{showCaret:V,showBlockCaretContainer:X,hideFakeCaret:dn,destroy:ht}},pY=(e,n)=>{let o=n;for(let a=e.previousSibling;Et(a);a=a.previousSibling)o+=a.data.length;return o},i7=(e,n,o,a,u)=>{if(Et(o)&&(a<0||a>o.data.length))return[];const m=u&&Et(o)?[pY(o,a)]:[a];let b=o;for(;b!==n&&b.parentNode;)m.push(e.nodeIndex(b,u)),b=b.parentNode;return b===n?m.reverse():[]},E3=(e,n,o,a,u,m,b=!1)=>{const S=i7(e,n,o,a,b),T=i7(e,n,u,m,b);return{start:S,end:T}},a7=(e,n)=>{const o=n.slice(),a=o.pop();return Tt(a)?tn(o,(m,b)=>m.bind(S=>Y.from(S.childNodes[b])),Y.some(e)).bind(m=>Et(m)&&(a<0||a>m.data.length)?Y.none():Y.some({node:m,offset:a})):Y.none()},c7=(e,n)=>a7(e,n.start).bind(({node:o,offset:a})=>a7(e,n.end).map(({node:u,offset:m})=>{const b=document.createRange();return b.setStart(o,a),b.setEnd(u,m),b})),gY=(e,n,o,a=!1)=>E3(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,a),ug=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const a=n.parentNode;e.remove(n),ug(e,a,o)}},xA=(e,n,o,a=!0)=>{const u=n.startContainer.parentNode,m=n.endContainer.parentNode;n.deleteContents(),a&&!o(n.startContainer)&&(Et(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Et(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),ug(e,u,o),u!==m&&ug(e,m,o))},x3=(e,n)=>Y.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),l7=(e,n,o)=>{const a=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:cy(a).concat(e.blockPatterns),inlinePatterns:ly(a).concat(e.inlinePatterns)}},u7=(e,n,o,a)=>{const u=e.createRng();return u.setStart(n,0),u.setEnd(o,a),u.toString()},bY=e=>/^\s[^\s]/.test(e),d7=(e,n,o)=>{sH(n,0,n).each(u=>{const m=u.container;b4(m,o.start.length,n).each(T=>{const $=e.createRng();$.setStart(m,0),$.setEnd(T.container,T.offset),xA(e,$,W=>W===n)});const b=ge.fromDom(m),S=Bg(b);bY(S)&&Tw(b,S.slice(1))})},vY=(e,n)=>{const o=e.dom,a=n.pattern,u=c7(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),m=(b,S)=>{const T=S.get(b);return We(T)&&oo(T).exists($=>Dn($,"block"))};return x3(e,u).each(b=>{a.type==="block-format"?m(a.format,e.formatter)&&e.undoManager.transact(()=>{d7(e.dom,b,a),e.formatter.apply(a.format)}):a.type==="block-command"&&e.undoManager.transact(()=>{d7(e.dom,b,a),e.execCommand(a.cmd,!1,a.value)})}),!0},yY=e=>qo(e,(n,o)=>o.start.length-n.start.length),_Y=(e,n)=>{const o=yY(e),a=n.replace(rt," ");return nn(o,u=>n.indexOf(u.start)===0||a.indexOf(u.start)===0)},f7=(e,n,o,a)=>{var u;const m=e.dom,b=Sr(e);if(!m.is(n,b))return[];const S=(u=n.textContent)!==null&&u!==void 0?u:"";return _Y(o.blockPatterns,S).map(T=>gt.trim(S).length===T.start.length?[]:[{pattern:T,range:E3(m,m.getRoot(),n,0,n,0,a)}]).getOr([])},wY=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();Ae(n,a=>vY(e,a)),e.selection.moveToBookmark(o)},T3=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),TA=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},m7=(e,n,o)=>{const a=c7(e.getRoot(),o).getOrDie("Unable to resolve path range"),u=a.startContainer,m=a.endContainer,b=a.endOffset===0?m:m.splitText(a.endOffset),S=a.startOffset===0?u:u.splitText(a.startOffset),T=S.parentNode,$=b.parentNode;return{prefix:n,end:$.insertBefore(T3(e,n+"-end"),b),start:T.insertBefore(T3(e,n+"-start"),S)}},k3=(e,n,o)=>{ug(e,e.get(n.prefix+"-end"),o),ug(e,e.get(n.prefix+"-start"),o)},Jv=e=>e.start.length===0,CY=e=>(n,o)=>{const u=n.data.substring(0,o),m=u.lastIndexOf(e.charAt(e.length-1)),b=u.lastIndexOf(e);return b!==-1?b+e.length:m!==-1?m+1:-1},A3=(e,n,o,a)=>{const u=n.start;return Zk(e,a.container,a.offset,CY(u),o).bind(b=>{var S,T;const $=(T=(S=o.textContent)===null||S===void 0?void 0:S.indexOf(u))!==null&&T!==void 0?T:-1;if($!==-1&&b.offset>=$+u.length){const V=e.createRng();return V.setStart(b.container,b.offset-u.length),V.setEnd(b.container,b.offset),Y.some(V)}else{const V=b.offset-u.length;return g4(b.container,V,o).map(X=>{const ue=e.createRng();return ue.setStart(X.container,X.offset),ue.setEnd(b.container,b.offset),ue}).filter(X=>X.toString()===u).orThunk(()=>A3(e,n,o,Om(b.container,0)))}})},SY=(e,n,o,a,u,m=!1)=>{if(n.start.length===0&&!m){const b=e.createRng();return b.setStart(o,a),b.setEnd(o,a),Y.some(b)}return p4(o,a,u).bind(b=>A3(e,n,u,b).bind(T=>{var $;if(m){if(T.endContainer===b.container&&T.endOffset===b.offset)return Y.none();if(b.offset===0&&(($=T.endContainer.textContent)===null||$===void 0?void 0:$.length)===T.endOffset)return Y.none()}return Y.some(T)}))},EY=(e,n,o,a)=>{const u=e.dom,m=u.getRoot(),b=o.pattern,S=o.position.container,T=o.position.offset;return g4(S,T-o.pattern.end.length,n).bind($=>{const W=E3(u,m,$.container,$.offset,S,T,a);if(Jv(b))return Y.some({matches:[{pattern:b,startRng:W,endRng:W}],position:$});{const V=kA(e,o.remainingPatterns,$.container,$.offset,n,a),X=V.getOr({matches:[],position:$}),ue=X.position;return SY(u,b,ue.container,ue.offset,n,V.isNone()).map(re=>{const fe=gY(u,m,re,a);return{matches:X.matches.concat([{pattern:b,startRng:fe,endRng:W}]),position:Om(re.startContainer,re.startOffset)}})}})},kA=(e,n,o,a,u,m)=>{const b=e.dom;return p4(o,a,b.getRoot()).bind(S=>{const T=u7(b,u,o,a);for(let $=0;$<n.length;$++){const W=n[$];if(!Wc(T,W.end))continue;const V=n.slice();V.splice($,1);const X=EY(e,u,{pattern:W,remainingPatterns:V,position:S},m);if(X.isNone()&&a>0)return kA(e,n,o,a-1,u,m);if(X.isSome())return X}return Y.none()})},h7=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?Ae(n.format,a=>{e.formatter.apply(a)}):e.execCommand(n.cmd,!1,n.value)},p7=(e,n,o,a)=>{const u=TA(e.dom,o);xA(e.dom,u,a),h7(e,n,u)},xY=(e,n,o,a,u)=>{const m=e.dom,b=TA(m,a),S=TA(m,o);xA(m,S,u),xA(m,b,u);const T={prefix:o.prefix,start:o.end,end:a.start},$=TA(m,T);h7(e,n,$)},g7=(e,n)=>{const o=H1("mce_textpattern"),a=Bt(n,(u,m)=>{const b=m7(e,o+`_end${u.length}`,m.endRng);return u.concat([{...m,endMarker:b}])},[]);return Bt(a,(u,m)=>{const b=a.length-u.length-1,S=Jv(m.pattern)?m.endMarker:m7(e,o+`_start${b}`,m.startRng);return u.concat([{...m,startMarker:S}])},[])},TY=e=>qo(e,(n,o)=>o.end.length-n.end.length),kY=(e,n)=>{const o=Qn(e,a=>pt(n,u=>a.pattern.start===u.pattern.start&&a.pattern.end===u.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},b7=(e,n,o,a,u,m)=>{const b=kA(e,u.inlinePatterns,o,a,n,m).fold(()=>[],T=>T.matches),S=kA(e,TY(u.inlinePatterns),o,a,n,m).fold(()=>[],T=>T.matches);return kY(b,S)},v7=(e,n)=>{if(n.length===0)return;const o=e.dom,a=e.selection.getBookmark(),u=g7(o,n);Ae(u,m=>{const b=o.getParent(m.startMarker.start,o.isBlock),S=T=>T===b;Jv(m.pattern)?p7(e,m.pattern,m.endMarker,S):xY(e,m.pattern,m.startMarker,m.endMarker,S),k3(o,m.endMarker,S),k3(o,m.startMarker,S)}),e.selection.moveToBookmark(a)},AY=(e,n)=>{const o=e.selection.getRng();return x3(e,o).map(a=>{var u;const m=Math.max(0,o.startOffset),b=l7(n,a,(u=a.textContent)!==null&&u!==void 0?u:""),S=b7(e,a,o.startContainer,m,b,!0),T=f7(e,a,b,!0);return T.length>0||S.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(fd),v7(e,S),wY(e,T);const $=e.selection.getRng(),W=p4($.startContainer,$.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),W.each(V=>{const X=V.container;X.data.charAt(V.offset-1)===fd&&(X.deleteData(V.offset-1,1),ug(e.dom,X.parentNode,ue=>ue===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},OY=(e,n)=>{const o=e.selection.getRng();x3(e,o).map(a=>{const u=Math.max(0,o.startOffset-1),m=u7(e.dom,a,o.startContainer,u),b=l7(n,a,m),S=b7(e,a,o.startContainer,u,b,!1);S.length>0&&e.undoManager.transact(()=>{v7(e,S)})})},y7=(e,n,o)=>{for(let a=0;a<e.length;a++)if(o(e[a],n))return!0;return!1},DY=(e,n)=>y7(e,n,(o,a)=>o===a.keyCode&&!en.modifierPressed(a)),NY=(e,n)=>y7(e,n,(o,a)=>o.charCodeAt(0)===a.charCode),_7=e=>{const n=[",",".",";",":","!","?"],o=[32],a=()=>_P(BD(e),mx(e)),u=()=>px(e);e.on("keydown",b=>{if(b.keyCode===13&&!en.modifierPressed(b)&&e.selection.isCollapsed()){const S=a();(S.inlinePatterns.length>0||S.blockPatterns.length>0||u())&&AY(e,S)&&b.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const b=a();(b.inlinePatterns.length>0||u())&&OY(e,b)}};e.on("keyup",b=>{DY(o,b)&&m()}),e.on("keypress",b=>{NY(n,b)&&gc.setEditorTimeout(e,m)})},O3=e=>{_7(e)},w7=e=>{const n=gt.each,o=en.BACKSPACE,a=en.DELETE,u=e.dom,m=e.selection,b=e.parser,S=Oo.browser,T=S.isFirefox(),$=S.isChromium()||S.isSafari(),W=Oo.deviceType.isiPhone()||Oo.deviceType.isiPad(),V=Oo.os.isMacOS()||Oo.os.isiOS(),X=(fn,gn)=>{try{e.getDoc().execCommand(fn,!1,String(gn))}catch{}},ue=fn=>fn.isDefaultPrevented(),he=()=>{const fn=Ot=>{const Ln=u.create("body"),Yn=Ot.cloneContents();return Ln.appendChild(Yn),m.serializer.serialize(Ln,{format:"html"})},gn=Ot=>{const Ln=fn(Ot),Yn=u.createRng();Yn.selectNode(e.getBody());const Bo=fn(Yn);return Ln===Bo};e.on("keydown",Ot=>{const Ln=Ot.keyCode;if(!ue(Ot)&&(Ln===a||Ln===o)&&e.selection.isEditable()){const Yn=e.selection.isCollapsed(),Bo=e.getBody();if(Yn&&!u.isEmpty(Bo)||!Yn&&!gn(e.selection.getRng()))return;Ot.preventDefault(),e.setContent(""),Bo.firstChild&&u.isBlock(Bo.firstChild)?e.selection.setCursorLocation(Bo.firstChild,0):e.selection.setCursorLocation(Bo,0),e.nodeChanged()}})},re=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},fe=()=>{e.inline||u.bind(e.getDoc(),"mousedown mouseup",fn=>{let gn;if(fn.target===e.getDoc().documentElement)if(gn=m.getRng(),e.getBody().focus(),fn.type==="mousedown"){if(Qo(gn.startContainer))return;m.placeCaretAt(fn.clientX,fn.clientY)}else m.setRng(gn)})},Re=()=>{e.on("keydown",fn=>{if(!ue(fn)&&fn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const gn=m.getNode(),Ot=gn.previousSibling;if(gn.nodeName==="HR"){u.remove(gn),fn.preventDefault();return}Ot&&Ot.nodeName&&Ot.nodeName.toLowerCase()==="hr"&&(u.remove(Ot),fn.preventDefault())}}})},Pe=()=>{Range.prototype.getClientRects||e.on("mousedown",fn=>{if(!ue(fn)&&fn.target.nodeName==="HTML"){const gn=e.getBody();gn.blur(),gc.setEditorTimeout(e,()=>{gn.focus()})}})},Be=()=>{const fn=J1(e);e.on("click",gn=>{const Ot=gn.target;/^(IMG|HR)$/.test(Ot.nodeName)&&u.isEditable(Ot.parentNode)&&(gn.preventDefault(),e.selection.select(Ot),e.nodeChanged()),Ot.nodeName==="A"&&u.hasClass(Ot,fn)&&Ot.childNodes.length===0&&u.isEditable(Ot.parentNode)&&(gn.preventDefault(),m.select(Ot))})},Ve=()=>{const fn=()=>{const Ot=u.getAttribs(m.getStart().cloneNode(!1));return()=>{const Ln=m.getStart();Ln!==e.getBody()&&(u.setAttrib(Ln,"style",null),n(Ot,Yn=>{Ln.setAttributeNode(Yn.cloneNode(!0))}))}},gn=()=>!m.isCollapsed()&&u.getParent(m.getStart(),u.isBlock)!==u.getParent(m.getEnd(),u.isBlock);e.on("keypress",Ot=>{let Ln;return!ue(Ot)&&(Ot.keyCode===8||Ot.keyCode===46)&&gn()?(Ln=fn(),e.getDoc().execCommand("delete",!1),Ln(),Ot.preventDefault(),!1):!0}),u.bind(e.getDoc(),"cut",Ot=>{if(!ue(Ot)&&gn()){const Ln=fn();gc.setEditorTimeout(e,()=>{Ln()})}})},ht=()=>{e.on("keydown",fn=>{if(!ue(fn)&&fn.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const gn=m.getNode().previousSibling;if(gn&&gn.nodeName&&gn.nodeName.toLowerCase()==="table")return fn.preventDefault(),!1}return!0})},dn=()=>{e.on("keydown",fn=>{if(ue(fn)||fn.keyCode!==en.BACKSPACE)return;let gn=m.getRng();const Ot=gn.startContainer,Ln=gn.startOffset,Yn=u.getRoot();let Bo=Ot;if(!(!gn.collapsed||Ln!==0)){for(;Bo.parentNode&&Bo.parentNode.firstChild===Bo&&Bo.parentNode!==Yn;)Bo=Bo.parentNode;Bo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Bo),gn=u.createRng(),gn.setStart(Ot,0),gn.setEnd(Ot,0),m.setRng(gn))}})},yt=()=>{const fn=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),sx(e)||X("enableObjectResizing",!1)};mC(e)||e.on("BeforeExecCommand mousedown",fn)},et=()=>{const fn=()=>{n(u.select("a:not([data-mce-block])"),gn=>{var Ot;let Ln=gn.parentNode;const Yn=u.getRoot();if((Ln==null?void 0:Ln.lastChild)===gn){for(;Ln&&!u.isBlock(Ln);){if(((Ot=Ln.parentNode)===null||Ot===void 0?void 0:Ot.lastChild)!==Ln||Ln===Yn)return;Ln=Ln.parentNode}u.add(Ln,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",gn=>{(gn.type==="setcontent"||gn.command==="mceInsertLink")&&fn()})},ct=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",Sr(e))})},It=fn=>{const gn=fn.getBody(),Ot=fn.selection.getRng();return Ot.startContainer===Ot.endContainer&&Ot.startContainer===gn&&Ot.startOffset===0&&Ot.endOffset===gn.childNodes.length},Ht=()=>{e.on("keyup focusin mouseup",fn=>{!en.modifierPressed(fn)&&!It(e)&&m.normalize()},!0)},on=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Mn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},$n=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",fn=>{let gn;fn.target.nodeName==="HTML"&&(gn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(gn),e.selection.normalize(),e.nodeChanged())}))},Po=()=>{V&&e.on("keydown",fn=>{en.metaKeyPressed(fn)&&!fn.shiftKey&&(fn.keyCode===37||fn.keyCode===39)&&(fn.preventDefault(),e.selection.getSel().modify("move",fn.keyCode===37?"backward":"forward","lineboundary"))})},Wo=()=>{e.on("click",fn=>{let gn=fn.target;do if(gn.tagName==="A"){fn.preventDefault();return}while(gn=gn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ys=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",fn=>{fn.preventDefault()})})},Xa=()=>{b.addNodeFilter("br",fn=>{let gn=fn.length;for(;gn--;)fn[gn].attr("class")==="Apple-interchange-newline"&&fn[gn].remove()})},Li=xt,Rt=()=>{if(!T||e.removed)return!1;const fn=e.selection.getSel();return!fn||!fn.rangeCount||fn.rangeCount===0},rn=()=>{$&&(fe(),Be(),ys(),re(),W&&(Mn(),$n(),Wo())),T&&(Pe(),yt(),on(),Po())},Fo=()=>{e.on("drop",fn=>{var gn;const Ot=(gn=fn.dataTransfer)===null||gn===void 0?void 0:gn.getData("text/html");q(Ot)&&/^<img[^>]*>$/.test(Ot)&&e.dispatch("dragend",new window.DragEvent("dragend",fn))})},Do=()=>{dn(),he(),Oo.windowsPhone||Ht(),$&&(fe(),Be(),ct(),ys(),ht(),Xa(),W?(Mn(),$n(),Wo()):re()),T&&(Re(),Pe(),Ve(),yt(),et(),on(),Po(),ht(),Fo())};return lu(e)?rn():Do(),{refreshContentEditable:Li,isHidden:Rt}},AA=bs.DOM,RY=(e,n)=>{const o=ge.fromDom(e.getBody()),a=ah(Cl(o)),u=ge.fromTag("style");ur(u,"type","text/css"),_r(u,ge.fromText(n)),_r(a,u),e.on("remove",()=>{Uo(u)})},MY=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,D3=e=>ws(e,n=>Ge(n)===!1),N3=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return D3({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:MY(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},R3=e=>{const n=e.options.get;return D3({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},$Y=e=>{const n=e.options.get;return{...N3(e),...R3(e),...D3({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},PY=e=>{const n=v_(N3(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,a)=>{const u=e.dom,m="data-mce-"+a;let b=o.length;for(;b--;){const S=o[b];let T=S.attr(a);if(T&&!S.attr(m)){if(T.indexOf("data:")===0||T.indexOf("blob:")===0)continue;a==="style"?(T=u.serializeStyle(u.parseStyle(T),S.name),T.length||(T=null),S.attr(m,T),S.attr(a,T)):a==="tabindex"?(S.attr(m,T),S.attr(a,null)):S.attr(m,e.convertURL(T,a,S.name))}}}),n.addNodeFilter("script",o=>{let a=o.length;for(;a--;){const u=o[a],m=u.attr("type")||"no/type";m.indexOf("mce-")!==0&&u.attr("type","mce-"+m)}}),LD(e)&&n.addNodeFilter("#cdata",o=>{var a;let u=o.length;for(;u--;){const m=o[u];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((a=m.value)!==null&&a!==void 0?a:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let a=o.length;const u=e.schema.getNonEmptyElements();for(;a--;){const m=o[a];m.isEmpty(u)&&m.getAll("br").length===0&&m.append(new Ol("br",1))}}),n},M3=e=>{const n=gy(e);n&&gc.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},OA=e=>{const n=e.dom.getRoot();!e.inline&&(!zp(e)||e.selection.getStart(!0)===n)&&yi(n).each(o=>{const a=o.getNode(),u=tr(a)?yi(a).getOr(o):o;e.selection.setRng(u.toRange())})},DA=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Kx(e),e.focus(!0),OA(e),e.nodeChanged({initial:!0});const n=MD(e);ie(n)&&n.call(e,e),M3(e)},Wh=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,NA=(e,n,o)=>{const a=[Wh(e).loadAll(n)];return e.inline?a:a.concat([e.ui.styleSheetLoader.loadAll(o)])},Qv=e=>{const n=Wh(e),o=q1(e),a=e.contentCSS,u=()=>{n.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?u():e.on("remove",u)};if(e.contentStyles.length>0){let T="";gt.each(e.contentStyles,$=>{T+=$+`\r
`}),e.dom.addStyle(T)}const b=Promise.all(NA(e,a,o)).then(m).catch(m),S=yD(e);return S&&RY(e,S),b},C7=e=>{const n=e.getDoc(),o=e.getBody();Zx(e),by(e)||(n.body.spellcheck=!1,AA.setAttrib(o,"spellcheck","false")),e.quirks=w7(e),qC(e);const a=_D(e);a!==void 0&&(o.dir=a);const u=hC(e);u&&e.on("BeforeSetContent",m=>{gt.each(u,b=>{m.content=m.content.replace(b,S=>"<!--mce:protected "+escape(S)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},BY=e=>{lu(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},$3=e=>{e.removed!==!0&&(BY(e),DA(e))},P3=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(AA.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const a=e.getBody();a.disabled=!0,e.readonly=mC(e),e._editableRoot=wP(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&AA.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=wM(e),e.schema=_d(R3(e)),e.dom=bs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:gD(e),referrerPolicy:fC(e),onSetAttrib:b=>{e.dispatch("SetAttrib",b)}}),e.parser=PY(e),e.serializer=JL($Y(e),e),e.selection=__(e.dom,e.getWin(),e.serializer,e),e.annotator=zx(e),e.formatter=SM(e),e.undoManager=_5(e),e._nodeChangeDispatcher=new Oq(e),e._selectionOverrides=S3(e),kF(e),BG(e),dne(e),lu(e)||(p3(e),O3(e));const u=Aq(e);AZ(e,u),MZ(e),yj(e),M6(e);const m=BL(e);C7(e),m.fold(()=>{Qv(e).then(()=>$3(e))},b=>{e.setProgressState(!0),Qv(e).then(()=>{b().then(S=>{e.setProgressState(!1),$3(e),zL(e)},S=>{e.notificationManager.open({type:"error",text:String(S)}),$3(e),zL(e)})})})},IY=wt,B3=(e,n,o)=>dp(e,n,IY,o),M_=bs.DOM,t1=(e,n,o,a)=>{const u=ge.fromTag("iframe");return a.each(m=>ur(u,"tabindex",m)),ji(u,o),ji(u,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),wl(u,"tox-edit-area__iframe"),u},e0=e=>{let n=fD(e)+"<html><head>";iC(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=mD(e),a=uc(e),u=e.translate(ND(e));return aC(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+aC(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${u}"><br></body></html>`,n},S7=(e,n)=>{const o=e.translate("Rich Text Area"),a=Kc(ge.fromDom(e.getElement()),"tabindex").bind(vl),u=t1(e.id,o,Qi(e),a).dom;u.onload=()=>{u.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=u,e.iframeHTML=e0(e),M_.add(n.iframeContainer,u)},LY=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,P3(e)};if(bC(e)||Oo.browser.isFirefox()){const a=e.getDoc();a.open(),a.write(e.iframeHTML),a.close(),o()}else{const a=B3(ge.fromDom(n),"load",()=>{a.unbind(),o()});n.srcdoc=e.iframeHTML}},FY=(e,n)=>{S7(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=M_.isHidden(n.editorContainer)),e.getElement().style.display="none",M_.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,LY(e)},E7=bs.DOM,HY=(e,n,o)=>{const a=zb.get(o),u=zb.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=gt.trim(o),a&&gt.inArray(n,o)===-1){if(e.plugins[o])return;try{const m=a(e,u)||{};e.plugins[o]=m,ie(m.init)&&(m.init(e,u),n.push(o))}catch(m){Sf(e,o,m)}}},VY=e=>e.replace(/^\-/,""),zY=e=>{const n=[];Ae(py(e),o=>{HY(e,n,VY(o))})},x7=e=>{const n=gt.trim(uC(e)),o=e.ui.registry.getAll().icons,a={...ak.get("default").icons,...ak.get(n).icons};Mt(a,(u,m)=>{Dn(o,m)||e.ui.registry.addIcon(m,u)})},WY=e=>{const n=dc(e);if(q(n)){const o=Wb.get(n);e.theme=o(e,Wb.urls[n])||{},ie(e.theme.init)&&e.theme.init(e,Wb.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},UY=e=>{const n=fy(e),o=Vb.get(n);e.model=o(e,Vb.urls[n])},jY=e=>{const n=e.theme.renderUI;return n?n():k7(e)},Dne=e=>{const n=e.getElement(),a=dc(e)(e,n);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:n.offsetHeight,a},T7=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),I3=e=>{const n=E7.create("div");return E7.insertAfter(n,e),T7(n,n)},k7=e=>{const n=e.getElement();return e.inline?T7(null):I3(n)},ZY=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,q(dc(e))?jY(e):ie(dc(e))?Dne(e):k7(e)},A7=(e,n)=>{const o={show:Y.from(n.show).getOr(xt),hide:Y.from(n.hide).getOr(xt),isEnabled:Y.from(n.isEnabled).getOr(wt),setEnabled:a=>{e.mode.isReadOnly()||Y.from(n.setEnabled).each(u=>u(a))}};e.ui={...e.ui,...o}},KY=async e=>{e.dispatch("ScriptsLoaded"),x7(e),WY(e),UY(e),zY(e);const n=await ZY(e);A7(e,Y.from(n.api).getOr({})),e.editorContainer=n.editorContainer,aj(e),e.inline?P3(e):FY(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},n1=bs.DOM,O7=e=>e.charAt(0)==="-",L3=(e,n)=>{const o=nx(n),a=bD(n);if(!wd.hasCode(o)&&o!=="en"){const u=Xo(a)?a:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(u).catch(()=>{l5(n,u,o)})}},qY=(e,n)=>{const o=dc(e);if(q(o)&&!O7(o)&&!Dn(Wb.urls,o)){const a=Ks(e),u=a?e.documentBaseURI.toAbsolute(a):`themes/${o}/theme${n}.js`;Wb.load(o,u).catch(()=>{ag(e,u,o)})}},GY=(e,n)=>{const o=fy(e);if(o!=="plugin"&&!Dn(Vb.urls,o)){const a=fc(e),u=q(a)?e.documentBaseURI.toAbsolute(a):`models/${o}/model${n}.js`;Vb.load(o,u).catch(()=>{jb(e,u,o)})}},YY=e=>Y.from(ex(e)).filter(Xo).map(n=>({url:n,name:Y.none()})),D7=(e,n,o)=>Y.from(n).filter(a=>Xo(a)&&!ak.has(a)).map(a=>({url:`${e.editorManager.baseURL}/icons/${a}/icons${o}.js`,name:Y.some(a)})),N7=(e,n,o)=>{const a=D7(n,"default",o),u=YY(n).orThunk(()=>D7(n,uC(n),""));Ae(Pr([a,u]),m=>{e.add(m.url).catch(()=>{c5(n,m.url,m.name.getOrUndefined())})})},F3=(e,n)=>{const o=(a,u)=>{zb.load(a,u).catch(()=>{a5(e,u,a)})};Mt(OD(e),(a,u)=>{o(u,a),e.options.set("plugins",py(e).concat(u))}),Ae(py(e),a=>{a=gt.trim(a),a&&!zb.urls[a]&&!O7(a)&&o(a,`plugins/${a}/plugin${n}.js`)})},R7=e=>{const n=dc(e);return!q(n)||ye(Wb.get(n))},H3=e=>{const n=fy(e);return ye(Vb.get(n))},XY=(e,n)=>{const o=el.ScriptLoader,a=()=>{!e.removed&&R7(e)&&H3(e)&&KY(e)};qY(e,n),GY(e,n),L3(o,e),N7(o,e,n),F3(e,n),o.loadQueue().then(a,a)},Nne=(e,n)=>Os.forElement(e,{contentCssCors:xh(n),referrerPolicy:fC(n)}),Rne=e=>{const n=e.id;wd.setCode(nx(e));const o=()=>{n1.unbind(window,"ready",o),e.render()};if(!Ep.Event.domLoaded){n1.bind(window,"ready",o);return}if(!e.getElement())return;const a=ge.fromDom(e.getElement()),u=zf(a);e.on("remove",()=>{Jt(a.dom.attributes,b=>Go(a,b.name)),ji(a,u)}),e.ui.styleSheetLoader=Nne(a,e),hy(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||n1.getParent(n,"form");m&&(e.formElement=m,ax(e)&&!hp(e.getElement())&&(n1.insertAfter(n1.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=b=>{e.dispatch(b.type,b)},n1.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),xD(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=Uv(e),e.notificationManager=fk(e),zD(e)&&e.on("GetContent",b=>{b.save&&(b.content=n1.encode(b.content))}),TD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),kD(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),XY(e,e.suffix)},JY=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),Wy(e,n))},M7=e=>e._editableRoot,QY=(e,n)=>({sections:ot(e),options:ot(n)}),$7=Cs().deviceType,P7=$7.isPhone(),Mne=$7.isTablet(),RA=e=>{if(Ue(e))return[];{const n=We(e)?e:e.split(/[ ,]/),o=Ye(n,gl);return st(o,Xo)}},B7=(e,n)=>{const o=Fc(n,(a,u)=>je(e,u));return QY(o.t,o.f)},I7=(e,n,o={})=>{const a=e.sections(),u=cs(a,n).getOr({});return gt.extend({},o,u)},V3=(e,n)=>Dn(e.sections(),n),eX=(e,n)=>V3(e,n)?e.sections()[n]:{},tX=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:cs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),$ne=(e,n)=>{var o;const a=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?gt.extend({},e.external_plugins,a):a},Pne=(e,n)=>[...RA(e),...RA(n)],Bne=(e,n,o,a)=>e&&V3(n,"mobile")?a:o,nX=(e,n,o,a)=>{const u=RA(o.forced_plugins),m=RA(a.plugins),b=eX(n,"mobile"),S=b.plugins?RA(b.plugins):m,T=Bne(e,n,m,S),$=Pne(u,T);return gt.extend(a,{forced_plugins:u,plugins:$})},Ine=(e,n)=>e&&V3(n,"mobile"),oX=(e,n,o,a,u)=>{var m;const b=e?{mobile:tX((m=u.mobile)!==null&&m!==void 0?m:{},n)}:{},S=B7(["mobile"],pE(b,u)),T=gt.extend(o,a,S.options(),Ine(e,S)?I7(S,"mobile"):{},{external_plugins:$ne(a,S.options())});return nX(e,S,a,T)},t0=(e,n)=>oX(P7||Mne,P7,n,e,n),z3=(e,n)=>PU(e,n),MA=e=>{const n=(a,u)=>{e.formatter.toggle(a,u),e.nodeChanged()},o=a=>()=>{Ae("left,center,right,justify".split(","),u=>{a!==u&&e.formatter.remove("align"+u)}),a!=="none"&&n("align"+a)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},L7=e=>{const n=o=>()=>{const a=e.selection,u=a.isCollapsed()?[e.dom.getParent(a.getNode(),e.dom.isBlock)]:a.getSelectedBlocks();return pt(u,m=>ye(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},F7=e=>{MA(e),L7(e)},H7=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let a;try{o.execCommand(n)}catch{a=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(a=!0),a||!o.queryCommandSupported(n)){let u=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Oo.os.isMacOS()||Oo.os.isiOS())&&(u=u.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:u,type:"error"})}}})},sX=(e,n,o)=>{const a=ge.fromDom(e.getRoot());return hS(a,Je.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Tv(a,Je.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},rX=e=>{if(typeof e!="string"){const n=gt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},iX=(e,n)=>{const o=e.selection,a=e.dom;return/^ | $/.test(n)?sX(a,o.getRng(),n):n},$A=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:a}=rX(n);YR(e,{...a,content:iX(e,o),format:"html",set:!1,selection:!0}).each(u=>{const m=MU(e,u.content,a);XR(e,m,u),e.addVisual()})}},o1=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,a)=>{$A(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,a)=>{$A(e,e.dom.encode(a))},insertHTML:(n,o,a)=>{$A(e,a)},mceInsertContent:(n,o,a)=>{$A(e,a)},mceSetContent:(n,o,a)=>{e.setContent(a)},mceReplaceContent:(n,o,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(lm(e))}})},aX={"font-size":"size","font-family":"face"},V7=Ul("font"),cX=(e,n,o)=>{const a=m=>Fa(m,e).orThunk(()=>V7(m)?cs(aX,e).bind(b=>Kc(m,b)):Y.none()),u=m=>Jo(ge.fromDom(n),m);return bR(ge.fromDom(o),m=>a(m),u)},PA=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),lX=(e,n)=>Y.from(bs.DOM.getStyle(n,e,!0)),z7=e=>(n,o)=>Y.from(o).map(ge.fromDom).filter(gs).bind(a=>cX(e,n,a.dom).or(lX(e,a.dom))).getOr(""),uX=z7("font-size"),W7=I(PA,z7("font-family")),dX=e=>yi(e.getBody()).bind(n=>{const o=n.container();return Y.from(Et(o)?o.parentNode:o)}),fX=e=>Y.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?Y.none():Y.from(e.selection.getStart(!0))}),mX=(e,n)=>fX(e).orThunk(lt(dX,e)).map(ge.fromDom).filter(gs).bind(n),ME=(e,n)=>mX(e,ln(Y.some,n)),U7=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const a=HD(e),u=VD(e);return u.length>0?u[o-1]||n:a[o-1]||n}else return n}else return n},hX=e=>{const n=e.split(/\s*,\s*/);return Ye(n,o=>o.indexOf(" ")!==-1&&!(us(o,'"')||us(o,"'"))?`'${o}'`:o).join(",")},Ii=(e,n)=>{const o=U7(e,n);e.formatter.toggle("fontname",{value:hX(o)}),e.nodeChanged()},pX=e=>ME(e,n=>W7(e.getBody(),n.dom)).getOr(""),gX=(e,n)=>{e.formatter.toggle("fontsize",{value:U7(e,n)}),e.nodeChanged()},W3=e=>ME(e,n=>uX(e.getBody(),n.dom)).getOr(""),j7=e=>ME(e,n=>{const o=ge.fromDom(e.getBody()),a=bR(n,m=>Fa(m,"line-height"),lt(Jo,o)),u=()=>{const m=parseFloat(jr(n,"line-height")),b=parseFloat(jr(n,"font-size"));return String(m/b)};return a.getOrThunk(u)}).getOr(""),U3=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},bX=e=>{const n=(o,a)=>{e.formatter.toggle(o,a),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,a,u)=>{n(o,{value:u})},BackColor:(o,a,u)=>{n("hilitecolor",{value:u})},FontName:(o,a,u)=>{Ii(e,u)},FontSize:(o,a,u)=>{gX(e,u)},LineHeight:(o,a,u)=>{U3(e,u)},Lang:(o,a,u)=>{var m;n(o,{value:u.code,customValue:(m=u.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,a,u)=>{n(q(u)?u:"p")},mceToggleFormat:(o,a,u)=>{n(u)}})},vX=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>pX(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>W3(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>j7(e))},yX=e=>{bX(e),vX(e)},_X=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},wX=e=>{e.editorCommands.addCommands({Indent:()=>{TZ(e)},Outdent:()=>{SF(e)}}),e.editorCommands.addCommands({Outdent:()=>n4(e)},"state")},CX=e=>{const n=(o,a,u)=>{const m=q(u)?{href:u}:u,b=e.dom.getParent(e.selection.getNode(),"a");ke(m)&&q(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!b||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,b))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},SX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const a=o.parentNode;if(a&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(a.nodeName)){const u=e.selection.getBookmark();e.dom.split(a,o),e.selection.moveToBookmark(u)}}}})},EX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},$_=e=>{SX(e),EX(e)},$m=e=>{e.editorCommands.addCommands({insertParagraph:()=>{aA(uq,e)},mceInsertNewLine:(n,o,a)=>{cA(e,a)},InsertLineBreak:(n,o,a)=>{aA(UH,e)}})},xX=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,a)=>{let u=0;e.dom.getParent(e.selection.getNode(),m=>qt(m)&&u++===a?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(n,o,a)=>{e.selection.select(a)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),as);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},TX=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,a)=>{const u=a??e.selection.getNode();if(u!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(u,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,a)=>{Lz(e,a===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},kX=e=>{F7(e),H7(e),_X(e),xX(e),o1(e),CX(e),wX(e),$m(e),$_(e),yX(e),TX(e)},AX=["toggleview"],Z7=e=>je(AX,e.toLowerCase());class K7{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,a,u){const m=this.editor,b=n.toLowerCase(),S=u==null?void 0:u.skip_focus;if(m.removed||(b!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(b)&&!S?m.focus():iT(m)),m.dispatch("BeforeExecCommand",{command:n,ui:o,value:a}).isDefaultPrevented()))return!1;const $=this.commands.exec[b];return ie($)?($(b,o,a),m.dispatch("ExecCommand",{command:n,ui:o,value:a}),!0):!1}queryCommandState(n){if(!Z7(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),a=this.commands.state[o];return ie(a)?a(o):!1}queryCommandValue(n){if(!Z7(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),a=this.commands.value[o];return ie(a)?a(o):""}addCommands(n,o="exec"){const a=this.commands;Mt(n,(u,m)=>{Ae(m.toLowerCase().split(","),b=>{a[o][b]=u})})}addCommand(n,o,a){const u=n.toLowerCase();this.commands.exec[u]=(m,b,S)=>o.call(a??this.editor,b,S)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,a){this.commands.state[n.toLowerCase()]=()=>o.call(a??this.editor)}addQueryValueHandler(n,o,a){this.commands.value[n.toLowerCase()]=()=>o.call(a??this.editor)}}const n0="data-mce-contenteditable",OX=(e,n,o)=>{Wf(e,n)&&!o?qc(e,n):o&&wl(e,n)},j3=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},Z3=(e,n)=>{e.dom.contentEditable=n?"true":"false"},DX=e=>{Ae(Ri(e,'*[contenteditable="true"]'),n=>{ur(n,n0,"true"),Z3(n,!1)})},NX=e=>{Ae(Ri(e,`*[${n0}="true"]`),n=>{Go(n,n0),Z3(n,!0)})},RX=e=>{Y.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},MX=e=>{e.selection.setRng(e.selection.getRng())},$X=(e,n)=>{const o=ge.fromDom(e.getBody());OX(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),RX(e),e.readonly=!0,Z3(o,!1),DX(o)):(e.readonly=!1,e.hasEditableRoot()&&Z3(o,!0),NX(o),j3(e,"StyleWithCSS",!1),j3(e,"enableInlineTableEditing",!1),j3(e,"enableObjectResizing",!1),Bz(e)&&e.focus(),MX(e),e.nodeChanged())},o0=e=>e.readonly,PX=e=>{e.parser.addAttributeFilter("contenteditable",n=>{o0(e)&&Ae(n,o=>{o.attr(n0,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(n0,n=>{o0(e)&&Ae(n,o=>{o.attr("contenteditable",o.attr(n0))})}),e.serializer.addTempAttr(n0)},BX=e=>{e.serializer?PX(e):e.on("PreInit",()=>{PX(e)})},IX=e=>e.type==="click",LX=["copy"],FX=e=>je(LX,e.type),HX=(e,n)=>jn(n,"a",a=>Jo(a,ge.fromDom(e.getBody()))).bind(a=>Kc(a,"href")),VX=(e,n)=>{if(IX(n)&&!en.metaKeyPressed(n)){const o=ge.fromDom(n.target);HX(e,o).each(a=>{if(n.preventDefault(),/^#/.test(a)){const u=e.dom.select(`${a},[name="${od(a,"#")}"]`);u.length&&e.selection.scrollIntoView(u[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else FX(n)&&e.dispatch(n.type,n)},zX=e=>{e.on("ShowCaret",n=>{o0(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{o0(e)&&n.preventDefault()})},WX=gt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class K3{static isNative(n){return!!WX[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||at}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const a=n.toLowerCase(),u=V0(a,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(u);const m=this.bindings[a];if(m)for(let b=0,S=m.length;b<S;b++){const T=m[b];if(!T.removed){if(T.once&&this.off(a,T.func),u.isImmediatePropagationStopped())return u;if(T.func.call(this.scope,u)===!1)return u.preventDefault(),u}}return u}on(n,o,a,u){if(o===!1&&(o=at),o){const m={func:o,removed:!1};u&&gt.extend(m,u);const b=n.toLowerCase().split(" ");let S=b.length;for(;S--;){const T=b[S];let $=this.bindings[T];$||($=[],this.toggleEvent(T,!0)),a?$=[m,...$]:$=[...$,m],this.bindings[T]=$}}return this}off(n,o){if(n){const a=n.toLowerCase().split(" ");let u=a.length;for(;u--;){const m=a[u];let b=this.bindings[m];if(!m)return Mt(this.bindings,(S,T)=>{this.toggleEvent(T,!1),delete this.bindings[T]}),this;if(b){if(!o)b.length=0;else{const S=Wt(b,T=>T.func===o);b=S.fail,this.bindings[m]=b,Ae(S.pass,T=>{T.removed=!0})}b.length||(this.toggleEvent(n,!1),delete this.bindings[m])}}}else Mt(this.bindings,(a,u)=>{this.toggleEvent(u,!1)}),this.bindings={};return this}once(n,o,a){return this.on(n,o,a,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const $E=e=>(e._eventDispatcher||(e._eventDispatcher=new K3({scope:e,toggleEvent:(n,o)=>{K3.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),q3={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const a=this;if(a.removed&&e!=="remove"&&e!=="detach")return V0(e.toLowerCase(),n??{},a);const u=$E(a).dispatch(e,n);if(o!==!1&&a.parent){let m=a.parent();for(;m&&!u.isPropagationStopped();)m.dispatch(e,u,!1),m=m.parent?m.parent():void 0}return u},on(e,n,o){return $E(this).on(e,n,o)},off(e,n){return $E(this).off(e,n)},once(e,n){return $E(this).once(e,n)},hasEventListeners(e){return $E(this).has(e)}},BA=bs.DOM;let s0;const IA=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=G1(e);return o?(e.eventRoot||(e.eventRoot=BA.select(o)[0]),e.eventRoot):e.getBody()},UX=e=>!e.hidden&&!o0(e),q7=(e,n,o)=>{UX(e)?e.dispatch(n,o):o0(e)&&VX(e,o)},G3=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=IA(e,n);if(G1(e)){if(s0||(s0={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||s0&&(Mt(s0,(u,m)=>{e.dom.unbind(IA(e,m))}),s0=null)})),s0[n])return;const a=u=>{const m=u.target,b=e.editorManager.get();let S=b.length;for(;S--;){const T=b[S].getBody();(T===m||BA.isChildOf(m,T))&&q7(b[S],n,u)}};s0[n]=a,BA.bind(o,n,a)}else{const a=u=>{q7(e,n,u)};BA.bind(o,n,a),e.delegates[n]=a}},G7={...q3,bindPendingEventDelegates(){const e=this;gt.each(e._pendingNativeEvents,n=>{G3(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?G3(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(IA(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Mt(e.delegates,(a,u)=>{e.dom.unbind(IA(e,u),u,a)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},jX=e=>q(e)?{value:e.split(/[ ,]/),valid:!0}:vt(e,q)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},ZX=e=>{const n=(()=>{switch(e){case"array":return We;case"boolean":return Te;case"function":return ie;case"number":return Tt;case"object":return ke;case"string":return q;case"string[]":return jX;case"object[]":return o=>vt(o,ke);case"regexp":return o=>ce(o,RegExp);default:return wt}})();return o=>Y3(o,n,`The value must be a ${e}.`)},KX=e=>q(e.processor),Y7=(e,n)=>{const o=ki(n.message)?"":`. ${n.message}`;return e+o},X7=e=>e.valid,Y3=(e,n,o="")=>{const a=n(e);return Te(a)?a?{value:e,valid:!0}:{valid:!1,message:o}:a},qX=(e,n,o)=>{if(!Ge(n)){const a=Y3(n,o);if(X7(a))return a.value;console.error(Y7(`Invalid default value passed for the "${e}" option`,a))}},J7=(e,n)=>{const o={},a={},u=(V,X,ue)=>{const he=Y3(X,ue);return X7(he)?(a[V]=he.value,!0):(console.warn(Y7(`Invalid value passed for the ${V} option`,he)),!1)},m=(V,X)=>{const ue=KX(X)?ZX(X.processor):X.processor,he=qX(V,X.default,ue);o[V]={...X,default:he,processor:ue},cs(a,V).orThunk(()=>cs(n,V)).each(fe=>u(V,fe,ue))},b=V=>Dn(o,V);return{register:m,isRegistered:b,get:V=>cs(a,V).orThunk(()=>cs(o,V).map(X=>X.default)).getOrUndefined(),set:(V,X)=>{if(b(V)){const ue=o[V];return ue.immutable?(console.error(`"${V}" is an immutable option and cannot be updated`),!1):u(V,X,ue.processor)}else return console.warn(`"${V}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:V=>{const X=b(V);return X&&delete a[V],X},isSet:V=>Dn(a,V)}},GX=["design","readonly"],Q7=(e,n,o,a)=>{const u=o[n.get()],m=o[a];try{m.activate()}catch(b){console.error(`problem while activating editor mode ${a}:`,b);return}u.deactivate(),u.editorReadOnly!==m.editorReadOnly&&$X(e,m.editorReadOnly),n.set(a),Nh(e,a)},YX=(e,n,o,a)=>{if(a!==o.get()){if(!Dn(n,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?Q7(e,o,n,a):e.on("init",()=>Q7(e,o,n,a))}},XX=(e,n,o)=>{if(je(GX,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(a){console.error(`problem while deactivating editor mode ${n}:`,a)}}}}},JX=e=>{const n=pi("design"),o=pi({design:{activate:xt,deactivate:xt,editorReadOnly:!1},readonly:{activate:xt,deactivate:xt,editorReadOnly:!0}});return BX(e),zX(e),{isReadOnly:()=>o0(e),set:a=>YX(e,o.get(),n,a),get:()=>n.get(),register:(a,u)=>{o.set(XX(o.get(),a,u))}}},X3=gt.each,J3=gt.explode,QX={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Q3=gt.makeMap("alt,ctrl,shift,meta,access"),Lne=e=>e in Q3,e8=e=>{const n={},o=Oo.os.isMacOS()||Oo.os.isiOS();X3(J3(e.toLowerCase(),"+"),m=>{Lne(m)?n[m]=!0:/^[0-9]{2,}$/.test(m)?n.keyCode=parseInt(m,10):(n.charCode=m.charCodeAt(0),n.keyCode=QX[m]||m.toUpperCase().charCodeAt(0))});const a=[n.keyCode];let u;for(u in Q3)n[u]?a.push(u):n[u]=!1;return n.id=a.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class t8{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",a=>{(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(X3(o.shortcuts,u=>{o.matchShortcut(a,u)&&(o.pendingPatterns=u.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(u))}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,a,u){const m=this,b=m.normalizeCommandFunc(a);return X3(J3(gt.trim(n)),S=>{const T=m.createShortcut(S,o,b,u);m.shortcuts[T.id]=T}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,a=n;return typeof a=="string"?()=>{o.editor.execCommand(a,!1,null)}:gt.isArray(a)?()=>{o.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(n,o,a,u){const m=gt.map(J3(n,">"),e8);return m[m.length-1]=gt.extend(m[m.length-1],{func:a,scope:u||this.editor}),gt.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const n8=()=>{const e={},n={},o={},a={},u={},m={},b={},S={},T=(W,V)=>(X,ue)=>{W[X.toLowerCase()]={...ue,type:V}},$=(W,V)=>a[W.toLowerCase()]=V;return{addButton:T(e,"button"),addGroupToolbarButton:T(e,"grouptoolbarbutton"),addToggleButton:T(e,"togglebutton"),addMenuButton:T(e,"menubutton"),addSplitButton:T(e,"splitbutton"),addMenuItem:T(n,"menuitem"),addNestedMenuItem:T(n,"nestedmenuitem"),addToggleMenuItem:T(n,"togglemenuitem"),addAutocompleter:T(o,"autocompleter"),addContextMenu:T(u,"contextmenu"),addContextToolbar:T(m,"contexttoolbar"),addContextForm:T(m,"contextform"),addSidebar:T(b,"sidebar"),addView:T(S,"views"),addIcon:$,getAll:()=>({buttons:e,menuItems:n,icons:a,popups:o,contextMenus:u,contextToolbars:m,sidebars:b,views:S})}},eJ=()=>{const e=n8();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},r0=bs.DOM,o8=gt.extend,tJ=gt.each;class LA{constructor(n,o,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,o8(this,G7);const u=this;this.id=n,this.hidden=!1;const m=t0(a.defaultOptions,o);this.options=J7(u,m),dD(u);const b=this.options.get;b("deprecation_warnings")&&XU(o,m);const S=b("suffix");S&&(a.suffix=S),this.suffix=a.suffix;const T=b("base_url");T&&a._setBaseUrl(T),this.baseUri=a.baseURI;const $=fC(u);$&&(el.ScriptLoader._setReferrerPolicy($),bs.DOM.styleSheetLoader._setReferrerPolicy($));const W=xh(u);ye(W)&&bs.DOM.styleSheetLoader._setContentCssCors(W),zo.languageLoad=b("language_load"),zo.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new Em(iC(u),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=hy(u),this.hasVisual=DD(u),this.shortcuts=new t8(this),this.editorCommands=new K7(this),kX(this);const V=b("cache_suffix");V&&(Oo.cacheSuffix=V.replace(/^[\?\&]+/,"")),this.ui={registry:eJ(),styleSheetLoader:void 0,show:xt,hide:xt,setEnabled:xt,isEnabled:wt},this.mode=JX(u),a.dispatch("SetupEditor",{editor:this});const X=RD(u);ie(X)&&X.call(u,u)}render(){Rne(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return xv(this)}translate(n){return wd.translate(n)}getParam(n,o,a){const u=this.options;return u.isRegistered(n)||(ye(a)?u.register(n,{processor:a,default:o}):u.register(n,{processor:wt,default:o})),!u.isSet(n)&&!Ge(o)?o:u.get(n)}hasPlugin(n,o){return je(py(this),n)?o?zb.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,a){this.editorCommands.addCommand(n,o,a)}addQueryStateHandler(n,o,a){this.editorCommands.addQueryStateHandler(n,o,a)}addQueryValueHandler(n,o,a){this.editorCommands.addQueryValueHandler(n,o,a)}addShortcut(n,o,a,u){this.shortcuts.add(n,o,a,u)}execCommand(n,o,a,u){return this.editorCommands.execCommand(n,o,a,u)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(r0.show(n.getContainer()),r0.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(r0.hide(n.getContainer()),r0.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,a=o.getElement();if(o.removed)return"";if(a){const u={...n,load:!0},m=hp(a)?a.value:a.innerHTML,b=o.setContent(m,u);return u.no_events||o.dispatch("LoadContent",{...u,element:a}),b}else return""}save(n={}){const o=this;let a=o.getElement();if(!a||!o.initialized||o.removed)return"";const u={...n,save:!0,element:a};let m=o.getContent(u);const b={...u,content:m};if(b.no_events||o.dispatch("SaveContent",b),b.format==="raw"&&o.dispatch("RawSaveContent",b),m=b.content,hp(a))a.value=m;else{(n.is_removing||!o.inline)&&(a.innerHTML=m);const S=r0.getParent(o.id,"form");S&&tJ(S.elements,T=>T.name===o.id?(T.value=m,!1):!0)}return b.element=u.element=a=null,b.set_dirty!==!1&&o.setDirty(!1),m}setContent(n,o){return QL(this,n,o)}getContent(n){return WU(this,n)}insertContent(n,o){o&&(n=o8({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?QL(this,this.startContent,{format:"raw"}):QL(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||r0.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=r0.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const a=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:a==null?void 0:a.body)!==null&&o!==void 0?o:null}convertURL(n,o,a){const u=this,m=u.options.get,b=cm(u);return ie(b)?b.call(u,n,a,!0,o):!m("convert_urls")||a==="link"||ke(a)&&a.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:m("relative_urls")?u.documentBaseURI.toRelative(n):(n=u.documentBaseURI.toAbsolute(n,m("remove_script_host")),n)}addVisual(n){z3(this,n)}setEditableRoot(n){JY(this,n)}hasEditableRoot(){return M7(this)}remove(){tj(this)}destroy(n){nne(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const P_=bs.DOM,B_=gt.each;let FA=!1,HA,cl=[];const VA=e=>{const n=e.type;B_(s1.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},s8=e=>{if(e!==FA){const n=bs.DOM;e?(n.bind(window,"resize",VA),n.bind(window,"scroll",VA)):(n.unbind(window,"resize",VA),n.unbind(window,"scroll",VA)),FA=e}},r8=e=>{const n=cl;return cl=st(cl,o=>e!==o),s1.activeEditor===e&&(s1.activeEditor=cl.length>0?cl[0]:null),s1.focusedEditor===e&&(s1.focusedEditor=null),n.length!==cl.length},nJ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(r8(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},oJ=document.compatMode!=="CSS1Compat",s1={...q3,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"6.2",releaseDate:"2023-08-09",i18n:wd,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",a=Em.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const u=window.tinymce||window.tinyMCEPreInit;if(u)n=u.base||u.baseURL,o=u.suffix;else{const m=document.getElementsByTagName("script");for(let b=0;b<m.length;b++){const S=m[b].src||"";if(S==="")continue;const T=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){T.indexOf(".min")!==-1&&(o=".min"),n=S.substring(0,S.lastIndexOf("/"));break}}if(!n&&document.currentScript){const b=document.currentScript.src;b.indexOf(".min")!==-1&&(o=".min"),n=b.substring(0,b.lastIndexOf("/"))}}e.baseURL=new Em(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new Em(e.baseURL),e.suffix=o,Nz(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const a=e.plugin_base_urls;a!==void 0&&Mt(a,(u,m)=>{zo.PluginManager.urls[m]=u})},init(e){const n=this;let o;const a=gt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),u=(W,V)=>W.inline&&V.tagName.toLowerCase()in a,m=W=>{let V=W.id;return V||(V=cs(W,"name").filter(X=>!P_.get(X)).getOrThunk(P_.uniqueId),W.setAttribute("id",V)),V},b=W=>{const V=e[W];if(V)return V.apply(n,[])},S=W=>Oo.browser.isIE()||Oo.browser.isEdge()?(mk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):oJ?(mk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):q(W.selector)?P_.select(W.selector):ye(W.target)?[W.target]:[];let T=W=>{o=W};const $=()=>{let W=0;const V=[];let X;const ue=(he,re,fe)=>{const Re=new LA(he,re,n);V.push(Re),Re.on("init",()=>{++W===X.length&&T(V)}),Re.targetElm=Re.targetElm||fe,Re.render()};P_.unbind(window,"ready",$),b("onpageload"),X=Fl(S(e)),gt.each(X,he=>{nJ(n.get(he.id))}),X=gt.grep(X,he=>!n.get(he.id)),X.length===0?T([]):B_(X,he=>{u(e,he)?mk("Could not initialize inline editor on invalid inline target element",he):ue(m(he),e,he)})};return P_.bind(window,"ready",$),new Promise(W=>{o?W(o):T=V=>{W(V)}})},get(e){return arguments.length===0?cl.slice(0):q(e)?nn(cl,n=>n.id===e).getOr(null):Tt(e)&&cl[e]?cl[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&cl.push(e),s8(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),HA||(HA=a=>{const u=n.dispatch("BeforeUnload");if(u.returnValue)return a.preventDefault(),a.returnValue=u.returnValue,u.returnValue},window.addEventListener("beforeunload",HA))),e},createEditor(e,n){return this.add(new LA(e,n,this))},remove(e){const n=this;let o;if(!e){for(let a=cl.length-1;a>=0;a--)n.remove(cl[a]);return}if(q(e)){B_(P_.select(e),a=>{o=n.get(a.id),o&&n.remove(o)});return}return o=e,J(n.get(o.id))?null:(r8(o)&&n.dispatch("RemoveEditor",{editor:o}),cl.length===0&&window.removeEventListener("beforeunload",HA),o.remove(),s8(cl.length>0),o)},execCommand(e,n,o){var a;const u=this,m=ke(o)?(a=o.id)!==null&&a!==void 0?a:o.index:o;switch(e){case"mceAddEditor":{if(!u.get(m)){const b=o.options;new LA(m,b,u).render()}return!0}case"mceRemoveEditor":{const b=u.get(m);return b&&b.remove(),!0}case"mceToggleEditor":{const b=u.get(m);return b?(b.isHidden()?b.show():b.hide(),!0):(u.execCommand("mceAddEditor",!1,o),!0)}}return u.activeEditor?u.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{B_(cl,e=>{e.save()})},addI18n:(e,n)=>{wd.add(e,n)},translate:e=>wd.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Em(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Em(this.baseURL)}};s1.setup();const sJ=(()=>{const e=Ji(),n=m=>({items:m,types:Hs(m),getType:b=>cs(m,b).getOrUndefined()}),o=m=>{e.set(m)},a=()=>e.get().getOrUndefined(),u=e.clear;return{FakeClipboardItem:n,write:o,read:a,clear:u}})(),i8=Math.min,I_=Math.max,L_=Math.round,a8=(e,n,o)=>{let a=n.x,u=n.y;const m=e.w,b=e.h,S=n.w,T=n.h,$=(o||"").split("");return $[0]==="b"&&(u+=T),$[1]==="r"&&(a+=S),$[0]==="c"&&(u+=L_(T/2)),$[1]==="c"&&(a+=L_(S/2)),$[3]==="b"&&(u-=b),$[4]==="r"&&(a-=m),$[3]==="c"&&(u-=L_(b/2)),$[4]==="c"&&(a-=L_(m/2)),i0(a,u,m,b)},rJ=(e,n,o,a)=>{for(let u=0;u<a.length;u++){const m=a8(e,n,a[u]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return a[u]}return null},iJ=(e,n,o)=>i0(e.x-n,e.y-o,e.w+n*2,e.h+o*2),aJ=(e,n)=>{const o=I_(e.x,n.x),a=I_(e.y,n.y),u=i8(e.x+e.w,n.x+n.w),m=i8(e.y+e.h,n.y+n.h);return u-o<0||m-a<0?null:i0(o,a,u-o,m-a)},cJ=(e,n,o)=>{let a=e.x,u=e.y,m=e.x+e.w,b=e.y+e.h;const S=n.x+n.w,T=n.y+n.h,$=I_(0,n.x-a),W=I_(0,n.y-u),V=I_(0,m-S),X=I_(0,b-T);return a+=$,u+=W,o&&(m+=$,b+=W,a-=V,u-=X),m-=V,b-=X,i0(a,u,m-a,b-u)},i0=(e,n,o,a)=>({x:e,y:n,w:o,h:a}),Hne={inflate:iJ,relativePosition:a8,findBestRelativePosition:rJ,intersect:aJ,clamp:cJ,create:i0,fromClientRect:e=>i0(e.left,e.top,e.width,e.height)},lJ=(e,n,o=1e3)=>{let a=!1,u=null;const m=$=>(...W)=>{a||(a=!0,u!==null&&(clearTimeout(u),u=null),$.apply(null,W))},b=m(e),S=m(n);return{start:(...$)=>{!a&&u===null&&(u=setTimeout(()=>S.apply(null,$),o))},resolve:b,reject:S}},uJ=(()=>{const e={},n={};return{load:(m,b)=>{const S=`Script at URL "${b}" failed to load`,T=`Script at URL "${b}" did not call \`tinymce.Resource.add('${m}', data)\` within 1 second`;if(e[m]!==void 0)return e[m];{const $=new Promise((W,V)=>{const X=lJ(W,V);n[m]=X.resolve,el.ScriptLoader.loadScript(b).then(()=>X.start(T),()=>X.reject(S))});return e[m]=$,$}},add:(m,b)=>{n[m]!==void 0&&(n[m](b),delete n[m]),e[m]=Promise.resolve(b)},unload:m=>{delete e[m]}}})(),dJ=()=>(()=>{let e={},n=[];const o={getItem:a=>{const u=e[a];return u||null},setItem:(a,u)=>{n.push(a),e[a]=String(u)},key:a=>n[a],removeItem:a=>{n=n.filter(u=>u===a),delete e[a]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let zA;try{const e="__storage_test__";zA=window.localStorage,zA.setItem(e,e),zA.removeItem(e)}catch{zA=dJ()}var fJ=zA;const qu={geom:{Rect:Hne},util:{Delay:gc,Tools:gt,VK:en,URI:Em,EventDispatcher:K3,Observable:q3,I18n:wd,LocalStorage:fJ,ImageUploader:mj},dom:{EventUtils:Ep,TreeWalker:Ir,TextSeeker:wh,DOMUtils:bs,ScriptLoader:el,RangeUtils:go,Serializer:JL,StyleSheetLoader:Rw,ControlSelection:Yx,BookmarkManager:jp,Selection:__,Event:Ep.Event},html:{Styles:Bw,Entities:em,Node:Ol,Schema:_d,DomParser:v_,Writer:mT,Serializer:Rb},Env:Oo,AddOnManager:zo,Annotator:zx,Formatter:SM,UndoManager:_5,EditorCommands:K7,WindowManager:Uv,NotificationManager:fk,EditorObservable:G7,Shortcuts:t8,Editor:LA,FocusManager:aT,EditorManager:s1,DOM:bs.DOM,ScriptLoader:el.ScriptLoader,PluginManager:zb,ThemeManager:Wb,ModelManager:Vb,IconManager:ak,Resource:uJ,FakeClipboard:sJ,trim:gt.trim,isArray:gt.isArray,is:gt.is,toArray:gt.toArray,makeMap:gt.makeMap,each:gt.each,map:gt.map,grep:gt.grep,inArray:gt.inArray,extend:gt.extend,walk:gt.walk,resolve:gt.resolve,explode:gt.explode,_addCacheSuffix:gt._addCacheSuffix},e$=gt.extend(s1,qu),mJ=e=>{try{i.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(e$),mJ(e$)})()})(Gge);(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(A,R)=>{A.focus(),A.undoManager.transact(()=>{A.setContent(R)}),A.selection.setCursorLocation(),A.nodeChanged()},l=A=>A.getContent({source_view:!0}),h=A=>{const R=l(A);A.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:R},onSubmit:H=>{r(A,H.getData().code),H.close()}})},y=A=>{A.addCommand("mceCodeEditor",()=>{h(A)})},w=A=>{const R=()=>A.execCommand("mceCodeEditor");A.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:R}),A.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:R})};var E=()=>{i.add("code",A=>(y(A),w(A),{}))};E()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(O,M,G)=>{var se;return G(O,M.prototype)?!0:((se=O.constructor)===null||se===void 0?void 0:se.name)===M.name},l=O=>{const M=typeof O;return O===null?"null":M==="object"&&Array.isArray(O)?"array":M==="object"&&r(O,String,(G,se)=>se.isPrototypeOf(G))?"string":M},h=O=>M=>l(M)===O,y=O=>M=>typeof M===O,w=O=>M=>O===M,E=h("string"),A=h("array"),R=y("boolean"),H=w(void 0),j=O=>O==null,Q=O=>!j(O),le=y("function"),pe=y("number"),me=()=>{},ve=(O,M)=>G=>O(M(G)),Ee=O=>()=>O,Me=O=>O,ce=(O,M)=>O===M;function q(O,...M){return(...G)=>{const se=M.concat(G);return O.apply(null,se)}}const ke=O=>{O()},ze=Ee(!1),We=Ee(!0);class J{constructor(M,G){this.tag=M,this.value=G}static some(M){return new J(!0,M)}static none(){return J.singletonNone}fold(M,G){return this.tag?G(this.value):M()}isSome(){return this.tag}isNone(){return!this.tag}map(M){return this.tag?J.some(M(this.value)):J.none()}bind(M){return this.tag?M(this.value):J.none()}exists(M){return this.tag&&M(this.value)}forall(M){return!this.tag||M(this.value)}filter(M){return!this.tag||M(this.value)?this:J.none()}getOr(M){return this.tag?this.value:M}or(M){return this.tag?this:M}getOrThunk(M){return this.tag?this.value:M()}orThunk(M){return this.tag?this:M()}getOrDie(M){if(this.tag)return this.value;throw new Error(M??"Called getOrDie on None")}static from(M){return Q(M)?J.some(M):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(M){this.tag&&M(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const Te=Object.keys,Ge=Object.hasOwnProperty,Ue=(O,M)=>{const G=Te(O);for(let se=0,xe=G.length;se<xe;se++){const nt=G[se],St=O[nt];M(St,nt)}},ye=O=>(M,G)=>{O[G]=M},ie=(O,M,G,se)=>{Ue(O,(xe,nt)=>{(M(xe,nt)?G:se)(xe,nt)})},Tt=(O,M)=>{const G={};return ie(O,M,ye(G),me),G},vt=(O,M)=>{const G=[];return Ue(O,(se,xe)=>{G.push(M(se,xe))}),G},xt=O=>vt(O,Me),I=O=>Te(O).length,ln=(O,M)=>ot(O,M)?J.from(O[M]):J.none(),ot=(O,M)=>Ge.call(O,M),Xn=(O,M)=>ot(O,M)&&O[M]!==void 0&&O[M]!==null,hn=O=>{for(const M in O)if(Ge.call(O,M))return!1;return!0},lt=Array.prototype.indexOf,mo=Array.prototype.push,ks=(O,M)=>lt.call(O,M),so=(O,M)=>ks(O,M)>-1,Mo=(O,M)=>{for(let G=0,se=O.length;G<se;G++){const xe=O[G];if(M(xe,G))return!0}return!1},at=(O,M)=>{const G=[];for(let se=0;se<O;se++)G.push(M(se));return G},wt=(O,M)=>{const G=O.length,se=new Array(G);for(let xe=0;xe<G;xe++){const nt=O[xe];se[xe]=M(nt,xe)}return se},Y=(O,M)=>{for(let G=0,se=O.length;G<se;G++){const xe=O[G];M(xe,G)}},vr=(O,M)=>{for(let G=O.length-1;G>=0;G--){const se=O[G];M(se,G)}},_o=(O,M)=>{const G=[],se=[];for(let xe=0,nt=O.length;xe<nt;xe++){const St=O[xe];(M(St,xe)?G:se).push(St)}return{pass:G,fail:se}},Ho=(O,M)=>{const G=[];for(let se=0,xe=O.length;se<xe;se++){const nt=O[se];M(nt,se)&&G.push(nt)}return G},we=(O,M,G)=>(vr(O,(se,xe)=>{G=M(G,se,xe)}),G),Ze=(O,M,G)=>(Y(O,(se,xe)=>{G=M(G,se,xe)}),G),je=(O,M,G)=>{for(let se=0,xe=O.length;se<xe;se++){const nt=O[se];if(M(nt,se))return J.some(nt);if(G(nt,se))break}return J.none()},pt=(O,M)=>je(O,M,ze),Ye=O=>{const M=[];for(let G=0,se=O.length;G<se;++G){if(!A(O[G]))throw new Error("Arr.flatten item "+G+" was not an array, input: "+O);mo.apply(M,O[G])}return M},Ae=(O,M)=>Ye(wt(O,M)),Jt=(O,M)=>{for(let G=0,se=O.length;G<se;++G){const xe=O[G];if(M(xe,G)!==!0)return!1}return!0},Wt=(O,M)=>{const G={};for(let se=0,xe=O.length;se<xe;se++){const nt=O[se];G[String(nt)]=M(nt,se)}return G},st=(O,M)=>M>=0&&M<O.length?J.some(O[M]):J.none(),Bt=O=>st(O,0),tn=O=>st(O,O.length-1),vn=(O,M)=>{for(let G=0;G<O.length;G++){const se=M(O[G],G);if(se.isSome())return se}return J.none()},nn=8,kn=9,lo=11,vo=1,Qn=3,uo=(O,M)=>{const se=(M||document).createElement("div");if(se.innerHTML=O,!se.hasChildNodes()||se.childNodes.length>1){const xe="HTML does not have a single root node";throw console.error(xe,O),new Error(xe)}return qo(se.childNodes[0])},mi=(O,M)=>{const se=(M||document).createElement(O);return qo(se)},ds=(O,M)=>{const se=(M||document).createTextNode(O);return qo(se)},qo=O=>{if(O==null)throw new Error("Node cannot be null or undefined");return{dom:O}},oo={fromHtml:uo,fromTag:mi,fromText:ds,fromDom:qo,fromPoint:(O,M,G)=>J.from(O.dom.elementFromPoint(M,G)).map(qo)},fs=(O,M)=>{const G=O.dom;if(G.nodeType!==vo)return!1;{const se=G;if(se.matches!==void 0)return se.matches(M);if(se.msMatchesSelector!==void 0)return se.msMatchesSelector(M);if(se.webkitMatchesSelector!==void 0)return se.webkitMatchesSelector(M);if(se.mozMatchesSelector!==void 0)return se.mozMatchesSelector(M);throw new Error("Browser lacks native selectors")}},ms=O=>O.nodeType!==vo&&O.nodeType!==kn&&O.nodeType!==lo||O.childElementCount===0,ba=(O,M)=>{const G=M===void 0?document:M.dom;return ms(G)?[]:wt(G.querySelectorAll(O),oo.fromDom)},Fl=(O,M)=>{const G=M===void 0?document:M.dom;return ms(G)?J.none():J.from(G.querySelector(O)).map(oo.fromDom)},Hs=(O,M)=>O.dom===M.dom,Hd=fs;typeof window<"u"||Function("return this;")();const Mt=O=>O.dom.nodeName.toLowerCase(),xo=O=>O.dom.nodeType,Ei=O=>M=>xo(M)===O,xi=O=>xo(O)===nn||Mt(O)==="#comment",Lc=Ei(vo),Fc=Ei(Qn),ws=Ei(kn),Hl=Ei(lo),Na=O=>M=>Lc(M)&&Mt(M)===O,cs=O=>oo.fromDom(O.dom.ownerDocument),Dn=O=>ws(O)?O:cs(O),Xr=O=>J.from(O.dom.parentNode).map(oo.fromDom),ml=(O,M)=>{const G=le(M)?M:ze;let se=O.dom;const xe=[];for(;se.parentNode!==null&&se.parentNode!==void 0;){const nt=se.parentNode,St=oo.fromDom(nt);if(xe.push(St),G(St)===!0)break;se=nt}return xe},Hc=O=>J.from(O.dom.previousSibling).map(oo.fromDom),yu=O=>J.from(O.dom.nextSibling).map(oo.fromDom),$s=O=>wt(O.dom.childNodes,oo.fromDom),zr=(O,M)=>{const G=O.dom.childNodes;return J.from(G[M]).map(oo.fromDom)},Ps=O=>zr(O,0),$r=O=>Hl(O)&&Q(O.dom.host),Jr=le(Element.prototype.attachShadow)&&le(Node.prototype.getRootNode)?O=>oo.fromDom(O.dom.getRootNode()):Dn,va=O=>{const M=Jr(O);return $r(M)?J.some(M):J.none()},qs=O=>oo.fromDom(O.dom.host),Ti=O=>{const M=Fc(O)?O.dom.parentNode:O.dom;if(M==null||M.ownerDocument===null)return!1;const G=M.ownerDocument;return va(oo.fromDom(M)).fold(()=>G.body.contains(M),ve(Ti,qs))};var hl=(O,M,G,se,xe)=>O(G,se)?J.some(G):le(xe)&&xe(G)?J.none():M(G,se,xe);const Lf=(O,M,G)=>{let se=O.dom;const xe=le(G)?G:ze;for(;se.parentNode;){se=se.parentNode;const nt=oo.fromDom(se);if(M(nt))return J.some(nt);if(xe(nt))break}return J.none()},_u=(O,M,G)=>hl((xe,nt)=>nt(xe),Lf,O,M,G),Vc=(O,M)=>{const G=xe=>M(oo.fromDom(xe));return pt(O.dom.childNodes,G).map(oo.fromDom)},nd=(O,M,G)=>Lf(O,se=>fs(se,M),G),Ie=(O,M)=>Vc(O,G=>fs(G,M)),Hi=(O,M)=>Fl(M,O),zc=(O,M,G)=>hl((xe,nt)=>fs(xe,nt),nd,O,M,G),pl=O=>zc(O,"[contenteditable]"),Ff=(O,M=!1)=>Ti(O)?O.dom.isContentEditable:pl(O).fold(Ee(M),G=>ls(G)==="true"),ls=O=>O.dom.contentEditable,Gm=O=>O.nodeName.toLowerCase(),sp=O=>oo.fromDom(O.getBody()),Cc=O=>M=>Hs(M,sp(O)),od=O=>O?O.replace(/px$/,""):"",As=O=>/^\d+(\.\d+)?$/.test(O)?O+"px":O,us=O=>oo.fromDom(O.selection.getStart()),Wc=O=>oo.fromDom(O.selection.getEnd()),nc=O=>_u(O,Na("table")).forall(Ff),gl=(O,M)=>Ho($s(O),M),wu=(O,M)=>{let G=[];return Y($s(O),se=>{M(se)&&(G=G.concat([se])),G=G.concat(wu(se,M))}),G},bl=(O,M)=>gl(O,G=>fs(G,M)),Xo=(O,M)=>ba(M,O),ki=(O,M,G)=>{if(E(G)||R(G)||pe(G))O.setAttribute(M,G+"");else throw console.error("Invalid call to Attribute.set. Key ",M,":: Value ",G,":: Element ",O),new Error("Attribute value was not simple")},Vd=(O,M,G)=>{ki(O.dom,M,G)},vl=(O,M)=>{const G=O.dom;Ue(M,(se,xe)=>{ki(G,xe,se)})},Ra=(O,M)=>{const G=O.dom.getAttribute(M);return G===null?void 0:G},ar=(O,M)=>J.from(Ra(O,M)),Vs=(O,M)=>{O.dom.removeAttribute(M)},Ym=O=>Ze(O.dom.attributes,(M,G)=>(M[G.name]=G.value,M),{}),zd=(O,M,G=ce)=>O.exists(se=>G(se,M)),es=O=>{const M=[],G=se=>{M.push(se)};for(let se=0;se<O.length;se++)O[se].each(G);return M},Qr=(O,M,G)=>O.isSome()&&M.isSome()?J.some(G(O.getOrDie(),M.getOrDie())):J.none(),Vi=O=>O.bind(Me),cr=(O,M)=>O?J.some(M):J.none(),Wd=(O,M)=>O.substring(M),ya=(O,M,G)=>M===""||O.length>=M.length&&O.substr(G,G+M.length)===M,oa=(O,M)=>Ai(O,M)?Wd(O,M.length):O,Ai=(O,M)=>ya(O,M,0),Ud=(O=>M=>M.replace(O,""))(/^\s+|\s+$/g),sd=O=>O.length>0,Ma=O=>!sd(O),Sc=(O,M=10)=>{const G=parseInt(O,M);return isNaN(G)?J.none():J.some(G)},Hf=O=>{const M=parseFloat(O);return isNaN(M)?J.none():J.some(M)},Ec=O=>O.style!==void 0&&le(O.style.getPropertyValue),rd=(O,M,G)=>{if(!E(G))throw console.error("Invalid call to CSS.set. Property ",M,":: Value ",G,":: Element ",O),new Error("CSS value must be a string: "+G);Ec(O)&&O.style.setProperty(M,G)},jd=(O,M)=>{Ec(O)&&O.style.removeProperty(M)},oe=(O,M,G)=>{const se=O.dom;rd(se,M,G)},Se=(O,M)=>{const G=O.dom,xe=window.getComputedStyle(G).getPropertyValue(M);return xe===""&&!Ti(O)?Ne(G,M):xe},Ne=(O,M)=>Ec(O)?O.style.getPropertyValue(M):"",Qe=(O,M)=>{const G=O.dom,se=Ne(G,M);return J.from(se).filter(xe=>xe.length>0)},At=(O,M)=>{const G=O.dom;jd(G,M),zd(ar(O,"style").map(Ud),"")&&Vs(O,"style")},Cn=(O,M,G=0)=>ar(O,M).map(se=>parseInt(se,10)).getOr(G),is=(O,M)=>Cs(O,M,We),Cs=(O,M,G)=>Ae($s(O),se=>fs(se,M)?G(se)?[se]:[]:Cs(se,M,G)),ts=["tfoot","thead","tbody","colgroup"],ns=O=>so(ts,O),$o=(O,M)=>({rows:O,columns:M}),Oi=(O,M,G)=>({element:O,rowspan:M,colspan:G}),yl=(O,M,G,se,xe,nt)=>({element:O,rowspan:M,colspan:G,row:se,column:xe,isLocked:nt}),Gn=(O,M,G)=>({element:O,cells:M,section:G}),Oo=(O,M,G,se)=>({startRow:O,startCol:M,finishRow:G,finishCol:se}),Di=(O,M,G)=>({element:O,colspan:M,column:G}),yr=(O,M)=>({element:O,columns:M}),Sg=(O,M,G=ze)=>{if(G(M))return J.none();if(so(O,Mt(M)))return J.some(M);const se=xe=>fs(xe,"table")||G(xe);return nd(M,O.join(","),se)},lr=(O,M)=>Sg(["td","th"],O,M),y1=O=>is(O,"th,td"),id=O=>fs(O,"colgroup")?bl(O,"col"):Ae(_l(O),M=>bl(M,"col")),zi=(O,M)=>zc(O,"table",M),Bn=O=>is(O,"tr"),_l=O=>zi(O).fold(Ee([]),M=>bl(M,"colgroup")),xc=(O,M)=>wt(O,G=>{if(Mt(G)==="colgroup"){const se=wt(id(G),xe=>{const nt=Cn(xe,"span",1);return Oi(xe,1,nt)});return Gn(G,se,"colgroup")}else{const se=wt(y1(G),xe=>{const nt=Cn(xe,"rowspan",1),St=Cn(xe,"colspan",1);return Oi(xe,nt,St)});return Gn(G,se,M(G))}}),gt=O=>Xr(O).map(M=>{const G=Mt(M);return ns(G)?G:"tbody"}).getOr("tbody"),Uc=O=>{const M=Bn(O),se=[..._l(O),...M];return xc(se,gt)},Pr="data-snooker-locked-cols",Wi=O=>ar(O,Pr).bind(M=>J.from(M.match(/\d+/g))).map(M=>Wt(M,We)),Jm=(O,M)=>O+","+M,Co=(O,M,G)=>J.from(O.access[Jm(M,G)]),Cu=(O,M,G)=>{const se=ad(O,xe=>G(M,xe.element));return se.length>0?J.some(se[0]):J.none()},ad=(O,M)=>{const G=Ae(O.all,se=>se.cells);return Ho(G,M)},Br=O=>{const M={};let G=0;return Y(O.cells,se=>{const xe=se.colspan;at(xe,nt=>{const St=G+nt;M[St]=Di(se.element,xe,St)}),G+=xe}),M},Gs=O=>{const M={},G=[],xe=Bt(O).map(Xi=>Xi.element).bind(zi).bind(Wi).getOr({});let nt=0,St=0,jt=0;const{pass:An,fail:Pn}=_o(O,Xi=>Xi.section==="colgroup");Y(Pn,Xi=>{const Xc=[];Y(Xi.cells,hd=>{let za=0;for(;M[Jm(jt,za)]!==void 0;)za++;const Gf=Xn(xe,za.toString()),Hg=yl(hd.element,hd.rowspan,hd.colspan,jt,za,Gf);for(let Yf=0;Yf<hd.colspan;Yf++)for(let af=0;af<hd.rowspan;af++){const kr=jt+af,Jc=za+Yf,pd=Jm(kr,Jc);M[pd]=Hg,St=Math.max(St,Jc+1)}Xc.push(Hg)}),nt++,G.push(Gn(Xi.element,Xc,Xi.section)),jt++});const{columns:Qo,colgroups:Vo}=tn(An).map(Xi=>{const Xc=Br(Xi);return{colgroups:[yr(Xi.element,xt(Xc))],columns:Xc}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:$o(nt,St),access:M,all:G,columns:Qo,colgroups:Vo}},Pa={fromTable:O=>{const M=Uc(O);return Gs(M)},generate:Gs,getAt:Co,findItem:Cu,filterItems:ad,justCells:O=>Ae(O.all,M=>M.cells),justColumns:O=>xt(O.columns),hasColumns:O=>Te(O.columns).length>0,getColumnAt:(O,M)=>J.from(O.columns[M])};var Ui=tinymce.util.Tools.resolve("tinymce.util.Tools");const zl=(O,M,G)=>{const se=O.select("td,th",M);let xe;for(let nt=0;nt<se.length;nt++){const St=O.getStyle(se[nt],G);if(H(xe)&&(xe=St),xe!==St)return""}return xe},Wl=(O,M,G)=>{Ui.each("left center right".split(" "),se=>{se!==G&&O.formatter.remove("align"+se,{},M)}),G&&O.formatter.apply("align"+G,{},M)},Ss=(O,M,G)=>{Ui.each("top middle bottom".split(" "),se=>{se!==G&&O.formatter.remove("valign"+se,{},M)}),G&&O.formatter.apply("valign"+G,{},M)},Wr=(O,M,G)=>{O.dispatch("TableModified",{...G,table:M})},Ni=(O,M)=>Hf(O).getOr(M),Vf=(O,M,G)=>Ni(Se(O,M),G),Tc=(O,M,G,se)=>{const xe=Vf(O,`padding-${G}`,0),nt=Vf(O,`padding-${se}`,0),St=Vf(O,`border-${G}-width`,0),jt=Vf(O,`border-${se}-width`,0);return M-xe-nt-St-jt},gs=(O,M)=>{const G=O.dom,se=G.getBoundingClientRect().width||G.offsetWidth;return M==="border-box"?se:Tc(O,se,"left","right")},jc=O=>gs(O,"content-box");var Zd=tinymce.util.Tools.resolve("tinymce.Env");const Ul="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Zc=at(5,O=>{const M=`${O+1}px`;return{title:M,value:M}}),ur=wt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],O=>({title:O,value:O.toLowerCase()})),ji="100%",ei=O=>{var M;const G=O.dom,se=(M=G.getParent(O.selection.getStart(),G.isBlock))!==null&&M!==void 0?M:O.getBody();return jc(oo.fromDom(se))+"px"},Kc=(O,M)=>oh(O)||!Kl(O)?M:nh(O)?{...M,width:ei(O)}:{...M,width:ji},Eu=(O,M)=>oh(O)||Kl(O)?M:nh(O)?{...M,width:ei(O)}:{...M,width:ji},Go=O=>M=>M.options.get(O),oc=O=>{const M=O.options.register;M("table_border_widths",{processor:"object[]",default:Zc}),M("table_border_styles",{processor:"object[]",default:ur}),M("table_cell_advtab",{processor:"boolean",default:!0}),M("table_row_advtab",{processor:"boolean",default:!0}),M("table_advtab",{processor:"boolean",default:!0}),M("table_appearance_options",{processor:"boolean",default:!0}),M("table_grid",{processor:"boolean",default:!Zd.deviceType.isTouch()}),M("table_cell_class_list",{processor:"object[]",default:[]}),M("table_row_class_list",{processor:"object[]",default:[]}),M("table_class_list",{processor:"object[]",default:[]}),M("table_toolbar",{processor:"string",default:Ul}),M("table_background_color_map",{processor:"object[]",default:[]}),M("table_border_color_map",{processor:"object[]",default:[]})},zf=Go("table_sizing_mode"),jl=Go("table_border_widths"),Kd=Go("table_border_styles"),Qm=Go("table_cell_advtab"),Zl=Go("table_row_advtab"),Ba=Go("table_advtab"),cd=Go("table_appearance_options"),sa=Go("table_grid"),Kl=Go("table_style_by_css"),wl=Go("table_cell_class_list"),eh=Go("table_row_class_list"),qc=Go("table_class_list"),th=Go("table_toolbar"),Wf=Go("table_background_color_map"),xu=Go("table_border_color_map"),nh=O=>zf(O)==="fixed",oh=O=>zf(O)==="responsive",ld=O=>{const M=O.options,G=M.get("table_default_styles");return M.isSet("table_default_styles")?G:Kc(O,G)},Eg=O=>{const M=O.options,G=M.get("table_default_attributes");return M.isSet("table_default_attributes")?G:Eu(O,G)},ge=(O,M)=>M.column>=O.startCol&&M.column+M.colspan-1<=O.finishCol&&M.row>=O.startRow&&M.row+M.rowspan-1<=O.finishRow,sh=(O,M)=>{let G=!0;const se=q(ge,M);for(let xe=M.startRow;xe<=M.finishRow;xe++)for(let nt=M.startCol;nt<=M.finishCol;nt++)G=G&&Pa.getAt(O,xe,nt).exists(se);return G?J.some(M):J.none()},ra=(O,M)=>Oo(Math.min(O.row,M.row),Math.min(O.column,M.column),Math.max(O.row+O.rowspan-1,M.row+M.rowspan-1),Math.max(O.column+O.colspan-1,M.column+M.colspan-1)),ip=(O,M,G)=>{const se=Pa.findItem(O,M,Hs),xe=Pa.findItem(O,G,Hs);return se.bind(nt=>xe.map(St=>ra(nt,St)))},_1=(O,M,G)=>ip(O,M,G).bind(se=>sh(O,se)),w1=(O,M,G)=>{const se=Jo(O);return _1(se,M,G)},Jo=Pa.fromTable,sc=(O,M)=>{Xr(O).each(se=>{se.dom.insertBefore(M.dom,O.dom)})},ti=(O,M)=>{yu(O).fold(()=>{Xr(O).each(xe=>{Tu(xe,M)})},se=>{sc(se,M)})},ql=(O,M)=>{Ps(O).fold(()=>{Tu(O,M)},se=>{O.dom.insertBefore(M.dom,se.dom)})},Tu=(O,M)=>{O.dom.appendChild(M.dom)},qd=(O,M)=>{sc(O,M),Tu(M,O)},_a=(O,M)=>{Y(M,(G,se)=>{const xe=se===0?O:M[se-1];ti(xe,G)})},rh=(O,M)=>{Y(M,G=>{Tu(O,G)})},Uf=O=>{const M=O.dom;M.parentNode!==null&&M.parentNode.removeChild(M)},ih=O=>{const M=$s(O);M.length>0&&_a(O,M),Uf(O)},ud=((O,M)=>{const G=nt=>{if(!O(nt))throw new Error("Can only get "+M+" value of a "+M+" node");return se(nt).getOr("")},se=nt=>O(nt)?J.from(nt.dom.nodeValue):J.none();return{get:G,getOption:se,set:(nt,St)=>{if(!O(nt))throw new Error("Can only set raw "+M+" value of a "+M+" node");nt.dom.nodeValue=St}}})(Fc,"text"),xg=O=>ud.get(O),Ia=(O,M)=>ud.set(O,M);var ni=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ku=()=>{const O=Pn=>oo.fromDom(Pn.dom.cloneNode(!1)),M=Pn=>Dn(Pn).dom,G=Pn=>Lc(Pn)?Mt(Pn)==="body"?!0:so(ni,Mt(Pn)):!1,se=Pn=>Lc(Pn)?so(["br","img","hr","input"],Mt(Pn)):!1,xe=Pn=>Lc(Pn)&&Ra(Pn,"contenteditable")==="false",nt=(Pn,Qo)=>Pn.dom.compareDocumentPosition(Qo.dom),St=(Pn,Qo)=>{const Vo=Ym(Pn);vl(Qo,Vo)},jt=Pn=>{const Qo=Mt(Pn);return so(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Qo)},An=Pn=>Lc(Pn)?ar(Pn,"lang"):J.none();return{up:Ee({selector:nd,closest:zc,predicate:Lf,all:ml}),down:Ee({selector:Xo,predicate:wu}),styles:Ee({get:Se,getRaw:Qe,set:oe,remove:At}),attrs:Ee({get:Ra,set:Vd,remove:Vs,copyTo:St}),insert:Ee({before:sc,after:ti,afterAll:_a,append:Tu,appendAll:rh,prepend:ql,wrap:qd}),remove:Ee({unwrap:ih,remove:Uf}),create:Ee({nu:oo.fromTag,clone:O,text:oo.fromText}),query:Ee({comparePosition:nt,prevSibling:Hc,nextSibling:yu}),property:Ee({children:$s,name:Mt,parent:Xr,document:M,isText:Fc,isComment:xi,isElement:Lc,isSpecial:jt,getLanguage:An,getText:xg,setText:Ia,isBoundary:G,isEmptyTag:se,isNonEditable:xe}),eq:Hs,is:Hd}};const Gd=(O,M,G,se)=>{const xe=G[0],nt=G.slice(1);return se(O,M,xe,nt)},La=(O,M,G)=>G.length>0?Gd(O,M,G,ia):J.none(),ia=(O,M,G,se)=>{const xe=M(O,G);return we(se,(nt,St)=>{const jt=M(O,St);return ap(O,nt,jt)},xe)},ap=(O,M,G)=>M.bind(se=>G.filter(q(O.eq,se))),Tg=La,Yd=ku(),jf=(O,M)=>Tg(Yd,(G,se)=>O(se),M),cp=O=>nd(O,"table"),Cl=(O,M)=>{const G=Xo(O,M);return G.length>0?J.some(G):J.none()},ah=(O,M,G)=>Hi(O,M).bind(se=>Hi(O,G).bind(xe=>jf(cp,[se,xe]).map(nt=>({first:se,last:xe,table:nt})))),yw=(O,M)=>Cl(O,M),C1=(O,M,G)=>ah(O,M,G).bind(se=>{const xe=An=>Hs(O,An),nt="thead,tfoot,tbody,table",St=nd(se.first,nt,xe),jt=nd(se.last,nt,xe);return St.bind(An=>jt.bind(Pn=>Hs(An,Pn)?w1(se.table,se.first,se.last):J.none()))}),lp=O=>wt(O,oo.fromDom),Xd="data-mce-selected",kg="td["+Xd+"],th["+Xd+"]",Gl="data-mce-first-selected",P="td["+Gl+"],th["+Gl+"]",z="data-mce-last-selected",te="td["+z+"],th["+z+"]",Ce={selected:Xd,selectedSelector:kg,firstSelected:Gl,firstSelectedSelector:P,lastSelected:z,lastSelectedSelector:te},Oe=O=>zi(O).bind(M=>yw(M,Ce.firstSelectedSelector)).fold(Ee(O),M=>M[0]),Ct=O=>(M,G)=>{const se=Mt(M),xe=se==="col"||se==="colgroup"?Oe(M):M;return zc(xe,O,G)},Nn=Ct("th,td,caption"),Un=Ct("th,td"),jn=O=>lp(O.model.table.getSelectedCells()),Hn=(O,M)=>{const G=Un(O),se=G.bind(xe=>zi(xe)).map(xe=>Bn(xe));return Qr(G,se,(xe,nt)=>Ho(nt,St=>Mo(lp(St.dom.cells),jt=>Ra(jt,M)==="1"||Hs(jt,xe)))).getOr([])},un=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Ys=O=>({value:Ag(O)}),oi=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,S1=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,up=O=>oi.test(O)||S1.test(O),Ag=O=>oa(O,"#").toUpperCase(),Og=O=>up(O)?J.some({value:Ag(O)}):J.none(),jr=O=>{const M=O.toString(16);return(M.length===1?"0"+M:M).toUpperCase()},aa=O=>{const M=jr(O.red)+jr(O.green)+jr(O.blue);return Ys(M)},Fa=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Zi=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Dg=(O,M,G,se)=>({red:O,green:M,blue:G,alpha:se}),er=(O,M,G,se)=>{const xe=parseInt(O,10),nt=parseInt(M,10),St=parseInt(G,10),jt=parseFloat(se);return Dg(xe,nt,St,jt)},Ha=O=>{if(O==="transparent")return J.some(Dg(0,0,0,0));const M=Fa.exec(O);if(M!==null)return J.some(er(M[1],M[2],M[3],"1"));const G=Zi.exec(O);return G!==null?J.some(er(G[1],G[2],G[3],G[4])):J.none()},kc=O=>Og(O).orThunk(()=>Ha(O).map(aa)).getOrThunk(()=>{const M=document.createElement("canvas");M.height=1,M.width=1;const G=M.getContext("2d");G.clearRect(0,0,M.width,M.height),G.fillStyle="#FFFFFF",G.fillStyle=O,G.fillRect(0,0,1,1);const se=G.getImageData(0,0,1,1).data,xe=se[0],nt=se[1],St=se[2],jt=se[3];return aa(Dg(xe,nt,St,jt))}),ch=O=>Ha(O).map(aa).map(M=>"#"+M.value).getOr(O),_r=O=>{let M=O;return{get:()=>M,set:xe=>{M=xe}}},k0=O=>{const M=_r(J.none()),G=()=>M.get().each(O);return{clear:()=>{G(),M.set(J.none())},isSet:()=>M.get().isSome(),get:()=>M.get(),set:jt=>{G(),M.set(J.some(jt))}}},E1=()=>k0(O=>O.unbind()),Es=(O,M,G)=>se=>{const xe=E1(),nt=Ma(G),St=()=>{const jt=jn(O),An=Pn=>O.formatter.match(M,{value:G},Pn.dom,nt);nt?(se.setActive(!Mo(jt,An)),xe.set(O.formatter.formatChanged(M,Pn=>se.setActive(!Pn),!0))):(se.setActive(Jt(jt,An)),xe.set(O.formatter.formatChanged(M,se.setActive,!1,{value:G})))};return O.initialized?St():O.on("init",St),xe.clear},Au=O=>Xn(O,"menu"),Uo=O=>wt(O,M=>{const G=M.text||M.title||"";return Au(M)?{text:G,items:Uo(M.menu)}:{text:G,value:M.value}}),wa=(O,M,G,se)=>wt(M,xe=>{const nt=xe.text||xe.title;return Au(xe)?{type:"nestedmenuitem",text:nt,getSubmenuItems:()=>wa(O,xe.menu,G,se)}:{text:nt,type:"togglemenuitem",onAction:()=>se(xe.value),onSetup:Es(O,G,xe.value)}}),Jd=(O,M)=>G=>{O.execCommand("mceTableApplyCellStyle",!1,{[M]:G})},Qd=O=>Ae(O,M=>Au(M)?[{...M,menu:Qd(M.menu)}]:sd(M.value)?[M]:[]),Zf=(O,M,G,se)=>xe=>xe(wa(O,M,G,se)),fo=(O,M,G)=>{const se=wt(M,xe=>({text:xe.title,value:"#"+kc(xe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:se.length>0?se:void 0,allowCustomColors:!1},onAction:xe=>{const nt=xe.value==="remove"?"":xe.value;O.execCommand("mceTableApplyCellStyle",!1,{[G]:nt})}}]},Ng=O=>()=>{const G=O.queryCommandValue("mceTableRowType")==="header"?"body":"header";O.execCommand("mceTableRowType",!1,{type:G})},Rg=O=>()=>{const G=O.queryCommandValue("mceTableColType")==="th"?"td":"th";O.execCommand("mceTableColType",!1,{type:G})},_w=O=>{const M=Uo(wl(O));return M.length>0?J.some({name:"class",type:"listbox",label:"Class",items:M}):J.none()},y2=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:un}],Mg=O=>y2.concat(_w(O).toArray()),dp=(O,M)=>{const se=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Uo(Kd(O)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:M==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(se):se}},Ou={normal:(O,M)=>{const G=O.dom;return{setAttrib:(St,jt)=>{G.setAttrib(M,St,jt)},setStyle:(St,jt)=>{G.setStyle(M,St,jt)},setFormat:(St,jt)=>{jt===""?O.formatter.remove(St,{value:null},M,!0):O.formatter.apply(St,{value:jt},M)}}}},Kf=Na("th"),Cw=(O,M)=>O&&M?"sectionCells":O?"section":"cells",fp=O=>{const M=O.section==="thead",G=zd(dd(O.cells),"th");return O.section==="tfoot"?{type:"footer"}:M||G?{type:"header",subType:Cw(M,G)}:{type:"body"}},dd=O=>{const M=Ho(O,G=>Kf(G.element));return M.length===0?J.some("td"):M.length===O.length?J.some("th"):J.none()},x1=O=>{const M=wt(O,xe=>fp(xe).type),G=so(M,"header"),se=so(M,"footer");if(!G&&!se)return J.some("body");{const xe=so(M,"body");return G&&!xe&&!se?J.some("header"):!G&&!xe&&se?J.some("footer"):J.none()}},Yl=O=>{let M=!1,G;return(...se)=>(M||(M=!0,G=O.apply(null,se)),G)},ef=(O,M)=>vn(O.all,G=>pt(G.cells,se=>Hs(M,se.element))),Sw=(O,M,G)=>{const se=wt(M.selection,nt=>lr(nt).bind(St=>ef(O,St)).filter(G)),xe=es(se);return cr(xe.length>0,xe)},$g=(O,M)=>M.mergable,T1=(O,M)=>M.unmergable,k1=(O,M)=>Sw(O,M,We),A1=(O,M)=>ef(O,M).exists(G=>!G.isLocked),Ri=(O,M)=>Jt(M,G=>A1(O,G)),Pg=(O,M)=>$g(O,M).filter(G=>Ri(O,G.cells)),Ir=(O,M)=>T1(O,M).filter(G=>Ri(O,G));({...{generate:O=>{if(!A(O))throw new Error("cases must be an array");if(O.length===0)throw new Error("there must be at least one case");const M=[],G={};return Y(O,(se,xe)=>{const nt=Te(se);if(nt.length!==1)throw new Error("one and only one name per case");const St=nt[0],jt=se[St];if(G[St]!==void 0)throw new Error("duplicate key detected:"+St);if(St==="cata")throw new Error("cannot have a case named cata (sorry)");if(!A(jt))throw new Error("case arguments must be an array");M.push(St),G[St]=(...An)=>{const Pn=An.length;if(Pn!==jt.length)throw new Error("Wrong number of arguments to case "+St+". Expected "+jt.length+" ("+jt+"), got "+Pn);return{fold:(...Vo)=>{if(Vo.length!==O.length)throw new Error("Wrong number of arguments to fold. Expected "+O.length+", got "+Vo.length);return Vo[xe].apply(null,An)},match:Vo=>{const Ws=Te(Vo);if(M.length!==Ws.length)throw new Error("Wrong number of arguments to match. Expected: "+M.join(",")+`
Actual: `+Ws.join(","));if(!Jt(M,Xc=>so(Ws,Xc)))throw new Error("Not all branches were specified when using match. Specified: "+Ws.join(", ")+`
Required: `+M.join(", "));return Vo[St].apply(null,An)},log:Vo=>{console.log(Vo,{constructors:M,constructor:St,params:An})}}}}),G}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Yc=(O,M)=>{const G=Pa.fromTable(O);return k1(G,M).bind(xe=>{const nt=xe[xe.length-1],St=xe[0].row,jt=nt.row+nt.rowspan,An=G.all.slice(St,jt);return x1(An)}).getOr("")},uh=O=>Ai(O,"rgb")?ch(O):O,mp=O=>{const M=oo.fromDom(O);return{borderwidth:Qe(M,"border-width").getOr(""),borderstyle:Qe(M,"border-style").getOr(""),bordercolor:Qe(M,"border-color").map(uh).getOr(""),backgroundcolor:Qe(M,"background-color").map(uh).getOr("")}},Ac=O=>{const M=O[0],G=O.slice(1);return Y(G,se=>{Y(Te(M),xe=>{Ue(se,(nt,St)=>{const jt=M[xe];jt!==""&&xe===St&&jt!==nt&&(M[xe]="")})})}),M},Oc=(O,M,G,se)=>pt(O,xe=>!H(G.formatter.matchNode(se,M+xe))).getOr(""),dh=q(Oc,["left","center","right"],"align"),tr=q(Oc,["top","middle","bottom"],"valign"),fh=(O,M)=>{const G=ld(O),se=Eg(O),xe=()=>({borderstyle:ln(G,"border-style").getOr(""),bordercolor:uh(ln(G,"border-color").getOr("")),backgroundcolor:uh(ln(G,"background-color").getOr(""))}),nt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},St=()=>{const Qo=G["border-width"];return Kl(O)&&Qo?{border:Qo}:ln(se,"border").fold(()=>({}),Vo=>({border:Vo}))},jt=M?xe():{},An=()=>{const Qo=ln(G,"border-spacing").or(ln(se,"cellspacing")).fold(()=>({}),Ws=>({cellspacing:Ws})),Vo=ln(G,"border-padding").or(ln(se,"cellpadding")).fold(()=>({}),Ws=>({cellpadding:Ws}));return{...Qo,...Vo}};return{...nt,...G,...se,...jt,...St(),...An()}},hp=O=>zi(oo.fromDom(O)).map(M=>{const G={selection:lp(O.cells)};return Yc(M,G)}).getOr(""),Et=(O,M,G)=>{const se=(jt,An)=>{const Pn=Qe(oo.fromDom(An),"border-width");return Kl(O)&&Pn.isSome()?Pn.getOr(""):jt.getAttrib(An,"border")||zl(O.dom,An,"border-width")||zl(O.dom,An,"border")||""},xe=O.dom,nt=Kl(O)?xe.getStyle(M,"border-spacing")||xe.getAttrib(M,"cellspacing"):xe.getAttrib(M,"cellspacing")||xe.getStyle(M,"border-spacing"),St=Kl(O)?zl(xe,M,"padding")||xe.getAttrib(M,"cellpadding"):xe.getAttrib(M,"cellpadding")||zl(xe,M,"padding");return{width:xe.getStyle(M,"width")||xe.getAttrib(M,"width"),height:xe.getStyle(M,"height")||xe.getAttrib(M,"height"),cellspacing:nt??"",cellpadding:St??"",border:se(xe,M),caption:!!xe.select("caption",M)[0],class:xe.getAttrib(M,"class",""),align:dh(O,M),...G?mp(M):{}}},Ew=(O,M,G)=>{const se=O.dom;return{height:se.getStyle(M,"height")||se.getAttrib(M,"height"),class:se.getAttrib(M,"class",""),type:hp(M),align:dh(O,M),...G?mp(M):{}}},xw=(O,M,G,se)=>{const xe=O.dom,nt=se.getOr(M),St=(jt,An)=>xe.getStyle(jt,An)||xe.getAttrib(jt,An);return{width:St(nt,"width"),height:St(M,"height"),scope:xe.getAttrib(M,"scope"),celltype:Gm(M),class:xe.getAttrib(M,"class",""),halign:dh(O,M),valign:tr(O,M),...G?mp(M):{}}},rc=(O,M)=>{const G=Pa.fromTable(O),se=Pa.justCells(G),xe=Ho(se,nt=>Mo(M,St=>Hs(nt.element,St)));return wt(xe,nt=>({element:nt.element.dom,column:Pa.getColumnAt(G,nt.column).map(St=>St.element.dom)}))},mh=(O,M,G,se)=>{se("scope")&&O.setAttrib("scope",G.scope),se("class")&&O.setAttrib("class",G.class),se("height")&&O.setStyle("height",As(G.height)),se("width")&&M.setStyle("width",As(G.width))},tf=(O,M,G)=>{G("backgroundcolor")&&O.setFormat("tablecellbackgroundcolor",M.backgroundcolor),G("bordercolor")&&O.setFormat("tablecellbordercolor",M.bordercolor),G("borderstyle")&&O.setFormat("tablecellborderstyle",M.borderstyle),G("borderwidth")&&O.setFormat("tablecellborderwidth",As(M.borderwidth))},Xs=(O,M,G,se)=>{const xe=M.length===1;Y(M,nt=>{const St=nt.element,jt=xe?We:se,An=Ou.normal(O,St),Pn=nt.column.map(Qo=>Ou.normal(O,Qo)).getOr(An);mh(An,Pn,G,jt),Qm(O)&&tf(An,G,jt),se("halign")&&Wl(O,St,G.halign),se("valign")&&Ss(O,St,G.valign)})},A0=(O,M)=>{O.execCommand("mceTableCellType",!1,{type:M.celltype,no_events:!0})},as=(O,M,G,se)=>{const xe=Tt(se,(nt,St)=>G[St]!==nt);I(xe)>0&&M.length>=1&&zi(M[0]).each(nt=>{const St=rc(nt,M),jt=I(Tt(xe,(Pn,Qo)=>Qo!=="scope"&&Qo!=="celltype"))>0,An=ot(xe,"celltype");(jt||ot(xe,"scope"))&&Xs(O,St,se,q(ot,xe)),An&&A0(O,se),Wr(O,nt.dom,{structure:An,style:jt})})},Yo=(O,M,G,se)=>{const xe=se.getData();se.close(),O.undoManager.transact(()=>{as(O,M,G,xe),O.focus()})},qi=(O,M)=>{const G=zi(M[0]).map(se=>wt(rc(se,M),xe=>xw(O,xe.element,Qm(O),xe.column)));return Ac(G.getOrDie())},hh=O=>{const M=jn(O);if(M.length===0)return;const G=qi(O,M),se={type:"tabpanel",tabs:[{title:"General",name:"general",items:Mg(O)},dp(O,"cell")]},xe={type:"panel",items:[{type:"grid",columns:2,items:Mg(O)}]};O.windowManager.open({title:"Cell Properties",size:"normal",body:Qm(O)?se:xe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:G,onSubmit:q(Yo,O,M,G)})},Tr=O=>{const M=Uo(eh(O));return M.length>0?J.some({name:"class",type:"listbox",label:"Class",items:M}):J.none()},qf=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],si=O=>qf.concat(Tr(O).toArray()),Ca=(O,M,G)=>{G("class")&&O.setAttrib("class",M.class),G("height")&&O.setStyle("height",As(M.height))},fd=(O,M,G)=>{G("backgroundcolor")&&O.setStyle("background-color",M.backgroundcolor),G("bordercolor")&&O.setStyle("border-color",M.bordercolor),G("borderstyle")&&O.setStyle("border-style",M.borderstyle)},rt=(O,M,G,se)=>{const nt=M.length===1?We:se;Y(M,St=>{const jt=Ou.normal(O,St);Ca(jt,G,nt),Zl(O)&&fd(jt,G,nt),se("align")&&Wl(O,St,G.align)})},Va=(O,M)=>{O.execCommand("mceTableRowType",!1,{type:M.type,no_events:!0})},O0=(O,M,G,se)=>{const xe=Tt(se,(nt,St)=>G[St]!==nt);if(I(xe)>0){const nt=ot(xe,"type"),St=nt?I(xe)>1:!0;St&&rt(O,M,se,q(ot,xe)),nt&&Va(O,se),zi(oo.fromDom(M[0])).each(jt=>Wr(O,jt.dom,{structure:nt,style:St}))}},Zr=(O,M,G,se)=>{const xe=se.getData();se.close(),O.undoManager.transact(()=>{O0(O,M,G,xe),O.focus()})},Sl=O=>{const M=Hn(us(O),Ce.selected);if(M.length===0)return;const G=wt(M,St=>Ew(O,St.dom,Zl(O))),se=Ac(G),xe={type:"tabpanel",tabs:[{title:"General",name:"general",items:si(O)},dp(O,"row")]},nt={type:"panel",items:[{type:"grid",columns:2,items:si(O)}]};O.windowManager.open({title:"Row Properties",size:"normal",body:Zl(O)?xe:nt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:se,onSubmit:q(Zr,O,wt(M,St=>St.dom),se)})},Bg=(O,M,G)=>{const se=G?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],xe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],nt=cd(O)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],St=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],jt=M.length>0?[{type:"listbox",name:"class",label:"Class",items:M}]:[];return se.concat(xe).concat(nt).concat(St).concat(jt)},Dc=(O,M,G,se)=>{if(M.tagName==="TD"||M.tagName==="TH")E(G)&&Q(se)?O.setStyle(M,G,se):O.setStyles(M,G);else if(M.children)for(let xe=0;xe<M.children.length;xe++)Dc(O,M.children[xe],G,se)},Tw=(O,M,G,se)=>{const xe=O.dom,nt={},St={},jt=Kl(O),An=Ba(O);if(H(G.class)||(nt.class=G.class),St.height=As(G.height),jt?St.width=As(G.width):xe.getAttrib(M,"width")&&(nt.width=od(G.width)),jt?(St["border-width"]=As(G.border),St["border-spacing"]=As(G.cellspacing)):(nt.border=G.border,nt.cellpadding=G.cellpadding,nt.cellspacing=G.cellspacing),jt&&M.children){const Pn={};if(se.border&&(Pn["border-width"]=As(G.border)),se.cellpadding&&(Pn.padding=As(G.cellpadding)),An&&se.bordercolor&&(Pn["border-color"]=G.bordercolor),!hn(Pn))for(let Qo=0;Qo<M.children.length;Qo++)Dc(xe,M.children[Qo],Pn)}if(An){const Pn=G;St["background-color"]=Pn.backgroundcolor,St["border-color"]=Pn.bordercolor,St["border-style"]=Pn.borderstyle}nt.style=xe.serializeStyle({...ld(O),...St}),xe.setAttribs(M,{...Eg(O),...nt})},nf=(O,M,G,se)=>{const xe=O.dom,nt=se.getData(),St=Tt(nt,(jt,An)=>G[An]!==jt);se.close(),nt.class===""&&delete nt.class,O.undoManager.transact(()=>{if(!M){const jt=Sc(nt.cols).getOr(1),An=Sc(nt.rows).getOr(1);O.execCommand("mceInsertTable",!1,{rows:An,columns:jt}),M=Un(us(O),Cc(O)).bind(Pn=>zi(Pn,Cc(O))).map(Pn=>Pn.dom).getOrDie()}if(I(St)>0){const jt={border:ot(St,"border"),bordercolor:ot(St,"bordercolor"),cellpadding:ot(St,"cellpadding")};Tw(O,M,nt,jt);const An=xe.select("caption",M)[0];(An&&!nt.caption||!An&&nt.caption)&&O.execCommand("mceTableToggleCaption"),Wl(O,M,nt.align)}if(O.focus(),O.addVisual(),I(St)>0){const jt=ot(St,"caption"),An=jt?I(St)>1:!0;Wr(O,M,{structure:jt,style:An})}})},O1=(O,M)=>{const G=O.dom;let se,xe=fh(O,Ba(O));M?(xe.cols="1",xe.rows="1",Ba(O)&&(xe.borderstyle="",xe.bordercolor="",xe.backgroundcolor="")):(se=G.getParent(O.selection.getStart(),"table",O.getBody()),se?xe=Et(O,se,Ba(O)):Ba(O)&&(xe.borderstyle="",xe.bordercolor="",xe.backgroundcolor=""));const nt=Uo(qc(O));nt.length>0&&xe.class&&(xe.class=xe.class.replace(/\s*mce\-item\-table\s*/g,""));const St={type:"grid",columns:2,items:Bg(O,nt,M)},jt=()=>({type:"panel",items:[St]}),An=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[St]},dp(O,"table")]}),Pn=Ba(O)?An():jt();O.windowManager.open({title:"Table Properties",size:"normal",body:Pn,onSubmit:q(nf,O,se,xe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:xe})},Nc=O=>{const M=G=>{nc(us(O))&&G()};Ue({mceTableProps:q(O1,O,!1),mceTableRowProps:q(Sl,O),mceTableCellProps:q(hh,O),mceInsertTableDialog:q(O1,O,!0)},(G,se)=>O.addCommand(se,()=>M(G)))},jo=(O,M)=>Ie(O,M).isSome(),Du=Me,pp=O=>{const M=(se,xe)=>ar(se,xe).exists(nt=>parseInt(nt,10)>1),G=se=>M(se,"rowspan")||M(se,"colspan");return O.length>0&&Jt(O,G)?J.some(O):J.none()},Gi=(O,M,G)=>M.length<=1?J.none():C1(O,G.firstSelectedSelector,G.lastSelectedSelector).map(se=>({bounds:se,cells:M})),Ig=O=>({element:O,mergable:J.none(),unmergable:J.none(),selection:[O]}),of=(O,M,G)=>({element:G,mergable:Gi(M,O,Ce),unmergable:pp(O),selection:Du(O)}),md=O=>{const M=_r(J.none()),G=_r([]);let se=J.none();const xe=Na("caption"),nt=io=>se.forall(Us=>!Us[io]),St=()=>Nn(us(O),Cc(O)),jt=()=>Nn(Wc(O),Cc(O)),An=()=>St().bind(io=>Vi(Qr(zi(io),jt().bind(zi),(Us,Mi)=>Hs(Us,Mi)?xe(io)?J.some(Ig(io)):J.some(of(jn(O),Us,io)):J.none()))),Pn=io=>zi(io.element).map(Mi=>{const fr=Pa.fromTable(Mi),gd=k1(fr,io).getOr([]),Xl=Ze(gd,(Jl,ic)=>(ic.isLocked&&(Jl.onAny=!0,ic.column===0?Jl.onFirst=!0:ic.column+ic.colspan>=fr.grid.columns&&(Jl.onLast=!0)),Jl),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Pg(fr,io).isSome(),unmergeable:Ir(fr,io).isSome(),locked:Xl}}),Qo=()=>{M.set(Yl(An)()),se=M.get().bind(Pn),Y(G.get(),ke)},Vo=io=>(io(),G.set(G.get().concat([io])),()=>{G.set(Ho(G.get(),Us=>Us!==io))}),Ws=(io,Us)=>Vo(()=>M.get().fold(()=>{io.setEnabled(!1)},Mi=>{io.setEnabled(!Us(Mi)&&O.selection.isEditable())})),Xi=(io,Us,Mi)=>Vo(()=>M.get().fold(()=>{io.setEnabled(!1),io.setActive(!1)},fr=>{io.setEnabled(!Us(fr)&&O.selection.isEditable()),io.setActive(Mi(fr))})),Xc=io=>se.exists(Us=>Us.locked[io]),hd=io=>Ws(io,Us=>!1),za=io=>Ws(io,Us=>xe(Us.element)),Gf=io=>Us=>Ws(Us,Mi=>xe(Mi.element)||Xc(io)),Hg=io=>Us=>Ws(Us,Mi=>xe(Mi.element)||io().isNone()),Yf=(io,Us)=>Mi=>Ws(Mi,fr=>xe(fr.element)||io().isNone()||Xc(Us)),af=io=>Ws(io,Us=>nt("mergeable")),kr=io=>Ws(io,Us=>nt("unmergeable")),Jc=io=>Xi(io,ze,Us=>zi(Us.element,Cc(O)).exists(fr=>jo(fr,"caption"))),pd=(io,Us)=>Mi=>Xi(Mi,fr=>xe(fr.element),()=>O.queryCommandValue(io)===Us),Xf=pd("mceTableRowType","header"),D0=pd("mceTableColType","th");return O.on("NodeChange ExecCommand TableSelectorChange",Qo),{onSetupTable:hd,onSetupCellOrRow:za,onSetupColumn:Gf,onSetupPasteable:Hg,onSetupPasteableColumn:Yf,onSetupMergeable:af,onSetupUnmergeable:kr,resetTargets:Qo,onSetupTableWithCaption:Jc,onSetupTableRowHeaders:Xf,onSetupTableColumnHeaders:D0,targets:M.get}};var wr=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Lg="x-tinymce/dom-table-",He=Lg+"rows",Yi=Lg+"columns",gp=O=>{var M;const G=(M=wr.read())!==null&&M!==void 0?M:[];return vn(G,se=>J.from(se.getType(O)))},Sa=()=>gp(He),ca=()=>gp(Yi),hi=O=>M=>{const G=()=>{M.setEnabled(O.selection.isEditable())};return O.on("NodeChange",G),G(),()=>{O.off("NodeChange",G)}},dr=(O,M)=>{O.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:hi(O),fetch:jt=>jt("inserttable | cell row column | advtablesort | tableprops deletetable")});const G=jt=>()=>O.execCommand(jt),se=(jt,An)=>{O.queryCommandSupported(An.command)&&O.ui.registry.addButton(jt,{...An,onAction:le(An.onAction)?An.onAction:G(An.command)})},xe=(jt,An)=>{O.queryCommandSupported(An.command)&&O.ui.registry.addToggleButton(jt,{...An,onAction:le(An.onAction)?An.onAction:G(An.command)})};se("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:M.onSetupTable}),se("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:M.onSetupTable}),se("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:M.onSetupCellOrRow}),se("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:M.onSetupMergeable}),se("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:M.onSetupUnmergeable}),se("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:M.onSetupCellOrRow}),se("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:M.onSetupCellOrRow}),se("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:M.onSetupCellOrRow}),se("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:M.onSetupCellOrRow}),se("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:M.onSetupColumn("onFirst")}),se("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:M.onSetupColumn("onLast")}),se("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:M.onSetupColumn("onAny")}),se("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:M.onSetupCellOrRow}),se("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:M.onSetupCellOrRow}),se("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:M.onSetupPasteable(Sa)}),se("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:M.onSetupPasteable(Sa)}),se("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:M.onSetupColumn("onAny")}),se("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:M.onSetupColumn("onAny")}),se("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:M.onSetupPasteableColumn(ca,"onFirst")}),se("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:M.onSetupPasteableColumn(ca,"onLast")}),se("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:hi(O)});const nt=Qd(qc(O));nt.length!==0&&O.queryCommandSupported("mceTableToggleClass")&&O.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Zf(O,nt,"tableclass",jt=>O.execCommand("mceTableToggleClass",!1,jt)),onSetup:M.onSetupTable});const St=Qd(wl(O));St.length!==0&&O.queryCommandSupported("mceTableCellToggleClass")&&O.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Zf(O,St,"tablecellclass",jt=>O.execCommand("mceTableCellToggleClass",!1,jt)),onSetup:M.onSetupCellOrRow}),O.queryCommandSupported("mceTableApplyCellStyle")&&(O.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Zf(O,un,"tablecellverticalalign",Jd(O,"vertical-align")),onSetup:M.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Zf(O,jl(O),"tablecellborderwidth",Jd(O,"border-width")),onSetup:M.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Zf(O,Kd(O),"tablecellborderstyle",Jd(O,"border-style")),onSetup:M.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:jt=>jt(fo(O,Wf(O),"background-color")),onSetup:M.onSetupCellOrRow}),O.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:jt=>jt(fo(O,xu(O),"border-color")),onSetup:M.onSetupCellOrRow})),xe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:M.onSetupTableWithCaption}),xe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Ng(O),onSetup:M.onSetupTableRowHeaders}),xe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Rg(O),onSetup:M.onSetupTableColumnHeaders})},Fg=O=>{const M=se=>O.dom.is(se,"table")&&O.getBody().contains(se)&&O.dom.isEditable(se.parentNode),G=th(O);G.length>0&&O.ui.registry.addContextToolbar("table",{predicate:M,items:G,scope:"node",position:"node"})},sf=O=>M=>{const G=()=>{M.setEnabled(O.selection.isEditable())};return O.on("NodeChange",G),G(),()=>{O.off("NodeChange",G)}},rf=(O,M)=>{const G=Vo=>()=>O.execCommand(Vo),se=(Vo,Ws)=>O.queryCommandSupported(Ws.command)?(O.ui.registry.addMenuItem(Vo,{...Ws,onAction:le(Ws.onAction)?Ws.onAction:G(Ws.command)}),!0):!1,xe=(Vo,Ws)=>{O.queryCommandSupported(Ws.command)&&O.ui.registry.addToggleMenuItem(Vo,{...Ws,onAction:le(Ws.onAction)?Ws.onAction:G(Ws.command)})},nt=Vo=>{O.execCommand("mceInsertTable",!1,{rows:Vo.numRows,columns:Vo.numColumns})},St=[se("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:M.onSetupCellOrRow}),se("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:M.onSetupCellOrRow}),se("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:M.onSetupCellOrRow}),se("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:M.onSetupCellOrRow}),se("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:M.onSetupCellOrRow}),se("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:M.onSetupCellOrRow}),se("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:M.onSetupPasteable(Sa)}),se("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:M.onSetupPasteable(Sa)})],jt=[se("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:M.onSetupColumn("onFirst")}),se("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:M.onSetupColumn("onLast")}),se("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:M.onSetupColumn("onAny")}),se("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:M.onSetupColumn("onAny")}),se("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:M.onSetupColumn("onAny")}),se("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:M.onSetupPasteableColumn(ca,"onFirst")}),se("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:M.onSetupPasteableColumn(ca,"onLast")})],An=[se("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:M.onSetupCellOrRow}),se("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:M.onSetupMergeable}),se("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:M.onSetupUnmergeable})];sa(O)?O.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:nt}],onSetup:sf(O)}):O.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:G("mceInsertTableDialog"),onSetup:sf(O)}),O.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:G("mceInsertTableDialog"),onSetup:sf(O)}),se("tableprops",{text:"Table properties",onSetup:M.onSetupTable,command:"mceTableProps"}),se("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:M.onSetupTable,command:"mceTableDelete"}),so(St,!0)&&O.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Ee("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),so(jt,!0)&&O.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Ee("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),so(An,!0)&&O.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Ee("tablecellprops tablemergecells tablesplitcells")}),O.ui.registry.addContextMenu("table",{update:()=>(M.resetTargets(),M.targets().fold(Ee(""),Vo=>Mt(Vo.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Pn=Qd(qc(O));Pn.length!==0&&O.queryCommandSupported("mceTableToggleClass")&&O.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>wa(O,Pn,"tableclass",Vo=>O.execCommand("mceTableToggleClass",!1,Vo)),onSetup:M.onSetupTable});const Qo=Qd(wl(O));Qo.length!==0&&O.queryCommandSupported("mceTableCellToggleClass")&&O.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>wa(O,Qo,"tablecellclass",Vo=>O.execCommand("mceTableCellToggleClass",!1,Vo)),onSetup:M.onSetupCellOrRow}),O.queryCommandSupported("mceTableApplyCellStyle")&&(O.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>wa(O,un,"tablecellverticalalign",Jd(O,"vertical-align")),onSetup:M.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>wa(O,jl(O),"tablecellborderwidth",Jd(O,"border-width")),onSetup:M.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>wa(O,Kd(O),"tablecellborderstyle",Jd(O,"border-style")),onSetup:M.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>fo(O,Wf(O),"background-color"),onSetup:M.onSetupCellOrRow}),O.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>fo(O,xu(O),"border-color"),onSetup:M.onSetupCellOrRow})),xe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:M.onSetupTableWithCaption}),xe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Ng(O),onSetup:M.onSetupTableRowHeaders}),xe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Rg(O),onSetup:M.onSetupTableRowHeaders})},xn=O=>{const M=md(O);oc(O),Nc(O),rf(O,M),dr(O,M),Fg(O)};var _2=()=>{i.add("table",xn)};_2()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(oe,Se,Ne)=>{var Qe;return Ne(oe,Se.prototype)?!0:((Qe=oe.constructor)===null||Qe===void 0?void 0:Qe.name)===Se.name},l=oe=>{const Se=typeof oe;return oe===null?"null":Se==="object"&&Array.isArray(oe)?"array":Se==="object"&&r(oe,String,(Ne,Qe)=>Qe.isPrototypeOf(Ne))?"string":Se},h=oe=>Se=>l(Se)===oe,y=oe=>Se=>typeof Se===oe,w=oe=>Se=>oe===Se,E=h("string"),A=h("object"),R=h("array"),H=w(null),j=y("boolean"),Q=oe=>oe==null,le=oe=>!Q(oe),pe=y("function"),me=(oe,Se)=>{if(R(oe)){for(let Ne=0,Qe=oe.length;Ne<Qe;++Ne)if(!Se(oe[Ne]))return!1;return!0}return!1},ve=()=>{},Ee=oe=>()=>oe,Me=(oe,Se)=>oe===Se;class ce{constructor(Se,Ne){this.tag=Se,this.value=Ne}static some(Se){return new ce(!0,Se)}static none(){return ce.singletonNone}fold(Se,Ne){return this.tag?Ne(this.value):Se()}isSome(){return this.tag}isNone(){return!this.tag}map(Se){return this.tag?ce.some(Se(this.value)):ce.none()}bind(Se){return this.tag?Se(this.value):ce.none()}exists(Se){return this.tag&&Se(this.value)}forall(Se){return!this.tag||Se(this.value)}filter(Se){return!this.tag||Se(this.value)?this:ce.none()}getOr(Se){return this.tag?this.value:Se}or(Se){return this.tag?this:Se}getOrThunk(Se){return this.tag?this.value:Se()}orThunk(Se){return this.tag?this:Se()}getOrDie(Se){if(this.tag)return this.value;throw new Error(Se??"Called getOrDie on None")}static from(Se){return le(Se)?ce.some(Se):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Se){this.tag&&Se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const q=Array.prototype.indexOf,ke=Array.prototype.push,ze=(oe,Se)=>q.call(oe,Se),We=(oe,Se)=>ze(oe,Se)>-1,J=(oe,Se)=>{const Ne=oe.length,Qe=new Array(Ne);for(let At=0;At<Ne;At++){const Cn=oe[At];Qe[At]=Se(Cn,At)}return Qe},Te=(oe,Se)=>{for(let Ne=0,Qe=oe.length;Ne<Qe;Ne++){const At=oe[Ne];Se(At,Ne)}},Ge=(oe,Se,Ne)=>(Te(oe,(Qe,At)=>{Ne=Se(Ne,Qe,At)}),Ne),Ue=oe=>{const Se=[];for(let Ne=0,Qe=oe.length;Ne<Qe;++Ne){if(!R(oe[Ne]))throw new Error("Arr.flatten item "+Ne+" was not an array, input: "+oe);ke.apply(Se,oe[Ne])}return Se},ye=(oe,Se)=>Ue(J(oe,Se)),ie=(oe,Se)=>{for(let Ne=0;Ne<oe.length;Ne++){const Qe=Se(oe[Ne],Ne);if(Qe.isSome())return Qe}return ce.none()},Tt=(oe,Se,Ne=Me)=>oe.exists(Qe=>Ne(Qe,Se)),vt=oe=>{const Se=[],Ne=Qe=>{Se.push(Qe)};for(let Qe=0;Qe<oe.length;Qe++)oe[Qe].each(Ne);return Se},xt=(oe,Se)=>oe?ce.some(Se):ce.none(),I=oe=>Se=>Se.options.get(oe),ln=oe=>{const Se=oe.options.register;Se("link_assume_external_targets",{processor:Ne=>{const Qe=E(Ne)||j(Ne);return Qe?Ne===!0?{value:1,valid:Qe}:Ne==="http"||Ne==="https"?{value:Ne,valid:Qe}:{value:0,valid:Qe}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Se("link_context_toolbar",{processor:"boolean",default:!1}),Se("link_list",{processor:Ne=>E(Ne)||pe(Ne)||me(Ne,A)}),Se("link_default_target",{processor:"string"}),Se("link_default_protocol",{processor:"string",default:"https"}),Se("link_target_list",{processor:Ne=>j(Ne)||me(Ne,A),default:!0}),Se("link_rel_list",{processor:"object[]",default:[]}),Se("link_class_list",{processor:"object[]",default:[]}),Se("link_title",{processor:"boolean",default:!0}),Se("allow_unsafe_link_target",{processor:"boolean",default:!1}),Se("link_quicklink",{processor:"boolean",default:!1})},ot=I("link_assume_external_targets"),Xn=I("link_context_toolbar"),hn=I("link_list"),lt=I("link_default_target"),mo=I("link_default_protocol"),ks=I("link_target_list"),so=I("link_rel_list"),Mo=I("link_class_list"),at=I("link_title"),wt=I("allow_unsafe_link_target"),Y=I("link_quicklink");var vr=tinymce.util.Tools.resolve("tinymce.util.Tools");const _o=oe=>E(oe.value)?oe.value:"",Ho=oe=>E(oe.text)?oe.text:E(oe.title)?oe.title:"",we=(oe,Se)=>{const Ne=[];return vr.each(oe,Qe=>{const At=Ho(Qe);if(Qe.menu!==void 0){const Cn=we(Qe.menu,Se);Ne.push({text:At,items:Cn})}else{const Cn=Se(Qe);Ne.push({text:At,value:Cn})}}),Ne},Ze=(oe=_o)=>Se=>ce.from(Se).map(Ne=>we(Ne,oe)),Ye={sanitize:oe=>Ze(_o)(oe),sanitizeWith:Ze,createUi:(oe,Se)=>Ne=>({name:oe,type:"listbox",label:Se,items:Ne}),getValue:_o},Ae=Object.keys,Jt=Object.hasOwnProperty,Wt=(oe,Se)=>{const Ne=Ae(oe);for(let Qe=0,At=Ne.length;Qe<At;Qe++){const Cn=Ne[Qe],is=oe[Cn];Se(is,Cn)}},st=oe=>(Se,Ne)=>{oe[Ne]=Se},Bt=(oe,Se,Ne,Qe)=>{Wt(oe,(At,Cn)=>{(Se(At,Cn)?Ne:Qe)(At,Cn)})},tn=(oe,Se)=>{const Ne={};return Bt(oe,Se,st(Ne),ve),Ne},vn=(oe,Se)=>Jt.call(oe,Se),nn=(oe,Se)=>vn(oe,Se)&&oe[Se]!==void 0&&oe[Se]!==null;var kn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),lo=tinymce.util.Tools.resolve("tinymce.util.URI");const vo=oe=>le(oe)&&oe.nodeName.toLowerCase()==="a",Qn=oe=>vo(oe)&&!!ds(oe),uo=(oe,Se)=>{if(oe.collapsed)return[];{const Ne=oe.cloneContents(),Qe=Ne.firstChild,At=new kn(Qe,Ne),Cn=[];let is=Qe;do Se(is)&&Cn.push(is);while(is=At.next());return Cn}},mi=oe=>/^\w+:/i.test(oe),ds=oe=>{var Se,Ne;return(Ne=(Se=oe.getAttribute("data-mce-href"))!==null&&Se!==void 0?Se:oe.getAttribute("href"))!==null&&Ne!==void 0?Ne:""},qo=(oe,Se)=>{const Ne=["noopener"],Qe=oe?oe.split(/\s+/):[],At=ts=>vr.trim(ts.sort().join(" ")),Cn=ts=>(ts=is(ts),ts.length>0?ts.concat(Ne):Ne),is=ts=>ts.filter(ns=>vr.inArray(Ne,ns)===-1),Cs=Se?Cn(Qe):is(Qe);return Cs.length>0?At(Cs):""},wc=oe=>oe.replace(/\uFEFF/g,""),oo=(oe,Se)=>(Se=Se||ba(oe.selection.getRng())[0]||oe.selection.getNode(),xo(Se)?ce.from(oe.dom.select("a[href]",Se)[0]):ce.from(oe.dom.getParent(Se,"a[href]"))),fs=(oe,Se)=>oo(oe,Se).isSome(),ms=(oe,Se)=>{const Ne=Se.fold(()=>oe.getContent({format:"text"}),Qe=>Qe.innerText||Qe.textContent||"");return wc(Ne)},ba=oe=>uo(oe,Qn),Fl=oe=>vr.grep(oe,Qn),Hs=oe=>Fl(oe).length>0,Hd=oe=>ba(oe).length>0,Mt=oe=>{const Se=oe.schema.getTextInlineElements(),Ne=Cn=>Cn.nodeType===1&&!vo(Cn)&&!vn(Se,Cn.nodeName.toLowerCase());if(oo(oe).exists(Cn=>Cn.hasAttribute("data-mce-block")))return!1;const At=oe.selection.getRng();return At.collapsed?!0:uo(At,Ne).length===0},xo=oe=>le(oe)&&oe.nodeName==="FIGURE"&&/\bimage\b/i.test(oe.className),Ei=oe=>Ge(["title","rel","class","target"],(Ne,Qe)=>(oe[Qe].each(At=>{Ne[Qe]=At.length>0?At:null}),Ne),{href:oe.href}),xi=(oe,Se)=>(Se==="http"||Se==="https")&&!mi(oe)?Se+"://"+oe:oe,Lc=(oe,Se)=>{const Ne={...Se};if(so(oe).length===0&&!wt(oe)){const Qe=qo(Ne.rel,Ne.target==="_blank");Ne.rel=Qe||null}return ce.from(Ne.target).isNone()&&ks(oe)===!1&&(Ne.target=lt(oe)),Ne.href=xi(Ne.href,ot(oe)),Ne},Fc=(oe,Se,Ne,Qe)=>{Ne.each(At=>{vn(Se,"innerText")?Se.innerText=At:Se.textContent=At}),oe.dom.setAttribs(Se,Qe),oe.selection.select(Se)},ws=(oe,Se,Ne,Qe)=>{const At=oe.dom;xo(Se)?$s(At,Se,Qe):Ne.fold(()=>{oe.execCommand("mceInsertLink",!1,Qe)},Cn=>{oe.insertContent(At.createHTML("a",Qe,At.encode(Cn)))})},Hl=(oe,Se,Ne)=>{const Qe=oe.selection.getNode(),At=oo(oe,Qe),Cn=Lc(oe,Ei(Ne));oe.undoManager.transact(()=>{Ne.href===Se.href&&Se.attach(),At.fold(()=>{ws(oe,Qe,Ne.text,Cn)},is=>{oe.focus(),Fc(oe,is,Ne.text,Cn)})})},Na=oe=>{const Se=oe.dom,Ne=oe.selection,Qe=Ne.getBookmark(),At=Ne.getRng().cloneRange(),Cn=Se.getParent(At.startContainer,"a[href]",oe.getBody()),is=Se.getParent(At.endContainer,"a[href]",oe.getBody());Cn&&At.setStartBefore(Cn),is&&At.setEndAfter(is),Ne.setRng(At),oe.execCommand("unlink"),Ne.moveToBookmark(Qe)},cs=oe=>{oe.undoManager.transact(()=>{const Se=oe.selection.getNode();xo(Se)?yu(oe,Se):Na(oe),oe.focus()})},Dn=oe=>{const{class:Se,href:Ne,rel:Qe,target:At,text:Cn,title:is}=oe;return tn({class:Se.getOrNull(),href:Ne,rel:Qe.getOrNull(),target:At.getOrNull(),text:Cn.getOrNull(),title:is.getOrNull()},(Cs,ts)=>H(Cs)===!1)},Xr=(oe,Se)=>{const Ne=oe.options.get,Qe={allow_html_data_urls:Ne("allow_html_data_urls"),allow_script_urls:Ne("allow_script_urls"),allow_svg_data_urls:Ne("allow_svg_data_urls")},At=Se.href;return{...Se,href:lo.isDomSafe(At,"a",Qe)?At:""}},ml=(oe,Se,Ne)=>{const Qe=Xr(oe,Ne);oe.hasPlugin("rtc",!0)?oe.execCommand("createlink",!1,Dn(Qe)):Hl(oe,Se,Qe)},Hc=oe=>{oe.hasPlugin("rtc",!0)?oe.execCommand("unlink"):cs(oe)},yu=(oe,Se)=>{var Ne;const Qe=oe.dom.select("img",Se)[0];if(Qe){const At=oe.dom.getParents(Qe,"a[href]",Se)[0];At&&((Ne=At.parentNode)===null||Ne===void 0||Ne.insertBefore(Qe,At),oe.dom.remove(At))}},$s=(oe,Se,Ne)=>{var Qe;const At=oe.select("img",Se)[0];if(At){const Cn=oe.create("a",Ne);(Qe=At.parentNode)===null||Qe===void 0||Qe.insertBefore(Cn,At),Cn.appendChild(At)}},zr=oe=>nn(oe,"items"),Ps=(oe,Se)=>ie(Se,Ne=>zr(Ne)?Ps(oe,Ne.items):xt(Ne.value===oe,Ne)),$r=(oe,Se,Ne,Qe)=>{const At=Qe[Se],Cn=oe.length>0;return At!==void 0?Ps(At,Ne).map(is=>({url:{value:is.value,meta:{text:Cn?oe:is.text,attach:ve}},text:Cn?oe:is.text})):ce.none()},Vl=(oe,Se)=>Se==="link"?oe.link:Se==="anchor"?oe.anchor:ce.none(),va={init:(oe,Se)=>{const Ne={text:oe.text,title:oe.title},Qe=ts=>{var ns;return xt(Ne.title.length<=0,ce.from((ns=ts.meta)===null||ns===void 0?void 0:ns.title).getOr(""))},At=ts=>{var ns;return xt(Ne.text.length<=0,ce.from((ns=ts.meta)===null||ns===void 0?void 0:ns.text).getOr(ts.value))},Cn=ts=>{const ns=At(ts.url),$o=Qe(ts.url);return ns.isSome()||$o.isSome()?ce.some({...ns.map(Oi=>({text:Oi})).getOr({}),...$o.map(Oi=>({title:Oi})).getOr({})}):ce.none()},is=(ts,ns)=>{const $o=Vl(Se,ns).getOr([]);return $r(Ne.text,ns,$o,ts)};return{onChange:(ts,ns)=>{const $o=ns.name;return $o==="url"?Cn(ts()):We(["anchor","link"],$o)?is(ts(),$o):(($o==="text"||$o==="title")&&(Ne[$o]=ts()[$o]),ce.none())}}},getDelta:$r};var qs=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ti=(oe,Se,Ne)=>{const Qe=oe.selection.getRng();qs.setEditorTimeout(oe,()=>{oe.windowManager.confirm(Se,At=>{oe.selection.setRng(Qe),Ne(At)})})},hl=oe=>{const Se=oe.href;return Se.indexOf("@")>0&&Se.indexOf("/")===-1&&Se.indexOf("mailto:")===-1?ce.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Qe=>({...Qe,href:"mailto:"+Se})}):ce.none()},Lf=(oe,Se)=>Ne=>{const Qe=Ne.href;return oe===1&&!mi(Qe)||oe===0&&/^\s*www(\.|\d\.)/i.test(Qe)?ce.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Se}:// prefix?`,preprocess:Cn=>({...Cn,href:Se+"://"+Qe})}):ce.none()},Vc={preprocess:(oe,Se)=>ie([hl,Lf(ot(oe),mo(oe))],Ne=>Ne(Se)).fold(()=>Promise.resolve(Se),Ne=>new Promise(Qe=>{Ti(oe,Ne.message,At=>{Qe(At?Ne.preprocess(Se):Se)})}))},Ie={getAnchors:oe=>{const Se=oe.dom.select("a:not([href])"),Ne=ye(Se,Qe=>{const At=Qe.name||Qe.id;return At?[{text:At,value:"#"+At}]:[]});return Ne.length>0?ce.some([{text:"None",value:""}].concat(Ne)):ce.none()}},zc={getClasses:oe=>{const Se=Mo(oe);return Se.length>0?Ye.sanitize(Se):ce.none()}},pl=oe=>{try{return ce.some(JSON.parse(oe))}catch{return ce.none()}},ls={getLinks:oe=>{const Se=Qe=>oe.convertURL(Qe.value||Qe.url||"","href"),Ne=hn(oe);return new Promise(Qe=>{E(Ne)?fetch(Ne).then(At=>At.ok?At.text().then(pl):Promise.reject()).then(Qe,()=>Qe(ce.none())):pe(Ne)?Ne(At=>Qe(ce.some(At))):Qe(ce.from(Ne))}).then(Qe=>Qe.bind(Ye.sanitizeWith(Se)).map(At=>At.length>0?[{text:"None",value:""}].concat(At):At))}},sp={getRels:(oe,Se)=>{const Ne=so(oe);if(Ne.length>0){const Qe=Tt(Se,"_blank"),At=wt(oe)===!1,Cn=Cs=>qo(Ye.getValue(Cs),Qe);return(At?Ye.sanitizeWith(Cn):Ye.sanitize)(Ne)}return ce.none()}},Cc=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],As={getTargets:oe=>{const Se=ks(oe);return R(Se)?Ye.sanitize(Se).orThunk(()=>ce.some(Cc)):Se===!1?ce.none():ce.some(Cc)}},us=(oe,Se,Ne)=>{const Qe=oe.getAttrib(Se,Ne);return Qe!==null&&Qe.length>0?ce.some(Qe):ce.none()},Wc=(oe,Se)=>{const Ne=oe.dom,At=Mt(oe)?ce.some(ms(oe.selection,Se)):ce.none(),Cn=Se.bind($o=>ce.from(Ne.getAttrib($o,"href"))),is=Se.bind($o=>ce.from(Ne.getAttrib($o,"target"))),Cs=Se.bind($o=>us(Ne,$o,"rel")),ts=Se.bind($o=>us(Ne,$o,"class")),ns=Se.bind($o=>us(Ne,$o,"title"));return{url:Cn,text:At,title:ns,target:is,rel:Cs,linkClass:ts}},gl={collect:(oe,Se)=>ls.getLinks(oe).then(Ne=>{const Qe=Wc(oe,Se);return{anchor:Qe,catalogs:{targets:As.getTargets(oe),rels:sp.getRels(oe,Qe.target),classes:zc.getClasses(oe),anchor:Ie.getAnchors(oe),link:Ne},optNode:Se,flags:{titleEnabled:at(oe)}}})},wu=(oe,Se)=>Ne=>{const Qe=Ne.getData();if(!Qe.url.value){Hc(oe),Ne.close();return}const At=Cs=>ce.from(Qe[Cs]).filter(ts=>!Tt(Se.anchor[Cs],ts)),Cn={href:Qe.url.value,text:At("text"),target:At("target"),rel:At("rel"),class:At("linkClass"),title:At("title")},is={href:Qe.url.value,attach:Qe.url.meta!==void 0&&Qe.url.meta.attach?Qe.url.meta.attach:ve};Vc.preprocess(oe,Cn).then(Cs=>{ml(oe,is,Cs)}),Ne.close()},bl=oe=>{const Se=oo(oe);return gl.collect(oe,Se)},Xo=(oe,Se)=>{const Ne=oe.anchor,Qe=Ne.url.getOr("");return{url:{value:Qe,meta:{original:{value:Qe}}},text:Ne.text.getOr(""),title:Ne.title.getOr(""),anchor:Qe,link:Qe,rel:Ne.rel.getOr(""),target:Ne.target.or(Se).getOr(""),linkClass:Ne.linkClass.getOr("")}},ki=(oe,Se,Ne)=>{const Qe=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],At=oe.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Cn=oe.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],is=ce.from(lt(Ne)),Cs=Xo(oe,is),ts=oe.catalogs,ns=va.init(Cs,ts);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Ue([Qe,At,Cn,vt([ts.anchor.map(Ye.createUi("anchor","Anchors")),ts.rels.map(Ye.createUi("rel","Rel")),ts.targets.map(Ye.createUi("target","Open link in...")),ts.link.map(Ye.createUi("link","Link list")),ts.classes.map(Ye.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Cs,onChange:(Oi,{name:yl})=>{ns.onChange(Oi.getData,{name:yl}).each(Gn=>{Oi.setData(Gn)})},onSubmit:Se}},Vd=oe=>{bl(oe).then(Ne=>{const Qe=wu(oe,Ne);return ki(Ne,Qe,oe)}).then(Ne=>{oe.windowManager.open(Ne)})},vl=oe=>{oe.addCommand("mceLink",(Se,Ne)=>{(Ne==null?void 0:Ne.dialog)===!0||!Y(oe)?Vd(oe):oe.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var Ra=tinymce.util.Tools.resolve("tinymce.util.VK");const ar=(oe,Se)=>{document.body.appendChild(oe),oe.dispatchEvent(Se),document.body.removeChild(oe)},Vs=oe=>{const Se=document.createElement("a");Se.target="_blank",Se.href=oe,Se.rel="noreferrer noopener";const Ne=document.createEvent("MouseEvents");Ne.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),ar(Se,Ne)},Ym=(oe,Se)=>oe.dom.getParent(Se,"a[href]"),zd=oe=>Ym(oe,oe.selection.getStart()),es=oe=>oe.altKey===!0&&oe.shiftKey===!1&&oe.ctrlKey===!1&&oe.metaKey===!1,Qr=(oe,Se)=>{if(Se){const Ne=ds(Se);if(/^#/.test(Ne)){const Qe=oe.dom.select(Ne);Qe.length&&oe.selection.scrollIntoView(Qe[0],!0)}else Vs(Se.href)}},Vi=oe=>()=>{oe.execCommand("mceLink",!1,{dialog:!0})},cr=oe=>()=>{Qr(oe,zd(oe))},Wd=oe=>{oe.on("click",Se=>{const Ne=Ym(oe,Se.target);Ne&&Ra.metaKeyPressed(Se)&&(Se.preventDefault(),Qr(oe,Ne))}),oe.on("keydown",Se=>{if(!Se.isDefaultPrevented()&&Se.keyCode===13&&es(Se)){const Ne=zd(oe);Ne&&(Se.preventDefault(),Qr(oe,Ne))}})},ya=(oe,Se)=>(oe.on("NodeChange",Se),()=>oe.off("NodeChange",Se)),oa=oe=>Se=>{const Ne=()=>{Se.setActive(!oe.mode.isReadOnly()&&fs(oe,oe.selection.getNode())),Se.setEnabled(oe.selection.isEditable())};return Ne(),ya(oe,Ne)},Ai=oe=>Se=>{const Ne=()=>{Se.setEnabled(oe.selection.isEditable())};return Ne(),ya(oe,Ne)},Xm=oe=>(oe.selection.isCollapsed()?Fl(oe.dom.getParents(oe.selection.getStart())):ba(oe.selection.getRng())).length===1,Ud=oe=>Se=>{const Ne=()=>Se.setEnabled(Xm(oe));return Ne(),ya(oe,Ne)},sd=oe=>Se=>{const Ne=Cn=>Hs(Cn)||Hd(oe.selection.getRng()),Qe=oe.dom.getParents(oe.selection.getStart()),At=Cn=>{Se.setEnabled(Ne(Cn)&&oe.selection.isEditable())};return At(Qe),ya(oe,Cn=>At(Cn.parents))},Ma=oe=>{oe.addShortcut("Meta+K","",()=>{oe.execCommand("mceLink")})},Sc=oe=>{oe.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Vi(oe),onSetup:oa(oe)}),oe.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:cr(oe),onSetup:Ud(oe)}),oe.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Hc(oe),onSetup:sd(oe)})},Hf=oe=>{oe.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:cr(oe),onSetup:Ud(oe)}),oe.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Ai(oe),onAction:Vi(oe)}),oe.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Hc(oe),onSetup:sd(oe)})},Ec=oe=>{const Se="link unlink openlink",Ne="link";oe.ui.registry.addContextMenu("link",{update:Qe=>oe.dom.isEditable(Qe)?Hs(oe.dom.getParents(Qe,"a"))?Se:Ne:""})},rd=oe=>{const Se=At=>{At.selection.collapse(!1)},Ne=At=>{const Cn=oe.selection.getNode();return At.setEnabled(fs(oe,Cn)),ve},Qe=At=>{const Cn=oo(oe),is=Mt(oe);if(Cn.isNone()&&is){const Cs=ms(oe.selection,Cn);return xt(Cs.length===0,At)}else return ce.none()};oe.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:oa(oe)},label:"Link",predicate:At=>Xn(oe)&&fs(oe,At),initValue:()=>oo(oe).fold(Ee(""),ds),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:At=>{const Cn=oe.selection.getNode();return At.setActive(fs(oe,Cn)),oa(oe)(At)},onAction:At=>{const Cn=At.getValue(),is=Qe(Cn);ml(oe,{href:Cn,attach:ve},{href:Cn,text:is,title:ce.none(),rel:ce.none(),target:ce.none(),class:ce.none()}),Se(oe),At.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ne,onAction:At=>{Hc(oe),At.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ne,onAction:At=>{cr(oe)(),At.hide()}}]})};var jd=()=>{i.add("link",oe=>{ln(oe),Sc(oe),Hf(oe),Ec(oe),rd(oe),Wd(oe),vl(oe),Ma(oe)})};jd()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(P,z,te)=>{var Ce;return te(P,z.prototype)?!0:((Ce=P.constructor)===null||Ce===void 0?void 0:Ce.name)===z.name},l=P=>{const z=typeof P;return P===null?"null":z==="object"&&Array.isArray(P)?"array":z==="object"&&r(P,String,(te,Ce)=>Ce.isPrototypeOf(te))?"string":z},h=P=>z=>l(z)===P,y=P=>z=>typeof z===P,w=h("string"),E=h("object"),A=h("array"),R=y("boolean"),H=P=>P==null,j=P=>!H(P),Q=y("function"),le=y("number"),pe=()=>{},me=P=>()=>P,ve=(P,z)=>P===z,Ee=P=>z=>!P(z),Me=me(!1);class ce{constructor(z,te){this.tag=z,this.value=te}static some(z){return new ce(!0,z)}static none(){return ce.singletonNone}fold(z,te){return this.tag?te(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?ce.some(z(this.value)):ce.none()}bind(z){return this.tag?z(this.value):ce.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:ce.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return j(z)?ce.some(z):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const q=Array.prototype.slice,ke=Array.prototype.indexOf,ze=Array.prototype.push,We=(P,z)=>ke.call(P,z),J=(P,z)=>We(P,z)>-1,Te=(P,z)=>{for(let te=0,Ce=P.length;te<Ce;te++){const Oe=P[te];if(z(Oe,te))return!0}return!1},Ge=(P,z)=>{const te=P.length,Ce=new Array(te);for(let Oe=0;Oe<te;Oe++){const Ct=P[Oe];Ce[Oe]=z(Ct,Oe)}return Ce},Ue=(P,z)=>{for(let te=0,Ce=P.length;te<Ce;te++){const Oe=P[te];z(Oe,te)}},ye=(P,z)=>{const te=[];for(let Ce=0,Oe=P.length;Ce<Oe;Ce++){const Ct=P[Ce];z(Ct,Ce)&&te.push(Ct)}return te},ie=(P,z)=>{if(P.length===0)return[];{let te=z(P[0]);const Ce=[];let Oe=[];for(let Ct=0,Nn=P.length;Ct<Nn;Ct++){const Un=P[Ct],jn=z(Un);jn!==te&&(Ce.push(Oe),Oe=[]),te=jn,Oe.push(Un)}return Oe.length!==0&&Ce.push(Oe),Ce}},Tt=(P,z,te)=>(Ue(P,(Ce,Oe)=>{te=z(te,Ce,Oe)}),te),vt=(P,z,te)=>{for(let Ce=0,Oe=P.length;Ce<Oe;Ce++){const Ct=P[Ce];if(z(Ct,Ce))return ce.some(Ct);if(te(Ct,Ce))break}return ce.none()},xt=(P,z)=>vt(P,z,Me),I=P=>{const z=[];for(let te=0,Ce=P.length;te<Ce;++te){if(!A(P[te]))throw new Error("Arr.flatten item "+te+" was not an array, input: "+P);ze.apply(z,P[te])}return z},ln=(P,z)=>I(Ge(P,z)),ot=P=>{const z=q.call(P,0);return z.reverse(),z},Xn=(P,z)=>z>=0&&z<P.length?ce.some(P[z]):ce.none(),hn=P=>Xn(P,0),lt=P=>Xn(P,P.length-1),mo=(P,z)=>{const te=[],Ce=Q(z)?Oe=>Te(te,Ct=>z(Ct,Oe)):Oe=>J(te,Oe);for(let Oe=0,Ct=P.length;Oe<Ct;Oe++){const Nn=P[Oe];Ce(Nn)||te.push(Nn)}return te},ks=(P,z,te=ve)=>P.exists(Ce=>te(Ce,z)),so=(P,z,te=ve)=>Mo(P,z,te).getOr(P.isNone()&&z.isNone()),Mo=(P,z,te)=>P.isSome()&&z.isSome()?ce.some(te(P.getOrDie(),z.getOrDie())):ce.none(),at=1,wt=(P,z)=>{const Ce=(z||document).createElement("div");if(Ce.innerHTML=P,!Ce.hasChildNodes()||Ce.childNodes.length>1){const Oe="HTML does not have a single root node";throw console.error(Oe,P),new Error(Oe)}return _o(Ce.childNodes[0])},Y=(P,z)=>{const Ce=(z||document).createElement(P);return _o(Ce)},vr=(P,z)=>{const Ce=(z||document).createTextNode(P);return _o(Ce)},_o=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},we={fromHtml:wt,fromTag:Y,fromText:vr,fromDom:_o,fromPoint:(P,z,te)=>ce.from(P.dom.elementFromPoint(z,te)).map(_o)},Ze=(P,z)=>{const te=P.dom;if(te.nodeType!==at)return!1;{const Ce=te;if(Ce.matches!==void 0)return Ce.matches(z);if(Ce.msMatchesSelector!==void 0)return Ce.msMatchesSelector(z);if(Ce.webkitMatchesSelector!==void 0)return Ce.webkitMatchesSelector(z);if(Ce.mozMatchesSelector!==void 0)return Ce.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},je=(P,z)=>P.dom===z.dom,pt=(P,z)=>{const te=P.dom,Ce=z.dom;return te===Ce?!1:te.contains(Ce)},Ye=Ze;var Ae=(P,z,te,Ce,Oe)=>P(te,Ce)?ce.some(te):Q(Oe)&&Oe(te)?ce.none():z(te,Ce,Oe);typeof window<"u"||Function("return this;")();const Jt=P=>P.dom.nodeName.toLowerCase(),Wt=P=>P.dom.nodeType,Bt=(P=>z=>Wt(z)===P)(at),tn=P=>z=>Bt(z)&&Jt(z)===P,vn=P=>ce.from(P.dom.parentNode).map(we.fromDom),nn=P=>ce.from(P.dom.parentElement).map(we.fromDom),kn=P=>ce.from(P.dom.nextSibling).map(we.fromDom),lo=P=>Ge(P.dom.childNodes,we.fromDom),vo=(P,z)=>{const te=P.dom.childNodes;return ce.from(te[z]).map(we.fromDom)},Qn=P=>vo(P,0),uo=P=>vo(P,P.dom.childNodes.length-1),mi=(P,z,te)=>{let Ce=P.dom;const Oe=Q(te)?te:Me;for(;Ce.parentNode;){Ce=Ce.parentNode;const Ct=we.fromDom(Ce);if(z(Ct))return ce.some(Ct);if(Oe(Ct))break}return ce.none()},ds=(P,z,te)=>Ae((Oe,Ct)=>Ct(Oe),mi,P,z,te),qo=(P,z)=>{vn(P).each(Ce=>{Ce.dom.insertBefore(z.dom,P.dom)})},wc=(P,z)=>{kn(P).fold(()=>{vn(P).each(Oe=>{oo(Oe,z)})},Ce=>{qo(Ce,z)})},oo=(P,z)=>{P.dom.appendChild(z.dom)},fs=(P,z)=>{Ue(z,te=>{qo(P,te)})},ms=(P,z)=>{Ue(z,te=>{oo(P,te)})},ba=P=>{P.dom.textContent="",Ue(lo(P),z=>{Fl(z)})},Fl=P=>{const z=P.dom;z.parentNode!==null&&z.parentNode.removeChild(z)};var Hs=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Hd=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Mt=tinymce.util.Tools.resolve("tinymce.util.VK");const xo=P=>Ge(P,we.fromDom),Ei=Object.keys,xi=(P,z)=>{const te=Ei(P);for(let Ce=0,Oe=te.length;Ce<Oe;Ce++){const Ct=te[Ce],Nn=P[Ct];z(Nn,Ct)}},Lc=P=>(z,te)=>{P[te]=z},Fc=(P,z,te,Ce)=>{xi(P,(Oe,Ct)=>{(z(Oe,Ct)?te:Ce)(Oe,Ct)})},ws=(P,z)=>{const te={};return Fc(P,z,Lc(te),pe),te},Hl=(P,z,te)=>{if(w(te)||R(te)||le(te))P.setAttribute(z,te+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",te,":: Element ",P),new Error("Attribute value was not simple")},Na=(P,z)=>{const te=P.dom;xi(z,(Ce,Oe)=>{Hl(te,Oe,Ce)})},cs=P=>Tt(P.dom.attributes,(z,te)=>(z[te.name]=te.value,z),{}),Dn=(P,z)=>we.fromDom(P.dom.cloneNode(z)),Xr=P=>Dn(P,!0),ml=(P,z)=>{const te=we.fromTag(z),Ce=cs(P);return Na(te,Ce),te},Hc=(P,z)=>{const te=ml(P,z);wc(P,te);const Ce=lo(P);return ms(te,Ce),Fl(P),te};var yu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$s=tinymce.util.Tools.resolve("tinymce.util.Tools");const zr=P=>z=>j(z)&&z.nodeName.toLowerCase()===P,Ps=P=>z=>j(z)&&P.test(z.nodeName),$r=P=>j(P)&&P.nodeType===3,Vl=P=>j(P)&&P.nodeType===1,Jr=Ps(/^(OL|UL|DL)$/),va=Ps(/^(OL|UL)$/),qs=zr("ol"),Ti=Ps(/^(LI|DT|DD)$/),hl=Ps(/^(DT|DD)$/),Lf=Ps(/^(TH|TD)$/),_u=zr("br"),Vc=P=>{var z;return((z=P.parentNode)===null||z===void 0?void 0:z.firstChild)===P},nd=(P,z)=>j(z)&&z.nodeName in P.schema.getTextBlockElements(),Ie=(P,z)=>j(P)&&P.nodeName in z,Hi=(P,z)=>j(z)&&z.nodeName in P.schema.getVoidElements(),zc=(P,z)=>_u(z)?P.isBlock(z.nextSibling)&&!_u(z.previousSibling):!1,pl=(P,z,te)=>{const Ce=P.isEmpty(z);return te&&P.select("span[data-mce-type=bookmark]",z).length>0?!1:Ce},Ff=(P,z)=>P.isChildOf(z,P.getRoot()),ls=P=>z=>z.options.get(P),Gm=P=>{const z=P.options.register;z("lists_indent_on_tab",{processor:"boolean",default:!0})},sp=ls("lists_indent_on_tab"),Cc=ls("forced_root_block"),od=ls("forced_root_block_attrs"),As=(P,z)=>{const te=P.dom,Ce=P.schema.getBlockElements(),Oe=te.createFragment(),Ct=Cc(P),Nn=od(P);let Un,jn,Hn=!1;for(jn=te.create(Ct,Nn),Ie(z.firstChild,Ce)||Oe.appendChild(jn);Un=z.firstChild;){const un=Un.nodeName;!Hn&&(un!=="SPAN"||Un.getAttribute("data-mce-type")!=="bookmark")&&(Hn=!0),Ie(Un,Ce)?(Oe.appendChild(Un),jn=null):(jn||(jn=te.create(Ct,Nn),Oe.appendChild(jn)),jn.appendChild(Un))}return!Hn&&jn&&jn.appendChild(te.create("br",{"data-mce-bogus":"1"})),Oe},us=yu.DOM,Wc=(P,z,te)=>{const Ce=Hn=>{const un=Hn.parentNode;un&&$s.each(Oe,Ys=>{un.insertBefore(Ys,te.parentNode)}),us.remove(Hn)},Oe=us.select('span[data-mce-type="bookmark"]',z),Ct=As(P,te),Nn=us.createRng();Nn.setStartAfter(te),Nn.setEndAfter(z);const Un=Nn.extractContents();for(let Hn=Un.firstChild;Hn;Hn=Hn.firstChild)if(Hn.nodeName==="LI"&&P.dom.isEmpty(Hn)){us.remove(Hn);break}P.dom.isEmpty(Un)||us.insertAfter(Un,z),us.insertAfter(Ct,z);const jn=te.parentElement;jn&&pl(P.dom,jn)&&Ce(jn),us.remove(te),pl(P.dom,z)&&us.remove(z)},nc=tn("dd"),gl=tn("dt"),wu=(P,z)=>{nc(z)?Hc(z,"dt"):gl(z)&&nn(z).each(te=>Wc(P,te.dom,z.dom))},bl=P=>{gl(P)&&Hc(P,"dd")},Xo=(P,z,te)=>{z==="Indent"?Ue(te,bl):Ue(te,Ce=>wu(P,Ce))},ki=(P,z)=>{if($r(P))return{container:P,offset:z};const te=Hs.getNode(P,z);return $r(te)?{container:te,offset:z>=P.childNodes.length?te.data.length:0}:te.previousSibling&&$r(te.previousSibling)?{container:te.previousSibling,offset:te.previousSibling.data.length}:te.nextSibling&&$r(te.nextSibling)?{container:te.nextSibling,offset:0}:{container:P,offset:z}},Vd=P=>{const z=P.cloneRange(),te=ki(P.startContainer,P.startOffset);z.setStart(te.container,te.offset);const Ce=ki(P.endContainer,P.endOffset);return z.setEnd(Ce.container,Ce.offset),z},vl=["OL","UL","DL"],Ra=vl.join(","),ar=(P,z)=>{const te=z||P.selection.getStart(!0);return P.dom.getParent(te,Ra,ya(P,te))},Vs=(P,z)=>j(P)&&z.length===1&&z[0]===P,Ym=P=>ye(P.querySelectorAll(Ra),Jr),zd=P=>{const z=ar(P),te=P.selection.getSelectedBlocks();return Vs(z,te)?Ym(z):ye(te,Ce=>Jr(Ce)&&z!==Ce)},es=(P,z)=>{const te=$s.map(z,Ce=>{const Oe=P.dom.getParent(Ce,"li,dd,dt",ya(P,Ce));return Oe||Ce});return mo(te)},Qr=P=>{const z=P.selection.getSelectedBlocks();return ye(es(P,z),Ti)},Vi=P=>ye(Qr(P),hl),cr=(P,z)=>{const te=P.dom.getParents(z,"TD,TH");return te.length>0?te[0]:P.getBody()},Wd=(P,z)=>!Jr(z)&&!Ti(z)&&Te(vl,te=>P.isValidChild(z.nodeName,te)),ya=(P,z)=>{const te=P.dom.getParents(z,P.dom.isBlock);return xt(te,Oe=>Wd(P.schema,Oe)).getOr(P.getBody())},oa=(P,z)=>{const te=P.dom.getParents(z,"ol,ul",ya(P,z));return lt(te)},Ai=P=>{const z=oa(P,P.selection.getStart()),te=ye(P.selection.getSelectedBlocks(),va);return z.toArray().concat(te)},Xm=P=>{const z=Ai(P);return Ud(P,z)},Ud=(P,z)=>{const te=Ge(z,Ce=>oa(P,Ce).getOr(Ce));return mo(te)},sd=P=>/\btox\-/.test(P.className),Ma=(P,z)=>vt(P,Jr,Lf).exists(te=>te.nodeName===z&&!sd(te)),Sc=(P,z)=>z!==null&&!P.dom.isEditable(z),Hf=P=>{const z=ar(P);return Sc(P,z)},Ec=(P,z)=>{const te=P.dom.getParent(z,"ol,ul,dl");return Sc(P,te)},rd=(P,z)=>{const te=P.selection.getNode();return z({parents:P.dom.getParents(te),element:te}),P.on("NodeChange",z),()=>P.off("NodeChange",z)},jd=(P,z)=>{const Ce=(z||document).createDocumentFragment();return Ue(P,Oe=>{Ce.appendChild(Oe.dom)}),we.fromDom(Ce)},oe=(P,z,te)=>P.dispatch("ListMutation",{action:z,element:te}),Ne=(P=>z=>z.replace(P,""))(/^\s+|\s+$/g),Qe=P=>P.length>0,At=P=>!Qe(P),Cn=P=>P.style!==void 0&&Q(P.style.getPropertyValue),is=(P,z,te)=>{if(!w(te))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",te,":: Element ",P),new Error("CSS value must be a string: "+te);Cn(P)&&P.style.setProperty(z,te)},Cs=(P,z,te)=>{const Ce=P.dom;is(Ce,z,te)},ts=(P,z)=>{oo(P.item,z.list)},ns=P=>{for(let z=1;z<P.length;z++)ts(P[z-1],P[z])},$o=(P,z)=>{Mo(lt(P),hn(z),ts)},Oi=(P,z)=>{const te={list:we.fromTag(z,P),item:we.fromTag("li",P)};return oo(te.list,te.item),te},yl=(P,z,te)=>{const Ce=[];for(let Oe=0;Oe<te;Oe++)Ce.push(Oi(P,z.listType));return Ce},Gn=(P,z)=>{for(let te=0;te<P.length-1;te++)Cs(P[te].item,"list-style-type","none");lt(P).each(te=>{Na(te.list,z.listAttributes),Na(te.item,z.itemAttributes),ms(te.item,z.content)})},Oo=(P,z)=>{Jt(P.list)!==z.listType&&(P.list=Hc(P.list,z.listType)),Na(P.list,z.listAttributes)},Di=(P,z,te)=>{const Ce=we.fromTag("li",P);return Na(Ce,z),ms(Ce,te),Ce},yr=(P,z)=>{oo(P.list,z),P.item=z},Sg=(P,z,te)=>{const Ce=z.slice(0,te.depth);return lt(Ce).each(Oe=>{const Ct=Di(P,te.itemAttributes,te.content);yr(Oe,Ct),Oo(Oe,te)}),Ce},lr=(P,z,te)=>{const Ce=yl(P,te,te.depth-z.length);return ns(Ce),Gn(Ce,te),$o(z,Ce),z.concat(Ce)},y1=(P,z)=>{const te=Tt(z,(Ce,Oe)=>Oe.depth>Ce.length?lr(P,Ce,Oe):Sg(P,Ce,Oe),[]);return hn(te).map(Ce=>Ce.list)},id=P=>Ye(P,"OL,UL"),zi=P=>Qn(P).exists(id),Bn=P=>uo(P).exists(id),_l=P=>P.depth>0,xc=P=>P.isSelected,gt=P=>{const z=lo(P),te=Bn(P)?z.slice(0,-1):z;return Ge(te,Xr)},Uc=(P,z,te)=>vn(P).filter(Bt).map(Ce=>({depth:z,dirty:!1,isSelected:te,content:gt(P),itemAttributes:cs(P),listAttributes:cs(Ce),listType:Jt(Ce)})),Pr=(P,z)=>{switch(P){case"Indent":z.depth++;break;case"Outdent":z.depth--;break;case"Flatten":z.depth=0}z.dirty=!0},Wi=(P,z)=>{P.listType=z.listType,P.listAttributes={...z.listAttributes}},Jm=P=>{P.listAttributes=ws(P.listAttributes,(z,te)=>te!=="start")},Co=(P,z)=>{const te=P[z].depth,Ce=Ct=>Ct.depth===te&&!Ct.dirty,Oe=Ct=>Ct.depth<te;return vt(ot(P.slice(0,z)),Ce,Oe).orThunk(()=>vt(P.slice(z+1),Ce,Oe))},Cu=P=>(Ue(P,(z,te)=>{Co(P,te).fold(()=>{z.dirty&&Jm(z)},Ce=>Wi(z,Ce))}),P),ad=P=>{let z=P;return{get:()=>z,set:Oe=>{z=Oe}}},Br=(P,z,te,Ce)=>Qn(Ce).filter(id).fold(()=>{z.each(Nn=>{je(Nn.start,Ce)&&te.set(!0)});const Oe=Uc(Ce,P,te.get());z.each(Nn=>{je(Nn.end,Ce)&&te.set(!1)});const Ct=uo(Ce).filter(id).map(Nn=>Gs(P,z,te,Nn)).getOr([]);return Oe.toArray().concat(Ct)},Oe=>Gs(P,z,te,Oe)),Gs=(P,z,te,Ce)=>ln(lo(Ce),Oe=>{const Ct=id(Oe)?Gs:Br,Nn=P+1;return Ct(Nn,z,te,Oe)}),Su=(P,z)=>{const te=ad(!1),Ce=0;return Ge(P,Oe=>({sourceList:Oe,entries:Gs(Ce,z,te,Oe)}))},T0=(P,z)=>{const te=Cu(z);return Ge(te,Ce=>{const Oe=jd(Ce.content);return we.fromDom(As(P,Oe.dom))})},rp=(P,z)=>{const te=Cu(z);return y1(P.contentDocument,te).toArray()},zs=(P,z)=>ln(ie(z,_l),te=>hn(te).exists(_l)?rp(P,te):T0(P,te)),$a=(P,z)=>{Ue(ye(P,xc),te=>Pr(z,te))},Pa=P=>{const z=Ge(Qr(P),we.fromDom);return Mo(xt(z,Ee(zi)),xt(ot(z),Ee(zi)),(te,Ce)=>({start:te,end:Ce}))},Ui=(P,z,te)=>{const Ce=Su(z,Pa(P));Ue(Ce,Oe=>{$a(Oe.entries,te);const Ct=zs(P,Oe.entries);Ue(Ct,Nn=>{oe(P,te==="Indent"?"IndentList":"OutdentList",Nn.dom)}),fs(Oe.sourceList,Ct),Fl(Oe.sourceList)})},zl=(P,z)=>{const te=xo(Xm(P)),Ce=xo(Vi(P));let Oe=!1;if(te.length||Ce.length){const Ct=P.selection.getBookmark();Ui(P,te,z),Xo(P,z,Ce),P.selection.moveToBookmark(Ct),P.selection.setRng(Vd(P.selection.getRng())),P.nodeChanged(),Oe=!0}return Oe},Wl=(P,z)=>!Hf(P)&&zl(P,z),Ss=P=>Wl(P,"Indent"),Wr=P=>Wl(P,"Outdent"),Ni=P=>Wl(P,"Flatten"),Vf="\uFEFF",Tc=P=>P===Vf;var gs=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Ur=yu.DOM,jc=P=>{const z={},te=Ce=>{let Oe=P[Ce?"startContainer":"endContainer"],Ct=P[Ce?"startOffset":"endOffset"];if(Vl(Oe)){const Nn=Ur.create("span",{"data-mce-type":"bookmark"});Oe.hasChildNodes()?(Ct=Math.min(Ct,Oe.childNodes.length-1),Ce?Oe.insertBefore(Nn,Oe.childNodes[Ct]):Ur.insertAfter(Nn,Oe.childNodes[Ct])):Oe.appendChild(Nn),Oe=Nn,Ct=0}z[Ce?"startContainer":"endContainer"]=Oe,z[Ce?"startOffset":"endOffset"]=Ct};return te(!0),P.collapsed||te(),z},Zd=P=>{const z=Ce=>{const Oe=Un=>{var jn;let Hn=(jn=Un.parentNode)===null||jn===void 0?void 0:jn.firstChild,un=0;for(;Hn;){if(Hn===Un)return un;(!Vl(Hn)||Hn.getAttribute("data-mce-type")!=="bookmark")&&un++,Hn=Hn.nextSibling}return-1};let Ct=P[Ce?"startContainer":"endContainer"],Nn=P[Ce?"startOffset":"endOffset"];if(Ct){if(Vl(Ct)&&Ct.parentNode){const Un=Ct;Nn=Oe(Ct),Ct=Ct.parentNode,Ur.remove(Un),!Ct.hasChildNodes()&&Ur.isBlock(Ct)&&Ct.appendChild(Ur.create("br"))}P[Ce?"startContainer":"endContainer"]=Ct,P[Ce?"startOffset":"endOffset"]=Nn}};z(!0),z();const te=Ur.createRng();return te.setStart(P.startContainer,P.startOffset),P.endContainer&&te.setEnd(P.endContainer,P.endOffset),Vd(te)},Ul=P=>{switch(P){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Zc=(P,z,te)=>{const Ce=te["list-style-type"]?te["list-style-type"]:null;P.setStyle(z,"list-style-type",Ce)},ur=(P,z)=>{$s.each(z,(te,Ce)=>{P.setAttribute(Ce,te)})},ji=(P,z,te)=>{ur(z,te["list-attributes"]),$s.each(P.select("li",z),Ce=>{ur(Ce,te["list-item-attributes"])})},ei=(P,z,te)=>{Zc(P,z,te),ji(P,z,te)},Kc=(P,z,te)=>{$s.each(te,Ce=>P.setStyle(z,Ce,""))},Eu=(P,z)=>j(z)&&!Ie(z,P.schema.getBlockElements()),Go=(P,z,te,Ce)=>{let Oe=z[te?"startContainer":"endContainer"];const Ct=z[te?"startOffset":"endOffset"];Vl(Oe)&&(Oe=Oe.childNodes[Math.min(Ct,Oe.childNodes.length-1)]||Oe),!te&&_u(Oe.nextSibling)&&(Oe=Oe.nextSibling);const Nn=(Un,jn)=>{var Hn;const un=new Hd(Un,Ce),Ys=jn?"next":"prev";let oi;for(;oi=un[Ys]();)if(!(Hi(P,oi)||Tc(oi.textContent)||((Hn=oi.textContent)===null||Hn===void 0?void 0:Hn.length)===0))return ce.some(oi);return ce.none()};if(te&&$r(Oe))if(Tc(Oe.textContent))Oe=Nn(Oe,!1).getOr(Oe);else for(Oe.parentNode!==null&&Eu(P,Oe.parentNode)&&(Oe=Oe.parentNode);Oe.previousSibling!==null&&(Eu(P,Oe.previousSibling)||$r(Oe.previousSibling));)Oe=Oe.previousSibling;if(!te&&$r(Oe))if(Tc(Oe.textContent))Oe=Nn(Oe,!0).getOr(Oe);else for(Oe.parentNode!==null&&Eu(P,Oe.parentNode)&&(Oe=Oe.parentNode);Oe.nextSibling!==null&&(Eu(P,Oe.nextSibling)||$r(Oe.nextSibling));)Oe=Oe.nextSibling;for(;Oe.parentNode!==Ce;){const Un=Oe.parentNode;if(nd(P,Oe)||/^(TD|TH)$/.test(Un.nodeName))return Oe;Oe=Un}return Oe},oc=(P,z,te)=>{const Ce=[],Oe=P.dom,Ct=Go(P,z,!0,te),Nn=Go(P,z,!1,te);let Un;const jn=[];for(let Hn=Ct;Hn&&(jn.push(Hn),Hn!==Nn);Hn=Hn.nextSibling);return $s.each(jn,Hn=>{var un;if(nd(P,Hn)){Ce.push(Hn),Un=null;return}if(Oe.isBlock(Hn)||_u(Hn)){_u(Hn)&&Oe.remove(Hn),Un=null;return}const Ys=Hn.nextSibling;if(gs.isBookmarkNode(Hn)&&(Jr(Ys)||nd(P,Ys)||!Ys&&Hn.parentNode===te)){Un=null;return}Un||(Un=Oe.create("p"),(un=Hn.parentNode)===null||un===void 0||un.insertBefore(Un,Hn),Ce.push(Un)),Un.appendChild(Hn)}),Ce},zf=(P,z,te)=>{const Ce=P.getStyle(z,"list-style-type");let Oe=te?te["list-style-type"]:"";return Oe=Oe===null?"":Oe,Ce===Oe},jl=(P,z,te)=>{const Ce=P.selection.getRng();let Oe="LI";const Ct=ya(P,P.selection.getStart(!0)),Nn=P.dom;if(Nn.getContentEditable(P.selection.getNode())==="false")return;z=z.toUpperCase(),z==="DL"&&(Oe="DT");const Un=jc(Ce),jn=ye(oc(P,Ce,Ct),P.dom.isEditable);$s.each(jn,Hn=>{let un;const Ys=Hn.previousSibling,oi=Hn.parentNode;Ti(oi)||(Ys&&Jr(Ys)&&Ys.nodeName===z&&zf(Nn,Ys,te)?(un=Ys,Hn=Nn.rename(Hn,Oe),Ys.appendChild(Hn)):(un=Nn.create(z),oi.insertBefore(un,Hn),un.appendChild(Hn),Hn=Nn.rename(Hn,Oe)),Kc(Nn,Hn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ei(Nn,un,te),cd(P.dom,un))}),P.selection.setRng(Zd(Un))},Kd=(P,z)=>Jr(P)&&P.nodeName===(z==null?void 0:z.nodeName),Qm=(P,z,te)=>{const Ce=P.getStyle(z,"list-style-type",!0),Oe=P.getStyle(te,"list-style-type",!0);return Ce===Oe},Zl=(P,z)=>P.className===z.className,Ba=(P,z,te)=>Kd(z,te)&&Qm(P,z,te)&&Zl(z,te),cd=(P,z)=>{let te,Ce=z.nextSibling;if(Ba(P,z,Ce)){const Oe=Ce;for(;te=Oe.firstChild;)z.appendChild(te);P.remove(Oe)}if(Ce=z.previousSibling,Ba(P,z,Ce)){const Oe=Ce;for(;te=Oe.lastChild;)z.insertBefore(te,z.firstChild);P.remove(Oe)}},sa=(P,z,te,Ce)=>{if(z.nodeName!==te){const Oe=P.dom.rename(z,te);ei(P.dom,Oe,Ce),oe(P,Ul(te),Oe)}else ei(P.dom,z,Ce),oe(P,Ul(te),z)},Kl=(P,z,te,Ce,Oe)=>{const Ct=Jr(z);if(Ct&&z.nodeName===Ce&&!wl(Oe))Ni(P);else{jl(P,Ce,Oe);const Nn=jc(P.selection.getRng()),Un=Ct?[z,...te]:te;$s.each(Un,jn=>{sa(P,jn,Ce,Oe)}),P.selection.setRng(Zd(Nn))}},wl=P=>"list-style-type"in P,eh=(P,z,te,Ce)=>{if(z!==P.getBody())if(z)if(z.nodeName===te&&!wl(Ce)&&!sd(z))Ni(P);else{const Oe=jc(P.selection.getRng());ei(P.dom,z,Ce);const Ct=P.dom.rename(z,te);cd(P.dom,Ct),P.selection.setRng(Zd(Oe)),jl(P,te,Ce),oe(P,Ul(te),Ct)}else jl(P,te,Ce),oe(P,Ul(te),z)},qc=(P,z,te)=>{const Ce=ar(P);if(Ec(P,Ce))return;const Oe=zd(P),Ct=E(te)?te:{};Oe.length>0?Kl(P,Ce,Oe,z,Ct):eh(P,Ce,z,Ct)},th=yu.DOM,Wf=(P,z)=>{const te=z.parentElement;if(te&&te.nodeName==="LI"&&te.firstChild===z){const Ce=te.previousSibling;Ce&&Ce.nodeName==="LI"?(Ce.appendChild(z),pl(P,te)&&th.remove(te)):th.setStyle(te,"listStyleType","none")}if(Jr(te)){const Ce=te.previousSibling;Ce&&Ce.nodeName==="LI"&&Ce.appendChild(z)}},xu=(P,z)=>{const te=$s.grep(P.select("ol,ul",z));$s.each(te,Ce=>{Wf(P,Ce)})},nh=(P,z,te,Ce)=>{let Oe=z.startContainer;const Ct=z.startOffset;if($r(Oe)&&(te?Ct<Oe.data.length:Ct>0))return Oe;const Nn=P.schema.getNonEmptyElements();Vl(Oe)&&(Oe=Hs.getNode(Oe,Ct));const Un=new Hd(Oe,Ce);te&&zc(P.dom,Oe)&&Un.next();const jn=te?Un.next.bind(Un):Un.prev2.bind(Un);for(;Oe=jn();)if(Oe.nodeName==="LI"&&!Oe.hasChildNodes()||Nn[Oe.nodeName]||$r(Oe)&&Oe.data.length>0)return Oe;return null},oh=(P,z)=>{const te=z.childNodes;return te.length===1&&!Jr(te[0])&&P.isBlock(te[0])},ld=(P,z)=>{oh(P,z)&&P.remove(z.firstChild,!0)},Eg=(P,z,te)=>{let Ce;const Oe=oh(P,te)?te.firstChild:te;if(ld(P,z),!pl(P,z,!0))for(;Ce=z.firstChild;)Oe.appendChild(Ce)},ge=(P,z,te)=>{let Ce;const Oe=z.parentNode;if(!Ff(P,z)||!Ff(P,te))return;Jr(te.lastChild)&&(Ce=te.lastChild),Oe===te.lastChild&&_u(Oe.previousSibling)&&P.remove(Oe.previousSibling);const Ct=te.lastChild;Ct&&_u(Ct)&&z.hasChildNodes()&&P.remove(Ct),pl(P,te,!0)&&ba(we.fromDom(te)),Eg(P,z,te),Ce&&te.appendChild(Ce);const Un=pt(we.fromDom(te),we.fromDom(z))?P.getParents(z,Jr,te):[];P.remove(z),Ue(Un,jn=>{pl(P,jn)&&jn!==P.getRoot()&&P.remove(jn)})},sh=(P,z,te)=>{ba(we.fromDom(te)),ge(P.dom,z,te),P.selection.setCursorLocation(te,0)},ra=(P,z,te,Ce)=>{const Oe=P.dom;if(Oe.isEmpty(Ce))sh(P,te,Ce);else{const Ct=jc(z);ge(Oe,te,Ce),P.selection.setRng(Zd(Ct))}},ip=(P,z,te,Ce)=>{const Oe=jc(z);ge(P.dom,te,Ce);const Ct=Zd(Oe);P.selection.setRng(Ct)},_1=(P,z)=>{const te=P.dom,Ce=P.selection,Oe=Ce.getStart(),Ct=cr(P,Oe),Nn=te.getParent(Ce.getStart(),"LI",Ct);if(Nn){const Un=Nn.parentElement;if(Un===P.getBody()&&pl(te,Un))return!0;const jn=Vd(Ce.getRng()),Hn=te.getParent(nh(P,jn,z,Ct),"LI",Ct);if(Hn&&Hn!==Nn)return P.undoManager.transact(()=>{z?ra(P,jn,Hn,Nn):Vc(Nn)?Wr(P):ip(P,jn,Nn,Hn)}),!0;if(!Hn&&!z&&jn.startOffset===0&&jn.endOffset===0)return P.undoManager.transact(()=>{Ni(P)}),!0}return!1},w1=(P,z,te)=>{const Ce=P.getParent(z.parentNode,P.isBlock,te);P.remove(z),Ce&&P.isEmpty(Ce)&&P.remove(Ce)},Jo=(P,z)=>{const te=P.dom,Ce=P.selection.getStart(),Oe=cr(P,Ce),Ct=te.getParent(Ce,te.isBlock,Oe);if(Ct&&te.isEmpty(Ct)){const Nn=Vd(P.selection.getRng()),Un=te.getParent(nh(P,Nn,z,Oe),"LI",Oe);if(Un){const jn=oi=>J(["td","th","caption"],Jt(oi)),Hn=oi=>oi.dom===Oe,un=ds(we.fromDom(Un),jn,Hn),Ys=ds(we.fromDom(Nn.startContainer),jn,Hn);return so(un,Ys,je)?(P.undoManager.transact(()=>{w1(te,Ct,Oe),cd(te,Un.parentNode),P.selection.select(Un,!0),P.selection.collapse(z)}),!0):!1}}return!1},sc=(P,z)=>_1(P,z)||Jo(P,z),ti=P=>{const z=P.selection.getStart(),te=cr(P,z);return P.dom.getParent(z,"LI,DT,DD",te)||Qr(P).length>0},ql=P=>ti(P)?(P.undoManager.transact(()=>{P.execCommand("Delete"),xu(P.dom,P.getBody())}),!0):!1,Tu=(P,z)=>{const te=P.selection;return!Ec(P,te.getNode())&&(te.isCollapsed()?sc(P,z):ql(P))},qd=P=>{P.on("ExecCommand",z=>{const te=z.command.toLowerCase();(te==="delete"||te==="forwarddelete")&&ti(P)&&xu(P.dom,P.getBody())}),P.on("keydown",z=>{z.keyCode===Mt.BACKSPACE?Tu(P,!1)&&z.preventDefault():z.keyCode===Mt.DELETE&&Tu(P,!0)&&z.preventDefault()})},_a=P=>({backspaceDelete:z=>{Tu(P,z)}}),rh=(P,z)=>{const te=ar(P);te===null||Ec(P,te)||P.undoManager.transact(()=>{E(z.styles)&&P.dom.setStyles(te,z.styles),E(z.attrs)&&xi(z.attrs,(Ce,Oe)=>P.dom.setAttrib(te,Oe,Ce))})},Uf=P=>{const z=ot(Ne(P).split("")),te=Ge(z,(Ce,Oe)=>{const Ct=Ce.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Oe)*Ct});return Tt(te,(Ce,Oe)=>Ce+Oe,0)},ih=P=>{if(P--,P<0)return"";{const z=P%26,te=Math.floor(P/26),Ce=ih(te),Oe=String.fromCharCode("A".charCodeAt(0)+z);return Ce+Oe}},Gc=P=>/^[A-Z]+$/.test(P),ud=P=>/^[a-z]+$/.test(P),xg=P=>/^[0-9]+$/.test(P),Ia=P=>xg(P)?2:Gc(P)?0:ud(P)?1:At(P)?3:4,ni=P=>{switch(Ia(P)){case 2:return ce.some({listStyleType:ce.none(),start:P});case 0:return ce.some({listStyleType:ce.some("upper-alpha"),start:Uf(P).toString()});case 1:return ce.some({listStyleType:ce.some("lower-alpha"),start:Uf(P).toString()});case 3:return ce.some({listStyleType:ce.none(),start:""});case 4:return ce.none()}},ku=P=>{const z=parseInt(P.start,10);return ks(P.listStyleType,"upper-alpha")?ih(z):ks(P.listStyleType,"lower-alpha")?ih(z).toLowerCase():P.start},Gd=P=>{const z=ar(P);!qs(z)||Ec(P,z)||P.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ku({start:P.dom.getAttrib(z,"start","1"),listStyleType:ce.from(P.dom.getStyle(z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:te=>{const Ce=te.getData();ni(Ce.start).each(Oe=>{P.execCommand("mceListUpdate",!1,{attrs:{start:Oe.start==="1"?"":Oe.start},styles:{"list-style-type":Oe.listStyleType.getOr("")}})}),te.close()}})},La=(P,z)=>()=>{const te=ar(P);return j(te)&&te.nodeName===z},ia=P=>{P.addCommand("mceListProps",()=>{Gd(P)})},ap=P=>{P.on("BeforeExecCommand",z=>{const te=z.command.toLowerCase();te==="indent"?Ss(P):te==="outdent"&&Wr(P)}),P.addCommand("InsertUnorderedList",(z,te)=>{qc(P,"UL",te)}),P.addCommand("InsertOrderedList",(z,te)=>{qc(P,"OL",te)}),P.addCommand("InsertDefinitionList",(z,te)=>{qc(P,"DL",te)}),P.addCommand("RemoveList",()=>{Ni(P)}),ia(P),P.addCommand("mceListUpdate",(z,te)=>{E(te)&&rh(P,te)}),P.addQueryStateHandler("InsertUnorderedList",La(P,"UL")),P.addQueryStateHandler("InsertOrderedList",La(P,"OL")),P.addQueryStateHandler("InsertDefinitionList",La(P,"DL"))};var Tg=tinymce.util.Tools.resolve("tinymce.html.Node");const Yd=P=>P.type===3,jf=P=>P.length===0,cp=P=>{const z=(Oe,Ct)=>{const Nn=Tg.create("li");Ue(Oe,Un=>Nn.append(Un)),Ct?P.insert(Nn,Ct,!0):P.append(Nn)},te=(Oe,Ct)=>Yd(Ct)?[...Oe,Ct]:!jf(Oe)&&!Yd(Ct)?(z(Oe,Ct),[]):Oe,Ce=Tt(P.children(),te,[]);jf(Ce)||z(Ce)},Cl=P=>{P.on("PreInit",()=>{const{parser:z}=P;z.addNodeFilter("ul,ol",te=>Ue(te,cp))})},ah=P=>{P.on("keydown",z=>{z.keyCode!==Mt.TAB||Mt.metaKeyPressed(z)||P.undoManager.transact(()=>{(z.shiftKey?Wr(P):Ss(P))&&z.preventDefault()})})},yw=P=>{sp(P)&&ah(P),qd(P)},C1=(P,z)=>te=>{const Ce=Oe=>{te.setActive(Ma(Oe.parents,z)),te.setEnabled(!Ec(P,Oe.element)&&P.selection.isEditable())};return te.setEnabled(P.selection.isEditable()),rd(P,Ce)},lp=P=>{const z=te=>()=>P.execCommand(te);P.hasPlugin("advlist")||(P.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:z("InsertOrderedList"),onSetup:C1(P,"OL")}),P.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:z("InsertUnorderedList"),onSetup:C1(P,"UL")}))},Xd=(P,z)=>te=>rd(P,Oe=>te.setEnabled(Ma(Oe.parents,z)&&!Ec(P,Oe.element))),kg=P=>{const z={text:"List properties...",icon:"ordered-list",onAction:()=>P.execCommand("mceListProps"),onSetup:Xd(P,"OL")};P.ui.registry.addMenuItem("listprops",z),P.ui.registry.addContextMenu("lists",{update:te=>{const Ce=ar(P,te);return qs(Ce)?["listprops"]:[]}})};var Gl=()=>{i.add("lists",P=>(Gm(P),Cl(P),P.hasPlugin("rtc",!0)?ia(P):(yw(P),ap(P)),lp(P),kg(P),_a(P)))};Gl()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const i=Object.getPrototypeOf,r=(t,s,c)=>{var d;return c(t,s.prototype)?!0:((d=t.constructor)===null||d===void 0?void 0:d.name)===s.name},l=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&r(t,String,(c,d)=>d.isPrototypeOf(c))?"string":s},h=t=>s=>l(s)===t,y=t=>s=>typeof s===t,w=t=>s=>t===s,E=(t,s)=>R(t)&&r(t,s,(c,d)=>i(c)===d),A=h("string"),R=h("object"),H=t=>E(t,Object),j=h("array"),Q=w(null),le=y("boolean"),pe=w(void 0),me=t=>t==null,ve=t=>!me(t),Ee=y("function"),Me=y("number"),ce=(t,s)=>{if(j(t)){for(let c=0,d=t.length;c<d;++c)if(!s(t[c]))return!1;return!0}return!1},q=()=>{},ke=t=>()=>t(),ze=(t,s)=>(...c)=>t(s.apply(null,c)),We=(t,s)=>c=>t(s(c)),J=t=>()=>t,Te=t=>t,Ge=(t,s)=>t===s;function Ue(t,...s){return(...c)=>{const d=s.concat(c);return t.apply(null,d)}}const ye=t=>s=>!t(s),ie=t=>()=>{throw new Error(t)},Tt=t=>t(),vt=J(!1),xt=J(!0);class I{constructor(s,c){this.tag=s,this.value=c}static some(s){return new I(!0,s)}static none(){return I.singletonNone}fold(s,c){return this.tag?c(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?I.some(s(this.value)):I.none()}bind(s){return this.tag?s(this.value):I.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:I.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return ve(s)?I.some(s):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const ln=Array.prototype.slice,ot=Array.prototype.indexOf,Xn=Array.prototype.push,hn=(t,s)=>ot.call(t,s),lt=(t,s)=>{const c=hn(t,s);return c===-1?I.none():I.some(c)},mo=(t,s)=>hn(t,s)>-1,ks=(t,s)=>{for(let c=0,d=t.length;c<d;c++){const p=t[c];if(s(p,c))return!0}return!1},so=(t,s)=>{const c=[];for(let d=0;d<t;d++)c.push(s(d));return c},Mo=(t,s)=>{const c=[];for(let d=0;d<t.length;d+=s){const p=ln.call(t,d,d+s);c.push(p)}return c},at=(t,s)=>{const c=t.length,d=new Array(c);for(let p=0;p<c;p++){const v=t[p];d[p]=s(v,p)}return d},wt=(t,s)=>{for(let c=0,d=t.length;c<d;c++){const p=t[c];s(p,c)}},Y=(t,s)=>{for(let c=t.length-1;c>=0;c--){const d=t[c];s(d,c)}},vr=(t,s)=>{const c=[],d=[];for(let p=0,v=t.length;p<v;p++){const C=t[p];(s(C,p)?c:d).push(C)}return{pass:c,fail:d}},_o=(t,s)=>{const c=[];for(let d=0,p=t.length;d<p;d++){const v=t[d];s(v,d)&&c.push(v)}return c},Ho=(t,s,c)=>(Y(t,(d,p)=>{c=s(c,d,p)}),c),we=(t,s,c)=>(wt(t,(d,p)=>{c=s(c,d,p)}),c),Ze=(t,s,c)=>{for(let d=0,p=t.length;d<p;d++){const v=t[d];if(s(v,d))return I.some(v);if(c(v,d))break}return I.none()},je=(t,s)=>Ze(t,s,vt),pt=(t,s)=>{for(let c=0,d=t.length;c<d;c++){const p=t[c];if(s(p,c))return I.some(c)}return I.none()},Ye=t=>{const s=[];for(let c=0,d=t.length;c<d;++c){if(!j(t[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+t);Xn.apply(s,t[c])}return s},Ae=(t,s)=>Ye(at(t,s)),Jt=(t,s)=>{for(let c=0,d=t.length;c<d;++c){const p=t[c];if(s(p,c)!==!0)return!1}return!0},Wt=t=>{const s=ln.call(t,0);return s.reverse(),s},st=(t,s)=>_o(t,c=>!mo(s,c)),Bt=(t,s)=>{const c={};for(let d=0,p=t.length;d<p;d++){const v=t[d];c[String(v)]=s(v,d)}return c},tn=t=>[t],vn=(t,s)=>{const c=ln.call(t,0);return c.sort(s),c},nn=(t,s)=>s>=0&&s<t.length?I.some(t[s]):I.none(),kn=t=>nn(t,0),lo=t=>nn(t,t.length-1),vo=Ee(Array.from)?Array.from:t=>ln.call(t),Qn=(t,s)=>{for(let c=0;c<t.length;c++){const d=s(t[c],c);if(d.isSome())return d}return I.none()},uo=Object.keys,mi=Object.hasOwnProperty,ds=(t,s)=>{const c=uo(t);for(let d=0,p=c.length;d<p;d++){const v=c[d],C=t[v];s(C,v)}},qo=(t,s)=>wc(t,(c,d)=>({k:d,v:s(c,d)})),wc=(t,s)=>{const c={};return ds(t,(d,p)=>{const v=s(d,p);c[v.k]=v.v}),c},oo=t=>(s,c)=>{t[c]=s},fs=(t,s,c,d)=>{ds(t,(p,v)=>{(s(p,v)?c:d)(p,v)})},ms=(t,s)=>{const c={},d={};return fs(t,s,oo(c),oo(d)),{t:c,f:d}},ba=(t,s)=>{const c={};return fs(t,s,oo(c),q),c},Fl=(t,s)=>{const c=[];return ds(t,(d,p)=>{c.push(s(d,p))}),c},Hs=(t,s)=>{const c=uo(t);for(let d=0,p=c.length;d<p;d++){const v=c[d],C=t[v];if(s(C,v,t))return I.some(C)}return I.none()},Hd=t=>Fl(t,Te),Mt=(t,s)=>xo(t,s)?I.from(t[s]):I.none(),xo=(t,s)=>mi.call(t,s),Ei=(t,s)=>xo(t,s)&&t[s]!==void 0&&t[s]!==null,xi=(t,s,c=Ge)=>t.exists(d=>c(d,s)),Lc=(t,s,c=Ge)=>Hl(t,s,c).getOr(t.isNone()&&s.isNone()),Fc=t=>{const s=[],c=d=>{s.push(d)};for(let d=0;d<t.length;d++)t[d].each(c);return s},ws=t=>{const s=[];for(let c=0;c<t.length;c++){const d=t[c];if(d.isSome())s.push(d.getOrDie());else return I.none()}return I.some(s)},Hl=(t,s,c)=>t.isSome()&&s.isSome()?I.some(c(t.getOrDie(),s.getOrDie())):I.none(),Na=(t,s,c,d)=>t.isSome()&&s.isSome()&&c.isSome()?I.some(d(t.getOrDie(),s.getOrDie(),c.getOrDie())):I.none(),cs=(t,s)=>t!=null?I.some(s(t)):I.none(),Dn=(t,s)=>t?I.some(s):I.none(),Xr=(t,s)=>t+s,ml=(t,s)=>t.substring(s),Hc=(t,s,c)=>s===""||t.length>=s.length&&t.substr(c,c+s.length)===s,yu=(t,s)=>Ps(t,s)?ml(t,s.length):t,$s=(t,s)=>$r(t,s)?t:Xr(t,s),zr=(t,s,c=0,d)=>{const p=t.indexOf(s,c);return p!==-1?pe(d)?!0:p+s.length<=d:!1},Ps=(t,s)=>Hc(t,s,0),$r=(t,s)=>Hc(t,s,t.length-s.length),Jr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),va=t=>t.length>0,qs=t=>!va(t),Ti=t=>t.style!==void 0&&Ee(t.style.getPropertyValue),hl=(t,s)=>{const d=(s||document).createElement("div");if(d.innerHTML=t,!d.hasChildNodes()||d.childNodes.length>1){const p="HTML does not have a single root node";throw console.error(p,t),new Error(p)}return Vc(d.childNodes[0])},Lf=(t,s)=>{const d=(s||document).createElement(t);return Vc(d)},_u=(t,s)=>{const d=(s||document).createTextNode(t);return Vc(d)},Vc=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ie={fromHtml:hl,fromTag:Lf,fromText:_u,fromDom:Vc,fromPoint:(t,s,c)=>I.from(t.dom.elementFromPoint(s,c)).map(Vc)},Hi=typeof window<"u"?window:Function("return this;")(),zc=(t,s)=>{let c=s??Hi;for(let d=0;d<t.length&&c!==void 0&&c!==null;++d)c=c[t[d]];return c},pl=(t,s)=>{const c=t.split(".");return zc(c,s)},Ff=(t,s)=>pl(t,s),ls=(t,s)=>{const c=Ff(t,s);if(c==null)throw new Error(t+" not available on this browser");return c},Gm=Object.getPrototypeOf,sp=t=>ls("HTMLElement",t),Cc=t=>{const s=pl("ownerDocument.defaultView",t);return R(t)&&(sp(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Gm(t).constructor.name))},od=9,As=11,us=1,Wc=3,nc=t=>t.dom.nodeName.toLowerCase(),gl=t=>t.dom.nodeType,wu=t=>s=>gl(s)===t,bl=t=>Xo(t)&&Cc(t.dom),Xo=wu(us),ki=wu(Wc),Vd=wu(od),vl=wu(As),Ra=t=>s=>Xo(s)&&nc(s)===t,ar=(t,s)=>{const c=t.dom;if(c.nodeType!==us)return!1;{const d=c;if(d.matches!==void 0)return d.matches(s);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(s);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(s);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Vs=t=>t.nodeType!==us&&t.nodeType!==od&&t.nodeType!==As||t.childElementCount===0,Ym=(t,s)=>{const c=s===void 0?document:s.dom;return Vs(c)?[]:at(c.querySelectorAll(t),Ie.fromDom)},zd=(t,s)=>{const c=s===void 0?document:s.dom;return Vs(c)?I.none():I.from(c.querySelector(t)).map(Ie.fromDom)},es=(t,s)=>t.dom===s.dom,Qr=(t,s)=>{const c=t.dom,d=s.dom;return c===d?!1:c.contains(d)},Vi=t=>Ie.fromDom(t.dom.ownerDocument),cr=t=>Vd(t)?t:Vi(t),Wd=t=>Ie.fromDom(cr(t).dom.documentElement),ya=t=>Ie.fromDom(cr(t).dom.defaultView),oa=t=>I.from(t.dom.parentNode).map(Ie.fromDom),Ai=t=>I.from(t.dom.parentElement).map(Ie.fromDom),Xm=(t,s)=>{const c=Ee(s)?s:vt;let d=t.dom;const p=[];for(;d.parentNode!==null&&d.parentNode!==void 0;){const v=d.parentNode,C=Ie.fromDom(v);if(p.push(C),c(C)===!0)break;d=v}return p},Ud=t=>I.from(t.dom.offsetParent).map(Ie.fromDom),sd=t=>I.from(t.dom.nextSibling).map(Ie.fromDom),Ma=t=>at(t.dom.childNodes,Ie.fromDom),Sc=(t,s)=>{const c=t.dom.childNodes;return I.from(c[s]).map(Ie.fromDom)},Hf=t=>Sc(t,0),Ec=(t,s)=>({element:t,offset:s}),rd=(t,s)=>{const c=Ma(t);return c.length>0&&s<c.length?Ec(c[s],0):Ec(t,s)},jd=t=>vl(t)&&ve(t.dom.host),oe=Ee(Element.prototype.attachShadow)&&Ee(Node.prototype.getRootNode),Se=J(oe),Ne=oe?t=>Ie.fromDom(t.dom.getRootNode()):cr,Qe=t=>jd(t)?t:Ie.fromDom(cr(t).dom.body),At=t=>Cn(t).isSome(),Cn=t=>{const s=Ne(t);return jd(s)?I.some(s):I.none()},is=t=>Ie.fromDom(t.dom.host),Cs=t=>{if(Se()&&ve(t.target)){const s=Ie.fromDom(t.target);if(Xo(s)&&ts(s)&&t.composed&&t.composedPath){const c=t.composedPath();if(c)return kn(c)}}return I.from(t.target)},ts=t=>ve(t.dom.shadowRoot),ns=t=>{const s=ki(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const c=s.ownerDocument;return Cn(Ie.fromDom(s)).fold(()=>c.body.contains(s),We(ns,is))},$o=()=>Oi(Ie.fromDom(document)),Oi=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Ie.fromDom(s)},yl=(t,s,c)=>{if(A(c)||le(c)||Me(c))t.setAttribute(s,c+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",c,":: Element ",t),new Error("Attribute value was not simple")},Gn=(t,s,c)=>{yl(t.dom,s,c)},Oo=(t,s)=>{const c=t.dom;ds(s,(d,p)=>{yl(c,p,d)})},Di=(t,s)=>{const c=t.dom.getAttribute(s);return c===null?void 0:c},yr=(t,s)=>I.from(Di(t,s)),Sg=(t,s)=>{const c=t.dom;return c&&c.hasAttribute?c.hasAttribute(s):!1},lr=(t,s)=>{t.dom.removeAttribute(s)},y1=t=>we(t.dom.attributes,(s,c)=>(s[c.name]=c.value,s),{}),id=(t,s,c)=>{if(!A(c))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",c,":: Element ",t),new Error("CSS value must be a string: "+c);Ti(t)&&t.style.setProperty(s,c)},zi=(t,s)=>{Ti(t)&&t.style.removeProperty(s)},Bn=(t,s,c)=>{const d=t.dom;id(d,s,c)},_l=(t,s)=>{const c=t.dom;ds(s,(d,p)=>{id(c,p,d)})},xc=(t,s)=>{const c=t.dom;ds(s,(d,p)=>{d.fold(()=>{zi(c,p)},v=>{id(c,p,v)})})},gt=(t,s)=>{const c=t.dom,p=window.getComputedStyle(c).getPropertyValue(s);return p===""&&!ns(t)?Uc(c,s):p},Uc=(t,s)=>Ti(t)?t.style.getPropertyValue(s):"",Pr=(t,s)=>{const c=t.dom,d=Uc(c,s);return I.from(d).filter(p=>p.length>0)},Wi=t=>{const s={},c=t.dom;if(Ti(c))for(let d=0;d<c.style.length;d++){const p=c.style.item(d);s[p]=c.style[p]}return s},Jm=(t,s,c)=>{const d=Ie.fromTag(t);return Bn(d,s,c),Pr(d,s).isSome()},Co=(t,s)=>{const c=t.dom;zi(c,s),xi(yr(t,"style").map(Jr),"")&&lr(t,"style")},Cu=t=>t.dom.offsetWidth,ad=(t,s)=>{const c=(k,D)=>{if(!Me(D)&&!D.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+D);const B=k.dom;Ti(B)&&(B.style[t]=D+"px")},d=k=>{const D=s(k);if(D<=0||D===null){const B=gt(k,t);return parseFloat(B)||0}return D},p=d,v=(k,D)=>we(D,(B,F)=>{const U=gt(k,F),K=U===void 0?0:parseInt(U,10);return isNaN(K)?B:B+K},0);return{set:c,get:d,getOuter:p,aggregate:v,max:(k,D,B)=>{const F=v(k,B);return D>F?D-F:0}}},Br=ad("height",t=>{const s=t.dom;return ns(t)?s.getBoundingClientRect().height:s.offsetHeight}),Gs=t=>Br.get(t),Su=t=>Br.getOuter(t),T0=(t,s)=>{const c=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],d=Br.max(t,s,c);Bn(t,"max-height",d+"px")},rp=(t,s)=>({left:t,top:s,translate:(d,p)=>rp(t+d,s+p)}),zs=rp,$a=t=>{const s=t.getBoundingClientRect();return zs(s.left,s.top)},Pa=(t,s)=>t!==void 0?t:s!==void 0?s:0,Ui=t=>{const s=t.dom.ownerDocument,c=s.body,d=s.defaultView,p=s.documentElement;if(c===t.dom)return zs(c.offsetLeft,c.offsetTop);const v=Pa(d==null?void 0:d.pageYOffset,p.scrollTop),C=Pa(d==null?void 0:d.pageXOffset,p.scrollLeft),k=Pa(p.clientTop,c.clientTop),D=Pa(p.clientLeft,c.clientLeft);return zl(t).translate(C-D,v-k)},zl=t=>{const s=t.dom,d=s.ownerDocument.body;return d===s?zs(d.offsetLeft,d.offsetTop):ns(t)?$a(s):zs(0,0)},Wl=ad("width",t=>t.dom.offsetWidth),Ss=(t,s)=>Wl.set(t,s),Wr=t=>Wl.get(t),Ni=t=>Wl.getOuter(t),Vf=(t,s)=>{const c=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],d=Wl.max(t,s,c);Bn(t,"max-width",d+"px")},Tc=t=>{let s=!1,c;return(...d)=>(s||(s=!0,c=t.apply(null,d)),c)},gs=(t,s,c,d)=>{const p=t.isiOS()&&/ipad/i.test(c)===!0,v=t.isiOS()&&!p,C=t.isiOS()||t.isAndroid(),k=C||d("(pointer:coarse)"),D=p||!v&&C&&d("(min-device-width:768px)"),B=v||C&&!D,F=s.isSafari()&&t.isiOS()&&/safari/i.test(c)===!1,U=!B&&!D&&!F;return{isiPad:J(p),isiPhone:J(v),isTablet:J(D),isPhone:J(B),isTouch:J(k),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:J(F),isDesktop:J(U)}},Ur=(t,s)=>{for(let c=0;c<t.length;c++){const d=t[c];if(d.test(s))return d}},jc=(t,s)=>{const c=Ur(t,s);if(!c)return{major:0,minor:0};const d=p=>Number(s.replace(c,"$"+p));return Zc(d(1),d(2))},Zd=(t,s)=>{const c=String(s).toLowerCase();return t.length===0?Ul():jc(t,c)},Ul=()=>Zc(0,0),Zc=(t,s)=>({major:t,minor:s}),ur={nu:Zc,detect:Zd,unknown:Ul},ji=(t,s)=>Qn(s.brands,c=>{const d=c.brand.toLowerCase();return je(t,p=>{var v;return d===((v=p.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(p=>({current:p.name,version:ur.nu(parseInt(c.version,10),0)}))}),ei=(t,s)=>{const c=String(s).toLowerCase();return je(t,d=>d.search(c))},Kc=(t,s)=>ei(t,s).map(c=>{const d=ur.detect(c.versionRegexes,s);return{current:c.name,version:d}}),Eu=(t,s)=>ei(t,s).map(c=>{const d=ur.detect(c.versionRegexes,s);return{current:c.name,version:d}}),Go=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oc=t=>s=>zr(s,t),zf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>zr(t,"edge/")&&zr(t,"chrome")&&zr(t,"safari")&&zr(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Go],search:t=>zr(t,"chrome")&&!zr(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>zr(t,"msie")||zr(t,"trident")},{name:"Opera",versionRegexes:[Go,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oc("firefox")},{name:"Safari",versionRegexes:[Go,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(zr(t,"safari")||zr(t,"mobile/"))&&zr(t,"applewebkit")}],jl=[{name:"Windows",search:oc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>zr(t,"iphone")||zr(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:oc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oc("linux"),versionRegexes:[]},{name:"Solaris",search:oc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Kd={browsers:J(zf),oses:J(jl)},Qm="Edge",Zl="Chromium",Ba="IE",cd="Opera",sa="Firefox",Kl="Safari",wl=()=>eh({current:void 0,version:ur.unknown()}),eh=t=>{const s=t.current,c=t.version,d=p=>()=>s===p;return{current:s,version:c,isEdge:d(Qm),isChromium:d(Zl),isIE:d(Ba),isOpera:d(cd),isFirefox:d(sa),isSafari:d(Kl)}},qc={unknown:wl,nu:eh,edge:J(Qm),chromium:J(Zl),ie:J(Ba),opera:J(cd),firefox:J(sa),safari:J(Kl)},th="Windows",Wf="iOS",xu="Android",nh="Linux",oh="macOS",ld="Solaris",Eg="FreeBSD",ge="ChromeOS",sh=()=>ra({current:void 0,version:ur.unknown()}),ra=t=>{const s=t.current,c=t.version,d=p=>()=>s===p;return{current:s,version:c,isWindows:d(th),isiOS:d(Wf),isAndroid:d(xu),isMacOS:d(oh),isLinux:d(nh),isSolaris:d(ld),isFreeBSD:d(Eg),isChromeOS:d(ge)}},ip={unknown:sh,nu:ra,windows:J(th),ios:J(Wf),android:J(xu),linux:J(nh),macos:J(oh),solaris:J(ld),freebsd:J(Eg),chromeos:J(ge)},w1={detect:(t,s,c)=>{const d=Kd.browsers(),p=Kd.oses(),v=s.bind(D=>ji(d,D)).orThunk(()=>Kc(d,t)).fold(qc.unknown,qc.nu),C=Eu(p,t).fold(ip.unknown,ip.nu),k=gs(C,v,t,c);return{browser:v,os:C,deviceType:k}}},Jo=t=>window.matchMedia(t).matches;let sc=Tc(()=>w1.detect(navigator.userAgent,I.from(navigator.userAgentData),Jo));const ti=()=>sc(),ql=(t,s,c,d,p,v,C)=>({target:t,x:s,y:c,stop:d,prevent:p,kill:v,raw:C}),Tu=t=>{const s=Ie.fromDom(Cs(t).getOr(t.target)),c=()=>t.stopPropagation(),d=()=>t.preventDefault(),p=ze(d,c);return ql(s,t.clientX,t.clientY,c,d,p,t)},qd=(t,s)=>c=>{t(c)&&s(Tu(c))},_a=(t,s,c,d,p)=>{const v=qd(c,d);return t.dom.addEventListener(s,v,p),{unbind:Ue(ih,t,s,v,p)}},rh=(t,s,c,d)=>_a(t,s,c,d,!1),Uf=(t,s,c,d)=>_a(t,s,c,d,!0),ih=(t,s,c,d)=>{t.dom.removeEventListener(s,c,d)},Gc=(t,s)=>{oa(t).each(d=>{d.dom.insertBefore(s.dom,t.dom)})},ud=(t,s)=>{sd(t).fold(()=>{oa(t).each(p=>{Ia(p,s)})},d=>{Gc(d,s)})},xg=(t,s)=>{Hf(t).fold(()=>{Ia(t,s)},d=>{t.dom.insertBefore(s.dom,d.dom)})},Ia=(t,s)=>{t.dom.appendChild(s.dom)},ni=(t,s,c)=>{Sc(t,c).fold(()=>{Ia(t,s)},d=>{Gc(d,s)})},ku=(t,s)=>{wt(s,c=>{Ia(t,c)})},Gd=t=>{t.dom.textContent="",wt(Ma(t),s=>{La(s)})},La=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},ia=t=>{const s=t!==void 0?t.dom:document,c=s.body.scrollLeft||s.documentElement.scrollLeft,d=s.body.scrollTop||s.documentElement.scrollTop;return zs(c,d)},ap=(t,s,c)=>{const p=(c!==void 0?c.dom:document).defaultView;p&&p.scrollTo(t,s)},Tg=t=>{const s=t===void 0?window:t;return ti().browser.isFirefox()?I.none():I.from(s.visualViewport)},Yd=(t,s,c,d)=>({x:t,y:s,width:c,height:d,right:t+c,bottom:s+d}),jf=t=>{const s=t===void 0?window:t,c=s.document,d=ia(Ie.fromDom(c));return Tg(s).fold(()=>{const p=s.document.documentElement,v=p.clientWidth,C=p.clientHeight;return Yd(d.left,d.top,v,C)},p=>Yd(Math.max(p.pageLeft,d.left),Math.max(p.pageTop,d.top),p.width,p.height))},cp=()=>Ie.fromDom(document),Cl=(t,s)=>t.view(s).fold(J([]),d=>{const p=t.owner(d),v=Cl(t,p);return[d].concat(v)}),ah=(t,s)=>{const c=s.owner(t),d=Cl(s,c);return I.some(d)};var lp=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?I.none():I.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Ie.fromDom)},owner:t=>Vi(t)});const Xd=t=>{const s=cp(),c=ia(s);return ah(t,lp).fold(Ue(Ui,t),p=>{const v=zl(t),C=Ho(p,(k,D)=>{const B=zl(D);return{left:k.left+B.left,top:k.top+B.top}},{left:0,top:0});return zs(C.left+v.left+c.left,C.top+v.top+c.top)})},kg=(t,s,c)=>({point:t,width:s,height:c}),Gl=(t,s,c,d)=>({x:t,y:s,width:c,height:d}),P=(t,s,c,d)=>({x:t,y:s,width:c,height:d,right:t+c,bottom:s+d}),z=t=>{const s=Ui(t),c=Ni(t),d=Su(t);return P(s.left,s.top,c,d)},te=t=>{const s=Xd(t),c=Ni(t),d=Su(t);return P(s.left,s.top,c,d)},Ce=(t,s)=>{const c=Math.max(t.x,s.x),d=Math.max(t.y,s.y),p=Math.min(t.right,s.right),v=Math.min(t.bottom,s.bottom),C=p-c,k=v-d;return P(c,d,C,k)},Oe=(t,s)=>we(s,(c,d)=>Ce(c,d),t),Ct=()=>jf(window);var Nn=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Un=t=>{const s=v=>v(t),c=J(t),d=()=>p,p={tag:!0,inner:t,fold:(v,C)=>C(t),isValue:xt,isError:vt,map:v=>un.value(v(t)),mapError:d,bind:s,exists:s,forall:s,getOr:c,or:d,getOrThunk:c,orThunk:d,getOrDie:c,each:v=>{v(t)},toOptional:()=>I.some(t)};return p},jn=t=>{const s=()=>c,c={tag:!1,inner:t,fold:(d,p)=>d(t),isValue:vt,isError:xt,map:s,mapError:d=>un.error(d(t)),bind:s,exists:vt,forall:xt,getOr:Te,or:Te,getOrThunk:Tt,orThunk:Tt,getOrDie:ie(String(t)),each:q,toOptional:I.none};return c},un={value:Un,error:jn,fromOption:(t,s)=>t.fold(()=>jn(s),Un)};var Ys;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Ys||(Ys={}));const oi=(t,s,c)=>t.stype===Ys.Error?s(t.serror):c(t.svalue),S1=t=>{const s=[],c=[];return wt(t,d=>{oi(d,p=>c.push(p),p=>s.push(p))}),{values:s,errors:c}},up=(t,s)=>t.stype===Ys.Error?{stype:Ys.Error,serror:s(t.serror)}:t,Ag=(t,s)=>t.stype===Ys.Value?{stype:Ys.Value,svalue:s(t.svalue)}:t,Og=(t,s)=>t.stype===Ys.Value?s(t.svalue):t,jr=(t,s)=>t.stype===Ys.Error?s(t.serror):t,aa=t=>({stype:Ys.Value,svalue:t}),Fa=t=>({stype:Ys.Error,serror:t}),er={fromResult:t=>t.fold(Fa,aa),toResult:t=>oi(t,un.error,un.value),svalue:aa,partition:S1,serror:Fa,bind:Og,bindError:jr,map:Ag,mapError:up,fold:oi},Ha=(t,s,c,d)=>({tag:"field",key:t,newKey:s,presence:c,prop:d}),kc=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),ch=(t,s,c)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return c(t.newKey,t.instantiator)}},_r=(t,s)=>s,k0=(t,s)=>H(t)&&H(s)?Es(t,s):s,E1=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const c={};for(let d=0;d<s.length;d++){const p=s[d];for(const v in p)xo(p,v)&&(c[v]=t(c[v],p[v]))}return c},Es=E1(k0),Au=E1(_r),Uo=()=>({tag:"required",process:{}}),wa=t=>({tag:"defaultedThunk",process:t}),Jd=t=>wa(J(t)),Qd=()=>({tag:"option",process:{}}),Zf=t=>({tag:"mergeWithThunk",process:t}),fo=t=>Zf(J(t)),Ng=(t,s)=>t.length>0?er.svalue(Es(s,Au.apply(void 0,t))):er.svalue(s),Rg=t=>ze(er.serror,Ye)(t),Mg={consolidateObj:(t,s)=>{const c=er.partition(t);return c.errors.length>0?Rg(c.errors):Ng(c.values,s)},consolidateArr:t=>{const s=er.partition(t);return s.errors.length>0?Rg(s.errors):er.svalue(s.values)}},dp=t=>R(t)&&uo(t).length>100?" removed due to size":JSON.stringify(t,null,2),ww=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:J("... (only showing first ten failures)")}]):t;return at(s,c=>"Failed path: ("+c.path.join(" > ")+`)
`+c.getErrorInfo())},Ou=(t,s)=>er.serror([{path:t,getErrorInfo:s}]),Kf=(t,s,c)=>Ou(t,()=>'Could not find valid *required* value for "'+s+'" in '+dp(c)),Cw=(t,s)=>Ou(t,()=>'Choice schema did not contain choice key: "'+s+'"'),fp=(t,s,c)=>Ou(t,()=>'The chosen schema: "'+c+'" did not exist in branches: '+dp(s)),dd=(t,s)=>Ou(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),x1=(t,s)=>Ou(t,J(s)),Yl=t=>{const s=(d,p)=>er.bindError(t(p),v=>x1(d,v)),c=J("val");return{extract:s,toString:c}},ef=Yl(er.svalue),Sw=(t,s,c,d)=>Mt(s,c).fold(()=>Kf(t,c,s),d),$g=(t,s,c,d)=>{const p=Mt(t,s).getOrThunk(()=>c(t));return d(p)},T1=(t,s,c)=>c(Mt(t,s)),k1=(t,s,c,d)=>{const p=Mt(t,s).map(v=>v===!0?c(t):v);return d(p)},A1=(t,s,c,d,p)=>{const v=k=>p.extract(s.concat([d]),k),C=k=>k.fold(()=>er.svalue(I.none()),D=>{const B=p.extract(s.concat([d]),D);return er.map(B,I.some)});switch(t.tag){case"required":return Sw(s,c,d,v);case"defaultedThunk":return $g(c,d,t.process,v);case"option":return T1(c,d,C);case"defaultedOptionThunk":return k1(c,d,t.process,C);case"mergeWithThunk":return $g(c,d,J({}),k=>{const D=Es(t.process(c),k);return v(D)})}},Ri=(t,s,c)=>{const d={},p=[];for(const v of c)ch(v,(C,k,D,B)=>{const F=A1(D,t,s,C,B);er.fold(F,U=>{p.push(...U)},U=>{d[k]=U})},(C,k)=>{d[C]=k(s)});return p.length>0?er.serror(p):er.svalue(d)},Pg=t=>({extract:(d,p)=>t().extract(d,p),toString:()=>t().toString()}),Ir=t=>uo(ba(t,ve)),Ki=t=>{const s=yn(t),c=Ho(t,(p,v)=>ch(v,C=>Es(p,{[C]:!0}),J(p)),{});return{extract:(p,v)=>{const C=le(v)?[]:Ir(v),k=_o(C,D=>!Ei(c,D));return k.length===0?s.extract(p,v):dd(p,k)},toString:s.toString}},yn=t=>({extract:(d,p)=>Ri(d,p,t),toString:()=>`obj{
`+at(t,p=>ch(p,(v,C,k,D)=>v+" -> "+D.toString(),(v,C)=>"state("+v+")")).join(`
`)+"}"}),qt=t=>({extract:(d,p)=>{const v=at(p,(C,k)=>t.extract(d.concat(["["+k+"]"]),C));return Mg.consolidateArr(v)},toString:()=>"array("+t.toString()+")"}),lh=(t,s)=>{const c=s!==void 0?s:Te;return{extract:(v,C)=>{const k=[];for(const D of t){const B=D.extract(v,C);if(B.stype===Ys.Value)return{stype:Ys.Value,svalue:c(B.svalue)};k.push(B)}return Mg.consolidateArr(k)},toString:()=>"oneOf("+at(t,v=>v.toString()).join(", ")+")"}},Yc=(t,s)=>{const c=(v,C)=>qt(Yl(t)).extract(v,C);return{extract:(v,C)=>{const k=uo(C),D=c(v,k);return er.bind(D,B=>{const F=at(B,U=>Ha(U,U,Uo(),s));return yn(F).extract(v,C)})},toString:()=>"setOf("+s.toString()+")"}},uh=(t,s)=>{const c=Tc(s);return{extract:(v,C)=>c().extract(v,C),toString:()=>c().toString()}},mp=ze(qt,yn),Ac=J(ef),Oc=(t,s)=>Yl(c=>{const d=typeof c;return t(c)?er.svalue(c):er.serror(`Expected type: ${s} but got: ${d}`)}),dh=Oc(Me,"number"),tr=Oc(A,"string"),fh=Oc(le,"boolean"),hp=Oc(Ee,"function"),Et=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Et(t[s]));default:return!1}},Ew=Yl(t=>Et(t)?er.svalue(t):er.serror("Expected value to be acceptable for sending via postMessage")),xw=(t,s,c,d)=>Mt(c,d).fold(()=>fp(t,c,d),v=>v.extract(t.concat(["branch: "+d]),s)),rc=(t,s)=>({extract:(p,v)=>Mt(v,t).fold(()=>Cw(p,t),k=>xw(p,v,s,k)),toString:()=>"chooseOn("+t+"). Possible values: "+uo(s)}),mh=()=>qt(ef),tf=t=>Yl(s=>t(s).fold(er.serror,er.svalue)),Xs=(t,s)=>Yc(c=>er.fromResult(t(c)),s),A0=(t,s,c)=>{const d=s.extract([t],c);return er.mapError(d,p=>({input:c,errors:p}))},as=(t,s,c)=>er.toResult(A0(t,s,c)),Yo=t=>t.fold(s=>{throw new Error(hh(s))},Te),qi=(t,s,c)=>Yo(as(t,s,c)),hh=t=>`Errors: 
`+ww(t.errors).join(`
`)+`

Input object: `+dp(t.input),Tr=(t,s)=>rc(t,qo(s,yn)),qf=(t,s)=>uh(t,s),si=Ha,Ca=kc,fd=t=>tf(s=>mo(t,s)?un.value(s):un.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),rt=t=>si(t,t,Uo(),Ac()),Va=(t,s)=>si(t,t,Uo(),s),O0=t=>Va(t,dh),Zr=t=>Va(t,tr),Sl=(t,s)=>si(t,t,Uo(),fd(s)),Bg=t=>Va(t,fh),Dc=t=>Va(t,hp),Tw=(t,s)=>si(t,t,Qd(),Yl(c=>er.serror("The field: "+t+" is forbidden. "+s))),nf=(t,s)=>si(t,t,Uo(),yn(s)),O1=(t,s)=>si(t,t,Uo(),mp(s)),Nc=(t,s)=>si(t,t,Uo(),qt(s)),jo=t=>si(t,t,Qd(),Ac()),Du=(t,s)=>si(t,t,Qd(),s),pp=t=>Du(t,dh),Gi=t=>Du(t,tr),Ig=(t,s)=>Du(t,fd(s)),of=t=>Du(t,hp),md=(t,s)=>Du(t,qt(s)),wr=(t,s)=>Du(t,yn(s)),Lg=(t,s)=>Du(t,Ki(s)),He=(t,s)=>si(t,t,Jd(s),Ac()),Yi=(t,s,c)=>si(t,t,Jd(s),c),gp=(t,s)=>Yi(t,s,dh),Sa=(t,s)=>Yi(t,s,tr),ca=(t,s,c)=>Yi(t,s,fd(c)),hi=(t,s)=>Yi(t,s,fh),dr=(t,s)=>Yi(t,s,hp),Fg=(t,s)=>Yi(t,s,Ew),sf=(t,s,c)=>Yi(t,s,qt(c)),rf=(t,s,c)=>Yi(t,s,yn(c)),xn=t=>{let s=t;return{get:()=>s,set:p=>{s=p}}},O={generate:t=>{if(!j(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],c={};return wt(t,(d,p)=>{const v=uo(d);if(v.length!==1)throw new Error("one and only one name per case");const C=v[0],k=d[C];if(c[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!j(k))throw new Error("case arguments must be an array");s.push(C),c[C]=(...D)=>{const B=D.length;if(B!==k.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+k.length+" ("+k+"), got "+B);return{fold:(...U)=>{if(U.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+U.length);return U[p].apply(null,D)},match:U=>{const K=uo(U);if(s.length!==K.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+K.join(","));if(!Jt(s,ae=>mo(K,ae)))throw new Error("Not all branches were specified when using match. Specified: "+K.join(", ")+`
Required: `+s.join(", "));return U[C].apply(null,D)},log:U=>{console.log(U,{constructors:s,constructor:C,params:D})}}}}),c}};O.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const M=t=>{const s=[],c=[];return wt(t,d=>{d.fold(p=>{s.push(p)},p=>{c.push(p)})}),{errors:s,values:c}},G=(t,s)=>{const c={};return ds(t,(d,p)=>{mo(s,p)||(c[p]=d)}),c},se=(t,s)=>({[t]:s}),xe=t=>{const s={};return wt(t,c=>{s[c.key]=c.value}),s},nt=(t,s)=>G(t,s),St=(t,s)=>se(t,s),jt=t=>xe(t),An=(t,s)=>t.length===0?un.value(s):un.value(Es(s,Au.apply(void 0,t))),Pn=t=>un.error(Ye(t)),Qo=(t,s)=>{const c=M(t);return c.errors.length>0?Pn(c.errors):An(c.values,s)},Vo=t=>Ee(t)?t:vt,Ws=(t,s,c)=>{let d=t.dom;const p=Vo(c);for(;d.parentNode;){d=d.parentNode;const v=Ie.fromDom(d),C=s(v);if(C.isSome())return C;if(p(v))break}return I.none()},Xi=(t,s,c)=>{const d=s(t),p=Vo(c);return d.orThunk(()=>p(t)?I.none():Ws(t,s,p))},Xc=(t,s)=>es(t.element,s.event.target),hd={can:xt,abort:vt,run:q},za=t=>{if(!Ei(t,"can")&&!Ei(t,"abort")&&!Ei(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...hd,...t}},Gf=(t,s)=>(...c)=>we(t,(d,p)=>d&&s(p).apply(void 0,c),!0),Hg=(t,s)=>(...c)=>we(t,(d,p)=>d||s(p).apply(void 0,c),!1),Yf=t=>Ee(t)?{can:xt,abort:vt,run:t}:t,af=t=>{const s=Gf(t,p=>p.can),c=Hg(t,p=>p.abort);return{can:s,abort:c,run:(...p)=>{wt(t,v=>{v.run.apply(void 0,p)})}}},kr=J,Jc=kr("touchstart"),pd=kr("touchmove"),Xf=kr("touchend"),D0=kr("touchcancel"),io=kr("mousedown"),Us=kr("mousemove"),Mi=kr("mouseout"),fr=kr("mouseup"),gd=kr("mouseover"),Xl=kr("focusin"),Jl=kr("focusout"),ic=kr("keydown"),w2=kr("keyup"),ph=kr("input"),Vg=kr("change"),Ql=kr("click"),C2=kr("transitioncancel"),D1=kr("transitionend"),kw=kr("transitionstart"),Aw=kr("selectstart"),Cr=t=>J("alloy."+t),S2={tap:Cr("tap")},cf=Cr("focus"),zg=Cr("blur.post"),bd=Cr("paste.post"),vd=Cr("receive"),El=Cr("execute"),Wg=Cr("focus.item"),N1=S2.tap,ri=Cr("longpress"),bp=Cr("sandbox.close"),Ow=Cr("typeahead.cancel"),vp=Cr("system.init"),Ug=Cr("system.touchmove"),Dw=Cr("system.touchend"),yp=Cr("system.scroll"),Jf=Cr("system.resize"),Rc=Cr("system.attached"),Qf=Cr("system.detached"),lf=Cr("system.dismissRequested"),Nw=Cr("system.repositionRequested"),N0=Cr("focusmanager.shifted"),R1=Cr("slotcontainer.visibility"),R0=Cr("system.external.element.scroll"),jg=Cr("change.tab"),gh=Cr("dismiss.tab"),E2=Cr("highlight"),M1=Cr("dehighlight"),Zo=(t,s)=>{$0(t,t.element,s,{})},bn=(t,s,c)=>{$0(t,t.element,s,c)},_p=t=>{Zo(t,El())},M0=(t,s,c)=>{$0(t,s,c,{})},$0=(t,s,c,d)=>{const p={target:s,...d};t.getSystem().triggerEvent(c,s,p)},Rw=(t,s,c,d)=>{const p={...d,target:s};t.getSystem().triggerEvent(c,s,p)},WO=(t,s,c,d)=>{t.getSystem().triggerEvent(c,s,d.event)},Os=t=>jt(t),P0=(t,s)=>({key:t,value:za({abort:s})}),x2=(t,s)=>({key:t,value:za({can:s})}),$1=t=>({key:t,value:za({run:(s,c)=>{c.event.prevent()}})}),mt=(t,s)=>({key:t,value:za({run:s})}),Zg=(t,s,c)=>({key:t,value:za({run:(d,p)=>{s.apply(void 0,[d,p].concat(c))}})}),UO=t=>s=>mt(t,s),B0=t=>s=>({key:t,value:za({run:(c,d)=>{Xc(c,d)&&s(c,d)}})}),Mw=(t,s)=>mt(t,(c,d)=>{c.getSystem().getByUid(s).each(p=>{WO(p,p.element,t,d)})}),Kg=(t,s,c)=>{const d=s.partUids[c];return Mw(t,d)},qg=(t,s)=>mt(t,(c,d)=>{const p=d.event,v=c.getSystem().getByDom(p.target).getOrThunk(()=>Xi(p.target,k=>c.getSystem().getByDom(k).toOptional(),vt).getOr(c));s(c,v,d)}),uf=t=>mt(t,(s,c)=>{c.cut()}),jO=t=>mt(t,(s,c)=>{c.stop()}),Gg=(t,s)=>B0(t)(s),js=B0(Rc()),Wa=B0(Qf()),ZO=B0(vp()),yd=UO(El()),P1=(t,s)=>{const d=(s||document).createElement("div");return d.innerHTML=t,Ma(Ie.fromDom(d))},wp=t=>t.dom.innerHTML,Cp=(t,s)=>{const d=Vi(t).dom,p=Ie.fromDom(d.createDocumentFragment()),v=P1(s,d);ku(p,v),Gd(t),Ia(t,p)},T2=t=>{const s=Ie.fromTag("div"),c=Ie.fromDom(t.dom.cloneNode(!0));return Ia(s,c),wp(s)},k2=(t,s)=>Ie.fromDom(t.dom.cloneNode(s)),$w=t=>k2(t,!1),KO=t=>{if(jd(t))return"#shadow-root";{const s=$w(t);return T2(s)}},Sp=t=>KO(t),em=(t,s,c)=>es(s,t.element)&&!es(s,c),I0=Os([x2(cf(),(t,s)=>{const c=s.event,d=c.originator,p=c.target;return em(t,d,p)?(console.warn(cf()+` did not get interpreted by the desired target. 
Originator: `+Sp(d)+`
Target: `+Sp(p)+`
Check the `+cf()+" event handlers"),!1):!0})]);var L0=Object.freeze({__proto__:null,events:I0});let B1=0;const Gt=t=>{const c=new Date().getTime(),d=Math.floor(Math.random()*1e9);return B1++,t+"_"+d+B1+String(c)},Ua=J("alloy-id-"),I1=J("data-alloy-id"),A2=Ua(),F0=I1(),Ea=(t,s)=>{const c=Gt(A2+t);return H0(s,c),c},H0=(t,s)=>{Object.defineProperty(t.dom,F0,{value:s,writable:!0})},Nu=t=>{const s=Xo(t)?t.dom[F0]:null;return I.from(s)},tm=t=>Gt(t),Pw=Te,_d=t=>{const s=p=>`The component must be in a context to execute: ${p}`+(t?`
`+Sp(t().element)+" is not in context.":""),c=p=>()=>{throw new Error(s(p))},d=p=>()=>{console.warn(s(p))};return{debugInfo:J("fake"),triggerEvent:d("triggerEvent"),triggerFocus:d("triggerFocus"),triggerEscape:d("triggerEscape"),broadcast:d("broadcast"),broadcastOn:d("broadcastOn"),broadcastEvent:d("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:vt}},Bw=_d(),O2=(t,s,c)=>{const d=c.toString(),p=d.indexOf(")")+1,v=d.indexOf("("),C=d.substring(v+1,p-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Iw(C.slice(0,1).concat(C.slice(3)))}),t},Iw=t=>at(t,s=>$r(s,"/*")?s.substring(0,s.length-2):s),L1=(t,s)=>{const c=t.toString(),d=c.indexOf(")")+1,p=c.indexOf("("),v=c.substring(p+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Iw(v)}),t},df=(t,s)=>{const c=s.toString(),d=c.indexOf(")")+1,p=c.indexOf("("),v=c.substring(p+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Iw(v.slice(1))}),t},F1=Gt("alloy-premade"),V0=t=>(Object.defineProperty(t.element.dom,F1,{value:t.uid,writable:!0}),St(F1,t)),qO=t=>xo(t.dom,F1),D2=t=>Mt(t,F1),Yg=t=>df((s,...c)=>t(s.getApis(),s,...c),t),ja={init:()=>Qc({readState:J("No State required")})},Qc=t=>t,Xg=(t,s)=>{const c=at(s,p=>wr(p.name(),[rt("config"),He("state",ja)])),d=as("component.behaviours",yn(c),t.behaviours).fold(p=>{throw new Error(hh(p)+`
Complete spec:
`+JSON.stringify(t,null,2))},Te);return{list:s,data:qo(d,p=>{const v=p.map(C=>({config:C.config,state:C.state.init(C.config)}));return J(v)})}},N2=t=>t.list,Ep=t=>t.data,z0=(t,s)=>{const c={};return ds(t,(d,p)=>{ds(d,(v,C)=>{const k=Mt(c,C).getOr([]);c[C]=k.concat([s(p,v)])})}),c},Ru=t=>({classes:pe(t.classes)?[]:t.classes,attributes:pe(t.attributes)?{}:t.attributes,styles:pe(t.styles)?{}:t.styles}),Lw=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),W0=(t,s,c,d)=>{const p={...s};wt(c,F=>{p[F.name()]=F.exhibit(t,d)});const v=z0(p,(F,U)=>({name:F,modification:U})),C=F=>Ho(F,(U,K)=>({...K.modification,...U}),{}),k=Ho(v.classes,(F,U)=>U.modification.concat(F),[]),D=C(v.attributes),B=C(v.styles);return Ru({classes:k,attributes:D,styles:B})},Jg=(t,s,c,d)=>{try{const p=vn(c,(v,C)=>{const k=v[s],D=C[s],B=d.indexOf(k),F=d.indexOf(D);if(B===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(d,null,2));if(F===-1)throw new Error("The ordering for "+t+" does not have an entry for "+D+`.
Order specified: `+JSON.stringify(d,null,2));return B<F?-1:F<B?1:0});return un.value(p)}catch(p){return un.error([p])}},Fw=(t,s)=>({handler:t,purpose:s}),nm=(t,s)=>({cHandler:t,purpose:s}),R2=(t,s)=>nm(Ue.apply(void 0,[t.handler].concat(s)),t.purpose),U0=t=>t.cHandler,j0=(t,s)=>({name:t,handler:s}),Hw=(t,s)=>{const c={};return wt(t,d=>{c[d.name()]=d.handlers(s)}),c},bs=(t,s,c)=>{const d={...c,...Hw(s,t)};return z0(d,j0)},Z0=(t,s,c,d)=>{const p=bs(t,c,d);return $2(p,s)},GO=t=>{const s=Yf(t);return(c,d,...p)=>{const v=[c,d].concat(p);s.abort.apply(void 0,v)?d.stop():s.can.apply(void 0,v)&&s.run.apply(void 0,v)}},M2=(t,s)=>un.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(at(s,c=>c.name),null,2)]),Qg=(t,s,c)=>{const d=s[c];return d?Jg("Event: "+c,"name",t,d).map(p=>{const v=at(p,C=>C.handler);return af(v)}):M2(c,t)},$2=(t,s)=>{const c=Fl(t,(d,p)=>(d.length===1?un.value(d[0].handler):Qg(d,s,p)).map(C=>{const k=GO(C),D=d.length>1?_o(s[p],B=>ks(d,F=>F.name===B)).join(" > "):d[0].name;return St(p,Fw(k,D))}));return Qo(c,{})},el="alloy.base.behaviour",pi=yn([si("dom","dom",Uo(),yn([rt("tag"),He("styles",{}),He("classes",[]),He("attributes",{}),jo("value"),jo("innerHtml")])),rt("components"),rt("uid"),He("events",{}),He("apis",{}),si("eventOrder","eventOrder",fo({[El()]:["disabling",el,"toggling","typeaheadevents"],[cf()]:[el,"focusing","keying"],[vp()]:[el,"disabling","toggling","representing"],[ph()]:[el,"representing","streaming","invalidating"],[Qf()]:[el,"representing","item-events","tooltipping"],[io()]:["focusing",el,"item-type-events"],[Jc()]:["focusing",el,"item-type-events"],[gd()]:["item-type-events","tooltipping"],[vd()]:["receiving","reflecting","tooltipping"]}),Ac()),jo("domModification")]),Vw=t=>as("custom.definition",pi,t),P2=t=>({...t.dom,uid:t.uid,domChildren:at(t.components,s=>s.element)}),eb=t=>t.domModification.fold(()=>Ru({}),Ru),K0=t=>t.events,zw=(t,s)=>{const c=Di(t,s);return c===void 0||c===""?[]:c.split(" ")},Tz=(t,s,c)=>{const p=zw(t,s).concat([c]);return Gn(t,s,p.join(" ")),!0},q0=(t,s,c)=>{const d=_o(zw(t,s),p=>p!==c);return d.length>0?Gn(t,s,d.join(" ")):lr(t,s),!1},bh=t=>t.dom.classList!==void 0,B2=t=>zw(t,"class"),gP=(t,s)=>Tz(t,"class",s),bP=(t,s)=>q0(t,"class",s),Kr=(t,s)=>{bh(t)?t.dom.classList.add(s):gP(t,s)},wd=t=>{(bh(t)?t.dom.classList:B2(t)).length===0&&lr(t,"class")},zo=(t,s)=>{bh(t)?t.dom.classList.remove(s):bP(t,s),wd(t)},ac=(t,s)=>bh(t)&&t.dom.classList.contains(s),ff=(t,s)=>{wt(s,c=>{Kr(t,c)})},Ji=(t,s)=>{wt(s,c=>{zo(t,c)})},om=(t,s)=>Jt(s,c=>ac(t,c)),Ww=t=>{const s=t.dom.classList,c=new Array(s.length);for(let d=0;d<s.length;d++){const p=s.item(d);p!==null&&(c[d]=p)}return c},vh=t=>bh(t)?Ww(t):B2(t),cc=t=>t.dom.value,xl=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},ii=(t,s,c)=>Sc(t,s).map(p=>{if(c.exists(C=>!es(C,p))){const C=c.map(nc).getOr("span"),k=Ie.fromTag(C);return Gc(p,k),k}else return p}),tb=(t,s,c)=>{c.fold(()=>Ia(t,s),d=>{es(d,s)||(Gc(d,s),La(d))})},yh=(t,s,c)=>{const d=at(s,c),p=Ma(t);return wt(p.slice(d.length),La),d},Uw=(t,s,c,d)=>{const p=Sc(t,s),v=d(c,p),C=ii(t,s,p);return tb(t,v.element,C),v},I2=(t,s,c)=>yh(t,s,(d,p)=>Uw(t,p,d,c)),sm=(t,s)=>yh(t,s,(c,d)=>{const p=Sc(t,d);return tb(t,c,p),c}),Cd=(t,s)=>{const c=uo(t),d=uo(s),p=st(d,c),v=ms(t,(C,k)=>!xo(s,k)||C!==s[k]).t;return{toRemove:p,toSet:v}},L2=(t,s)=>{const{class:c,style:d,...p}=y1(s),{toSet:v,toRemove:C}=Cd(t.attributes,p),k=()=>{wt(C,ft=>lr(s,ft)),Oo(s,v)},D=Wi(s),{toSet:B,toRemove:F}=Cd(t.styles,D),U=()=>{wt(F,ft=>Co(s,ft)),_l(s,B)},K=vh(s),ee=st(K,t.classes),ae=st(t.classes,K),be=()=>{ff(s,ae),Ji(s,ee)},Fe=ft=>{Cp(s,ft)},$e=()=>{const ft=t.domChildren;sm(s,ft)},De=()=>{const ft=s,Xe=t.value.getOrUndefined();Xe!==cc(ft)&&xl(ft,Xe??"")};return k(),be(),U(),t.innerHtml.fold($e,Fe),De(),s},jw=t=>{const s=Ie.fromTag(t.tag);Oo(s,t.attributes),ff(s,t.classes),_l(s,t.styles),t.innerHtml.each(d=>Cp(s,d));const c=t.domChildren;return ku(s,c),t.value.each(d=>{xl(s,d)}),s},YO=(t,s)=>{try{const c=L2(t,s);return I.some(c)}catch{return I.none()}},XO=t=>t.innerHtml.isSome()&&t.domChildren.length>0,JO=(t,s)=>{const c=p=>nc(p)===t.tag&&!XO(t)&&!qO(p),d=s.filter(c).bind(p=>YO(t,p)).getOrThunk(()=>jw(t));return H0(d,t.uid),d},Zw=t=>{const s=Mt(t,"behaviours").getOr({});return Ae(uo(s),c=>{const d=s[c];return ve(d)?[d.me]:[]})},H1=(t,s)=>Xg(t,s),QO=t=>{const s=Zw(t);return H1(t,s)},eD=(t,s,c)=>{const d=P2(t),p=eb(t),v={"alloy.base.modification":p},C=s.length>0?W0(c,v,s,d):p;return Lw(d,C)},Kw=(t,s,c)=>{const d={"alloy.base.behaviour":K0(t)};return Z0(c,t.eventOrder,s,d).getOrDie()},_h=(t,s)=>{const c=()=>ft,d=xn(Bw),p=Yo(Vw(t)),v=QO(t),C=N2(v),k=Ep(v),D=eD(p,C,k),B=JO(D,s),F=Kw(p,C,k),U=xn(p.components),K=Xe=>{d.set(Xe)},ee=()=>{d.set(_d(c))},ae=()=>{const Xe=Ma(B),Nt=Ae(Xe,_t=>d.get().getByDom(_t).fold(()=>[],tn));U.set(Nt)},be=Xe=>{const Nt=k;return(Ee(Nt[Xe.name()])?Nt[Xe.name()]:()=>{throw new Error("Could not find "+Xe.name()+" in "+JSON.stringify(t,null,2))})()},Fe=Xe=>Ee(k[Xe.name()]),$e=()=>p.apis,De=Xe=>k[Xe]().map(Nt=>Nt.state.readState()).getOr("not enabled"),ft={uid:t.uid,getSystem:d.get,config:be,hasConfigured:Fe,spec:t,readState:De,getApis:$e,connect:K,disconnect:ee,element:B,syncComponents:ae,components:U.get,events:F};return ft},tD=(t,s)=>{const c=Mt(t,"components").getOr([]);return s.fold(()=>at(c,la),d=>at(c,(p,v)=>rm(p,Sc(d,v))))},G0=(t,s)=>{const{events:c,...d}=Pw(t),p=tD(d,s),v={...d,events:{...L0,...c},components:p};return un.value(_h(v,s))},Ar=t=>{const s=Ie.fromText(t);return Y0({element:s})},Y0=t=>{const s=qi("external.component",Ki([rt("element"),jo("uid")]),t),c=xn(_d()),d=k=>{c.set(k)},p=()=>{c.set(_d(()=>C))},v=s.uid.getOrThunk(()=>tm("external"));H0(s.element,v);const C={uid:v,getSystem:c.get,config:I.none,hasConfigured:vt,connect:d,disconnect:p,getApis:()=>({}),element:s.element,spec:t,readState:J("No state"),syncComponents:q,components:J([]),events:{}};return V0(C)},wh=tm,Ch=t=>xo(t,"uid"),rm=(t,s)=>D2(t).getOrThunk(()=>{const c=Ch(t)?t:{uid:wh(""),...t};return G0(c,s).getOrDie()}),la=t=>rm(t,I.none()),eu=V0;var xp=(t,s,c,d,p)=>t(c,d)?I.some(c):Ee(p)&&p(c)?I.none():s(c,d,p);const nb=(t,s,c)=>{let d=t.dom;const p=Ee(c)?c:vt;for(;d.parentNode;){d=d.parentNode;const v=Ie.fromDom(d);if(s(v))return I.some(v);if(p(v))break}return I.none()},ob=(t,s,c)=>xp((p,v)=>v(p),nb,t,s,c),nD=(t,s)=>{const c=p=>s(Ie.fromDom(p));return je(t.dom.childNodes,c).map(Ie.fromDom)},F2=(t,s)=>{const c=d=>{for(let p=0;p<d.childNodes.length;p++){const v=Ie.fromDom(d.childNodes[p]);if(s(v))return I.some(v);const C=c(d.childNodes[p]);if(C.isSome())return C}return I.none()};return c(t.dom)},qw=(t,s,c)=>ob(t,s,c).isSome(),im=(t,s,c)=>nb(t,d=>ar(d,s),c),X0=(t,s)=>nD(t,c=>ar(c,s)),mr=(t,s)=>zd(s,t),xa=(t,s,c)=>xp((p,v)=>ar(p,v),im,t,s,c),V1="aria-controls",H2=t=>ob(t,c=>{if(!Xo(c))return!1;const d=Di(c,"id");return d!==void 0&&d.indexOf(V1)>-1}).bind(c=>{const d=Di(c,"id"),p=Ne(c);return mr(p,`[${V1}="${d}"]`)}),Gw=()=>{const t=Gt(V1);return{id:t,link:d=>{Gn(d,V1,t)},unlink:d=>{lr(d,V1)}}},oD=(t,s)=>H2(s).exists(c=>Tp(t,c)),Tp=(t,s)=>qw(s,c=>es(c,t.element),vt)||oD(t,s),Yw="unknown";var kp;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(kp||(kp={}));const J0=xn({}),sD=(t,s)=>{const c=[],d=new Date().getTime();return{logEventCut:(p,v,C)=>{c.push({outcome:"cut",target:v,purpose:C})},logEventStopped:(p,v,C)=>{c.push({outcome:"stopped",target:v,purpose:C})},logNoParent:(p,v,C)=>{c.push({outcome:"no-parent",target:v,purpose:C})},logEventNoHandlers:(p,v)=>{c.push({outcome:"no-handlers-left",target:v})},logEventResponse:(p,v,C)=>{c.push({outcome:"response",purpose:C,target:v})},write:()=>{const p=new Date().getTime();mo(["mousemove","mouseover","mouseout",vp()],t)||console.log(t,{event:t,time:p-d,target:s.dom,sequence:at(c,v=>mo(["cut","stopped","response"],v.outcome)?"{"+v.purpose+"} "+v.outcome+" at ("+Sp(v.target)+")":v.outcome)})}}},sb=(t,s,c)=>{switch(Mt(J0.get(),t).orThunk(()=>{const p=uo(J0.get());return Qn(p,v=>t.indexOf(v)>-1?I.some(J0.get()[v]):I.none())}).getOr(kp.NORMAL)){case kp.NORMAL:return c(W1());case kp.LOGGING:{const p=sD(t,s),v=c(p);return p.write(),v}case kp.STOP:return!0}},rD=["alloy/data/Fields","alloy/debugging/Debugging"],z1=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return je(s,c=>c.indexOf("alloy")>0&&!ks(rD,d=>c.indexOf(d)>-1)).getOr(Yw)}else return Yw},Q0={logEventCut:q,logEventStopped:q,logNoParent:q,logEventNoHandlers:q,logEventResponse:q,write:q},rb=(t,s,c)=>sb(t,s,c),W1=J(Q0),ey=J([rt("menu"),rt("selectedMenu")]),ib=J([rt("item"),rt("selectedItem")]);J(yn(ib().concat(ey())));const V2=J(yn(ib())),ty=nf("initSize",[rt("numColumns"),rt("numRows")]),vP=()=>Va("markers",V2()),mf=()=>nf("markers",[rt("backgroundMenu")].concat(ey()).concat(ib())),Ap=t=>nf("markers",at(t,rt)),Mc=(t,s,c)=>(z1(),si(s,s,c,tf(d=>un.value((...p)=>d.apply(void 0,p))))),ho=t=>Mc("onHandler",t,Jd(q)),tl=t=>Mc("onKeyboardHandler",t,Jd(I.none)),Je=t=>Mc("onHandler",t,Uo()),ab=t=>Mc("onKeyboardHandler",t,Uo()),Zs=(t,s)=>Ca(t,J(s)),z2=t=>Ca(t,Te),ny=J(ty),sr=(t,s,c,d,p,v,C,k=!1)=>({x:t,y:s,bubble:c,direction:d,placement:p,restriction:v,label:`${C}-${p}`,alwaysFit:k}),am=O.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),oy=(t,s,c,d,p,v,C,k,D)=>t.fold(s,c,d,p,v,C,k,D),Xw=(t,s,c,d)=>t.fold(s,s,d,d,s,d,c,c),Jw=(t,s,c,d)=>t.fold(s,d,s,d,c,c,s,d),sy=am.southeast,ry=am.southwest,Sh=am.northeast,U1=am.northwest,Qw=am.south,iy=am.north,W2=am.east,U2=am.west,Op=(t,s,c,d)=>{const p=t+s;return p>d?c:p<c?d:p},Za=(t,s,c)=>Math.min(Math.max(t,s),c),yP=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Ds=(t,s)=>Bt(["left","right","top","bottom"],c=>Mt(s,c).map(d=>yP(t,d))),iD=(t,s,c)=>{const d=(D,B)=>s[D].map(F=>{const U=D==="top"||D==="bottom",K=U?c.top:c.left,ae=(D==="left"||D==="top"?Math.max:Math.min)(F,B)+K;return U?Za(ae,t.y,t.bottom):Za(ae,t.x,t.right)}).getOr(B),p=d("left",t.x),v=d("top",t.y),C=d("right",t.right),k=d("bottom",t.bottom);return P(p,v,C-p,k-v)},hf="layout",eC=t=>t.x,tC=(t,s)=>t.x+t.width/2-s.width/2,j1=(t,s)=>t.x+t.width-s.width,Z1=(t,s)=>t.y-s.height,ay=t=>t.y+t.height,j2=(t,s)=>t.y+t.height/2-s.height/2,aD=t=>t.x+t.width,nC=(t,s)=>t.x-s.width,$i=(t,s,c)=>sr(eC(t),ay(t),c.southeast(),sy(),"southeast",Ds(t,{left:1,top:3}),hf),gi=(t,s,c)=>sr(j1(t,s),ay(t),c.southwest(),ry(),"southwest",Ds(t,{right:0,top:3}),hf),Ka=(t,s,c)=>sr(eC(t),Z1(t,s),c.northeast(),Sh(),"northeast",Ds(t,{left:1,bottom:2}),hf),lc=(t,s,c)=>sr(j1(t,s),Z1(t,s),c.northwest(),U1(),"northwest",Ds(t,{right:0,bottom:2}),hf),Bs=(t,s,c)=>sr(tC(t,s),Z1(t,s),c.north(),iy(),"north",Ds(t,{bottom:2}),hf),ai=(t,s,c)=>sr(tC(t,s),ay(t),c.south(),Qw(),"south",Ds(t,{top:3}),hf),qa=(t,s,c)=>sr(aD(t),j2(t,s),c.east(),W2(),"east",Ds(t,{left:0}),hf),Z2=(t,s,c)=>sr(nC(t,s),j2(t,s),c.west(),U2(),"west",Ds(t,{right:1}),hf),Sd=()=>[$i,gi,Ka,lc,ai,Bs,qa,Z2],K2=()=>[gi,$i,lc,Ka,ai,Bs,qa,Z2],q2=()=>[Ka,lc,$i,gi,Bs,ai],G2=()=>[lc,Ka,gi,$i,Bs,ai],oC=()=>[$i,gi,Ka,lc,ai,Bs],cy=()=>[gi,$i,lc,Ka,ai,Bs],ly=(t,s)=>s.universal?t:_o(t,c=>mo(s.channels,c));var Y2=Object.freeze({__proto__:null,events:t=>Os([mt(vd(),(s,c)=>{const d=t.channels,p=uo(d),v=c,C=ly(p,v);wt(C,k=>{const D=d[k],B=D.schema,F=qi("channel["+k+`] data
Receiver: `+Sp(s.element),B,v.data);D.onReceive(s,F)})})])}),cD=[Va("channels",Xs(un.value,Ki([Je("onReceive"),He("schema",Ac())])))];const sC=(t,s,c)=>yd(d=>{c(d,t,s)}),rC=(t,s,c)=>ZO((d,p)=>{c(d,t,s)}),lD=(t,s,c,d,p,v)=>{const C=Ki(t),k=wr(s,[Lg("config",t)]);return uy(C,k,s,c,d,p,v)},uD=(t,s,c,d,p,v)=>{const C=t,k=wr(s,[Du("config",t)]);return uy(C,k,s,c,d,p,v)},X2=(t,s,c)=>O2((p,...v)=>{const C=[p].concat(v);return p.config({name:J(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+c)},k=>{const D=Array.prototype.slice.call(C,1);return s.apply(void 0,[p,k.config,k.state].concat(D))})},c,s),Yt=t=>({key:t,value:void 0}),uy=(t,s,c,d,p,v,C)=>{const k=U=>Ei(U,c)?U[c]():I.none(),D=qo(p,(U,K)=>X2(c,U,K)),F={...qo(v,(U,K)=>L1(U,K)),...D,revoke:Ue(Yt,c),config:U=>{const K=qi(c+"-config",t,U);return{key:c,value:{config:K,me:F,configAsRaw:Tc(()=>qi(c+"-config",t,U)),initialConfig:U,state:C}}},schema:J(s),exhibit:(U,K)=>Hl(k(U),Mt(d,"exhibit"),(ee,ae)=>ae(K,ee.config,ee.state)).getOrThunk(()=>Ru({})),name:J(c),handlers:U=>k(U).map(K=>Mt(d,"events").getOr(()=>({}))(K.config,K.state)).getOr({})};return F},Dt=t=>jt(t),dD=Ki([rt("fields"),rt("name"),He("active",{}),He("apis",{}),He("state",ja),He("extra",{})]),Qi=t=>{const s=qi("Creating behaviour: "+t.name,dD,t);return lD(s.fields,s.name,s.active,s.apis,s.extra,s.state)},fD=Ki([rt("branchKey"),rt("branches"),rt("name"),He("active",{}),He("apis",{}),He("state",ja),He("extra",{})]),iC=t=>{const s=qi("Creating behaviour: "+t.name,fD,t);return uD(Tr(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},mD=J(void 0),uc=Qi({fields:cD,name:"receiving",active:Y2});var J2=Object.freeze({__proto__:null,exhibit:(t,s)=>Ru({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Sr=t=>t.dom.focus(),Eh=t=>t.dom.blur(),cb=t=>{const s=Ne(t).dom;return t.dom===s.activeElement},pf=(t=cp())=>I.from(t.dom.activeElement).map(Ie.fromDom),Mu=t=>pf(Ne(t)).filter(s=>t.dom.contains(s.dom)),K1=(t,s)=>{const c=Ne(s),d=pf(c).bind(v=>{const C=k=>es(v,k);return C(s)?I.some(s):F2(s,C)}),p=t(s);return d.each(v=>{pf(c).filter(C=>es(C,v)).fold(()=>{Sr(v)},q)}),p},nl=(t,s,c,d,p)=>{const v=C=>C+"px";return{position:t,left:s.map(v),top:c.map(v),right:d.map(v),bottom:p.map(v)}},Q2=t=>({...t,position:I.some(t.position)}),cC=(t,s)=>{xc(t,Q2(s))},lC=O.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),uC=(t,s,c,d,p,v)=>{const C=s.rect,k=C.x-c,D=C.y-d,B=C.width,F=C.height,U=p-(k+B),K=v-(D+F),ee=I.some(k),ae=I.some(D),be=I.some(U),Fe=I.some(K),$e=I.none();return oy(s.direction,()=>nl(t,ee,ae,$e,$e),()=>nl(t,$e,ae,be,$e),()=>nl(t,ee,$e,$e,Fe),()=>nl(t,$e,$e,be,Fe),()=>nl(t,ee,ae,$e,$e),()=>nl(t,ee,$e,$e,Fe),()=>nl(t,ee,ae,$e,$e),()=>nl(t,$e,ae,be,$e))},ex=(t,s)=>t.fold(()=>{const c=s.rect;return nl("absolute",I.some(c.x),I.some(c.y),I.none(),I.none())},(c,d,p,v)=>uC("absolute",s,c,d,p,v),(c,d,p,v)=>uC("fixed",s,c,d,p,v)),dC=(t,s)=>{const c=Ue(Xd,s),d=t.fold(c,c,()=>{const C=ia();return Xd(s).translate(-C.left,-C.top)}),p=Ni(s),v=Su(s);return P(d.left,d.top,p,v)},hD=(t,s)=>s.fold(()=>t.fold(Ct,Ct,P),c=>t.fold(J(c),J(c),()=>{const d=tx(t,c.x,c.y);return P(d.left,d.top,c.width,c.height)})),tx=(t,s,c)=>{const d=zs(s,c),p=()=>{const v=ia();return d.translate(-v.left,-v.top)};return t.fold(J(d),J(d),p)},pD=(t,s,c,d)=>t.fold(s,c,d);lC.none;const gD=lC.relative,fC=lC.fixed,nx=(t,s)=>({anchorBox:t,origin:s}),bD=(t,s)=>nx(t,s),dy="data-alloy-placement",vD=(t,s)=>{Gn(t,dy,s)},ox=t=>yr(t,dy),yD=t=>lr(t,dy),q1=O.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),_D=(t,s)=>{const{x:c,y:d,right:p,bottom:v}=s,{x:C,y:k,right:D,bottom:B,width:F,height:U}=t,K=C>=c&&C<=p,ee=k>=d&&k<=v,ae=K&&ee,be=D<=p&&D>=c,Fe=B<=v&&B>=d,$e=be&&Fe,De=Math.min(F,C>=c?p-C:D-c),ft=Math.min(U,k>=d?v-k:B-d);return{originInBounds:ae,sizeInBounds:$e,visibleW:De,visibleH:ft}},wD=(t,s)=>{const{x:c,y:d,right:p,bottom:v}=s,{x:C,y:k,width:D,height:B}=t,F=Math.max(c,p-D),U=Math.max(d,v-B),K=Za(C,c,F),ee=Za(k,d,U),ae=Math.min(K+D,p)-K,be=Math.min(ee+B,v)-ee;return P(K,ee,ae,be)},sx=(t,s,c)=>{const d=J(s.bottom-c.y),p=J(c.bottom-s.y),v=Xw(t,p,p,d),C=J(s.right-c.x),k=J(c.right-s.x);return{maxWidth:Jw(t,k,k,C),maxHeight:v}},CD=(t,s,c,d)=>{const p=t.bubble,v=p.offset,C=iD(d,t.restriction,v),k=t.x+v.left,D=t.y+v.top,B=P(k,D,s,c),{originInBounds:F,sizeInBounds:U,visibleW:K,visibleH:ee}=_D(B,C),ae=F&&U,be=ae?B:wD(B,C),Fe=be.width>0&&be.height>0,{maxWidth:$e,maxHeight:De}=sx(t.direction,be,d),ft={rect:be,maxHeight:De,maxWidth:$e,direction:t.direction,placement:t.placement,classes:{on:p.classesOn,off:p.classesOff},layout:t.label,testY:D};return ae||t.alwaysFit?q1.fit(ft):q1.nofit(ft,K,ee,Fe)},SD=(t,s,c,d,p,v)=>{const C=d.width,k=d.height,D=(F,U,K,ee,ae)=>{const be=F(c,d,p,t,v),Fe=CD(be,C,k,v);return Fe.fold(J(Fe),($e,De,ft,Xe)=>(ae===Xe?ft>ee||De>K:!ae&&Xe)?Fe:q1.nofit(U,K,ee,ae))};return we(s,(F,U)=>{const K=Ue(D,U);return F.fold(J(F),K)},q1.nofit({rect:c,maxHeight:d.height,maxWidth:d.width,direction:sy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:c.y},-1,-1,!1)).fold(Te,Te)},G1=t=>{const s=xn(I.none()),c=()=>s.get().each(t);return{clear:()=>{c(),s.set(I.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:k=>{c(),s.set(I.some(k))}}},rx=()=>G1(t=>t.destroy()),dc=()=>G1(t=>t.unbind()),Ks=()=>{const t=G1(q);return{...t,on:c=>t.get().each(c)}},fy=xt,fc=(t,s,c)=>rh(t,s,fy,c),Dp=(t,s,c)=>Uf(t,s,fy,c),Y1=Tu,Pi=["top","bottom","right","left"],my="data-alloy-transition-timer",ix=(t,s)=>om(t,s.classes),ED=(t,s,c)=>c.exists(d=>{const p=t.mode;return p==="all"?!0:d[p]!==s[p]}),hy=(t,s)=>{const c=d=>parseFloat(d).toFixed(3);return Hs(s,(d,p)=>{const v=t[p].map(c),C=d.map(c);return!Lc(v,C)}).isSome()},ax=t=>{const s=v=>{const k=gt(t,v).split(/\s*,\s*/);return _o(k,va)},c=v=>{if(A(v)&&/^[\d.]+/.test(v)){const C=parseFloat(v);return $r(v,"ms")?C:C*1e3}else return 0},d=s("transition-delay"),p=s("transition-duration");return we(p,(v,C,k)=>{const D=c(d[k])+c(C);return Math.max(v,D)},0)},xD=(t,s)=>{const c=dc(),d=dc();let p;const v=B=>{var F;const U=(F=B.raw.pseudoElement)!==null&&F!==void 0?F:"";return es(B.target,t)&&qs(U)&&mo(Pi,B.raw.propertyName)},C=B=>{if(me(B)||v(B)){c.clear(),d.clear();const F=B==null?void 0:B.raw.type;(me(F)||F===D1())&&(clearTimeout(p),lr(t,my),Ji(t,s.classes))}},k=fc(t,kw(),B=>{v(B)&&(k.unbind(),c.set(fc(t,D1(),C)),d.set(fc(t,C2(),C)))}),D=ax(t);requestAnimationFrame(()=>{p=setTimeout(C,D+17),Gn(t,my,p)})},TD=(t,s)=>{ff(t,s.classes),yr(t,my).each(c=>{clearTimeout(parseInt(c,10)),lr(t,my)}),xD(t,s)},kD=(t,s,c,d,p,v)=>{const C=ED(d,p,v);if(C||ix(t,d)){Bn(t,"position",c.position);const k=dC(s,t),D=ex(s,{...p,rect:k}),B=Bt(Pi,F=>D[F]);hy(c,B)&&(xc(t,B),C&&TD(t,d),Cu(t))}else Ji(t,d.classes)},AD=t=>({width:Ni(t),height:Su(t)}),X1=(t,s,c,d)=>{Co(s,"max-height"),Co(s,"max-width");const p=AD(s);return SD(s,d.preference,t,p,c,d.bounds)},mC=(t,s)=>{const c=s.classes;Ji(t,c.off),ff(t,c.on)},wP=(t,s,c)=>{const d=c.maxHeightFunction;d(t,s.maxHeight)},xh=(t,s,c)=>{const d=c.maxWidthFunction;d(t,s.maxWidth)},py=(t,s,c)=>{const d=ex(c.origin,s);c.transition.each(p=>{kD(t,c.origin,d,p,s,c.lastPlacement)}),cC(t,d)},OD=(t,s)=>{vD(t,s.placement)},cx=(t,s)=>{T0(t,Math.floor(s))},DD=J((t,s)=>{cx(t,s),_l(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Np=J((t,s)=>{cx(t,s)}),J1=(t,s,c)=>t[s]===void 0?c:t[s],ND=(t,s,c,d,p,v,C,k)=>{const D=J1(C,"maxHeightFunction",DD()),B=J1(C,"maxWidthFunction",q),F=t.anchorBox,U=t.origin,K={bounds:hD(U,v),origin:U,preference:d,maxHeightFunction:D,maxWidthFunction:B,lastPlacement:p,transition:k};return RD(F,s,c,K)},RD=(t,s,c,d)=>{const p=X1(t,s,c,d);return py(s,p,d),OD(s,p),mC(s,p),wP(s,p,d),xh(s,p,d),{layout:p.layout,placement:p.placement}},MD=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],cm=(t,s,c,d=1)=>{const p=t*d,v=s*d,C=D=>Mt(c,D).getOr([]),k=(D,B,F)=>{const U=st(MD,F);return{offset:zs(D,B),classesOn:Ae(F,C),classesOff:Ae(U,C)}};return{southeast:()=>k(-t,s,["top","alignLeft"]),southwest:()=>k(t,s,["top","alignRight"]),south:()=>k(-t/2,s,["top","alignCentre"]),northeast:()=>k(-t,-s,["bottom","alignLeft"]),northwest:()=>k(t,-s,["bottom","alignRight"]),north:()=>k(-t/2,-s,["bottom","alignCentre"]),east:()=>k(t,-s/2,["valignCentre","left"]),west:()=>k(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>k(p,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-p,v,["top","alignRight","inset"]),insetNorth:()=>k(-p/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(p,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-p,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-p/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-p,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(p,-v/2,["valignCentre","left","inset"])}},gy=()=>cm(0,0,{}),by=Te,hC=(t,s)=>c=>lx(c)==="rtl"?s:t,lx=t=>gt(t,"direction")==="rtl"?"rtl":"ltr";var tu;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(tu||(tu={}));const vy="data-alloy-vertical-dir",ux=t=>qw(t,s=>Xo(s)&&Di(s,"data-alloy-vertical-dir")===tu.BottomToTop),lm=()=>wr("layouts",[rt("onLtr"),rt("onRtl"),jo("onBottomLtr"),jo("onBottomRtl")]),Rp=(t,s,c,d,p,v,C)=>{const k=C.map(ux).getOr(!1),D=s.layouts.map(ee=>ee.onLtr(t)),B=s.layouts.map(ee=>ee.onRtl(t)),F=k?s.layouts.bind(ee=>ee.onBottomLtr.map(ae=>ae(t))).or(D).getOr(p):D.getOr(c),U=k?s.layouts.bind(ee=>ee.onBottomRtl.map(ae=>ae(t))).or(B).getOr(v):B.getOr(d);return hC(F,U)(t)},Q1=(t,s,c)=>{const d=s.hotspot,p=dC(c,d.element),v=Rp(t.element,s,oC(),cy(),q2(),G2(),I.some(s.hotspot.element));return I.some(by({anchorBox:p,bubble:s.bubble.getOr(gy()),overrides:s.overrides,layouts:v}))};var pC=[rt("hotspot"),jo("bubble"),He("overrides",{}),lm(),Zs("placement",Q1)];const dx=(t,s,c)=>{const d=tx(c,s.x,s.y),p=P(d.left,d.top,s.width,s.height),v=Rp(t.element,s,Sd(),K2(),Sd(),K2(),I.none());return I.some(by({anchorBox:p,bubble:s.bubble,overrides:s.overrides,layouts:v}))};var $D=[rt("x"),rt("y"),He("height",0),He("width",0),He("bubble",gy()),He("overrides",{}),lm(),Zs("placement",dx)];const fx=O.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),PD=t=>t.fold(Te,(s,c,d)=>s.translate(-c,-d)),BD=t=>t.fold(Te,Te),mx=t=>we(t,(s,c)=>s.translate(c.left,c.top),zs(0,0)),hx=t=>{const s=at(t,PD);return mx(s)},gC=t=>{const s=at(t,BD);return mx(s)},ID=fx.screen,LD=fx.absolute,FD=(t,s,c)=>{const d=ya(c.root).dom,p=v=>{const C=Vi(v),k=Vi(t.element);return es(C,k)};return I.from(d.frameElement).map(Ie.fromDom).filter(p).map(Ui)},yy=(t,s,c)=>{const d=Vi(t.element),p=ia(d),v=FD(t,s,c).getOr(p);return LD(v,p.left,p.top)},bC=(t,s,c,d)=>{const p=ID(zs(t,s));return I.some(kg(p,c,d))},px=(t,s,c,d,p)=>t.map(v=>{const C=[s,v.point],k=pD(d,()=>gC(C),()=>gC(C),()=>hx(C)),D=Gl(k.left,k.top,v.width,v.height),B=c.showAbove?q2():oC(),F=c.showAbove?G2():cy(),U=Rp(p,c,B,F,B,F,I.none());return by({anchorBox:D,bubble:c.bubble.getOr(gy()),overrides:c.overrides,layouts:U})}),HD=(t,s,c)=>{const d=yy(t,c,s);return s.node.filter(ns).bind(p=>{const v=p.dom.getBoundingClientRect(),C=bC(v.left,v.top,v.width,v.height),k=s.node.getOr(t.element);return px(C,d,s,c,k)})};var VD=[rt("node"),rt("root"),jo("bubble"),lm(),He("overrides",{}),He("showAbove",!1),Zs("placement",HD)];const zD="\uFEFF",ev="",tv={create:(t,s,c,d)=>({start:t,soffset:s,finish:c,foffset:d})},nv=O.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),gx=(t,s,c,d)=>t.fold(s,c,d),_y=t=>t.fold(Te,Te,Te),vC=nv.before,yC=nv.on,_C=nv.after,bx={before:vC,on:yC,after:_C,cata:gx,getStart:_y},ov=O.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vx=t=>ov.exact(t.start,t.soffset,t.finish,t.foffset),UD=t=>t.match({domRange:s=>Ie.fromDom(s.startContainer),relative:(s,c)=>bx.getStart(s),exact:(s,c,d,p)=>s}),wC=ov.domRange,jD=ov.relative,Mp=ov.exact,ZD=t=>{const s=UD(t);return ya(s)},CC=tv.create,sv={domRange:wC,relative:jD,exact:Mp,exactFromRange:vx,getWin:ZD,range:CC},KD=(t,s)=>{s.fold(c=>{t.setStartBefore(c.dom)},(c,d)=>{t.setStart(c.dom,d)},c=>{t.setStartAfter(c.dom)})},yx=(t,s)=>{s.fold(c=>{t.setEndBefore(c.dom)},(c,d)=>{t.setEnd(c.dom,d)},c=>{t.setEndAfter(c.dom)})},_x=(t,s,c)=>{const d=t.document.createRange();return KD(d,s),yx(d,c),d},wx=(t,s,c,d,p)=>{const v=t.document.createRange();return v.setStart(s.dom,c),v.setEnd(d.dom,p),v},Ta=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),wy=t=>{const s=t.getClientRects(),c=s.length>0?s[0]:t.getBoundingClientRect();return c.width>0||c.height>0?I.some(c).map(Ta):I.none()},gf=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?I.some(s).map(Ta):I.none()},rv=O.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Cy=(t,s,c)=>s(Ie.fromDom(c.startContainer),c.startOffset,Ie.fromDom(c.endContainer),c.endOffset),qD=(t,s)=>s.match({domRange:c=>({ltr:J(c),rtl:I.none}),relative:(c,d)=>({ltr:Tc(()=>_x(t,c,d)),rtl:Tc(()=>I.some(_x(t,d,c)))}),exact:(c,d,p,v)=>({ltr:Tc(()=>wx(t,c,d,p,v)),rtl:Tc(()=>I.some(wx(t,p,v,c,d)))})}),Cx=(t,s)=>{const c=s.ltr();return c.collapsed?s.rtl().filter(p=>p.collapsed===!1).map(p=>rv.rtl(Ie.fromDom(p.endContainer),p.endOffset,Ie.fromDom(p.startContainer),p.startOffset)).getOrThunk(()=>Cy(t,rv.ltr,c)):Cy(t,rv.ltr,c)},Sx=(t,s)=>{const c=qD(t,s);return Cx(t,c)},Sy=(t,s)=>Sx(t,s).match({ltr:(d,p,v,C)=>{const k=t.document.createRange();return k.setStart(d.dom,p),k.setEnd(v.dom,C),k},rtl:(d,p,v,C)=>{const k=t.document.createRange();return k.setStart(v.dom,C),k.setEnd(d.dom,p),k}});rv.ltr,rv.rtl;const Ey=(t,s,c)=>_o(Xm(t,c),s),mc=(t,s)=>Ym(s,t),GD=(t,s,c,d)=>{const v=Vi(t).dom.createRange();return v.setStart(t.dom,s),v.setEnd(c.dom,d),v},bf=(t,s,c,d)=>{const p=GD(t,s,c,d),v=es(t,c)&&s===d;return p.collapsed&&!v},Th=t=>I.from(t.getSelection()),iv=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),c=t.getRangeAt(t.rangeCount-1);return I.some(tv.create(Ie.fromDom(s.startContainer),s.startOffset,Ie.fromDom(c.endContainer),c.endOffset))}else return I.none()},av=t=>{if(t.anchorNode===null||t.focusNode===null)return iv(t);{const s=Ie.fromDom(t.anchorNode),c=Ie.fromDom(t.focusNode);return bf(s,t.anchorOffset,c,t.focusOffset)?I.some(tv.create(s,t.anchorOffset,c,t.focusOffset)):iv(t)}},Ex=t=>Th(t).filter(s=>s.rangeCount>0).bind(av),Ed=(t,s)=>{const c=Sy(t,s);return wy(c)},um=(t,s)=>{const c=Sy(t,s);return gf(c)},YD=((t,s)=>{const c=v=>{if(!t(v))throw new Error("Can only get "+s+" value of a "+s+" node");return d(v).getOr("")},d=v=>t(v)?I.from(v.dom.nodeValue):I.none();return{get:c,getOption:d,set:(v,C)=>{if(!t(v))throw new Error("Can only set raw "+s+" value of a "+s+" node");v.dom.nodeValue=C}}})(ki,"text"),xx=t=>YD.get(t),ub=(t,s)=>({element:t,offset:s}),kh=(t,s)=>{const c=Ma(t);if(c.length===0)return ub(t,s);if(s<c.length)return ub(c[s],0);{const d=c[c.length-1],p=ki(d)?xx(d).length:Ma(d).length;return ub(d,p)}},db=(t,s)=>ki(t)?ub(t,s):kh(t,s),fb=t=>t.foffset!==void 0,SC=(t,s)=>s.getSelection.getOrThunk(()=>()=>Ex(t))().map(d=>{if(fb(d)){const p=db(d.start,d.soffset),v=db(d.finish,d.foffset);return sv.range(p.element,p.offset,v.element,v.offset)}else return d}),$p=(t,s,c)=>{const d=ya(s.root).dom,p=yy(t,c,s),v=SC(d,s).bind(D=>{if(fb(D))return um(d,sv.exactFromRange(D)).orThunk(()=>{const F=Ie.fromText(zD);Gc(D.start,F);const U=Ed(d,sv.exact(F,0,F,1));return La(F),U}).bind(F=>bC(F.left,F.top,F.width,F.height));{const B=qo(D,U=>U.dom.getBoundingClientRect()),F={left:Math.min(B.firstCell.left,B.lastCell.left),right:Math.max(B.firstCell.right,B.lastCell.right),top:Math.min(B.firstCell.top,B.lastCell.top),bottom:Math.max(B.firstCell.bottom,B.lastCell.bottom)};return bC(F.left,F.top,F.right-F.left,F.bottom-F.top)}}),k=SC(d,s).bind(D=>fb(D)?Xo(D.start)?I.some(D.start):Ai(D.start):I.some(D.firstCell)).getOr(t.element);return px(v,p,s,c,k)};var cv=[jo("getSelection"),rt("root"),jo("bubble"),lm(),He("overrides",{}),He("showAbove",!1),Zs("placement",$p)];const dm="link-layout",Ah=t=>t.x+t.width,lv=(t,s)=>t.x-s.width,bi=(t,s)=>t.y-s.height+t.height,XD=t=>t.y,vf=(t,s,c)=>sr(Ah(t),XD(t),c.southeast(),sy(),"southeast",Ds(t,{left:0,top:2}),dm),xy=(t,s,c)=>sr(lv(t,s),XD(t),c.southwest(),ry(),"southwest",Ds(t,{right:1,top:2}),dm),mb=(t,s,c)=>sr(Ah(t),bi(t,s),c.northeast(),Sh(),"northeast",Ds(t,{left:0,bottom:3}),dm),Pp=(t,s,c)=>sr(lv(t,s),bi(t,s),c.northwest(),U1(),"northwest",Ds(t,{right:1,bottom:3}),dm),EC=()=>[vf,xy,mb,Pp],hb=()=>[xy,vf,Pp,mb],JD=(t,s,c)=>{const d=dC(c,s.item.element),p=Rp(t.element,s,EC(),hb(),EC(),hb(),I.none());return I.some(by({anchorBox:d,bubble:gy(),overrides:s.overrides,layouts:p}))};var Tx=[rt("item"),lm(),He("overrides",{}),Zs("placement",JD)],xC=Tr("type",{selection:cv,node:VD,hotspot:pC,submenu:Tx,makeshift:$D});const kx=[Nc("classes",tr),ca("mode","all",["all","layout","placement"])],pb=[He("useFixed",vt),jo("getBounds")],xd=[Va("anchor",xC),wr("transition",kx)],Ax=()=>{const t=document.documentElement;return fC(0,0,t.clientWidth,t.clientHeight)},QD=t=>{const s=Ui(t.element),c=t.element.dom.getBoundingClientRect();return gD(s.left,s.top,c.width,c.height)},Ox=(t,s,c,d,p,v)=>{const C=bD(s.anchorBox,t);return ND(C,d.element,s.bubble,s.layouts,p,c,s.overrides,v)},Dx=(t,s,c,d,p)=>{const v=I.none();gb(t,s,c,d,p,v)},gb=(t,s,c,d,p,v)=>{const C=qi("placement.info",yn(xd),p),k=C.anchor,D=d.element,B=c.get(d.uid);K1(()=>{Bn(D,"position","fixed");const F=Pr(D,"visibility");Bn(D,"visibility","hidden");const U=s.useFixed()?Ax():QD(t);k.placement(t,k,U).each(K=>{const ee=v.orThunk(()=>s.getBounds.map(Tt)),ae=Ox(U,K,ee,d,B,C.transition);c.set(d.uid,ae)}),F.fold(()=>{Co(D,"visibility")},K=>{Bn(D,"visibility",K)}),Pr(D,"left").isNone()&&Pr(D,"top").isNone()&&Pr(D,"right").isNone()&&Pr(D,"bottom").isNone()&&xi(Pr(D,"position"),"fixed")&&Co(D,"position")},D)};var $u=Object.freeze({__proto__:null,position:Dx,positionWithinBounds:gb,getMode:(t,s,c)=>s.useFixed()?"fixed":"absolute",reset:(t,s,c,d)=>{const p=d.element;wt(["position","left","right","top","bottom"],v=>Co(p,v)),yD(p),c.clear(d.uid)}}),Bp=Object.freeze({__proto__:null,init:()=>{let t={};return Qc({readState:()=>t,clear:p=>{ve(p)?delete t[p]:t={}},set:(p,v)=>{t[p]=v},get:p=>Mt(t,p)})}});const vi=Qi({fields:pb,name:"positioning",active:J2,apis:$u,state:Bp}),ka=t=>t.getSystem().isConnected(),ua=t=>{Zo(t,Qf());const s=t.components();wt(s,ua)},yi=t=>{const s=t.components();wt(s,yi),Zo(t,Rc())},ol=(t,s)=>{t.getSystem().addToWorld(s),ns(t.element)&&yi(s)},uv=t=>{ua(t),t.getSystem().removeFromWorld(t)},nu=(t,s)=>{Ia(t.element,s.element)},Ip=t=>{wt(t.components(),s=>La(s.element)),Gd(t.element),t.syncComponents()},eN=(t,s,c)=>{const d=t.components();Ip(t);const p=c(s),v=st(d,p);wt(v,C=>{ua(C),t.getSystem().removeFromWorld(C)}),wt(p,C=>{ka(C)?nu(t,C):(t.getSystem().addToWorld(C),nu(t,C),ns(t.element)&&yi(C))}),t.syncComponents()},tN=(t,s,c)=>{const d=t.components(),p=Ae(s,k=>D2(k).toArray());wt(d,k=>{mo(p,k)||uv(k)});const v=c(s),C=st(d,v);wt(C,k=>{ka(k)&&uv(k)}),wt(v,k=>{ka(k)||ol(t,k)}),t.syncComponents()},yf=(t,s)=>{bb(t,s,Ia)},bb=(t,s,c)=>{t.getSystem().addToWorld(s),c(t.element,s.element),ns(t.element)&&yi(s),t.syncComponents()},Ty=t=>{ua(t),La(t.element),t.getSystem().removeFromWorld(t)},Pu=t=>{const s=oa(t.element).bind(c=>t.getSystem().getByDom(c).toOptional());Ty(t),s.each(c=>{c.syncComponents()})},kC=t=>{const s=t.components();wt(s,Ty),Gd(t.element),t.syncComponents()},AC=(t,s)=>{OC(t,s,Ia)},Lp=(t,s)=>{OC(t,s,ud)},OC=(t,s,c)=>{c(t,s.element);const d=Ma(s.element);wt(d,p=>{s.getByDom(p).each(yi)})},Nx=t=>{const s=Ma(t.element);wt(s,c=>{t.getByDom(c).each(ua)}),La(t.element)},ky=(t,s,c,d)=>{c.get().each(C=>{kC(t)});const p=s.getAttachPoint(t);yf(p,t);const v=t.getSystem().build(d);return yf(t,v),c.set(v),v},fm=(t,s,c,d)=>{const p=ky(t,s,c,d);return s.onOpen(t,p),p},DC=(t,s,c,d)=>c.get().map(()=>ky(t,s,c,d)),Td=(t,s,c,d,p)=>{Tl(t,s),fm(t,s,c,d),p(),Fp(t,s)},Rx=(t,s,c)=>{c.get().each(d=>{kC(t),Pu(t),s.onClose(t,d),c.clear()})},NC=(t,s,c)=>c.isOpen(),nN=(t,s,c,d)=>NC(t,s,c)&&c.get().exists(p=>s.isPartOf(t,p,d)),EP=(t,s,c)=>c.get(),oN=(t,s,c,d)=>{Pr(t.element,s).fold(()=>{lr(t.element,c)},p=>{Gn(t.element,c,p)}),Bn(t.element,s,d)},sN=(t,s,c)=>{yr(t.element,c).fold(()=>Co(t.element,s),d=>Bn(t.element,s,d))},Tl=(t,s,c)=>{const d=s.getAttachPoint(t);Bn(t.element,"position",vi.getMode(d)),oN(t,"visibility",s.cloakVisibilityAttr,"hidden")},xP=t=>ks(["top","left","right","bottom"],s=>Pr(t,s).isSome()),Fp=(t,s,c)=>{xP(t.element)||Co(t.element,"position"),sN(t,"visibility",s.cloakVisibilityAttr)};var vb=Object.freeze({__proto__:null,cloak:Tl,decloak:Fp,open:fm,openWhileCloaked:Td,close:Rx,isOpen:NC,isPartOf:nN,getState:EP,setContent:DC}),MC=Object.freeze({__proto__:null,events:(t,s)=>Os([mt(bp(),(c,d)=>{Rx(c,t,s)})])}),rN=[ho("onOpen"),ho("onClose"),rt("isPartOf"),rt("getAttachPoint"),He("cloakVisibilityAttr","data-precloak-visibility")],$C=Object.freeze({__proto__:null,init:()=>{const t=Ks(),s=J("not-implemented");return Qc({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const To=Qi({fields:rN,name:"sandboxing",active:MC,apis:vb,state:$C}),mm=J("dismiss.popups"),Hp=J("reposition.popups"),Ay=J("mouse.released"),iN=Ki([He("isExtraPart",vt),wr("fireEventInstead",[He("event",lf())])]),Vp=t=>{const s=qi("Dismissal",iN,t);return{[mm()]:{schema:Ki([rt("target")]),onReceive:(c,d)=>{To.isOpen(c)&&(To.isPartOf(c,d.target)||s.isExtraPart(c,d.target)||s.fireEventInstead.fold(()=>To.close(c),v=>Zo(c,v.event)))}}}},Oy=Ki([wr("fireEventInstead",[He("event",Nw())]),Dc("doReposition")]),PC=t=>{const s=qi("Reposition",Oy,t);return{[Hp()]:{onReceive:c=>{To.isOpen(c)&&s.fireEventInstead.fold(()=>s.doReposition(c),d=>Zo(c,d.event))}}}},BC=(t,s,c)=>{s.store.manager.onLoad(t,s,c)},IC=(t,s,c)=>{s.store.manager.onUnload(t,s,c)};var yb=Object.freeze({__proto__:null,onLoad:BC,onUnload:IC,setValue:(t,s,c,d)=>{s.store.manager.setValue(t,s,c,d)},getValue:(t,s,c)=>s.store.manager.getValue(t,s,c),getState:(t,s,c)=>c}),cN=Object.freeze({__proto__:null,events:(t,s)=>{const c=t.resetOnDom?[js((d,p)=>{BC(d,t,s)}),Wa((d,p)=>{IC(d,t,s)})]:[rC(t,s,BC)];return Os(c)}});const Dy=()=>{const t=xn(null),s=()=>({mode:"memory",value:t.get()}),c=()=>t.get()===null,d=()=>{t.set(null)};return Qc({set:t.set,get:t.get,isNotSet:c,clear:d,readState:s})},Ny=()=>Qc({readState:q}),hm=()=>{const t=xn({}),s=xn({});return Qc({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:C=>Mt(t.get(),C).orThunk(()=>Mt(s.get(),C)),update:C=>{const k=t.get(),D=s.get(),B={},F={};wt(C,U=>{B[U.value]=U,Mt(U,"meta").each(K=>{Mt(K,"text").each(ee=>{F[ee]=U})})}),t.set({...k,...B}),s.set({...D,...F})},clear:()=>{t.set({}),s.set({})}})};var zp=Object.freeze({__proto__:null,memory:Dy,dataset:hm,manual:Ny,init:t=>t.store.manager.state(t)});const pm=(t,s,c,d)=>{const p=s.store;c.update([d]),p.setValue(t,d),s.onSetValue(t,d)},Px=(t,s,c)=>{const d=s.store,p=d.getDataKey(t);return c.lookup(p).getOrThunk(()=>d.getFallbackEntry(p))},dv=(t,s,c)=>{s.store.initialValue.each(p=>{pm(t,s,c,p)})},LC=(t,s,c)=>{c.clear()};var lN=[jo("initialValue"),rt("getFallbackEntry"),rt("getDataKey"),rt("setValue"),Zs("manager",{setValue:pm,getValue:Px,onLoad:dv,onUnload:LC,state:hm})];const _f=(t,s,c)=>s.store.getValue(t),Bx=(t,s,c,d)=>{s.store.setValue(t,d),s.onSetValue(t,d)},uN=(t,s,c)=>{s.store.initialValue.each(d=>{s.store.setValue(t,d)})};var Ix=[rt("getValue"),He("setValue",q),jo("initialValue"),Zs("manager",{setValue:Bx,getValue:_f,onLoad:uN,onUnload:q,state:ja.init})];const FC=(t,s,c,d)=>{c.set(d),s.onSetValue(t,d)},_b=(t,s,c)=>c.get(),HC=(t,s,c)=>{s.store.initialValue.each(d=>{c.isNotSet()&&c.set(d)})},dN=(t,s,c)=>{c.clear()};var wb=[jo("initialValue"),Zs("manager",{setValue:FC,getValue:_b,onLoad:HC,onUnload:dN,state:Dy})],Lx=[Yi("store",{mode:"memory"},Tr("mode",{memory:wb,manual:Ix,dataset:lN})),ho("onSetValue"),He("resetOnDom",!1)];const zt=Qi({fields:Lx,name:"representing",active:cN,apis:yb,extra:{setValueFrom:(t,s)=>{const c=zt.getValue(s);zt.setValue(t,c)}},state:zp}),ci=(t,s)=>rf(t,{},at(s,c=>Tw(c.name(),"Cannot configure "+c.name()+" for "+t)).concat([Ca("dump",Te)])),Cb=t=>t.dump,Or=(t,s)=>({...Dt(s),...t.dump}),ou={field:ci,augment:Or,get:Cb},fv="placeholder",Sb=O.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),VC=t=>xo(t,"uiType"),My=(t,s,c,d)=>t.exists(p=>p!==c.owner)?Sb.single(!0,J(c)):Mt(d,c.name).fold(()=>{throw new Error("Unknown placeholder component: "+c.name+`
Known: [`+uo(d)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(c,null,2))},p=>p.replace()),kd=(t,s,c,d)=>VC(c)&&c.uiType===fv?My(t,s,c,d):Sb.single(!1,J(c)),$y=(t,s,c,d)=>kd(t,s,c,d).fold((v,C)=>{const k=VC(c)?C(s,c.config,c.validated):C(s),D=Mt(k,"components").getOr([]),B=Ae(D,F=>$y(t,s,F,d));return[{...k,components:B}]},(v,C)=>{if(VC(c)){const k=C(s,c.config,c.validated);return c.validated.preprocess.getOr(Te)(k)}else return C(s)}),fN=(t,s,c,d)=>Ae(c,p=>$y(t,s,p,d)),kl=(t,s)=>{let c=!1;const d=()=>c,p=()=>{if(c)throw new Error("Trying to use the same placeholder more than once: "+t);return c=!0,s},v=()=>s.fold((C,k)=>C,(C,k)=>C);return{name:J(t),required:v,used:d,replace:p}},_i=(t,s,c,d)=>{const p=qo(d,(C,k)=>kl(k,C)),v=fN(t,s,c,p);return ds(p,C=>{if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),v},zC=Sb.single,Py=Sb.multiple,Wp=J(fv),Eb=O.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),mv=He("factory",{sketch:Te}),By=He("schema",[]),Iy=rt("name"),Ly=si("pname","pname",wa(t=>"<alloy."+Gt(t.name)+">"),Ac()),Fx=Ca("schema",()=>[jo("preprocess")]),xb=He("defaults",J({})),gm=He("overrides",J({})),Hx=yn([mv,By,Iy,Ly,xb,gm]),WC=yn([mv,By,Iy,xb,gm]),Fy=yn([mv,By,Iy,Ly,xb,gm]),Vx=yn([mv,Fx,Iy,rt("unit"),Ly,xb,gm]),hv=t=>t.fold(I.some,I.none,I.some,I.some),pv=t=>{const s=c=>c.name;return t.fold(s,s,s,s)},Up=t=>t.fold(Te,Te,Te,Te),Dh=(t,s)=>c=>{const d=qi("Converting part type",s,c);return t(d)},Bi=Dh(Eb.required,Hx),Bu=Dh(Eb.external,WC),su=Dh(Eb.optional,Fy),Hy=Dh(Eb.group,Vx),Iu=J("entirety");var mN=Object.freeze({__proto__:null,required:Bi,external:Bu,optional:su,group:Hy,asNamedPart:hv,name:pv,asCommon:Up,original:Iu});const Vy=(t,s,c,d)=>Es(s.defaults(t,c,d),c,{uid:t.partUids[s.name]},s.overrides(t,c,d)),UC=(t,s,c)=>{const d={},p={};return wt(c,v=>{v.fold(C=>{d[C.pname]=zC(!0,(k,D,B)=>C.factory.sketch(Vy(k,C,D,B)))},C=>{const k=s.parts[C.name];p[C.name]=J(C.factory.sketch(Vy(s,C,k[Iu()]),k))},C=>{d[C.pname]=zC(!1,(k,D,B)=>C.factory.sketch(Vy(k,C,D,B)))},C=>{d[C.pname]=Py(!0,(k,D,B)=>{const F=k[C.name];return at(F,U=>C.factory.sketch(Es(C.defaults(k,U,B),U,C.overrides(k,U))))})})}),{internals:J(d),externals:J(p)}},jC=(t,s)=>{const c={};return wt(s,d=>{hv(d).each(p=>{const v=zx(t,p.pname);c[p.name]=C=>{const k=qi("Part: "+p.name+" in "+t,yn(p.schema),C);return{...v,config:C,validated:k}}})}),c},zx=(t,s)=>({uiType:Wp(),owner:t,name:s}),jp=(t,s,c)=>({uiType:Wp(),owner:t,name:s,config:c,validated:{}}),Wx=t=>Ae(t,s=>s.fold(I.none,I.some,I.none,I.none).map(c=>nf(c.name,c.schema.concat([z2(Iu())]))).toArray()),hN=t=>at(t,pv),ZC=(t,s,c)=>UC(t,s,c),KC=(t,s,c)=>_i(I.some(t),s,s.components,c),vs=(t,s,c)=>{const d=s.partUids[c];return t.getSystem().getByUid(d).toOptional()},Nh=(t,s,c)=>vs(t,s,c).getOrDie("Could not find part: "+c),Ux=(t,s,c)=>{const d={},p=s.partUids,v=t.getSystem();return wt(c,C=>{d[C]=J(v.getByUid(p[C]))}),d},jx=(t,s)=>{const c=t.getSystem();return qo(s.partUids,(d,p)=>J(c.getByUid(d)))},Zx=t=>uo(t.partUids),qC=(t,s,c)=>{const d={},p=s.partUids,v=t.getSystem();return wt(c,C=>{d[C]=J(v.getByUid(p[C]).getOrDie())}),d},Kx=(t,s)=>{const c=hN(s);return jt(at(c,d=>({key:d,value:t+"-"+d})))},GC=t=>si("partUids","partUids",Zf(s=>Kx(s.uid,t)),Ac());var YC=Object.freeze({__proto__:null,generate:jC,generateOne:jp,schemas:Wx,names:hN,substitutes:ZC,components:KC,defaultUids:Kx,defaultUidsSchema:GC,getAllParts:jx,getAllPartNames:Zx,getPart:vs,getPartOrDie:Nh,getParts:Ux,getPartsOrDie:qC});const qx=(t,s)=>(t.length>0?[nf("parts",t)]:[]).concat([rt("uid"),He("dom",{}),He("components",[]),z2("originalSpec"),He("debug.sketcher",{})]).concat(s),XC=(t,s,c,d,p)=>{const v=qx(d,p);return qi(t+" [SpecSchema]",Ki(v.concat(s)),c)},pN=(t,s,c,d)=>{const p=Rh(d),v=XC(t,s,p,[],[]);return c(v,p)},zy=(t,s,c,d,p)=>{const v=Rh(p),C=Wx(c),k=GC(c),D=XC(t,s,v,C,[k]),B=ZC(t,D,c),F=KC(t,D,B.internals());return d(D,F,v,B.externals())},gN=t=>xo(t,"uid"),Rh=t=>gN(t)?t:{...t,uid:tm("uid")},gv=t=>t.uid!==void 0,JC=Ki([rt("name"),rt("factory"),rt("configFields"),He("apis",{}),He("extraApis",{})]),bN=Ki([rt("name"),rt("factory"),rt("configFields"),rt("partFields"),He("apis",{}),He("extraApis",{})]),qr=t=>{const s=qi("Sketcher for "+t.name,JC,t),c=v=>pN(s.name,s.configFields,s.factory,v),d=qo(s.apis,Yg),p=qo(s.extraApis,(v,C)=>L1(v,C));return{name:s.name,configFields:s.configFields,sketch:c,...d,...p}},li=t=>{const s=qi("Sketcher for "+t.name,bN,t),c=C=>zy(s.name,s.configFields,s.partFields,s.factory,C),d=jC(s.name,s.partFields),p=qo(s.apis,Yg),v=qo(s.extraApis,(C,k)=>L1(C,k));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:c,parts:d,...p,...v}},Zp=t=>Ra("input")(t)&&Di(t,"type")!=="radio"||Ra("textarea")(t);var en=Object.freeze({__proto__:null,getCurrent:(t,s,c)=>s.find(t)});const Kp=[rt("find")],So=Qi({fields:Kp,name:"composing",apis:en}),Gx=["input","button","textarea","select"],bv=(t,s,c)=>{(s.disabled()?qp:Uy)(t,s)},vv=(t,s)=>s.useNative===!0&&mo(Gx,nc(t.element)),vN=t=>Sg(t.element,"disabled"),Yx=t=>{Gn(t.element,"disabled","disabled")},QC=t=>{lr(t.element,"disabled")},yN=t=>Di(t.element,"aria-disabled")==="true",Xx=t=>{Gn(t.element,"aria-disabled","true")},eS=t=>{Gn(t.element,"aria-disabled","false")},qp=(t,s,c)=>{s.disableClass.each(p=>{Kr(t.element,p)}),(vv(t,s)?Yx:Xx)(t),s.onDisabled(t)},Uy=(t,s,c)=>{s.disableClass.each(p=>{zo(t.element,p)}),(vv(t,s)?QC:eS)(t),s.onEnabled(t)},Jx=(t,s)=>vv(t,s)?vN(t):yN(t);var Qx=Object.freeze({__proto__:null,enable:Uy,disable:qp,isDisabled:Jx,onLoad:bv,set:(t,s,c,d)=>{(d?qp:Uy)(t,s)}}),_N=Object.freeze({__proto__:null,exhibit:(t,s)=>Ru({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Os([P0(El(),(c,d)=>Jx(c,t)),rC(t,s,bv)])}),AP=[dr("disabled",vt),He("useNative",!0),jo("disableClass"),ho("onDisabled"),ho("onEnabled")];const On=Qi({fields:AP,name:"disabling",active:_N,apis:Qx}),wN=(t,s,c,d)=>{const p=mc(t.element,"."+s.highlightClass);wt(p,v=>{ks(d,k=>es(k.element,v))||(zo(v,s.highlightClass),t.getSystem().getByDom(v).each(k=>{s.onDehighlight(t,k),Zo(k,M1())}))})},tT=(t,s,c)=>wN(t,s,c,[]),CN=(t,s,c,d)=>{Tb(t,s,c,d)&&(zo(d.element,s.highlightClass),s.onDehighlight(t,d),Zo(d,M1()))},yv=(t,s,c,d)=>{wN(t,s,c,[d]),Tb(t,s,c,d)||(Kr(d.element,s.highlightClass),s.onHighlight(t,d),Zo(d,E2()))},OP=(t,s,c)=>{nS(t,s).each(d=>{yv(t,s,c,d)})},jy=(t,s,c)=>{oS(t,s).each(d=>{yv(t,s,c,d)})},SN=(t,s,c,d)=>{tS(t,s,c,d).fold(p=>{throw p},p=>{yv(t,s,c,p)})},bm=(t,s,c,d)=>{const p=vm(t,s);je(p,d).each(C=>{yv(t,s,c,C)})},Tb=(t,s,c,d)=>ac(d.element,s.highlightClass),EN=(t,s,c)=>mr(t.element,"."+s.highlightClass).bind(d=>t.getSystem().getByDom(d).toOptional()),tS=(t,s,c,d)=>{const p=mc(t.element,"."+s.itemClass);return I.from(p[d]).fold(()=>un.error(new Error("No element found with index "+d)),t.getSystem().getByDom)},nS=(t,s,c)=>mr(t.element,"."+s.itemClass).bind(d=>t.getSystem().getByDom(d).toOptional()),oS=(t,s,c)=>{const d=mc(t.element,"."+s.itemClass);return(d.length>0?I.some(d[d.length-1]):I.none()).bind(v=>t.getSystem().getByDom(v).toOptional())},sS=(t,s,c,d)=>{const p=mc(t.element,"."+s.itemClass);return pt(p,C=>ac(C,s.highlightClass)).bind(C=>{const k=Op(C,d,0,p.length-1);return t.getSystem().getByDom(p[k]).toOptional()})},xN=(t,s,c)=>sS(t,s,c,-1),TN=(t,s,c)=>sS(t,s,c,1),vm=(t,s,c)=>{const d=mc(t.element,"."+s.itemClass);return Fc(at(d,p=>t.getSystem().getByDom(p).toOptional()))};var _v=Object.freeze({__proto__:null,dehighlightAll:tT,dehighlight:CN,highlight:yv,highlightFirst:OP,highlightLast:jy,highlightAt:SN,highlightBy:bm,isHighlighted:Tb,getHighlighted:EN,getFirst:nS,getLast:oS,getPrevious:xN,getNext:TN,getCandidates:vm}),kN=[rt("highlightClass"),rt("itemClass"),ho("onHighlight"),ho("onDehighlight")];const Lo=Qi({fields:kN,name:"highlighting",apis:_v}),AN=[8],Lu=[9],Ad=[13],Zy=[27],$c=[32],kb=[37],wv=[38],Cv=[39],Ab=[40],DP=(t,s,c)=>{const d=Wt(t.slice(0,s)),p=Wt(t.slice(s+1));return je(d.concat(p),c)},nT=(t,s,c)=>{const d=Wt(t.slice(0,s));return je(d,c)},NP=(t,s,c)=>{const d=t.slice(0,s),p=t.slice(s+1);return je(p.concat(d),c)},RP=(t,s,c)=>{const d=t.slice(s+1);return je(d,c)},ko=t=>s=>{const c=s.raw;return mo(t,c.which)},ru=t=>s=>Jt(t,c=>c(s)),ym=t=>t.raw.shiftKey===!0,Ky=t=>t.raw.ctrlKey===!0,Mh=ye(ym),go=(t,s)=>({matches:t,classification:s}),oT=(t,s)=>je(t,d=>d.matches(s)).map(d=>d.classification),sT=(t,s,c)=>{s.exists(p=>c.exists(v=>es(v,p)))||bn(t,N0(),{prevFocus:s,newFocus:c})},rS=()=>{const t=c=>Mu(c.element);return{get:t,set:(c,d)=>{const p=t(c);c.getSystem().triggerFocus(d,c.element);const v=t(c);sT(c,p,v)}}},rT=()=>{const t=c=>Lo.getHighlighted(c).map(d=>d.element);return{get:t,set:(c,d)=>{const p=t(c);c.getSystem().getByDom(d).fold(q,C=>{Lo.highlight(c,C)});const v=t(c);sT(c,p,v)}}};var Gp;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Gp||(Gp={}));const Yp=(t,s,c,d,p)=>{const v=()=>t.concat([He("focusManager",rS()),Yi("focusInside","onFocus",tf(B=>mo(["onFocus","onEnterOrSpace","onApi"],B)?un.value(B):un.error("Invalid value for focusInside"))),Zs("handler",D),Zs("state",s),Zs("sendFocusIn",p)]),C=(B,F,U,K,ee)=>{const ae=U(B,F,K,ee);return oT(ae,F.event).bind(be=>be(B,F,K,ee))},D={schema:v,processKey:C,toEvents:(B,F)=>{const U=B.focusInside!==Gp.OnFocusMode?I.none():p(B).map(ae=>mt(cf(),(be,Fe)=>{ae(be,B,F),Fe.stop()})),K=(ae,be)=>{const Fe=ko($c.concat(Ad))(be.event);B.focusInside===Gp.OnEnterOrSpaceMode&&Fe&&Xc(ae,be)&&p(B).each($e=>{$e(ae,B,F),be.stop()})},ee=[mt(ic(),(ae,be)=>{C(ae,be,c,B,F).fold(()=>{K(ae,be)},Fe=>{be.stop()})}),mt(w2(),(ae,be)=>{C(ae,be,d,B,F).each(Fe=>{be.stop()})})];return Os(U.toArray().concat(ee))}};return D},ON=t=>{const s=[jo("onEscape"),jo("onEnter"),He("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),He("firstTabstop",0),He("useTabstopAt",xt),jo("visibilitySelector")].concat([t]),c=(be,Fe)=>{const $e=be.visibilitySelector.bind(De=>xa(Fe,De)).getOr(Fe);return Gs($e)>0},d=(be,Fe)=>{const $e=mc(be.element,Fe.selector),De=_o($e,ft=>c(Fe,ft));return I.from(De[Fe.firstTabstop])},p=(be,Fe)=>Fe.focusManager.get(be).bind($e=>xa($e,Fe.selector)),v=(be,Fe)=>c(be,Fe)&&be.useTabstopAt(Fe),C=(be,Fe,$e)=>{d(be,Fe).each(De=>{Fe.focusManager.set(be,De)})},k=(be,Fe,$e,De,ft)=>ft(Fe,$e,Xe=>v(De,Xe)).fold(()=>De.cyclic?I.some(!0):I.none(),Xe=>(De.focusManager.set(be,Xe),I.some(!0))),D=(be,Fe,$e,De)=>{const ft=mc(be.element,$e.selector);return p(be,$e).bind(Xe=>pt(ft,Ue(es,Xe)).bind(_t=>k(be,ft,_t,$e,De)))},B=(be,Fe,$e)=>{const De=$e.cyclic?DP:nT;return D(be,Fe,$e,De)},F=(be,Fe,$e)=>{const De=$e.cyclic?NP:RP;return D(be,Fe,$e,De)},U=(be,Fe,$e)=>$e.onEnter.bind(De=>De(be,Fe)),K=(be,Fe,$e)=>$e.onEscape.bind(De=>De(be,Fe)),ee=J([go(ru([ym,ko(Lu)]),B),go(ko(Lu),F),go(ru([Mh,ko(Ad)]),U)]),ae=J([go(ko(Zy),K)]);return Yp(s,ja.init,ee,ae,()=>I.some(C))};var f=ON(Ca("cyclic",vt)),g=ON(Ca("cyclic",xt));const _=(t,s,c)=>(M0(t,c,El()),I.some(!0)),x=(t,s,c)=>Zp(c)&&ko($c)(s.event)?I.none():_(t,s,c),N=(t,s)=>I.some(!0),L=[He("execute",x),He("useSpace",!1),He("useEnter",!0),He("useControlEnter",!1),He("useDown",!1)],Z=(t,s,c)=>c.execute(t,s,t.element),ne=(t,s,c,d)=>{const p=c.useSpace&&!Zp(t.element)?$c:[],v=c.useEnter?Ad:[],C=c.useDown?Ab:[],k=p.concat(v).concat(C);return[go(ko(k),Z)].concat(c.useControlEnter?[go(ru([Ky,ko(Ad)]),Z)]:[])},de=(t,s,c,d)=>c.useSpace&&!Zp(t.element)?[go(ko($c),N)]:[];var _e=Yp(L,ja.init,ne,de,()=>I.none());const Le=()=>{const t=Ks();return Qc({readState:()=>t.get().map(p=>({numRows:String(p.numRows),numColumns:String(p.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(p,v)=>{t.set({numRows:p,numColumns:v})},getNumRows:()=>t.get().map(p=>p.numRows),getNumColumns:()=>t.get().map(p=>p.numColumns)})};var Zt=Object.freeze({__proto__:null,flatgrid:Le,init:t=>t.state(t)});const Ft=t=>(s,c,d,p)=>{const v=t(s.element);return sn(v,s,c,d,p)},dt=(t,s)=>{const c=hC(t,s);return Ft(c)},Vt=(t,s)=>{const c=hC(s,t);return Ft(c)},ut=t=>(s,c,d,p)=>sn(t,s,c,d,p),sn=(t,s,c,d,p)=>d.focusManager.get(s).bind(C=>t(s.element,C,d,p)).map(C=>(d.focusManager.set(s,C),!0)),In=ut,ro=ut,Is=ut,ea=t=>t.offsetWidth<=0&&t.offsetHeight<=0,Dr=t=>!ea(t.dom),sl=(t,s)=>pt(t,s).map(c=>({index:c,candidates:t})),Od=(t,s,c)=>{const d=C=>es(C,s),p=mc(t,c),v=_o(p,Dr);return sl(v,d)},Sv=(t,s)=>pt(t,c=>es(s,c)),qy=(t,s,c,d)=>{const p=Math.floor(s/c),v=s%c;return d(p,v).bind(C=>{const k=C.row*c+C.column;return k>=0&&k<t.length?I.some(t[k]):I.none()})},Ob=(t,s,c,d,p)=>qy(t,s,d,(v,C)=>{const D=v===c-1?t.length-v*d:d,B=Op(C,p,0,D-1);return I.some({row:v,column:B})}),hs=(t,s,c,d,p)=>qy(t,s,d,(v,C)=>{const k=Op(v,p,0,c-1),B=k===c-1?t.length-k*d:d,F=Za(C,0,B-1);return I.some({row:k,column:F})}),Ga=(t,s,c,d)=>Ob(t,s,c,d,1),hc=(t,s,c,d)=>Ob(t,s,c,d,-1),iu=(t,s,c,d)=>hs(t,s,c,d,-1),Al=(t,s,c,d)=>hs(t,s,c,d,1),Db=[rt("selector"),He("execute",x),tl("onEscape"),He("captureTab",!1),ny()],pc=(t,s,c)=>{mr(t.element,s.selector).each(d=>{s.focusManager.set(t,d)})},iS=(t,s)=>s.focusManager.get(t).bind(c=>xa(c,s.selector)),Ev=(t,s,c,d)=>iS(t,c).bind(p=>c.execute(t,s,p)),au=t=>(s,c,d,p)=>Od(s,c,d.selector).bind(v=>t(v.candidates,v.index,p.getNumRows().getOr(d.initSize.numRows),p.getNumColumns().getOr(d.initSize.numColumns))),da=(t,s,c)=>c.captureTab?I.some(!0):I.none(),aS=(t,s,c)=>c.onEscape(t,s),Gy=au(hc),iT=au(Ga),MP=au(iu),aT=au(Al),cS=J([go(ko(kb),dt(Gy,iT)),go(ko(Cv),Vt(Gy,iT)),go(ko(wv),In(MP)),go(ko(Ab),ro(aT)),go(ru([ym,ko(Lu)]),da),go(ru([Mh,ko(Lu)]),da),go(ko($c.concat(Ad)),Ev)]),DN=J([go(ko(Zy),aS),go(ko($c),N)]);var gc=Yp(Db,Le,cS,DN,()=>I.some(pc));const $P=(t,s,c,d,p)=>{const v=k=>nc(k)==="button"&&Di(k,"disabled")==="disabled",C=(k,D,B)=>p(k,D,d,0,B.length-1,B[D],F=>v(B[F])?C(k,F,B):I.from(B[F]));return Od(t,c,s).bind(k=>{const D=k.index,B=k.candidates;return C(D,D,B)})},PP=(t,s,c,d)=>$P(t,s,c,d,(p,v,C,k,D,B,F)=>{const U=Za(v+C,k,D);return U===p?I.from(B):F(U)}),cT=(t,s,c,d)=>$P(t,s,c,d,(p,v,C,k,D,B,F)=>{const U=Op(v,C,k,D);return U===p?I.none():F(U)}),kz=[rt("selector"),He("getInitial",I.none),He("execute",x),tl("onEscape"),He("executeOnMove",!1),He("allowVertical",!0),He("allowHorizontal",!0),He("cycles",!0)],Az=(t,s)=>s.focusManager.get(t).bind(c=>xa(c,s.selector)),Nb=(t,s,c)=>Az(t,c).bind(d=>c.execute(t,s,d)),NN=(t,s,c)=>{s.getInitial(t).orThunk(()=>mr(t.element,s.selector)).each(d=>{s.focusManager.set(t,d)})},BP=(t,s,c)=>(c.cycles?cT:PP)(t,c.selector,s,-1),lT=(t,s,c)=>(c.cycles?cT:PP)(t,c.selector,s,1),lS=t=>(s,c,d,p)=>t(s,c,d,p).bind(()=>d.executeOnMove?Nb(s,c,d):I.some(!0)),RN=(t,s,c)=>c.onEscape(t,s),Oz=(t,s,c,d)=>{const p=[...c.allowHorizontal?kb:[]].concat(c.allowVertical?wv:[]),v=[...c.allowHorizontal?Cv:[]].concat(c.allowVertical?Ab:[]);return[go(ko(p),lS(dt(BP,lT))),go(ko(v),lS(Vt(BP,lT))),go(ko(Ad),Nb),go(ko($c),Nb)]},Dz=J([go(ko($c),N),go(ko(Zy),RN)]);var Nz=Yp(kz,ja.init,Oz,Dz,()=>I.some(NN));const uT=(t,s,c)=>I.from(t[s]).bind(d=>I.from(d[c]).map(p=>({rowIndex:s,columnIndex:c,cell:p}))),IP=(t,s,c,d)=>{const v=t[s].length,C=Op(c,d,0,v-1);return uT(t,s,C)},LP=(t,s,c,d)=>{const p=Op(c,d,0,t.length-1),v=t[p].length,C=Za(s,0,v-1);return uT(t,p,C)},MN=(t,s,c,d)=>{const v=t[s].length,C=Za(c+d,0,v-1);return uT(t,s,C)},dT=(t,s,c,d)=>{const p=Za(c+d,0,t.length-1),v=t[p].length,C=Za(s,0,v-1);return uT(t,p,C)},Rz=(t,s,c)=>IP(t,s,c,1),Mz=(t,s,c)=>IP(t,s,c,-1),$z=(t,s,c)=>LP(t,c,s,-1),Pz=(t,s,c)=>LP(t,c,s,1),xv=(t,s,c)=>MN(t,s,c,-1),Bz=(t,s,c)=>MN(t,s,c,1),Iz=(t,s,c)=>dT(t,c,s,-1),$N=(t,s,c)=>dT(t,c,s,1),Lz=[nf("selectors",[rt("row"),rt("cell")]),He("cycles",!0),He("previousSelector",I.none),He("execute",x)],FP=(t,s,c)=>{s.previousSelector(t).orThunk(()=>{const p=s.selectors;return mr(t.element,p.cell)}).each(p=>{s.focusManager.set(t,p)})},HP=(t,s,c)=>Mu(t.element).bind(d=>c.execute(t,s,d)),VP=(t,s)=>at(t,c=>mc(c,s.selectors.cell)),uS=(t,s)=>(c,d,p)=>{const v=p.cycles?t:s;return xa(d,p.selectors.row).bind(C=>{const k=mc(C,p.selectors.cell);return Sv(k,d).bind(D=>{const B=mc(c,p.selectors.row);return Sv(B,C).bind(F=>{const U=VP(B,p);return v(U,F,D).map(K=>K.cell)})})})},zP=uS(Mz,xv),WP=uS(Rz,Bz),Fz=uS($z,Iz),PN=uS(Pz,$N),Hz=J([go(ko(kb),dt(zP,WP)),go(ko(Cv),Vt(zP,WP)),go(ko(wv),In(Fz)),go(ko(Ab),ro(PN)),go(ko($c.concat(Ad)),HP)]),Vz=J([go(ko($c),N)]);var zz=Yp(Lz,ja.init,Hz,Vz,()=>I.some(FP));const Wz=[rt("selector"),He("execute",x),He("moveOnTab",!1)],BN=(t,s,c)=>c.focusManager.get(t).bind(d=>c.execute(t,s,d)),Uz=(t,s,c)=>{mr(t.element,s.selector).each(d=>{s.focusManager.set(t,d)})},UP=(t,s,c)=>cT(t,c.selector,s,-1),jP=(t,s,c)=>cT(t,c.selector,s,1),ZP=(t,s,c,d)=>c.moveOnTab?Is(UP)(t,s,c,d):I.none(),jz=(t,s,c,d)=>c.moveOnTab?Is(jP)(t,s,c,d):I.none(),Zz=J([go(ko(wv),Is(UP)),go(ko(Ab),Is(jP)),go(ru([ym,ko(Lu)]),ZP),go(ru([Mh,ko(Lu)]),jz),go(ko(Ad),BN),go(ko($c),BN)]),KP=J([go(ko($c),N)]);var Kz=Yp(Wz,ja.init,Zz,KP,()=>I.some(Uz));const qz=[tl("onSpace"),tl("onEnter"),tl("onShiftEnter"),tl("onLeft"),tl("onRight"),tl("onTab"),tl("onShiftTab"),tl("onUp"),tl("onDown"),tl("onEscape"),He("stopSpaceKeyup",!1),jo("focusIn")],fT=(t,s,c)=>[go(ko($c),c.onSpace),go(ru([Mh,ko(Ad)]),c.onEnter),go(ru([ym,ko(Ad)]),c.onShiftEnter),go(ru([ym,ko(Lu)]),c.onShiftTab),go(ru([Mh,ko(Lu)]),c.onTab),go(ko(wv),c.onUp),go(ko(Ab),c.onDown),go(ko(kb),c.onLeft),go(ko(Cv),c.onRight),go(ko($c),c.onSpace)],Gz=(t,s,c)=>[...c.stopSpaceKeyup?[go(ko($c),N)]:[],go(ko(Zy),c.onEscape)];var qP=Yp(qz,ja.init,fT,Gz,t=>t.focusIn);const Ol=f.schema(),Yz=g.schema(),GP=Nz.schema(),Xz=gc.schema(),Jz=zz.schema(),YP=_e.schema(),Qz=Kz.schema(),XP=qP.schema();var JP=Object.freeze({__proto__:null,acyclic:Ol,cyclic:Yz,flow:GP,flatgrid:Xz,matrix:Jz,execution:YP,menu:Qz,special:XP});const e9=t=>Ei(t,"setGridSize"),_n=iC({branchKey:"mode",branches:JP,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,c)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},d=>{d(t,s,c)})},setGridSize:(t,s,c,d,p)=>{e9(c)?c.setGridSize(d,p):console.error("Layout does not support setGridSize")}},state:Zt}),QP=(t,s)=>{K1(()=>{eN(t,s,()=>at(s,t.getSystem().build))},t.element)},eB=(t,s)=>{K1(()=>{tN(t,s,()=>I2(t.element,s,t.getSystem().buildOrPatch))},t.element)},tB=(t,s,c,d)=>{uv(s);const p=Uw(t.element,c,d,t.getSystem().buildOrPatch);ol(t,p),t.syncComponents()},mT=(t,s,c)=>{const d=t.getSystem().build(c);bb(t,d,s)},Rb=(t,s,c,d)=>{Pu(s),mT(t,(p,v)=>ni(p,v,c),d)},nB=(t,s,c,d)=>(s.reuseDom?eB:QP)(t,d),oB=(t,s,c,d)=>{mT(t,Ia,d)},IN=(t,s,c,d)=>{mT(t,xg,d)},t9=(t,s,c,d)=>{const p=hT(t);je(p,C=>es(d.element,C.element)).each(Pu)},hT=(t,s)=>t.components(),sB=(t,s,c,d,p)=>{const v=hT(t);return I.from(v[d]).map(C=>(p.fold(()=>Pu(C),k=>{(s.reuseDom?tB:Rb)(t,C,d,k)}),C))};var rB=Object.freeze({__proto__:null,append:oB,prepend:IN,remove:t9,replaceAt:sB,replaceBy:(t,s,c,d,p)=>{const v=hT(t);return pt(v,d).bind(C=>sB(t,s,c,C,p))},set:nB,contents:hT});const Vn=Qi({fields:[hi("reuseDom",!0)],name:"replacing",apis:rB}),LN=(t,s)=>{const c=Os(s);return Qi({fields:[rt("enabled")],name:t,active:{events:J(c)}})},eo=(t,s)=>{const c=LN(t,s);return{key:t,value:{config:{},me:c,configAsRaw:J({}),initialConfig:{},state:ja}}},Xp=(t,s)=>{s.ignore||(Sr(t.element),s.onFocus(t))};var s9=Object.freeze({__proto__:null,focus:Xp,blur:(t,s)=>{s.ignore||Eh(t.element)},isFocused:t=>cb(t.element)}),dS=Object.freeze({__proto__:null,exhibit:(t,s)=>{const c=s.ignore?{}:{attributes:{tabindex:"-1"}};return Ru(c)},events:t=>Os([mt(cf(),(s,c)=>{Xp(s,t),c.stop()})].concat(t.stopMousedown?[mt(io(),(s,c)=>{c.event.prevent()})]:[]))}),iB=[ho("onFocus"),He("stopMousedown",!1),He("ignore",!1)];const Rn=Qi({fields:iB,name:"focusing",active:dS,apis:s9}),Mb=t=>({init:()=>{const c=xn(t);return{get:()=>c.get(),set:k=>c.set(k),clear:()=>c.set(t),readState:()=>c.get()}}}),$b=(t,s,c)=>{const d=s.aria;d.update(t,d,c.get())},r9=(t,s,c)=>{s.toggleClass.each(d=>{c.get()?Kr(t.element,d):zo(t.element,d)})},fS=(t,s,c,d)=>{const p=c.get();c.set(d),r9(t,s,c),$b(t,s,c),p!==d&&s.onToggled(t,d)},FN=(t,s,c)=>{fS(t,s,c,!c.get())},Jp=(t,s,c)=>{fS(t,s,c,!0)},HN=(t,s,c)=>{fS(t,s,c,!1)},aB=(t,s,c)=>c.get(),VN=(t,s,c)=>{fS(t,s,c,s.selected)};var cB=Object.freeze({__proto__:null,onLoad:VN,toggle:FN,isOn:aB,on:Jp,off:HN,set:fS}),a9=Object.freeze({__proto__:null,exhibit:()=>Ru({}),events:(t,s)=>{const c=sC(t,s,FN),d=rC(t,s,VN);return Os(Ye([t.toggleOnExecute?[c]:[],[d]]))}});const c9=(t,s,c)=>{Gn(t.element,"aria-pressed",c),s.syncWithExpanded&&bT(t,s,c)},l9=(t,s,c)=>{Gn(t.element,"aria-selected",c)},gT=(t,s,c)=>{Gn(t.element,"aria-checked",c)},bT=(t,s,c)=>{Gn(t.element,"aria-expanded",c)};var zN=[He("selected",!1),jo("toggleClass"),He("toggleOnExecute",!0),ho("onToggled"),Yi("aria",{mode:"none"},Tr("mode",{pressed:[He("syncWithExpanded",!1),Zs("update",c9)],checked:[Zs("update",gT)],expanded:[Zs("update",bT)],selected:[Zs("update",l9)],none:[Zs("update",q)]}))];const ao=Qi({fields:zN,name:"toggling",active:a9,apis:cB,state:Mb(!1)}),uB=()=>{const t=(s,c)=>{c.stop(),_p(s)};return[mt(Ql(),t),mt(N1(),t),uf(Jc()),uf(io())]},mS=t=>{const s=c=>yd((d,p)=>{c(d),p.stop()});return Os(Ye([t.map(s).toArray(),uB()]))},WN="alloy.item-hover",UN="alloy.item-focus",jN="alloy.item-toggled",dB=t=>{(Mu(t.element).isNone()||Rn.isFocused(t))&&(Rn.isFocused(t)||Rn.focus(t),bn(t,WN,{item:t}))},vT=t=>{bn(t,UN,{item:t})},u9=(t,s)=>{bn(t,jN,{item:t,state:s})},fB=J(WN),d9=J(UN),f9=J(jN),mB=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),m9=t=>({aria:{mode:"checked"},...ba(t,(s,c)=>c!=="exclusive"),onToggled:(s,c)=>{Ee(t.onToggled)&&t.onToggled(s,c),u9(s,c)}}),h9=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:mB(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:ou.augment(t.itemBehaviours,[t.toggling.fold(ao.revoke,s=>ao.config(m9(s))),Rn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{vT(s)}}),_n.config({mode:"execution"}),zt.config({store:{mode:"memory",initialValue:t.data}}),eo("item-type-events",[...uB(),mt(gd(),dB),mt(Wg(),Rn.focus)])]),components:t.components,eventOrder:t.eventOrder}),hB=[rt("data"),rt("components"),rt("dom"),He("hasSubmenu",!1),jo("toggling"),ou.field("itemBehaviours",[ao,Rn,_n,zt]),He("ignoreFocus",!1),He("domModification",{}),Zs("builder",h9),He("eventOrder",{})],hS=t=>({dom:t.dom,components:t.components,events:Os([jO(Wg())])}),p9=[rt("dom"),rt("components"),Zs("builder",hS)],Tv=J("item-widget"),pS=J([Bi({name:"widget",overrides:t=>({behaviours:Dt([zt.config({store:{mode:"manual",getValue:s=>t.data,setValue:q}})])})})]),pB=t=>{const s=ZC(Tv(),t,pS()),c=KC(Tv(),t,s.internals()),d=v=>vs(v,t,"widget").map(C=>(_n.focusIn(C),C)),p=(v,C)=>Zp(C.event.target)?I.none():(()=>(t.autofocus&&C.setSource(v.element),I.none()))();return{dom:t.dom,components:c,domModification:t.domModification,events:Os([yd((v,C)=>{d(v).each(k=>{C.stop()})}),mt(gd(),dB),mt(Wg(),(v,C)=>{t.autofocus?d(v):Rn.focus(v)})]),behaviours:ou.augment(t.widgetBehaviours,[zt.config({store:{mode:"memory",initialValue:t.data}}),Rn.config({ignore:t.ignoreFocus,onFocus:v=>{vT(v)}}),_n.config({mode:"special",focusIn:t.autofocus?v=>{d(v)}:mD(),onLeft:p,onRight:p,onEscape:(v,C)=>!Rn.isFocused(v)&&!t.autofocus?(Rn.focus(v),I.some(!0)):(t.autofocus&&C.setSource(v.element),I.none())})])}},gB=[rt("uid"),rt("data"),rt("components"),rt("dom"),He("autofocus",!1),He("ignoreFocus",!1),ou.field("widgetBehaviours",[zt,Rn,_n]),He("domModification",{}),GC(pS()),Zs("builder",pB)],g9=Tr("type",{widget:gB,item:hB,separator:p9}),b9=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),bB=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),v9=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),vB=J([Hy({factory:{sketch:t=>{const s=qi("menu.spec item",g9,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>xo(s,"uid")?s:{...s,uid:tm("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),y9=J([rt("value"),rt("items"),rt("dom"),rt("components"),He("eventOrder",{}),ci("menuBehaviours",[Lo,zt,So,_n]),Yi("movement",{mode:"menu",moveOnTab:!0},Tr("mode",{grid:[ny(),Zs("config",b9)],matrix:[Zs("config",bB),rt("rowSelector"),He("previousSelector",I.none)],menu:[He("moveOnTab",!0),Zs("config",v9)]})),vP(),He("fakeFocus",!1),He("focusManager",rS()),ho("onHighlight"),ho("onDehighlight")]),yB=J("alloy.menu-focus"),_B=(t,s)=>{const c=mc(t.element,'[role="menuitemradio"][aria-checked="true"]');wt(c,d=>{es(d,s.element)||t.getSystem().getByDom(d).each(p=>{ao.off(p)})})},yT=(t,s,c,d)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Or(t.menuBehaviours,[Lo.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),zt.config({store:{mode:"memory",initialValue:t.value}}),So.config({find:I.some}),_n.config(t.movement.config(t,t.movement))]),events:Os([mt(d9(),(p,v)=>{const C=v.event;p.getSystem().getByDom(C.target).each(k=>{Lo.highlight(p,k),v.stop(),bn(p,yB(),{menu:p,item:k})})}),mt(fB(),(p,v)=>{const C=v.event.item;Lo.highlight(p,C)}),mt(f9(),(p,v)=>{const{item:C,state:k}=v.event;k&&Di(C.element,"role")==="menuitemradio"&&_B(p,C)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Qp=li({name:"Menu",configFields:y9(),partFields:vB(),factory:yT}),ZN=t=>wc(t,(s,c)=>({k:s,v:c})),wB=(t,s,c,d)=>Mt(c,d).bind(p=>Mt(t,p).bind(v=>{const C=wB(t,s,c,v);return I.some([v].concat(C))})).getOr([]),_9=(t,s)=>{const c={};ds(t,(C,k)=>{wt(C,D=>{c[D]=k})});const d=s,p=ZN(s),v=qo(p,(C,k)=>[k].concat(wB(c,d,p,k)));return qo(c,C=>Mt(v,C).getOr([C]))},w9=()=>{const t=xn({}),s=xn({}),c=xn({}),d=Ks(),p=xn({}),v=()=>{t.set({}),s.set({}),c.set({}),d.clear()},C=()=>d.get().isNone(),k=(Nt,_t)=>{s.set({...s.get(),[Nt]:{type:"prepared",menu:_t}})},D=(Nt,_t,Pt,Kt)=>{d.set(Nt),t.set(Pt),s.set(_t),p.set(Kt);const bo=_9(Kt,Pt);c.set(bo)},B=Nt=>Hs(t.get(),(_t,Pt)=>_t===Nt),F=(Nt,_t,Pt)=>be(Nt).bind(Kt=>B(Nt).bind(bo=>_t(bo).map(mn=>({triggeredMenu:Kt,triggeringItem:mn,triggeringPath:Pt})))),U=(Nt,_t)=>{const Pt=_o($e(Nt).toArray(),Kt=>be(Kt).isSome());return Mt(c.get(),Nt).bind(Kt=>{const bo=Wt(Pt.concat(Kt)),mn=Ae(bo,(qn,zn)=>F(qn,_t,bo.slice(0,zn+1)).fold(()=>xi(d.get(),qn)?[]:[I.none()],Ao=>[I.some(Ao)]));return ws(mn)})},K=Nt=>Mt(t.get(),Nt).map(_t=>{const Pt=Mt(c.get(),Nt).getOr([]);return[_t].concat(Pt)}),ee=Nt=>Mt(c.get(),Nt).bind(_t=>_t.length>1?I.some(_t.slice(1)):I.none()),ae=Nt=>Mt(c.get(),Nt),be=Nt=>Fe(Nt).bind(CB),Fe=Nt=>Mt(s.get(),Nt),$e=Nt=>Mt(t.get(),Nt);return{setMenuBuilt:k,setContents:D,expand:K,refresh:ae,collapse:ee,lookupMenu:Fe,lookupItem:$e,otherMenus:Nt=>{const _t=p.get();return st(uo(_t),Nt)},getPrimary:()=>d.get().bind(be),getMenus:()=>s.get(),clear:v,isClear:C,getTriggeringPath:U}},CB=t=>t.type==="prepared"?I.some(t.menu):I.none(),KN={init:w9,extractPreparedMenu:CB},qN=Gt("tiered-menu-item-highlight"),SB=Gt("tiered-menu-item-dehighlight");var rl;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(rl||(rl={}));const C9=(t,s)=>{const c=Ks(),d=(Lt,cn,Fn)=>qo(Fn,(yo,En)=>{const Wn=()=>Qp.sketch({...yo,value:En,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(_s,Ko)=>{bn(_s,qN,{menuComp:_s,itemComp:Ko})},onDehighlight:(_s,Ko)=>{bn(_s,SB,{menuComp:_s,itemComp:Ko})},focusManager:t.fakeFocus?rT():rS()});return En===cn?{type:"prepared",menu:Lt.getSystem().build(Wn())}:{type:"notbuilt",nbMenu:Wn}}),p=KN.init(),v=Lt=>{const cn=d(Lt,t.data.primary,t.data.menus),Fn=D();return p.setContents(t.data.primary,cn,t.data.expansions,Fn),p.getPrimary()},C=Lt=>zt.getValue(Lt).value,k=(Lt,cn,Fn)=>Qn(cn,yo=>{if(!yo.getSystem().isConnected())return I.none();const En=Lo.getCandidates(yo);return je(En,Wn=>C(Wn)===Fn)}),D=Lt=>qo(t.data.menus,(cn,Fn)=>Ae(cn.items,yo=>yo.type==="separator"?[]:[yo.data.value])),B=Lo.highlight,F=(Lt,cn)=>{B(Lt,cn),Lo.getHighlighted(cn).orThunk(()=>Lo.getFirst(cn)).each(Fn=>{t.fakeFocus?Lo.highlight(cn,Fn):M0(Lt,Fn.element,Wg())})},U=(Lt,cn)=>Fc(at(cn,Fn=>Lt.lookupMenu(Fn).bind(yo=>yo.type==="prepared"?I.some(yo.menu):I.none()))),K=(Lt,cn,Fn)=>{const yo=U(cn,cn.otherMenus(Fn));wt(yo,En=>{Ji(En.element,[t.markers.backgroundMenu]),t.stayInDom||Vn.remove(Lt,En)})},ee=Lt=>c.get().getOrThunk(()=>{const cn={},Fn=mc(Lt.element,`.${t.markers.item}`),yo=_o(Fn,En=>Di(En,"aria-haspopup")==="true");return wt(yo,En=>{Lt.getSystem().getByDom(En).each(Wn=>{const _s=C(Wn);cn[_s]=Wn})}),c.set(cn),cn}),ae=(Lt,cn)=>{const Fn=ee(Lt);ds(Fn,(yo,En)=>{const Wn=mo(cn,En);Gn(yo.element,"aria-expanded",Wn)})},be=(Lt,cn,Fn)=>I.from(Fn[0]).bind(yo=>cn.lookupMenu(yo).bind(En=>{if(En.type==="notbuilt")return I.none();{const Wn=En.menu,_s=U(cn,Fn.slice(1));return wt(_s,Ko=>{Kr(Ko.element,t.markers.backgroundMenu)}),ns(Wn.element)||Vn.append(Lt,eu(Wn)),Ji(Wn.element,[t.markers.backgroundMenu]),F(Lt,Wn),K(Lt,cn,Fn),I.some(Wn)}}));let Fe;(function(Lt){Lt[Lt.HighlightSubmenu=0]="HighlightSubmenu",Lt[Lt.HighlightParent=1]="HighlightParent"})(Fe||(Fe={}));const $e=(Lt,cn,Fn)=>{if(Fn.type==="notbuilt"){const yo=Lt.getSystem().build(Fn.nbMenu());return p.setMenuBuilt(cn,yo),yo}else return Fn.menu},De=(Lt,cn,Fn=Fe.HighlightSubmenu)=>{if(cn.hasConfigured(On)&&On.isDisabled(cn))return I.some(cn);{const yo=C(cn);return p.expand(yo).bind(En=>(ae(Lt,En),I.from(En[0]).bind(Wn=>p.lookupMenu(Wn).bind(_s=>{const Ko=$e(Lt,Wn,_s);return ns(Ko.element)||Vn.append(Lt,eu(Ko)),t.onOpenSubmenu(Lt,cn,Ko,Wt(En)),Fn===Fe.HighlightSubmenu?(Lo.highlightFirst(Ko),be(Lt,p,En)):(Lo.dehighlightAll(Ko),I.some(cn))}))))}},ft=(Lt,cn)=>{const Fn=C(cn);return p.collapse(Fn).bind(yo=>(ae(Lt,yo),be(Lt,p,yo).map(En=>(t.onCollapseMenu(Lt,cn,En),En))))},Xe=(Lt,cn)=>{const Fn=C(cn);return p.refresh(Fn).bind(yo=>(ae(Lt,yo),be(Lt,p,yo)))},Nt=(Lt,cn)=>Zp(cn.element)?I.none():De(Lt,cn,Fe.HighlightSubmenu),_t=(Lt,cn)=>Zp(cn.element)?I.none():ft(Lt,cn),Pt=(Lt,cn)=>ft(Lt,cn).orThunk(()=>t.onEscape(Lt,cn).map(()=>Lt)),Kt=Lt=>(cn,Fn)=>xa(Fn.getSource(),`.${t.markers.item}`).bind(yo=>cn.getSystem().getByDom(yo).toOptional().bind(En=>Lt(cn,En).map(xt))),bo=Os([mt(yB(),(Lt,cn)=>{const Fn=cn.event.item;p.lookupItem(C(Fn)).each(()=>{const yo=cn.event.menu;Lo.highlight(Lt,yo);const En=C(cn.event.item);p.refresh(En).each(Wn=>K(Lt,p,Wn))})}),yd((Lt,cn)=>{const Fn=cn.event.target;Lt.getSystem().getByDom(Fn).each(yo=>{C(yo).indexOf("collapse-item")===0&&ft(Lt,yo),De(Lt,yo,Fe.HighlightSubmenu).fold(()=>{t.onExecute(Lt,yo)},q)})}),js((Lt,cn)=>{v(Lt).each(Fn=>{Vn.append(Lt,eu(Fn)),t.onOpenMenu(Lt,Fn),t.highlightOnOpen===rl.HighlightMenuAndItem?F(Lt,Fn):t.highlightOnOpen===rl.HighlightJustMenu&&B(Lt,Fn)})}),mt(qN,(Lt,cn)=>{t.onHighlightItem(Lt,cn.event.menuComp,cn.event.itemComp)}),mt(SB,(Lt,cn)=>{t.onDehighlightItem(Lt,cn.event.menuComp,cn.event.itemComp)}),...t.navigateOnHover?[mt(fB(),(Lt,cn)=>{const Fn=cn.event.item;Xe(Lt,Fn),De(Lt,Fn,Fe.HighlightParent),t.onHover(Lt,Fn)})]:[]]),mn=Lt=>Lo.getHighlighted(Lt).bind(Lo.getHighlighted),qn=Lt=>{mn(Lt).each(cn=>{ft(Lt,cn)})},zn=Lt=>{p.getPrimary().each(cn=>{F(Lt,cn)})},Ao=Lt=>I.from(Lt.components()[0]).filter(cn=>Di(cn.element,"role")==="menu"),Eo={collapseMenu:qn,highlightPrimary:zn,repositionMenus:Lt=>{p.getPrimary().bind(Fn=>mn(Lt).bind(yo=>{const En=C(yo),Wn=Hd(p.getMenus()),_s=Fc(at(Wn,KN.extractPreparedMenu));return p.getTriggeringPath(En,Ko=>k(Lt,_s,Ko))}).map(yo=>({primary:Fn,triggeringPath:yo}))).fold(()=>{Ao(Lt).each(Fn=>{t.onRepositionMenu(Lt,Fn,[])})},({primary:Fn,triggeringPath:yo})=>{t.onRepositionMenu(Lt,Fn,yo)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Or(t.tmenuBehaviours,[_n.config({mode:"special",onRight:Kt(Nt),onLeft:Kt(_t),onEscape:Kt(Pt),focusIn:(Lt,cn)=>{p.getPrimary().each(Fn=>{M0(Lt,Fn.element,Wg())})}}),Lo.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),So.config({find:Lt=>Lo.getHighlighted(Lt)}),Vn.config({})]),eventOrder:t.eventOrder,apis:Eo,events:bo}},S9=J("collapse-item"),E9=(t,s,c)=>({primary:t,menus:s,expansions:c}),x9=(t,s)=>({primary:t,menus:St(t,s),expansions:{}}),EB=t=>({value:Gt(S9()),meta:{text:t}}),kv=qr({name:"TieredMenu",configFields:[ab("onExecute"),ab("onEscape"),Je("onOpenMenu"),Je("onOpenSubmenu"),ho("onRepositionMenu"),ho("onCollapseMenu"),He("highlightOnOpen",rl.HighlightMenuAndItem),nf("data",[rt("primary"),rt("menus"),rt("expansions")]),He("fakeFocus",!1),ho("onHighlightItem"),ho("onDehighlightItem"),ho("onHover"),mf(),rt("dom"),He("navigateOnHover",!0),He("stayInDom",!1),ci("tmenuBehaviours",[_n,Lo,So,Vn]),He("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:C9,extraApis:{tieredData:E9,singleData:x9,collapseItem:EB}}),T9=(t,s,c,d,p)=>{const v=()=>t.lazySink(s),C=d.type==="horizontal"?{layouts:{onLtr:()=>oC(),onRtl:()=>cy()}}:{},k=B=>B.length===2,D=B=>k(B)?C:{};return kv.sketch({dom:{tag:"div"},data:d.data,markers:d.menu.markers,highlightOnOpen:d.menu.highlightOnOpen,fakeFocus:d.menu.fakeFocus,onEscape:()=>(To.close(s),t.onEscape.map(B=>B(s)),I.some(!0)),onExecute:()=>I.some(!0),onOpenMenu:(B,F)=>{vi.positionWithinBounds(v().getOrDie(),F,c,p())},onOpenSubmenu:(B,F,U,K)=>{const ee=v().getOrDie();vi.position(ee,U,{anchor:{type:"submenu",item:F,...D(K)}})},onRepositionMenu:(B,F,U)=>{const K=v().getOrDie();vi.positionWithinBounds(K,F,c,p()),wt(U,ee=>{const ae=D(ee.triggeringPath);vi.position(K,ee.triggeredMenu,{anchor:{type:"submenu",item:ee.triggeringItem,...ae}})})}})},k9=(t,s)=>{const c=(K,ee)=>t.getRelated(K).exists(be=>Tp(be,ee)),d=(K,ee)=>{To.setContent(K,ee)},p=(K,ee,ae)=>{const be=I.none;v(K,ee,ae,be)},v=(K,ee,ae,be)=>{const Fe=t.lazySink(K).getOrDie();To.openWhileCloaked(K,ee,()=>vi.positionWithinBounds(Fe,K,ae,be())),zt.setValue(K,I.some({mode:"position",config:ae,getBounds:be}))},C=(K,ee,ae)=>{k(K,ee,ae,I.none)},k=(K,ee,ae,be)=>{const Fe=T9(t,K,ee,ae,be);To.open(K,Fe),zt.setValue(K,I.some({mode:"menu",menu:Fe}))},D=K=>{To.isOpen(K)&&(zt.setValue(K,I.none()),To.close(K))},B=K=>To.getState(K),F=K=>{To.isOpen(K)&&zt.getValue(K).each(ee=>{switch(ee.mode){case"menu":To.getState(K).each(kv.repositionMenus);break;case"position":const ae=t.lazySink(K).getOrDie();vi.positionWithinBounds(ae,K,ee.config,ee.getBounds());break}})},U={setContent:d,showAt:p,showWithinBounds:v,showMenuAt:C,showMenuWithinBounds:k,hide:D,getContent:B,reposition:F,isOpen:To.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Or(t.inlineBehaviours,[To.config({isPartOf:(K,ee,ae)=>Tp(ee,ae)||c(K,ae),getAttachPoint:K=>t.lazySink(K).getOrDie(),onOpen:K=>{t.onShow(K)},onClose:K=>{t.onHide(K)}}),zt.config({store:{mode:"memory",initialValue:I.none()}}),uc.config({channels:{...Vp({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({})}),...PC({...t.fireRepositionEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({}),doReposition:F})}})]),eventOrder:t.eventOrder,apis:U}},hr=qr({name:"InlineView",configFields:[rt("lazySink"),ho("onShow"),ho("onHide"),of("onEscape"),ci("inlineBehaviours",[To,zt,uc]),wr("fireDismissalEventInstead",[He("event",lf())]),wr("fireRepositionEventInstead",[He("event",Nw())]),He("getRelated",I.none),He("isExtraPart",vt),He("eventOrder",I.none)],factory:k9,apis:{showAt:(t,s,c,d)=>{t.showAt(s,c,d)},showWithinBounds:(t,s,c,d,p)=>{t.showWithinBounds(s,c,d,p)},showMenuAt:(t,s,c,d)=>{t.showMenuAt(s,c,d)},showMenuWithinBounds:(t,s,c,d,p)=>{t.showMenuWithinBounds(s,c,d,p)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,c)=>{t.setContent(s,c)},reposition:(t,s)=>{t.reposition(s)}}});var _T=tinymce.util.Tools.resolve("tinymce.util.Delay");const Aa=qr({name:"Button",factory:t=>{const s=mS(t.action),c=t.dom.tag,d=v=>Mt(t.dom,"attributes").bind(C=>Mt(C,v)),p=()=>{if(c==="button"){const v=d("type").getOr("button"),C=d("role").map(k=>({role:k})).getOr({});return{type:v,...C}}else return{role:t.role.getOr(d("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:ou.augment(t.buttonBehaviours,[Rn.config({}),_n.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:p()},eventOrder:t.eventOrder}},configFields:[He("uid",void 0),rt("dom"),He("components",[]),ou.field("buttonBehaviours",[Rn,_n]),jo("action"),jo("role"),He("eventOrder",{})]}),os=t=>{const s=gv(t)&&Ei(t,"uid")?t.uid:tm("memento");return{get:v=>v.getSystem().getByUid(s).getOrDie(),getOpt:v=>v.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var bc=tinymce.util.Tools.resolve("tinymce.util.I18n");const xB={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},TB="temporary-placeholder",$h=t=>()=>Mt(t,TB).getOr("!not found!"),GN=(t,s)=>{const c=t.toLowerCase();if(bc.isRtl()){const d=$s(c,"-rtl");return xo(s,d)?d:c}else return c},kB=(t,s)=>Mt(s,GN(t,s)),Fu=(t,s)=>{const c=s();return kB(t,c).getOrThunk($h(c))},AB=(t,s,c)=>{const d=s();return kB(t,d).or(c).getOrThunk($h(d))},OB=t=>bc.isRtl()?xo(xB,t):!1,wT=()=>eo("add-focusable",[js(t=>{X0(t.element,"svg").each(s=>Gn(s,"focusable","false"))})]),DB=(t,s,c,d)=>{var p,v;const C=OB(s)?["tox-icon--flip"]:[],k=Mt(c,GN(s,c)).or(d).getOrThunk($h(c));return{dom:{tag:t.tag,attributes:(p=t.attributes)!==null&&p!==void 0?p:{},classes:t.classes.concat(C),innerHtml:k},behaviours:Dt([...(v=t.behaviours)!==null&&v!==void 0?v:[],wT()])}},Hu=(t,s,c,d=I.none())=>DB(s,t,c(),d),A9=(t,s,c)=>{const d=c(),p=je(t,v=>xo(d,GN(v,d)));return DB(s,p.getOr(TB),d,I.none())},O9={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Xy=qr({name:"Notification",factory:t=>{const s=os({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Dt([Vn.config({})])}),c=ee=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ee}%`}}}),d=ee=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ee}%`}}),p=os({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(0)]},d(0)],behaviours:Dt([Vn.config({})])}),k={updateProgress:(ee,ae)=>{ee.getSystem().isConnected()&&p.getOpt(ee).each(be=>{Vn.set(be,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(ae)]},d(ae)])})},updateText:(ee,ae)=>{if(ee.getSystem().isConnected()){const be=s.get(ee);Vn.set(be,[Ar(ae)])}}},D=Ye([t.icon.toArray(),t.level.toArray(),t.level.bind(ee=>I.from(O9[ee])).toArray()]),B=os(Aa.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Hu("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:ee=>{t.onAction(ee)}})),F=A9(D,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),U={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:Dt([Vn.config({})])},K=[F,U];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(ee=>["tox-notification","tox-notification--in",`tox-notification--${ee}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Dt([Rn.config({}),eo("notification-events",[mt(Xl(),ee=>{B.getOpt(ee).each(Rn.focus)})])]),components:K.concat(t.progress?[p.asSpec()]:[]).concat(t.closeButton?[B.asSpec()]:[]),apis:k}},configFields:[jo("level"),rt("progress"),jo("icon"),rt("onAction"),rt("text"),rt("iconProvider"),rt("translationProvider"),hi("closeButton",!0)],apis:{updateProgress:(t,s,c)=>{t.updateProgress(s,c)},updateText:(t,s,c)=>{t.updateText(s,c)}}});var YN=(t,s,c)=>{const d=s.backstage.shared,p=()=>{const D=z(Ie.fromDom(t.getContentAreaContainer())),B=Ct(),F=Za(B.x,D.x,D.right),U=Za(B.y,D.y,D.bottom),K=Math.max(D.right,B.right),ee=Math.max(D.bottom,B.bottom);return I.some(P(F,U,K-F,ee-U))};return{open:(D,B)=>{const F=()=>{B(),hr.hide(K)},U=la(Xy.sketch({text:D.text,level:mo(["success","error","warning","warn","info"],D.type)?D.type:void 0,progress:D.progressBar===!0,icon:D.icon,closeButton:D.closeButton,onAction:F,iconProvider:d.providers.icons,translationProvider:d.providers.translate})),K=la(hr.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));c.add(K),Me(D.timeout)&&D.timeout>0&&_T.setEditorTimeout(t,()=>{F()},D.timeout);const ae={close:F,reposition:()=>{const be=eu(U),Fe={maxHeightFunction:Np()},$e=t.notificationManager.getNotifications();if($e[0]===ae){const De={...d.anchors.banner(),overrides:Fe};hr.showWithinBounds(K,be,{anchor:De},p)}else lt($e,ae).each(De=>{const ft=$e[De-1].getEl(),Xe={type:"node",root:$o(),node:I.some(Ie.fromDom(ft)),overrides:Fe,layouts:{onRtl:()=>[ai],onLtr:()=>[ai]}};hr.showWithinBounds(K,be,{anchor:Xe},p)})},text:be=>{Xy.updateText(U,be)},settings:D,getEl:()=>U.element.dom,progressBar:{value:be=>{Xy.updateProgress(U,be)}}};return ae},close:D=>{D.close()},getArgs:D=>D.settings}},Jy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),NB=tinymce.util.Tools.resolve("tinymce.EditorManager"),Av=tinymce.util.Tools.resolve("tinymce.Env"),Dd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Dd||(Dd={}));var Ov;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Ov||(Ov={}));const Ls=t=>s=>s.options.get(t),Dv=t=>s=>I.from(t(s)),RB=t=>{const s=Av.deviceType.isPhone(),c=Av.deviceType.isTablet()||s,d=t.options.register,p=C=>A(C)||C===!1,v=C=>A(C)||Me(C);d("skin",{processor:C=>A(C)||C===!1,default:"oxide"}),d("skin_url",{processor:"string"}),d("height",{processor:v,default:Math.max(t.getElement().offsetHeight,400)}),d("width",{processor:v,default:Jy.DOM.getStyle(t.getElement(),"width")}),d("min_height",{processor:"number",default:100}),d("min_width",{processor:"number"}),d("max_height",{processor:"number"}),d("max_width",{processor:"number"}),d("style_formats",{processor:"object[]"}),d("style_formats_merge",{processor:"boolean",default:!1}),d("style_formats_autohide",{processor:"boolean",default:!1}),d("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),d("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),d("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),d("font_size_input_default_unit",{processor:"string",default:"pt"}),d("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),d("content_langs",{processor:"object[]"}),d("removed_menuitems",{processor:"string",default:""}),d("menubar",{processor:C=>A(C)||le(C),default:!s}),d("menu",{processor:"object",default:{}}),d("toolbar",{processor:C=>le(C)||A(C)||j(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),so(9,C=>{d("toolbar"+(C+1),{processor:"string"})}),d("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),d("toolbar_groups",{processor:"object",default:{}}),d("toolbar_location",{processor:"string",default:Ov.auto}),d("toolbar_persist",{processor:"boolean",default:!1}),d("toolbar_sticky",{processor:"boolean",default:t.inline}),d("toolbar_sticky_offset",{processor:"number",default:0}),d("fixed_toolbar_container",{processor:"string",default:""}),d("fixed_toolbar_container_target",{processor:"object"}),d("ui_mode",{processor:"string",default:"combined"}),d("file_picker_callback",{processor:"function"}),d("file_picker_validator_handler",{processor:"function"}),d("file_picker_types",{processor:"string"}),d("typeahead_urls",{processor:"boolean",default:!0}),d("anchor_top",{processor:p,default:"#top"}),d("anchor_bottom",{processor:p,default:"#bottom"}),d("draggable_modal",{processor:"boolean",default:!1}),d("statusbar",{processor:"boolean",default:!0}),d("elementpath",{processor:"boolean",default:!0}),d("branding",{processor:"boolean",default:!0}),d("promotion",{processor:"boolean",default:!0}),d("resize",{processor:C=>C==="both"||le(C),default:!Av.deviceType.isTouch()}),d("sidebar_show",{processor:"string"})},Qy=Ls("readonly"),e_=Ls("height"),CT=Ls("width"),ST=Dv(Ls("min_width")),XN=Dv(Ls("min_height")),ET=Dv(Ls("max_width")),JN=Dv(Ls("max_height")),MB=Dv(Ls("style_formats")),xT=Ls("style_formats_merge"),QN=Ls("style_formats_autohide"),eR=Ls("content_langs"),TT=Ls("removed_menuitems"),t_=Ls("toolbar_mode"),tR=Ls("toolbar_groups"),nR=Ls("toolbar_location"),D9=Ls("fixed_toolbar_container"),N9=Ls("fixed_toolbar_container_target"),oR=Ls("toolbar_persist"),$B=Ls("toolbar_sticky_offset"),PB=Ls("menubar"),n_=Ls("toolbar"),sR=Ls("file_picker_callback"),rR=Ls("file_picker_validator_handler"),BB=Ls("font_size_input_default_unit"),kT=Ls("file_picker_types"),IB=Ls("typeahead_urls"),LB=Ls("anchor_top"),FB=Ls("anchor_bottom"),HB=Ls("draggable_modal"),VB=Ls("statusbar"),iR=Ls("elementpath"),AT=Ls("branding"),zB=Ls("resize"),gS=Ls("paste_as_text"),WB=Ls("sidebar_show"),UB=Ls("promotion"),aR=t=>t.options.get("skin")===!1,OT=t=>t.options.get("menubar")!==!1,jB=t=>{const s=t.options.get("skin_url");if(aR(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const c=t.options.get("skin");return NB.baseURL+"/skins/ui/"+c}},ZB=t=>t.options.get("line_height_formats").split(" "),bS=t=>{const s=n_(t),c=A(s),d=j(s)&&s.length>0;return!vS(t)&&(d||c||s===!0)},cR=t=>{const s=so(9,d=>t.options.get("toolbar"+(d+1))),c=_o(s,A);return Dn(c.length>0,c)},vS=t=>cR(t).fold(()=>{const s=n_(t);return ce(s,A)&&s.length>0},xt),yS=t=>nR(t)===Ov.bottom,Pb=t=>{var s;if(!t.inline)return I.none();const c=(s=D9(t))!==null&&s!==void 0?s:"";if(c.length>0)return mr($o(),c);const d=N9(t);return ve(d)?I.some(Ie.fromDom(d)):I.none()},o_=t=>t.inline&&Pb(t).isSome(),lR=t=>Pb(t).getOrThunk(()=>Qe(Ne(Ie.fromDom(t.getElement())))),_S=t=>t.inline&&!OT(t)&&!bS(t)&&!vS(t),wS=t=>(t.options.get("toolbar_sticky")||t.inline)&&!o_(t)&&!_S(t),eg=t=>!o_(t)&&t.options.get("ui_mode")==="split",KB=t=>{const s=t.options.get("menu");return qo(s,c=>({...c,items:c.items}))};var qB=Object.freeze({__proto__:null,get ToolbarMode(){return Dd},get ToolbarLocation(){return Ov},register:RB,getSkinUrl:jB,isReadOnly:Qy,isSkinDisabled:aR,getHeightOption:e_,getWidthOption:CT,getMinWidthOption:ST,getMinHeightOption:XN,getMaxWidthOption:ET,getMaxHeightOption:JN,getUserStyleFormats:MB,shouldMergeStyleFormats:xT,shouldAutoHideStyleFormats:QN,getLineHeightFormats:ZB,getContentLanguages:eR,getRemovedMenuItems:TT,isMenubarEnabled:OT,isMultipleToolbars:vS,isToolbarEnabled:bS,isToolbarPersist:oR,getMultipleToolbarsOption:cR,getUiContainer:lR,useFixedContainer:o_,isSplitUiMode:eg,getToolbarMode:t_,isDraggableModal:HB,isDistractionFree:_S,isStickyToolbar:wS,getStickyToolbarOffset:$B,getToolbarLocation:nR,isToolbarLocationBottom:yS,getToolbarGroups:tR,getMenus:KB,getMenubar:PB,getToolbar:n_,getFilePickerCallback:sR,getFilePickerTypes:kT,useTypeaheadUrls:IB,getAnchorTop:LB,getAnchorBottom:FB,getFilePickerValidatorHandler:rR,getFontSizeInputDefaultUnit:BB,useStatusBar:VB,useElementPath:iR,promotionEnabled:UB,useBranding:AT,getResize:zB,getPasteAsText:gS,getSidebarShow:WB});const uR="[data-mce-autocompleter]",DT=t=>xa(t,uR),R9=t=>mr(t,uR),$9={setup:(t,s)=>{const c=(p,v)=>{bn(p,ic(),{raw:v})},d=()=>t.getMenu().bind(Lo.getHighlighted);s.on("keydown",p=>{const v=p.which;t.isActive()&&(t.isMenuOpen()?v===13?(d().each(_p),p.preventDefault()):v===40?(d().fold(()=>{t.getMenu().each(Lo.highlightFirst)},C=>{c(C,p)}),p.preventDefault(),p.stopImmediatePropagation()):(v===37||v===38||v===39)&&d().each(C=>{c(C,p),p.preventDefault(),p.stopImmediatePropagation()}):(v===13||v===38||v===40)&&t.cancelIfNecessary())}),s.on("NodeChange",p=>{t.isActive()&&!t.isProcessingAction()&&DT(Ie.fromDom(p.element)).isNone()&&t.cancelIfNecessary()})}};var Nv;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Nv||(Nv={}));var _m=Nv;const dR="tox-menu-nav__js",s_="tox-collection__item",CS="tox-swatch",P9={normal:dR,color:CS},fR="tox-collection__item--enabled",B9="tox-collection__group-heading",GB="tox-collection__item-icon",SS="tox-collection__item-label",I9="tox-collection__item-accessory",YB="tox-collection__item-caret",L9="tox-collection__item-checkmark",ES="tox-collection__item--active",XB="tox-collection__item-container",F9="tox-collection__item-container--column",JB="tox-collection__item-container--row",H9="tox-collection__item-container--align-right",V9="tox-collection__item-container--align-left",z9="tox-collection__item-container--valign-top",W9="tox-collection__item-container--valign-middle",U9="tox-collection__item-container--valign-bottom",NT=t=>Mt(P9,t).getOr(dR),j9=t=>t==="color"?"tox-swatches":"tox-menu",mR=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:j9(t),tieredMenu:"tox-tiered-menu"}),Rv=t=>{const s=mR(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:NT(t)}},QB=(t,s,c)=>{const d=mR(c);return{tag:"div",classes:Ye([[d.menu,`tox-menu-${s}-column`],t?[d.hasIcons]:[]])}},Z9=[Qp.parts.items({})],RT=(t,s,c)=>{const d=mR(c);return{dom:{tag:"div",classes:Ye([[d.tieredMenu]])},markers:Rv(c)}},eI=J([jo("data"),He("inputAttributes",{}),He("inputStyles",{}),He("tag","input"),He("inputClasses",[]),ho("onSetValue"),He("styles",{}),He("eventOrder",{}),ci("inputBehaviours",[zt,Rn]),He("selectOnFocus",!0)]),tI=t=>Dt([Rn.config({onFocus:t.selectOnFocus?s=>{const c=s.element,d=cc(c);c.dom.setSelectionRange(0,d.length)}:q})]),K9=t=>({...tI(t),...Or(t.inputBehaviours,[zt.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>cc(s.element),setValue:(s,c)=>{cc(s.element)!==c&&xl(s.element,c)}},onSetValue:t.onSetValue})])}),nI=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),hR=(t,s)=>({uid:t.uid,dom:nI(t),components:[],behaviours:K9(t),eventOrder:t.eventOrder}),Mv=qr({name:"Input",configFields:eI(),factory:hR}),oI=Gt("refetch-trigger-event"),sI=Gt("redirect-menu-item-interaction"),rI="tox-menu__searcher",MT=t=>mr(t.element,`.${rI}`).bind(s=>t.getSystem().getByDom(s).toOptional()),iI=MT,q9=(t,s)=>{zt.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},aI=t=>{const s=zt.getValue(t),c=t.element.dom.selectionStart,d=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:c,selectionEnd:d}},G9=(t,s)=>{yr(s.element,"id").each(c=>Gn(t.element,"aria-activedescendant",c))},Y9=t=>{const s=(p,v)=>(v.cut(),I.none()),c=(p,v)=>{const C={interactionEvent:v.event,eventType:v.event.raw.type};return bn(p,sI,C),I.some(!0)},d="searcher-events";return{dom:{tag:"div",classes:[s_]},components:[Mv.sketch({inputClasses:[rI,"tox-textfield"],inputAttributes:{...t.placeholder.map(p=>({placeholder:t.i18n(p)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Dt([eo(d,[mt(ph(),p=>{Zo(p,oI)}),mt(ic(),(p,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),_n.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[d,_n.name()]}})]}},$T="tox-collection--results__js",cI=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Gt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},pR=(t,s)=>c=>{const d=Mo(c,s);return at(d,p=>({dom:t,components:p}))},PT=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Qp.parts.items({preprocess:t!=="auto"?pR({tag:"div",classes:["tox-swatches__row"]},t):Te})]}]}),X9=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Qp.parts.items({preprocess:pR({tag:"div",classes:["tox-collection__group"]},t)})]}),BT=(t,s)=>{const c=[];let d=[];return wt(t,(p,v)=>{s(p,v)?(d.length>0&&c.push(d),d=[],(xo(p.dom,"innerHtml")||p.components&&p.components.length>0)&&d.push(p)):d.push(p)}),d.length>0&&c.push(d),at(c,p=>({dom:{tag:"div",classes:["tox-collection__group"]},components:p}))},gR=(t,s,c)=>Qp.parts.items({preprocess:d=>{const p=at(d,c);return t!=="auto"&&t>1?pR({tag:"div",classes:["tox-collection__group"]},t)(p):BT(p,(v,C)=>s[C].type==="separator")}}),lI=(t,s,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[gR(t,s,Te)]}),J9=(t,s,c=!0)=>{const d=Gt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",$T].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:d}},components:[gR(t,s,cI)]}},Q9=(t,s,c)=>{const d=Gt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Y9({i18n:bc.translate,placeholder:c.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],$T],attributes:{id:d}},components:[gR(t,s,cI)]}]}},eW=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Qp.parts.items({preprocess:c=>BT(c,(d,p)=>t[p].type==="separator")})]}),xS=t=>ks(t,s=>"icon"in s&&s.icon!==void 0),tg=t=>(console.error(hh(t)),console.log(t),I.none()),bR=(t,s,c,d,p)=>{const v=eW(c);return{value:t,dom:v.dom,components:v.components,items:c}},TS=(t,s,c,d,p)=>{const v=()=>p.menuType!=="searchable"?lI(d,c):p.searchMode.searchMode==="search-with-field"?Q9(d,c,p.searchMode):J9(d,c);if(p.menuType==="color"){const C=PT(d);return{value:t,dom:C.dom,components:C.components,items:c}}else if(p.menuType==="normal"&&d==="auto"){const C=lI(d,c);return{value:t,dom:C.dom,components:C.components,items:c}}else if(p.menuType==="normal"||p.menuType==="searchable"){const C=v();return{value:t,dom:C.dom,components:C.components,items:c}}else if(p.menuType==="listpreview"&&d!=="auto"){const C=X9(d);return{value:t,dom:C.dom,components:C.components,items:c}}else return{value:t,dom:QB(s,d,p.menuType),components:Z9,items:c}},Lr=Zr("type"),kS=Zr("name"),r_=Zr("label"),Ph=Zr("text"),wm=Zr("title"),IT=Zr("icon"),AS=Zr("value"),tW=Dc("fetch"),nW=Dc("getSubmenuItems"),i_=Dc("onAction"),a_=Dc("onItemAction"),$v=dr("onSetup",()=>q),oW=Gi("name"),ng=Gi("text"),Vu=Gi("icon"),c_=Gi("tooltip"),vR=Gi("label"),yR=Gi("shortcut"),_R=of("select"),LT=hi("active",!1),uI=hi("borderless",!1),Nd=hi("enabled",!0),FT=hi("primary",!1),dI=t=>He("columns",t),wR=He("meta",{}),CR=dr("onAction",q),Pv=t=>Sa("type",t),SR=t=>si("name","name",wa(()=>Gt(`${t}-name`)),tr),fI=t=>si("value","value",wa(()=>Gt(`${t}-value`)),Ac()),ER=yn([Lr,ng]),sW=t=>as("separatormenuitem",ER,t),mI=yn([Pv("autocompleteitem"),LT,Nd,wR,AS,ng,Vu]),hI=t=>as("Autocompleter.Separator",ER,t),OS=t=>as("Autocompleter.Item",mI,t),l_=[Nd,c_,Vu,ng,$v],rW=yn([Lr,i_].concat(l_)),pI=t=>as("toolbarbutton",rW,t),HT=[LT].concat(l_),iW=yn(HT.concat([Lr,i_])),gI=t=>as("ToggleButton",iW,t),xR=[dr("predicate",vt),ca("scope","node",["node","editor"]),ca("position","selection",["node","selection","line"])],bI=l_.concat([Pv("contextformbutton"),FT,i_,Ca("original",Te)]),vI=HT.concat([Pv("contextformbutton"),FT,i_,Ca("original",Te)]),yI=l_.concat([Pv("contextformbutton")]),aW=HT.concat([Pv("contextformtogglebutton")]),cW=Tr("type",{contextformbutton:bI,contextformtogglebutton:vI}),_I=yn([Pv("contextform"),dr("initValue",J("")),vR,Nc("commands",cW),Du("launch",Tr("type",{contextformbutton:yI,contextformtogglebutton:aW}))].concat(xR)),TR=t=>as("ContextForm",_I,t),kR=yn([Pv("contexttoolbar"),Zr("items")].concat(xR)),wI=t=>as("ContextToolbar",kR,t),CI=[Lr,Zr("src"),Gi("alt"),sf("classes",[],tr)],SI=yn(CI),lW=[Lr,Ph,oW,sf("classes",["tox-collection__item-label"],tr)],AR=yn(lW),EI=Pg(()=>rc("type",{cardimage:SI,cardtext:AR,cardcontainer:xI})),xI=yn([Lr,Sa("direction","horizontal"),Sa("align","left"),Sa("valign","middle"),Nc("items",EI)]),Bv=[Nd,ng,yR,fI("menuitem"),wR],Iv=yn([Lr,vR,Nc("items",EI),$v,CR].concat(Bv)),uW=t=>as("cardmenuitem",Iv,t),OR=yn([Lr,LT,Vu].concat(Bv)),VT=t=>as("choicemenuitem",OR,t),TI=[Lr,Zr("fancytype"),CR],kI=[He("initData",{})].concat(TI),AI=[of("select"),rf("initData",{},[hi("allowCustomColors",!0),Sa("storageKey","default"),md("colors",Ac())])].concat(TI),OI=Tr("fancytype",{inserttable:kI,colorswatch:AI}),DR=t=>as("fancymenuitem",OI,t),DI=yn([Lr,$v,CR,Vu].concat(Bv)),dW=t=>as("menuitem",DI,t),NI=yn([Lr,nW,$v,Vu].concat(Bv)),RI=t=>as("nestedmenuitem",NI,t),MI=yn([Lr,Vu,LT,$v,i_].concat(Bv)),$I=t=>as("togglemenuitem",MI,t),NR=(t,s,c)=>{const d=mc(t.element,"."+c);if(d.length>0){const p=pt(d,v=>{const C=v.dom.getBoundingClientRect().top,k=d[0].dom.getBoundingClientRect().top;return Math.abs(C-k)>s}).getOr(d.length);return I.some({numColumns:p,numRows:Math.ceil(d.length/p)})}else return I.none()},RR=(t,s)=>Dt([eo(t,s)]),DS={namedEvents:RR,unnamedEvents:t=>RR(Gt("unnamed-events"),t)},PI=Gt("tooltip.exclusive"),NS=Gt("tooltip.show"),u_=Gt("tooltip.hide"),d_=(t,s,c)=>{t.getSystem().broadcastOn([PI],{})};var mW=Object.freeze({__proto__:null,hideAllExclusive:d_,setComponents:(t,s,c,d)=>{c.getTooltip().each(p=>{p.getSystem().isConnected()&&Vn.set(p,d)})}}),hW=Object.freeze({__proto__:null,events:(t,s)=>{const c=p=>{s.getTooltip().each(v=>{Pu(v),t.onHide(p,v),s.clearTooltip()}),s.clearTimer()},d=p=>{if(!s.isShowing()){d_(p);const v=t.lazySink(p).getOrDie(),C=p.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Os(t.mode==="normal"?[mt(gd(),k=>{Zo(p,NS)}),mt(Mi(),k=>{Zo(p,u_)})]:[]),behaviours:Dt([Vn.config({})])});s.setTooltip(C),yf(v,C),t.onShow(p,C),vi.position(v,C,{anchor:t.anchor(p)})}};return Os(Ye([[mt(NS,p=>{s.resetTimer(()=>{d(p)},t.delay)}),mt(u_,p=>{s.resetTimer(()=>{c(p)},t.delay)}),mt(vd(),(p,v)=>{const C=v;C.universal||mo(C.channels,PI)&&c(p)}),Wa(p=>{c(p)})],t.mode==="normal"?[mt(Xl(),p=>{Zo(p,NS)}),mt(zg(),p=>{Zo(p,u_)}),mt(gd(),p=>{Zo(p,NS)}),mt(Mi(),p=>{Zo(p,u_)})]:[mt(E2(),(p,v)=>{Zo(p,NS)}),mt(M1(),p=>{Zo(p,u_)})]]))}}),pW=[rt("lazySink"),rt("tooltipDom"),He("exclusive",!0),He("tooltipComponents",[]),He("delay",300),ca("mode","normal",["normal","follow-highlight"]),He("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:J([ai,Bs,$i,Ka,gi,lc]),onRtl:J([ai,Bs,$i,Ka,gi,lc])}})),ho("onHide"),ho("onShow")],zT=Object.freeze({__proto__:null,init:()=>{const t=Ks(),s=Ks(),c=()=>{t.on(clearTimeout)},d=(v,C)=>{c(),t.set(setTimeout(v,C))},p=J("not-implemented");return Qc({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:c,resetTimer:d,readState:p})}});const BI=Qi({fields:pW,name:"tooltipping",active:hW,state:zT,apis:mW}),II=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),LI="silver.readonly",FI=yn([Bg("readonly")]),RS=(t,s)=>{const d=t.mainUi.outerContainer.element,p=[t.mainUi.mothership,...t.uiMotherships];s&&wt(p,v=>{v.broadcastOn([mm()],{target:d})}),wt(p,v=>{v.broadcastOn([LI],{readonly:s})})},HI=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&RS(s,!0)}),t.on("SwitchMode",()=>RS(s,t.mode.isReadOnly())),Qy(t)&&t.mode.set("readonly")},wi=()=>uc.config({channels:{[LI]:{schema:FI,onReceive:(t,s)=>{On.set(t,s.readonly)}}}}),wf={item:t=>On.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>On.config({disabled:t}),splitButton:t=>On.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>On.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},WT=(t,s)=>{const c=t.getApi(s);return d=>{d(c)}},Bb=(t,s)=>js(c=>{WT(t,c)(p=>{const v=t.onSetup(p);Ee(v)&&s.set(v)})}),og=(t,s)=>Wa(c=>WT(t,c)(s.get())),VI=(t,s)=>yd((c,d)=>{WT(t,c)(t.onAction),!t.triggersSubmenu&&s===_m.CLOSE_ON_EXECUTE&&(c.getSystem().isConnected()&&Zo(c,bp()),d.stop())}),yW={[El()]:["disabling","alloy.base.behaviour","toggling","item-events"]},f_=Fc,m_=(t,s,c,d)=>{const p=xn(q);return{type:"item",dom:s.dom,components:f_(s.optComponents),data:t.data,eventOrder:yW,hasSubmenu:t.triggersSubmenu,itemBehaviours:Dt([eo("item-events",[VI(t,c),Bb(t,p),og(t,p)]),wf.item(()=>!t.enabled||d.isDisabled()),wi(),Vn.config({})].concat(t.itemBehaviours))}},h_=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),_W=t=>{const s=Av.os.isMacOS()||Av.os.isiOS(),p=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},v=t.split("+"),C=at(v,k=>{const D=k.toLowerCase().trim();return xo(p,D)?p[D]:k});return s?C.join(""):C.join("+")},UT=(t,s,c=[GB])=>Hu(t,{tag:"div",classes:c},s),zI=t=>({dom:{tag:"div",classes:[SS]},components:[Ar(bc.translate(t))]}),WI=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),MR=(t,s)=>({dom:{tag:"div",classes:[SS]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ar(bc.translate(s))]}]}),UI=t=>({dom:{tag:"div",classes:[I9]},components:[Ar(_W(t))]}),jI=t=>UT("checkmark",t,[L9]),wW=t=>UT("chevron-right",t,[YB]),ZI=t=>UT("chevron-down",t,[YB]),CW=(t,s)=>{const c=t.direction==="vertical"?F9:JB,d=t.align==="left"?V9:H9;return{dom:{tag:"div",classes:[XB,c,d,(()=>{switch(t.valign){case"top":return z9;case"middle":return W9;case"bottom":return U9}})()]},components:s}},SW=(t,s,c)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:c.getOr("")}}}),KI=(t,s,c)=>{const d="custom",p="remove",v=t.ariaLabel,C=t.value,k=t.iconContent.map(B=>AB(B,s.icons,c));return{dom:(()=>{const B=CS,F=k.getOr(""),K={tag:"div",attributes:v.map(ee=>({title:s.translate(ee)})).getOr({}),classes:[B]};return C===d?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:F}:C===p?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:F}:ve(C)?{...K,attributes:{...K.attributes,"data-mce-color":C},styles:{"background-color":C},innerHtml:F}:K})(),optComponents:[]}},$R=t=>{const s=t.map(c=>({attributes:{title:bc.translate(c),id:Gt("menu-item")}})).getOr({});return{tag:"div",classes:[dR,s_],...s}},qI=(t,s,c,d)=>{const p={tag:"div",classes:[GB]},v=K=>Hu(K,p,s.icons,d),C=()=>I.some({dom:p}),k=c?t.iconContent.map(v).orThunk(C):I.none(),D=t.checkMark,B=I.from(t.meta).fold(()=>zI,K=>xo(K,"style")?Ue(MR,K.style):zI),F=t.htmlContent.fold(()=>t.textContent.map(B),K=>I.some(WI(K,[SS])));return{dom:$R(t.ariaLabel),optComponents:[k,F,t.shortcutContent.map(UI),D,t.caret]}},MS=(t,s,c,d=I.none())=>t.presets==="color"?KI(t,s,d):qI(t,s,c,d),GI=(t,s)=>Mt(t,"tooltipWorker").map(c=>[BI.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:Np}}),mode:"follow-highlight",onShow:(d,p)=>{c(v=>{BI.setComponents(d,[Y0({element:Ie.fromDom(v)})])})}})]).getOr([]),EW=t=>Jy.DOM.encode(t),YI=(t,s)=>{const c=bc.translate(t),d=EW(c);if(s.length>0){const p=new RegExp(II(s),"gi");return d.replace(p,v=>`<span class="tox-autocompleter-highlight">${v}</span>`)}else return d},xW=(t,s,c,d,p,v,C,k=!0)=>{const D=MS({presets:d,textContent:I.none(),htmlContent:c?t.text.map(B=>YI(B,s)):I.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:I.none(),checkMark:I.none(),caret:I.none(),value:t.value},C.providers,k,t.icon);return m_({data:h_(t),enabled:t.enabled,getApi:J({}),onAction:B=>p(t.value,t.meta),onSetup:J(q),triggersSubmenu:!1,itemBehaviours:GI(t.meta,C)},D,v,C.providers)},Ib=(t,s)=>at(t,c=>{switch(c.type){case"cardcontainer":return CW(c,Ib(c.items,s));case"cardimage":return SW(c.src,c.classes,c.alt);case"cardtext":const p=c.name.exists(v=>mo(s.cardText.highlightOn,v))?I.from(s.cardText.matchText).getOr(""):"";return WI(YI(c.text,p),c.classes)}}),PR=(t,s,c,d)=>{const p=C=>({isEnabled:()=>!On.isDisabled(C),setEnabled:k=>{On.set(C,!k),wt(mc(C.element,"*"),D=>{C.getSystem().getByDom(D).each(B=>{B.hasConfigured(On)&&On.set(B,!k)})})}}),v={dom:$R(t.label),optComponents:[I.some({dom:{tag:"div",classes:[XB,JB]},components:Ib(t.items,d)})]};return m_({data:h_({text:I.none(),...t}),enabled:t.enabled,getApi:p,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:I.from(d.itemBehaviours).getOr([])},v,s,c.providers)},TW=(t,s,c,d,p,v,C,k=!0)=>{const D=F=>({setActive:U=>{ao.set(F,U)},isActive:()=>ao.isOn(F),isEnabled:()=>!On.isDisabled(F),setEnabled:U=>On.set(F,!U)}),B=MS({presets:c,textContent:s?t.text:I.none(),htmlContent:I.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:I.none(),checkMark:s?I.some(jI(C.icons)):I.none(),caret:I.none(),value:t.value},C,k);return Es(m_({data:h_(t),enabled:t.enabled,getApi:D,onAction:F=>d(t.value),onSetup:F=>(F.setActive(p),q),triggersSubmenu:!1,itemBehaviours:[]},B,v,C),{toggling:{toggleClass:fR,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},$S=jC(Tv(),pS()),Cf=t=>({value:jT(t)}),XI=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,JI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,QI=t=>XI.test(t)||JI.test(t),jT=t=>yu(t,"#").toUpperCase(),kW=t=>QI(t)?I.some({value:jT(t)}):I.none(),AW=t=>({value:t.value.replace(XI,(c,d,p,v)=>d+d+p+p+v+v)}),eL=t=>{const s=AW(t),c=JI.exec(s.value);return c===null?["FFFFFF","FF","FF","FF"]:c},BR=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},PS=t=>{const s=BR(t.red)+BR(t.green)+BR(t.blue);return Cf(s)},tL=Math.min,Dl=Math.max,Rd=Math.round,OW=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,nL=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Cm=(t,s,c,d)=>({red:t,green:s,blue:c,alpha:d}),BS=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},oL=t=>{let s,c,d;const p=(t.hue||0)%360;let v=t.saturation/100,C=t.value/100;if(v=Dl(0,tL(v,1)),C=Dl(0,tL(C,1)),v===0)return s=c=d=Rd(255*C),Cm(s,c,d,1);const k=p/60,D=C*v,B=D*(1-Math.abs(k%2-1)),F=C-D;switch(Math.floor(k)){case 0:s=D,c=B,d=0;break;case 1:s=B,c=D,d=0;break;case 2:s=0,c=D,d=B;break;case 3:s=0,c=B,d=D;break;case 4:s=B,c=0,d=D;break;case 5:s=D,c=0,d=B;break;default:s=c=d=0}return s=Rd(255*(s+F)),c=Rd(255*(c+F)),d=Rd(255*(d+F)),Cm(s,c,d,1)},IS=t=>{const s=eL(t),c=parseInt(s[1],16),d=parseInt(s[2],16),p=parseInt(s[3],16);return Cm(c,d,p,1)},p_=(t,s,c,d)=>{const p=parseInt(t,10),v=parseInt(s,10),C=parseInt(c,10),k=parseFloat(d);return Cm(p,v,C,k)},g_=t=>{if(t==="transparent")return I.some(Cm(0,0,0,0));const s=OW.exec(t);if(s!==null)return I.some(p_(s[1],s[2],s[3],"1"));const c=nL.exec(t);return c!==null?I.some(p_(c[1],c[2],c[3],c[4])):I.none()},sL=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,sg=Cm(255,0,0,1),DW=t=>{t.dispatch("SkinLoaded")},NW=(t,s)=>{t.dispatch("SkinLoadError",s)},cu=t=>{t.dispatch("ResizeEditor")},LS=(t,s)=>{t.dispatch("ResizeContent",s)},Sm=(t,s)=>{t.dispatch("ScrollContent",s)},rL=(t,s)=>{t.dispatch("TextColorChange",s)},xs=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},Lv=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),ZT=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},KT=(t,s)=>()=>{t(),s()},Ya=t=>rg(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),IR=(t,s)=>c=>{const d=dc(),p=()=>{c.setActive(t.formatter.match(s));const v=t.formatter.formatChanged(s,c.setActive);d.set(v)};return t.initialized?p():t.once("init",p),()=>{t.off("init",p),d.clear()}},qT=(t,s)=>c=>{const d=Ya(t)(c),p=IR(t,s)(c);return()=>{d(),p()}},rg=(t,s,c)=>d=>{const p=()=>c(d),v=()=>{c(d),t.on(s,p)};return t.initialized?v():t.once("init",v),()=>{t.off("init",v),t.off(s,p)}},iL=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Nl=(t,s)=>()=>t.execCommand(s);var Lb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const GT={},aL=(t,s=10)=>{const c=Lb.getItem(t),d=A(c)?JSON.parse(c):[],v=(B=>s-B.length<0?B.slice(0,s):B)(d),C=B=>{lt(v,B).each(k),v.unshift(B),v.length>s&&v.pop(),Lb.setItem(t,JSON.stringify(v))},k=B=>{v.splice(B,1)};return{add:C,state:()=>v.slice(0)}},FS=t=>Mt(GT,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,c=Lb.getItem(s);if(me(c)){const p=Lb.getItem("tinymce-custom-colors");Lb.setItem(s,ve(p)?p:"[]")}const d=aL(s,10);return GT[t]=d,d}),RW=t=>at(FS(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),cL=(t,s)=>{FS(t).add(s)},HS=(t,s,c)=>({hue:t,saturation:s,value:c}),LR=t=>{let s=0,c=0,d=0;const p=t.red/255,v=t.green/255,C=t.blue/255,k=Math.min(p,Math.min(v,C)),D=Math.max(p,Math.max(v,C));if(k===D)return d=k,HS(0,0,d*100);const B=p===k?v-C:C===k?p-v:C-p;return s=p===k?3:C===k?1:5,s=60*(s-B/(D-k)),c=(D-k)/D,d=D,HS(Math.round(s),Math.round(c*100),Math.round(d*100))},MW=t=>LR(IS(t)),lL=t=>PS(oL(t)),$W=t=>kW(t).orThunk(()=>g_(t).map(PS)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const c=s.getContext("2d");c.clearRect(0,0,s.width,s.height),c.fillStyle="#FFFFFF",c.fillStyle=t,c.fillRect(0,0,1,1);const d=c.getImageData(0,0,1,1).data,p=d[0],v=d[1],C=d[2],k=d[3];return PS(Cm(p,v,C,k))}),FR="forecolor",HR="hilitecolor",VR=5,zR=t=>Math.max(VR,Math.ceil(Math.sqrt(t))),uL=(t,s)=>{const c=zR(s),d=Bh("color_cols")(t);return d!==VR?d:c},dL=t=>{const s=[];for(let c=0;c<t.length;c+=2)s.push({text:t[c+1],value:"#"+$W(t[c]).value,icon:"checkmark",type:"choiceitem"});return s},Bh=t=>s=>s.options.get(t),WR="#000000",PW=t=>{const s=t.options.register,c=d=>ce(d,A)?{value:dL(d),valid:!0}:{valid:!1,message:"Must be an array of strings."};s("color_map",{processor:c,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:c}),s("color_map_foreground",{processor:c}),s("color_cols",{processor:"number",default:zR(b_(t,"default").length)}),s("color_cols_foreground",{processor:"number",default:uL(t,b_(t,FR).length)}),s("color_cols_background",{processor:"number",default:uL(t,b_(t,HR).length)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:WR}),s("color_default_background",{processor:"string",default:WR})},BW=(t,s)=>s===FR?Bh("color_cols_foreground")(t):s===HR?Bh("color_cols_background")(t):Bh("color_cols")(t),fL=(t,s)=>{const c=Math.round(BW(t,s));return c>0?c:VR},mL=Bh("custom_colors"),b_=(t,s)=>s===FR&&t.options.isSet("color_map_foreground")?Bh("color_map_foreground")(t):s===HR&&t.options.isSet("color_map_background")?Bh("color_map_background")(t):Bh("color_map")(t),Em=Bh("color_default_foreground"),IW=Bh("color_default_background"),UR="rgba(0, 0, 0, 0)",hL=t=>g_(t).exists(s=>s.alpha!==0),pL=t=>Xi(t,s=>{if(Xo(s)){const c=gt(s,"background-color");return Dn(hL(c),c)}else return I.none()}).getOr(UR),jR=(t,s)=>{const c=Ie.fromDom(t.selection.getStart()),d=s==="hilitecolor"?pL(c):gt(c,"color");return g_(d).map(p=>"#"+PS(p).value)},gL=(t,s,c)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:c}),t.nodeChanged()})},bL=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},LW=t=>{t.addCommand("mceApplyTextcolor",(s,c)=>{gL(t,s,c)}),t.addCommand("mceRemoveTextcolor",s=>{bL(t,s)})},vL=t=>{const s="choiceitem",c={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[c,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},ZR=(t,s,c,d)=>{c==="custom"?CL(t)(v=>{v.each(C=>{cL(s,C),t.execCommand("mceApplyTextcolor",s,C),d(C)})},jR(t,s).getOr(WR)):c==="remove"?(d(""),t.execCommand("mceRemoveTextcolor",s)):(d(c),t.execCommand("mceApplyTextcolor",s,c))},yL=(t,s,c)=>t.concat(RW(s).concat(vL(c))),KR=(t,s,c)=>d=>{d(yL(t,s,c))},YT=(t,s,c)=>{const d=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(d,c)},qR=(t,s)=>c=>{const d=jR(t,s);return xi(d,c.toUpperCase())},_L=(t,s,c,d,p)=>{t.ui.registry.addSplitButton(s,{tooltip:d,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:qR(t,c),columns:fL(t,c),fetch:KR(b_(t,c),c,mL(t)),onAction:v=>{ZR(t,c,p.get(),q)},onItemAction:(v,C)=>{ZR(t,c,C,k=>{p.set(k),rL(t,{name:s,color:k})})},onSetup:v=>{YT(v,s,p.get());const C=k=>{k.name===s&&YT(v,k.name,k.color)};return t.on("TextColorChange",C),KT(Ya(t)(v),()=>{t.off("TextColorChange",C)})}})},wL=(t,s,c,d,p)=>{t.ui.registry.addNestedMenuItem(s,{text:d,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(YT(v,s,p.get()),Ya(t)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:qR(t,c),initData:{storageKey:c},onAction:v=>{ZR(t,c,v.value,C=>{p.set(C),rL(t,{name:s,color:C})})}}]})},CL=t=>(s,c)=>{let d=!1;const p=k=>{const B=k.getData().colorpicker;d?(s(I.from(B)),k.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",B]))},v=(k,D)=>{D.name==="hex-valid"&&(d=D.value)},C={colorpicker:c};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C,onAction:v,onSubmit:p,onClose:q,onCancel:()=>{s(I.none())}})},v_=t=>{LW(t);const s=Em(t),c=IW(t),d=xn(s),p=xn(c);_L(t,"forecolor","forecolor","Text color",d),_L(t,"backcolor","hilitecolor","Background color",p),wL(t,"forecolor","forecolor","Text color",d),wL(t,"backcolor","hilitecolor","Background color",p)},GR=(t,s,c,d,p,v,C,k)=>{const D=xS(s),F=SL(s,c,d,p!=="color"?"normal":"color",v,C,k);return TS(t,D,F,d,{menuType:p})},SL=(t,s,c,d,p,v,C)=>Fc(at(t,k=>k.type==="choiceitem"?VT(k).fold(tg,D=>I.some(TW(D,c===1,d,s,v(D.value),p,C,xS(t)))):I.none())),VS=(t,s)=>{const c=Rv(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:p=>s==="color"?mr(p.element,"[aria-checked=true]"):I.none()}},EL=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${CS}`:`.${s_}`}},YR=(t,s)=>{const c=XR(t,s),d=s.colorinput.getColorCols(t.initData.storageKey),p="color",C={...GR(Gt("menu-value"),c,k=>{t.onAction({value:k})},d,p,_m.CLOSE_ON_EXECUTE,t.select.getOr(vt),s.shared.providers),markers:Rv(p),movement:VS(d,p)};return{type:"widget",data:{value:Gt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[$S.widget(Qp.sketch(C))]}},XR=(t,s)=>{const c=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>yL(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,c),d=>d.concat(vL(c)))},XT=Gt("cell-over"),JR=Gt("cell-execute"),FW=(t,s,c)=>{const d=C=>bn(C,XT,{row:t,col:s}),p=C=>bn(C,JR,{row:t,col:s}),v=(C,k)=>{k.stop(),p(C)};return la({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:c}},behaviours:Dt([eo("insert-table-picker-cell",[mt(gd(),Rn.focus),mt(El(),p),mt(Ql(),v),mt(N1(),v)]),ao.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Rn.config({onFocus:d})])})},xL=(t,s,c)=>{const d=[];for(let p=0;p<s;p++){const v=[];for(let C=0;C<c;C++)v.push(FW(p,C,t));d.push(v)}return d},HW=(t,s,c,d,p)=>{for(let v=0;v<d;v++)for(let C=0;C<p;C++)ao.set(t[v][C],v<=s&&C<=c)},VW=t=>Ae(t,s=>at(s,eu)),TL=(t,s)=>Ar(`${s}x${t}`),kL={inserttable:t=>{const d=Gt("size-label"),p=xL(d,10,10),v=TL(0,0),C=os({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:d}},components:[v],behaviours:Dt([Vn.config({})])});return{type:"widget",data:{value:Gt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[$S.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:VW(p).concat(C.asSpec()),behaviours:Dt([eo("insert-table-picker",[js(k=>{Vn.set(C.get(k),[v])}),qg(XT,(k,D,B)=>{const{row:F,col:U}=B.event;HW(p,F,U,10,10),Vn.set(C.get(k),[TL(F+1,U+1)])}),qg(JR,(k,D,B)=>{const{row:F,col:U}=B.event;t.onAction({numRows:F+1,numColumns:U+1}),Zo(k,bp())})]),_n.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:YR},AL=(t,s)=>Mt(kL,t.fancytype).map(c=>c(t,s)),WW=(t,s,c,d=!0,p=!1)=>{const v=p?ZI(c.icons):wW(c.icons),C=D=>({isEnabled:()=>!On.isDisabled(D),setEnabled:B=>On.set(D,!B),setIconFill:(B,F)=>{mr(D.element,`svg path[class="${B}"], rect[class="${B}"]`).each(U=>{Gn(U,"fill",F)})}}),k=MS({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:I.none(),ariaLabel:t.text,caret:I.some(v),checkMark:I.none(),shortcutContent:t.shortcut},c,d);return m_({data:h_(t),getApi:C,enabled:t.enabled,onAction:q,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,s,c)},UW=(t,s,c,d=!0)=>{const p=C=>({isEnabled:()=>!On.isDisabled(C),setEnabled:k=>On.set(C,!k)}),v=MS({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:I.none(),ariaLabel:t.text,caret:I.none(),checkMark:I.none(),shortcutContent:t.shortcut},c,d);return m_({data:h_(t),getApi:p,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,s,c)},jW=t=>({type:"separator",dom:{tag:"div",classes:[s_,B9]},components:t.text.map(Ar).toArray()}),ZW=(t,s,c,d=!0)=>{const p=C=>({setActive:k=>{ao.set(C,k)},isActive:()=>ao.isOn(C),isEnabled:()=>!On.isDisabled(C),setEnabled:k=>On.set(C,!k)}),v=MS({iconContent:t.icon,textContent:t.text,htmlContent:I.none(),ariaLabel:t.text,checkMark:I.some(jI(c.icons)),caret:I.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},c,d);return Es(m_({data:h_(t),enabled:t.enabled,getApi:p,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,s,c),{toggling:{toggleClass:fR,toggleOnExecute:!1,selected:t.active}})},KW=xW,OL=jW,qW=UW,GW=WW,YW=ZW,XW=AL,JW=PR;var eU=Object.freeze({__proto__:null,getCoupled:(t,s,c,d)=>c.getOrCreate(t,s,d),getExistingCoupled:(t,s,c,d)=>c.getExisting(t,s,d)}),tU=[Va("others",Xs(un.value,Ac()))],nU=Object.freeze({__proto__:null,init:()=>{const t={},s=(v,C)=>{if(uo(v.others).length===0)throw new Error("Cannot find any known coupled components");return Mt(t,C)},c=(v,C,k)=>s(C,k).getOrThunk(()=>{const B=Mt(C.others,k).getOrDie("No information found for coupled component: "+k)(v),F=v.getSystem().build(B);return t[k]=F,F}),d=(v,C,k)=>s(C,k).orThunk(()=>(Mt(C.others,k).getOrDie("No information found for coupled component: "+k),I.none())),p=J({});return Qc({readState:p,getExisting:d,getOrCreate:c})}});const rr=Qi({fields:tU,name:"coupling",apis:eU,state:nU}),JT=t=>{let s=I.none(),c=[];const d=B=>JT(F=>{p(U=>{F(B(U))})}),p=B=>{C()?D(B):c.push(B)},v=B=>{C()||(s=I.some(B),k(c),c=[])},C=()=>s.isSome(),k=B=>{wt(B,D)},D=B=>{s.each(F=>{setTimeout(()=>{B(F)},0)})};return t(v),{get:p,map:d,isReady:C}},oU={nu:JT,pure:t=>JT(s=>{s(t)})},sU=t=>{setTimeout(()=>{throw t},0)},y_=t=>{const s=D=>{t().then(D,sU)};return{map:D=>y_(()=>t().then(D)),bind:D=>y_(()=>t().then(B=>D(B).toPromise())),anonBind:D=>y_(()=>t().then(()=>D.toPromise())),toLazy:()=>oU.nu(s),toCached:()=>{let D=null;return y_(()=>(D===null&&(D=t()),D))},toPromise:t,get:s}},fa={nu:t=>y_(()=>new Promise(t)),pure:t=>y_(()=>Promise.resolve(t))},QR=J("sink"),eM=J(su({name:QR(),overrides:J({dom:{tag:"div"},behaviours:Dt([vi.config({useFixed:xt})]),events:Os([uf(ic()),uf(io()),uf(Ql())])})})),DL=(t,s)=>{const c=t.getHotspot(s).getOr(s),d="hotspot",p=t.getAnchorOverrides();return t.layouts.fold(()=>({type:d,hotspot:c,overrides:p}),v=>({type:d,hotspot:c,overrides:p,layouts:v}))},NL=(t,s,c)=>{const d=t.fetch;return d(c).map(s)},rU=(t,s,c,d,p,v,C)=>{const k=NL(t,s,d),D=RL(d,t);return k.map(B=>B.bind(F=>I.from(kv.sketch({...v.menu(),uid:tm(""),data:F,highlightOnOpen:C,onOpenMenu:(U,K)=>{const ee=D().getOrDie();vi.position(ee,K,{anchor:c}),To.decloak(p)},onOpenSubmenu:(U,K,ee)=>{const ae=D().getOrDie();vi.position(ae,ee,{anchor:{type:"submenu",item:K}}),To.decloak(p)},onRepositionMenu:(U,K,ee)=>{const ae=D().getOrDie();vi.position(ae,K,{anchor:c}),wt(ee,be=>{vi.position(ae,be.triggeredMenu,{anchor:{type:"submenu",item:be.triggeringItem}})})},onEscape:()=>(Rn.focus(d),To.close(p),I.some(!0))}))))},QT=(t,s,c,d,p,v,C)=>{const k=DL(t,c);return rU(t,s,k,c,d,p,C).map(B=>(B.fold(()=>{To.isOpen(d)&&To.close(d)},F=>{To.cloak(d),To.open(d,F),v(d)}),d))},iU=(t,s,c,d,p,v,C)=>(To.close(d),fa.pure(d)),tM=(t,s,c,d,p,v)=>{const C=rr.getCoupled(c,"sandbox");return(To.isOpen(C)?iU:QT)(t,s,c,C,d,p,v)},aU=(t,s,c)=>{const d=So.getCurrent(s).getOr(s),p=Wr(t.element);c?Bn(d.element,"min-width",p+"px"):Ss(d.element,p)},RL=(t,s)=>t.getSystem().getByUid(s.uid+"-"+QR()).map(c=>()=>un.value(c)).getOrThunk(()=>s.lazySink.fold(()=>()=>un.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(t))),ML=t=>{To.getState(t).each(s=>{kv.repositionMenus(s)})},nM=(t,s,c)=>{const d=Gw(),p=(k,D)=>{const B=DL(t,s);d.link(s.element),t.matchWidth&&aU(B.hotspot,D,t.useMinWidth),t.onOpen(B,k,D),c!==void 0&&c.onOpen!==void 0&&c.onOpen(k,D)},v=(k,D)=>{d.unlink(s.element),c!==void 0&&c.onClose!==void 0&&c.onClose(k,D)},C=RL(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:d.id,role:"listbox"}},behaviours:ou.augment(t.sandboxBehaviours,[zt.config({store:{mode:"memory",initialValue:s}}),To.config({onOpen:p,onClose:v,isPartOf:(k,D,B)=>Tp(D,B)||Tp(s,B),getAttachPoint:()=>C().getOrDie()}),So.config({find:k=>To.getState(k).bind(D=>So.getCurrent(D))}),uc.config({channels:{...Vp({isExtraPart:vt}),...PC({doReposition:ML})}})])}},$L=t=>{const s=rr.getCoupled(t,"sandbox");ML(s)},oM=()=>[He("sandboxClasses",[]),ou.field("sandboxBehaviours",[So,uc,To,zt])],ek=J([rt("dom"),rt("fetch"),ho("onOpen"),tl("onExecute"),He("getHotspot",I.some),He("getAnchorOverrides",J({})),lm(),ci("dropdownBehaviours",[ao,rr,_n,Rn]),rt("toggleClass"),He("eventOrder",{}),jo("lazySink"),He("matchWidth",!1),He("useMinWidth",!1),jo("role")].concat(oM())),sM=J([Bu({schema:[mf(),He("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),eM()]),rM=(t,s,c,d)=>{const p=F=>Mt(t.dom,"attributes").bind(U=>Mt(U,F)),v=F=>{To.getState(F).each(U=>{kv.highlightPrimary(U)})},C=(F,U,K)=>tM(t,Te,F,d,U,K),k=F=>{C(F,v,rl.HighlightMenuAndItem).get(q)},D={expand:F=>{ao.isOn(F)||C(F,q,rl.HighlightNone).get(q)},open:F=>{ao.isOn(F)||C(F,q,rl.HighlightMenuAndItem).get(q)},refetch:F=>rr.getExistingCoupled(F,"sandbox").fold(()=>C(F,q,rl.HighlightMenuAndItem).map(q),K=>QT(t,Te,F,K,d,q,rl.HighlightMenuAndItem).map(q)),isOpen:ao.isOn,close:F=>{ao.isOn(F)&&C(F,q,rl.HighlightMenuAndItem).get(q)},repositionMenus:F=>{ao.isOn(F)&&$L(F)}},B=(F,U)=>(_p(F),I.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Or(t.dropdownBehaviours,[ao.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),rr.config({others:{sandbox:F=>nM(t,F,{onOpen:()=>ao.on(F),onClose:()=>ao.off(F)})}}),_n.config({mode:"special",onSpace:B,onEnter:B,onDown:(F,U)=>{if(zu.isOpen(F)){const K=rr.getCoupled(F,"sandbox");v(K)}else zu.open(F);return I.some(!0)},onEscape:(F,U)=>zu.isOpen(F)?(zu.close(F),I.some(!0)):I.none()}),Rn.config({})]),events:mS(I.some(k)),eventOrder:{...t.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},apis:D,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),F=>({role:F})),...t.dom.tag==="button"?{type:p("type").getOr("button")}:{}}}}},zu=li({name:"Dropdown",configFields:ek(),partFields:sM(),factory:rM,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),cU=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},lU=t=>{const s=zt.getValue(t),c=MT(t).map(aI);zu.refetch(s).get(()=>{const d=rr.getCoupled(s,"sandbox");c.each(p=>MT(d).each(v=>q9(v,p)))})},iM=(t,s)=>{aM(t).each(c=>{Rw(t,c.element,s.event.eventType,s.event.interactionEvent)})},aM=t=>To.getState(t).bind(Lo.getHighlighted).bind(Lo.getHighlighted),tk=t=>ac(t.element,$T)?I.some(t.element):mr(t.element,"."+$T),cM=(t,s,c)=>{iI(t).each(d=>{G9(d,c),tk(s).each(v=>{yr(v,"id").each(C=>Gn(d.element,"aria-controls",C))})}),Gn(c.element,"aria-selected","true")},uU=(t,s,c)=>{Gn(c.element,"aria-selected","false")},dU=t=>{iI(t).each(s=>Rn.focus(s))},fU=t=>rr.getExistingCoupled(t,"sandbox").bind(MT).map(aI).map(c=>c.fetchPattern).getOr("");var nk;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(nk||(nk={}));const mU=(t,s,c,d,p)=>{const v=c.shared.providers,C=k=>p?{...k,shortcut:I.none(),icon:k.text.isSome()?I.none():k.icon}:k;switch(t.type){case"menuitem":return dW(t).fold(tg,k=>I.some(qW(C(k),s,v,d)));case"nestedmenuitem":return RI(t).fold(tg,k=>I.some(GW(C(k),s,v,d,p)));case"togglemenuitem":return $I(t).fold(tg,k=>I.some(YW(C(k),s,v,d)));case"separator":return sW(t).fold(tg,k=>I.some(OL(k)));case"fancymenuitem":return DR(t).fold(tg,k=>XW(k,c));default:return console.error("Unknown item in general menu",t),I.none()}},hU=(t,s,c,d,p,v,C)=>{const k=d===1,D=!k||xS(t);return Fc(at(t,B=>{switch(B.type){case"separator":return hI(B).fold(tg,F=>I.some(OL(F)));case"cardmenuitem":return uW(B).fold(tg,F=>I.some(JW({...F,onAction:U=>{F.onAction(U),c(F.value,F.meta)}},p,v,{itemBehaviours:GI(F.meta,v),cardText:{matchText:s,highlightOn:C}})));case"autocompleteitem":default:return OS(B).fold(tg,F=>I.some(KW(F,s,k,"normal",c,p,v,D)))}}))},PL=(t,s,c,d,p,v)=>{const C=xS(s),k=Fc(at(s,F=>{const U=ee=>p?!xo(ee,"text"):C,K=ee=>mU(ee,c,d,U(ee),p);return F.type==="nestedmenuitem"&&F.getSubmenuItems().length<=0?K({...F,enabled:!1}):K(F)})),D=cU(v);return(p?bR:TS)(t,C,k,1,D)},lM=t=>kv.singleData(t.value,t),pU=(t,s,c,d)=>{const p=VS(s,d),v=Rv(d);return{data:lM({...t,movement:p,menuBehaviours:DS.unnamedEvents(s!=="auto"?[]:[js((C,k)=>{NR(C,4,v.item).each(({numColumns:D,numRows:B})=>{_n.setGridSize(C,B,D)})})])}),menu:{markers:Rv(d),fakeFocus:c===nk.ContentFocus}}},gU=(t,s)=>DT(Ie.fromDom(s.startContainer)).map(c=>{const d=t.createRng();return d.selectNode(c.dom),d}),bU={register:(t,s)=>{const c=xn(!1),d=xn(!1),p=la(hr.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Dt([eo("dismissAutocompleter",[mt(lf(),()=>B())])]),lazySink:s.getSink})),v=()=>hr.isOpen(p),C=d.get,k=()=>{v()&&hr.hide(p)},D=()=>hr.getContent(p).bind(ae=>nn(ae.components(),0)),B=()=>t.execCommand("mceAutocompleterClose"),F=ae=>{const be=Qn(ae,Fe=>I.from(Fe.columns)).getOr(1);return Ae(ae,Fe=>{const $e=Fe.items;return hU($e,Fe.matchText,(De,ft)=>{const Xe=t.selection.getRng();gU(t.dom,Xe).each(Nt=>{const _t={hide:()=>B(),reload:Pt=>{k(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Pt})}};c.set(!0),Fe.onAction(_t,Nt,De,ft),c.set(!1)})},be,_m.BUBBLE_TO_SANDBOX,s,Fe.highlightOn)})},U=(ae,be)=>{R9(Ie.fromDom(t.getBody())).each(Fe=>{const $e=Qn(ae,De=>I.from(De.columns)).getOr(1);hr.showMenuAt(p,{anchor:{type:"node",root:Ie.fromDom(t.getBody()),node:I.from(Fe)}},pU(TS("autocompleter-value",!0,be,$e,{menuType:"normal"}),$e,nk.ContentFocus,"normal"))}),D().each(Lo.highlightFirst)},K=ae=>{const be=F(ae);be.length>0?U(ae,be):k()};t.on("AutocompleterStart",({lookupData:ae})=>{d.set(!0),c.set(!1),K(ae)}),t.on("AutocompleterUpdate",({lookupData:ae})=>K(ae)),t.on("AutocompleterEnd",()=>{k(),d.set(!1),c.set(!1)});const ee={cancelIfNecessary:B,isMenuOpen:v,isActive:C,isProcessingAction:c.get,getMenu:D};$9.setup(ee,t)}},vU=["visible","hidden"],uM=t=>{if(bl(t)){const s=gt(t,"overflow");return Jr(s).length>0&&!mo(vU,s)}else return!1},yU=t=>{const s=Ey(t,uM),c=s.length===0?Cn(t).map(is).map(d=>Ey(d,uM)).getOr([]):s;return kn(c).map(d=>({element:d,others:c.slice(1)}))},Fv=(t,s)=>eg(t)?yU(s):I.none(),lu=t=>{const s=[...at(t.others,z),Ct()];return Oe(z(t.element),s)},zS=(t,s,c)=>xa(t,s,c).isSome(),BL=(t,s)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...v)=>{c=setTimeout(()=>{t.apply(null,v),c=null},s)}}},ok=5,Ci=400,IL=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?I.none():I.some(s.touches[0])},_U=(t,s)=>{const c=Math.abs(t.clientX-s.x),d=Math.abs(t.clientY-s.y);return c>ok||d>ok},wU=t=>{const s=Ks(),c=xn(!1),d=BL(B=>{t.triggerEvent(ri(),B),c.set(!0)},Ci),p=B=>(IL(B).each(F=>{d.cancel();const U={x:F.clientX,y:F.clientY,target:B.target};d.schedule(B),c.set(!1),s.set(U)}),I.none()),v=B=>(d.cancel(),IL(B).each(F=>{s.on(U=>{_U(F,U)&&s.clear()})}),I.none()),C=B=>{d.cancel();const F=U=>es(U.target,B.target);return s.get().filter(F).map(U=>c.get()?(B.prevent(),!1):t.triggerEvent(N1(),B))},k=jt([{key:Jc(),value:p},{key:pd(),value:v},{key:Xf(),value:C}]);return{fireIfReady:(B,F)=>Mt(k,F).bind(U=>U(B))}},CU=t=>t.raw.which===AN[0]&&!mo(["input","textarea"],nc(t.target))&&!zS(t.target,'[contenteditable="true"]'),SU=(t,s)=>{const c={stopBackspace:!0,...s},d=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],p=wU(c),v=at(d.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),ee=>fc(t,ee,ae=>{p.fireIfReady(ae,ee).each(Fe=>{Fe&&ae.kill()}),c.triggerEvent(ee,ae)&&ae.kill()})),C=Ks(),k=fc(t,"paste",ee=>{p.fireIfReady(ee,"paste").each(be=>{be&&ee.kill()}),c.triggerEvent("paste",ee)&&ee.kill(),C.set(setTimeout(()=>{c.triggerEvent(bd(),ee)},0))}),D=fc(t,"keydown",ee=>{c.triggerEvent("keydown",ee)?ee.kill():c.stopBackspace&&CU(ee)&&ee.prevent()}),B=fc(t,"focusin",ee=>{c.triggerEvent("focusin",ee)&&ee.kill()}),F=Ks(),U=fc(t,"focusout",ee=>{c.triggerEvent("focusout",ee)&&ee.kill(),F.set(setTimeout(()=>{c.triggerEvent(zg(),ee)},0))});return{unbind:()=>{wt(v,ee=>{ee.unbind()}),D.unbind(),B.unbind(),U.unbind(),k.unbind(),C.on(clearTimeout),F.on(clearTimeout)}}},LL=(t,s)=>{const c=Mt(t,"target").getOr(s);return xn(c)},EU=(t,s)=>{const c=xn(!1),d=xn(!1);return{stop:()=>{c.set(!0)},cut:()=>{d.set(!0)},isStopped:c.get,isCut:d.get,event:t,setSource:s.set,getSource:s.get}},xU=t=>{const s=xn(!1);return{stop:()=>{s.set(!0)},cut:q,isStopped:s.get,isCut:vt,event:t,setSource:ie("Cannot set source of a broadcasted event"),getSource:ie("Cannot get source of a broadcasted event")}},WS=O.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),FL=(t,s,c,d,p,v)=>{const C=t(s,d),k=EU(c,p);return C.fold(()=>(v.logEventNoHandlers(s,d),WS.complete()),D=>{const B=D.descHandler;return U0(B)(k),k.isStopped()?(v.logEventStopped(s,D.element,B.purpose),WS.stopped()):k.isCut()?(v.logEventCut(s,D.element,B.purpose),WS.complete()):oa(D.element).fold(()=>(v.logNoParent(s,D.element,B.purpose),WS.complete()),U=>(v.logEventResponse(s,D.element,B.purpose),WS.resume(U)))})},HL=(t,s,c,d,p,v)=>FL(t,s,c,d,p,v).fold(xt,C=>HL(t,s,c,C,p,v),vt),TU=(t,s,c,d,p)=>{const v=LL(c,d);return FL(t,s,c,d,v,p)},kU=(t,s,c)=>{const d=xU(s);return wt(t,p=>{const v=p.descHandler;U0(v)(d)}),d.isStopped()},AU=(t,s,c,d)=>VL(t,s,c,c.target,d),VL=(t,s,c,d,p)=>{const v=LL(c,d);return HL(t,s,c,d,v,p)},OU=(t,s)=>({element:t,descHandler:s}),DU=(t,s)=>({id:t,descHandler:s}),NU=()=>{const t={},s=(C,k,D)=>{ds(D,(B,F)=>{const U=t[F]!==void 0?t[F]:{};U[k]=R2(B,C),t[F]=U})},c=(C,k)=>Nu(k).bind(D=>Mt(C,D)).map(D=>OU(k,D));return{registerId:s,unregisterId:C=>{ds(t,(k,D)=>{xo(k,C)&&delete k[C]})},filterByType:C=>Mt(t,C).map(k=>Fl(k,(D,B)=>DU(B,D))).getOr([]),find:(C,k,D)=>Mt(t,k).bind(B=>Xi(D,F=>c(B,F),C))}},RU=()=>{const t=NU(),s={},c=B=>{const F=B.element;return Nu(F).getOrThunk(()=>Ea("uid-",B.element))},d=(B,F)=>{const U=s[F];if(U===B)v(B);else throw new Error('The tagId "'+F+'" is already used by: '+Sp(U.element)+`
Cannot use it for: `+Sp(B.element)+`
The conflicting element is`+(ns(U.element)?" ":" not ")+"already in the DOM")},p=B=>{const F=c(B);Ei(s,F)&&d(B,F);const U=[B];t.registerId(U,F,B.events),s[F]=B},v=B=>{Nu(B.element).each(F=>{delete s[F],t.unregisterId(F)})};return{find:(B,F,U)=>t.find(B,F,U),filter:B=>t.filterByType(B),register:p,unregister:v,getById:B=>Mt(s,B)}},xm=qr({name:"Container",factory:t=>{const{attributes:s,...c}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...c},components:t.components,behaviours:Cb(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[He("components",[]),ci("containerBehaviours",[]),He("events",{}),He("domModification",{}),He("eventOrder",{})]}),dM=t=>{const s=$e=>oa(t.element).fold(xt,De=>es($e,De)),c=RU(),d=($e,De)=>c.find(s,$e,De),p=SU(t.element,{triggerEvent:($e,De)=>rb($e,De.target,ft=>AU(d,$e,De,ft))}),v={debugInfo:J("real"),triggerEvent:($e,De,ft)=>{rb($e,De,Xe=>VL(d,$e,ft,De,Xe))},triggerFocus:($e,De)=>{Nu($e).fold(()=>{Sr($e)},ft=>{rb(cf(),$e,Xe=>(TU(d,cf(),{originator:De,kill:q,prevent:q,target:$e},$e,Xe),!1))})},triggerEscape:($e,De)=>{v.triggerEvent("keydown",$e.element,De.event)},getByUid:$e=>be($e),getByDom:$e=>Fe($e),build:la,buildOrPatch:rm,addToGui:$e=>{D($e)},removeFromGui:$e=>{B($e)},addToWorld:$e=>{C($e)},removeFromWorld:$e=>{k($e)},broadcast:$e=>{K($e)},broadcastOn:($e,De)=>{ee($e,De)},broadcastEvent:($e,De)=>{ae($e,De)},isConnected:xt},C=$e=>{$e.connect(v),ki($e.element)||(c.register($e),wt($e.components(),C),v.triggerEvent(vp(),$e.element,{target:$e.element}))},k=$e=>{ki($e.element)||(wt($e.components(),k),c.unregister($e)),$e.disconnect()},D=$e=>{yf(t,$e)},B=$e=>{Pu($e)},F=()=>{p.unbind(),La(t.element)},U=$e=>{const De=c.filter(vd());wt(De,ft=>{const Xe=ft.descHandler;U0(Xe)($e)})},K=$e=>{U({universal:!0,data:$e})},ee=($e,De)=>{U({universal:!1,channels:$e,data:De})},ae=($e,De)=>{const ft=c.filter($e);return kU(ft,De)},be=$e=>c.getById($e).fold(()=>un.error(new Error('Could not find component with uid: "'+$e+'" in system.')),un.value),Fe=$e=>{const De=Nu($e).getOr("not found");return be(De)};return C(t),{root:t,element:t.element,destroy:F,add:D,remove:B,getByUid:be,getByDom:Fe,addToWorld:C,removeFromWorld:k,broadcast:K,broadcastOn:ee,broadcastEvent:ae}},MU=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:at(t.items,s.interpreter)}),$U=J([He("prefix","form-field"),ci("fieldBehaviours",[So,zt])]),PU=J([su({schema:[rt("dom")],name:"label"}),su({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[rt("text")],name:"aria-descriptor"}),Bi({factory:{sketch:t=>{const s=nt(t,["factory"]);return t.factory.sketch(s)}},schema:[rt("factory")],name:"field"})]),zL=(t,s,c,d)=>{const p=Or(t.fieldBehaviours,[So.config({find:k=>vs(k,t,"field")}),zt.config({store:{mode:"manual",getValue:k=>So.getCurrent(k).bind(zt.getValue),setValue:(k,D)=>{So.getCurrent(k).each(B=>{zt.setValue(B,D)})}}})]),v=Os([js((k,D)=>{const B=Ux(k,t,["label","field","aria-descriptor"]);B.field().each(F=>{const U=Gt(t.prefix);B.label().each(K=>{Gn(K.element,"for",U),Gn(F.element,"id",U)}),B["aria-descriptor"]().each(K=>{const ee=Gt(t.prefix);Gn(K.element,"id",ee),Gn(F.element,"aria-describedby",ee)})})})]),C={getField:k=>vs(k,t,"field"),getLabel:k=>vs(k,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:p,events:v,apis:C}},ss=li({name:"FormField",configFields:$U(),partFields:PU(),factory:zL,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var BU=Object.freeze({__proto__:null,exhibit:(t,s)=>Ru({attributes:jt([{key:s.tabAttr,value:"true"}])})}),WL=[He("tabAttr","data-alloy-tabstop")];const Er=Qi({fields:WL,name:"tabstopping",active:BU});var IU=tinymce.util.Tools.resolve("tinymce.html.Entities");const US=(t,s,c,d)=>{const p=LU(t,s,c,d);return ss.sketch(p)},UL=(t,s)=>US(t,s,[],[]),LU=(t,s,c,d)=>({dom:jL(c),components:t.toArray().concat([s]),fieldBehaviours:Dt(d)}),FU=()=>jL([]),jL=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),Fb=(t,s)=>ss.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ar(s.translate(t))]}),Rl=Gt("form-component-change"),jS=Gt("form-close"),ig=Gt("form-cancel"),Ih=Gt("form-action"),__=Gt("form-submit"),fM=Gt("form-block"),mM=Gt("form-unblock"),ZL=Gt("form-tabchange"),KL=Gt("form-resize"),HU=(t,s,c)=>{const d=t.label.map(U=>Fb(U,s)),p=U=>(K,ee)=>{xa(ee.event.target,"[data-collection-item-value]").each(ae=>{U(K,ee,ae,Di(ae,"data-collection-item-value"))})},v=(U,K)=>{const ee=at(K,Fe=>{const $e=bc.translate(Fe.text),De=t.columns===1?`<div class="tox-collection__item-label">${$e}</div>`:"",ft=`<div class="tox-collection__item-icon">${Fe.icon}</div>`,Xe={_:" "," - ":" ","-":" "},Nt=$e.replace(/\_| \- |\-/g,Pt=>Xe[Pt]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${IU.encodeAllRaw(Fe.value)}" title="${Nt}" aria-label="${Nt}">${ft}${De}</div>`}),ae=t.columns!=="auto"&&t.columns>1?Mo(ee,t.columns):[ee],be=at(ae,Fe=>`<div class="tox-collection__group">${Fe.join("")}</div>`);Cp(U.element,be.join(""))},C=p((U,K,ee,ae)=>{K.stop(),s.isDisabled()||bn(U,Ih,{name:t.name,value:ae})}),k=[mt(gd(),p((U,K,ee)=>{Sr(ee)})),mt(Ql(),C),mt(N1(),C),mt(Xl(),p((U,K,ee)=>{mr(U.element,"."+ES).each(ae=>{zo(ae,ES)}),Kr(ee,ES)})),mt(Jl(),p(U=>{mr(U.element,"."+ES).each(K=>{zo(K,ES)})})),yd(p((U,K,ee,ae)=>{bn(U,Ih,{name:t.name,value:ae})}))],D=(U,K)=>at(mc(U.element,".tox-collection__item"),K),B=ss.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Te},behaviours:Dt([On.config({disabled:s.isDisabled,onDisabled:U=>{D(U,K=>{Kr(K,"tox-collection__item--state-disabled"),Gn(K,"aria-disabled",!0)})},onEnabled:U=>{D(U,K=>{zo(K,"tox-collection__item--state-disabled"),lr(K,"aria-disabled")})}}),wi(),Vn.config({}),zt.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(U,K)=>{v(U,K),t.columns==="auto"&&NR(U,5,"tox-collection__item").each(({numRows:ee,numColumns:ae})=>{_n.setGridSize(U,ee,ae)}),Zo(U,KL)}}),Er.config({}),_n.config(EL(t.columns,"normal")),eo("collection-events",k)]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","collection-events"]}});return US(d,B,["tox-form__group--collection"],[])},VU=["input","textarea"],qL=t=>{const s=nc(t);return mo(VU,s)},GL=(t,s)=>{const c=s.getRoot(t).getOr(t.element);zo(c,s.invalidClass),s.notify.each(d=>{qL(t.element)&&Gn(t.element,"aria-invalid",!1),d.getContainer(t).each(p=>{Cp(p,d.validHtml)}),d.onValid(t)})},YL=(t,s,c,d)=>{const p=s.getRoot(t).getOr(t.element);Kr(p,s.invalidClass),s.notify.each(v=>{qL(t.element)&&Gn(t.element,"aria-invalid",!0),v.getContainer(t).each(C=>{Cp(C,d)}),v.onInvalid(t,d)})},XL=(t,s,c)=>s.validator.fold(()=>fa.pure(un.value(!0)),d=>d.validate(t)),hM=(t,s,c)=>(s.notify.each(d=>{d.onValidate(t)}),XL(t,s).map(d=>t.getSystem().isConnected()?d.fold(p=>(YL(t,s,c,p),un.error(p)),p=>(GL(t,s),un.value(p))):un.error("No longer in system")));var JL=Object.freeze({__proto__:null,markValid:GL,markInvalid:YL,query:XL,run:hM,isInvalid:(t,s)=>{const c=s.getRoot(t).getOr(t.element);return ac(c,s.invalidClass)}}),zU=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(c=>Os([mt(c.onEvent,d=>{hM(d,t,s).get(Te)})].concat(c.validateOnLoad?[js(d=>{hM(d,t,s).get(q)})]:[]))).getOr({})}),WU=[rt("invalidClass"),He("getRoot",I.none),wr("notify",[He("aria","alert"),He("getContainer",I.none),He("validHtml",""),ho("onValid"),ho("onInvalid"),ho("onValidate")]),wr("validator",[rt("validate"),He("onEvent","input"),He("validateOnLoad",!0)])];const Lh=Qi({fields:WU,name:"invalidating",active:zU,apis:JL,extra:{validation:t=>s=>{const c=zt.getValue(s);return fa.pure(t(c))}}});var UU=Object.freeze({__proto__:null,events:()=>Os([P0(Aw(),xt)]),exhibit:()=>Ru({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const ZS=Qi({fields:[],name:"unselecting",active:UU}),jU=(t,s)=>zu.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Dt([wf.button(s.providers.isDisabled),wi(),ZS.config({}),Er.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:c=>fa.nu(d=>t.fetch(d)).map(d=>I.from(lM(Es(GR(Gt("menu-value"),d,p=>{t.onItemAction(c,p)},t.columns,t.presets,_m.CLOSE_ON_EXECUTE,vt,s.providers),{movement:VS(t.columns,t.presets)})))),parts:{menu:RT(!1,1,t.presets)}}),pM=Gt("color-input-change"),gM=Gt("color-swatch-change"),e5=Gt("color-picker-cancel"),ZU=(t,s,c,d)=>{const p=ss.parts.field({factory:Mv,inputClasses:["tox-textfield"],data:d,onSetValue:B=>Lh.run(B).get(q),inputBehaviours:Dt([On.config({disabled:s.providers.isDisabled}),wi(),Er.config({}),Lh.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>Ai(B.element),notify:{onValid:B=>{const F=zt.getValue(B);bn(B,pM,{color:F})}},validator:{validateOnLoad:!1,validate:B=>{const F=zt.getValue(B);if(F.length===0)return fa.pure(un.value(!0));{const U=Ie.fromTag("span");Bn(U,"background-color",F);const K=Pr(U,"background-color").fold(()=>un.error("blah"),ee=>un.value(F));return fa.pure(K)}}}})]),selectOnFocus:!1}),v=t.label.map(B=>Fb(B,s.providers)),C=(B,F)=>{bn(B,gM,{value:F})},k=(B,F)=>{D.getOpt(B).each(U=>{F==="custom"?c.colorPicker(K=>{K.fold(()=>Zo(U,e5),ee=>{C(U,ee),cL(t.storageKey,ee)})},"#ffffff"):F==="remove"?C(U,""):C(U,F)})},D=os(jU({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[gi,$i,ai],onLtr:()=>[$i,gi,ai]},components:[],fetch:KR(c.getColors(t.storageKey),t.storageKey,c.hasCustomColors()),columns:c.getColorCols(t.storageKey),presets:"color",onItemAction:k},s));return ss.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[p,D.asSpec()]}]),fieldBehaviours:Dt([eo("form-field-events",[mt(pM,(B,F)=>{D.getOpt(B).each(U=>{Bn(U.element,"background-color",F.event.color)}),bn(B,Rl,{name:t.name})}),mt(gM,(B,F)=>{ss.getField(B).each(U=>{zt.setValue(U,F.event.value),So.getCurrent(B).each(Rn.focus)})}),mt(e5,(B,F)=>{ss.getField(B).each(U=>{So.getCurrent(B).each(Rn.focus)})})])])})},t5=su({schema:[rt("dom")],name:"label"}),Hb=t=>su({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),d=>({events:Os([Zg(Jc(),(p,v,C)=>d(p,C),[s]),Zg(io(),(p,v,C)=>d(p,C),[s]),Zg(Us(),(p,v,C)=>{C.mouseIsDown.get()&&d(p,C)},[s])])}))}),KU=Hb("top-left"),qU=Hb("top"),GU=Hb("top-right"),YU=Hb("right"),XU=Hb("bottom-right"),sk=Hb("bottom"),JU=Hb("bottom-left"),rk=Hb("left"),QU=Bi({name:"thumb",defaults:J({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Os([Kg(Jc(),t,"spectrum"),Kg(pd(),t,"spectrum"),Kg(Xf(),t,"spectrum"),Kg(io(),t,"spectrum"),Kg(Us(),t,"spectrum"),Kg(fr(),t,"spectrum")])})}),ej=Bi({schema:[Ca("mouseIsDown",()=>xn(!1))],name:"spectrum",overrides:t=>{const c=t.model.manager,d=(p,v)=>c.getValueFromEvent(v).map(C=>c.setValueFrom(p,t,C));return{behaviours:Dt([_n.config({mode:"special",onLeft:p=>c.onLeft(p,t),onRight:p=>c.onRight(p,t),onUp:p=>c.onUp(p,t),onDown:p=>c.onDown(p,t)}),Rn.config({})]),events:Os([mt(Jc(),d),mt(pd(),d),mt(io(),d),mt(Us(),(p,v)=>{t.mouseIsDown.get()&&d(p,v)})])}}});var tj=[t5,rk,YU,qU,sk,KU,GU,JU,XU,QU,ej];const ik=J("slider.change.value"),ak=t=>t.type.indexOf("touch")!==-1,Vb=t=>{const s=t.event.raw;if(ak(s)){const c=s;return c.touches!==void 0&&c.touches.length===1?I.some(c.touches[0]).map(d=>zs(d.clientX,d.clientY)):I.none()}else{const c=s;return c.clientX!==void 0?I.some(c).map(d=>zs(d.clientX,d.clientY)):I.none()}},n5="top",o5="right",nj="bottom",oj="left",Hv=t=>t.model.minX,Vv=t=>t.model.minY,ck=t=>t.model.minX-1,lk=t=>t.model.minY-1,zv=t=>t.model.maxX,Wv=t=>t.model.maxY,uk=t=>t.model.maxX+1,dk=t=>t.model.maxY+1,s5=(t,s,c)=>s(t)-c(t),fk=t=>s5(t,zv,Hv),zb=t=>s5(t,Wv,Vv),Wb=t=>fk(t)/2,r5=t=>zb(t)/2,Uv=t=>t.stepSize,bM=t=>t.snapToGrid,KS=t=>t.snapStart,i5=t=>t.rounded,Ub=(t,s)=>t[s+"-edge"]!==void 0,w_=t=>Ub(t,oj),a5=t=>Ub(t,o5),c5=t=>Ub(t,n5),l5=t=>Ub(t,nj),ag=t=>t.model.value.get(),jb=(t,s)=>({x:t,y:s}),Sf=(t,s)=>{bn(t,ik(),{value:s})},mk=(t,s)=>{Sf(t,jb(ck(s),lk(s)))},sj=(t,s)=>{Sf(t,lk(s))},rj=(t,s)=>{Sf(t,jb(Wb(s),lk(s)))},ij=(t,s)=>{Sf(t,jb(uk(s),lk(s)))},u5=(t,s)=>{Sf(t,uk(s))},aj=(t,s)=>{Sf(t,jb(uk(s),r5(s)))},cj=(t,s)=>{Sf(t,jb(uk(s),dk(s)))},lj=(t,s)=>{Sf(t,dk(s))},d5=(t,s)=>{Sf(t,jb(Wb(s),dk(s)))},uj=(t,s)=>{Sf(t,jb(ck(s),dk(s)))},dj=(t,s)=>{Sf(t,ck(s))},fj=(t,s)=>{Sf(t,jb(ck(s),r5(s)))},vM=(t,s,c,d)=>t<s?t:t>c?c:t===s?s-1:Math.max(s,t-d),yM=(t,s,c,d)=>t>c?t:t<s?s:t===c?c+1:Math.min(c,t+d),_M=(t,s,c)=>Math.max(s,Math.min(c,t)),f5=(t,s,c,d,p)=>p.fold(()=>{const v=t-s,C=Math.round(v/d)*d;return _M(s+C,s-1,c+1)},v=>{const C=(t-v)%d,k=Math.round(C/d),D=Math.floor((t-v)/d),B=Math.floor((c-v)/d),F=Math.min(B,D+k),U=v+F*d;return Math.max(v,U)}),mj=(t,s,c)=>Math.min(c,Math.max(t,s))-s,m5=t=>{const{min:s,max:c,range:d,value:p,step:v,snap:C,snapStart:k,rounded:D,hasMinEdge:B,hasMaxEdge:F,minBound:U,maxBound:K,screenRange:ee}=t,ae=B?s-1:s,be=F?c+1:c;if(p<U)return ae;if(p>K)return be;{const Fe=mj(p,U,K),$e=_M(Fe/ee*d+s,ae,be);return C&&$e>=s&&$e<=c?f5($e,s,c,v,k):D?Math.round($e):$e}},h5=t=>{const{min:s,max:c,range:d,value:p,hasMinEdge:v,hasMaxEdge:C,maxBound:k,maxOffset:D,centerMinEdge:B,centerMaxEdge:F}=t;return p<s?v?0:B:p>c?C?k:F:(p-s)/d*D},wM="top",p5="right",CM="bottom",Zb="left",hj="width",pj="height",Fh=t=>t.element.dom.getBoundingClientRect(),uu=(t,s)=>t[s],Ml=t=>{const s=Fh(t);return uu(s,Zb)},hk=t=>{const s=Fh(t);return uu(s,p5)},qS=t=>{const s=Fh(t);return uu(s,wM)},g5=t=>{const s=Fh(t);return uu(s,CM)},b5=t=>{const s=Fh(t);return uu(s,hj)},v5=t=>{const s=Fh(t);return uu(s,pj)},y5=(t,s,c)=>(t+s)/2-c,SM=(t,s)=>{const c=Fh(t),d=Fh(s),p=uu(c,Zb),v=uu(c,p5),C=uu(d,Zb);return y5(p,v,C)},EM=(t,s)=>{const c=Fh(t),d=Fh(s),p=uu(c,wM),v=uu(c,CM),C=uu(d,wM);return y5(p,v,C)},pk=(t,s)=>{bn(t,ik(),{value:s})},xM=(t,s,c)=>{const d={min:Hv(s),max:zv(s),range:fk(s),value:c,step:Uv(s),snap:bM(s),snapStart:KS(s),rounded:i5(s),hasMinEdge:w_(s),hasMaxEdge:a5(s),minBound:Ml(t),maxBound:hk(t),screenRange:b5(t)};return m5(d)},_5=(t,s,c)=>{const d=xM(t,s,c);return pk(t,d),d},gj=(t,s)=>{const c=Hv(s);pk(t,c)},w5=(t,s)=>{const c=zv(s);pk(t,c)},C5=(t,s,c)=>{const p=(t>0?yM:vM)(ag(c),Hv(c),zv(c),Uv(c));return pk(s,p),I.some(p)},TM=t=>(s,c)=>C5(t,s,c).map(xt),bj=t=>Vb(t).map(c=>c.left),vj=(t,s,c,d,p)=>{const C=b5(t),k=d.bind(F=>I.some(SM(F,t))).getOr(0),D=p.bind(F=>I.some(SM(F,t))).getOr(C),B={min:Hv(s),max:zv(s),range:fk(s),value:c,hasMinEdge:w_(s),hasMaxEdge:a5(s),minBound:Ml(t),minOffset:0,maxBound:hk(t),maxOffset:C,centerMinEdge:k,centerMaxEdge:D};return h5(B)},kM=(t,s,c,d,p,v)=>{const C=vj(s,v,c,d,p);return Ml(s)-Ml(t)+C},yj=(t,s,c,d)=>{const p=ag(c),v=kM(t,d.getSpectrum(t),p,d.getLeftEdge(t),d.getRightEdge(t),c),C=Wr(s.element)/2;Bn(s.element,"left",v-C+"px")},_j=TM(-1),wj=TM(1),AM=I.none,Cj=I.none,S5={"top-left":I.none(),top:I.none(),"top-right":I.none(),right:I.some(u5),"bottom-right":I.none(),bottom:I.none(),"bottom-left":I.none(),left:I.some(dj)};var Sj=Object.freeze({__proto__:null,setValueFrom:_5,setToMin:gj,setToMax:w5,findValueOfOffset:xM,getValueFromEvent:bj,findPositionOfValue:kM,setPositionFromValue:yj,onLeft:_j,onRight:wj,onUp:AM,onDown:Cj,edgeActions:S5});const gk=(t,s)=>{bn(t,ik(),{value:s})},OM=(t,s,c)=>{const d={min:Vv(s),max:Wv(s),range:zb(s),value:c,step:Uv(s),snap:bM(s),snapStart:KS(s),rounded:i5(s),hasMinEdge:c5(s),hasMaxEdge:l5(s),minBound:qS(t),maxBound:g5(t),screenRange:v5(t)};return m5(d)},Ej=(t,s,c)=>{const d=OM(t,s,c);return gk(t,d),d},xj=(t,s)=>{const c=Vv(s);gk(t,c)},Tj=(t,s)=>{const c=Wv(s);gk(t,c)},kj=(t,s,c)=>{const p=(t>0?yM:vM)(ag(c),Vv(c),Wv(c),Uv(c));return gk(s,p),I.some(p)},DM=t=>(s,c)=>kj(t,s,c).map(xt),E5=t=>Vb(t).map(c=>c.top),Aj=(t,s,c,d,p)=>{const C=v5(t),k=d.bind(F=>I.some(EM(F,t))).getOr(0),D=p.bind(F=>I.some(EM(F,t))).getOr(C),B={min:Vv(s),max:Wv(s),range:zb(s),value:c,hasMinEdge:c5(s),hasMaxEdge:l5(s),minBound:qS(t),minOffset:0,maxBound:g5(t),maxOffset:C,centerMinEdge:k,centerMaxEdge:D};return h5(B)},NM=(t,s,c,d,p,v)=>{const C=Aj(s,v,c,d,p);return qS(s)-qS(t)+C},Oj=(t,s,c,d)=>{const p=ag(c),v=NM(t,d.getSpectrum(t),p,d.getTopEdge(t),d.getBottomEdge(t),c),C=Gs(s.element)/2;Bn(s.element,"top",v-C+"px")},Dj=I.none,Nj=I.none,x5=DM(-1),T5=DM(1),k5={"top-left":I.none(),top:I.some(sj),"top-right":I.none(),right:I.none(),"bottom-right":I.none(),bottom:I.some(lj),"bottom-left":I.none(),left:I.none()};var RM=Object.freeze({__proto__:null,setValueFrom:Ej,setToMin:xj,setToMax:Tj,findValueOfOffset:OM,getValueFromEvent:E5,findPositionOfValue:NM,setPositionFromValue:Oj,onLeft:Dj,onRight:Nj,onUp:x5,onDown:T5,edgeActions:k5});const bk=(t,s)=>{bn(t,ik(),{value:s})},GS=(t,s)=>({x:t,y:s}),Rj=(t,s,c)=>{const d=xM(t,s,c.left),p=OM(t,s,c.top),v=GS(d,p);return bk(t,v),v},Mj=(t,s,c,d)=>{const p=t>0?yM:vM,v=s?ag(d).x:p(ag(d).x,Hv(d),zv(d),Uv(d)),C=s?p(ag(d).y,Vv(d),Wv(d),Uv(d)):ag(d).y;return bk(c,GS(v,C)),I.some(v)},vk=(t,s)=>(c,d)=>Mj(t,s,c,d).map(xt),$j=(t,s)=>{const c=Hv(s),d=Vv(s);bk(t,GS(c,d))},MM=(t,s)=>{const c=zv(s),d=Wv(s);bk(t,GS(c,d))},cg=t=>Vb(t),Pj=(t,s,c,d)=>{const p=ag(c),v=kM(t,d.getSpectrum(t),p.x,d.getLeftEdge(t),d.getRightEdge(t),c),C=NM(t,d.getSpectrum(t),p.y,d.getTopEdge(t),d.getBottomEdge(t),c),k=Wr(s.element)/2,D=Gs(s.element)/2;Bn(s.element,"left",v-k+"px"),Bn(s.element,"top",C-D+"px")},YS=vk(-1,!1),Bj=vk(1,!1),$M=vk(-1,!0),Ij=vk(1,!0),Lj={"top-left":I.some(mk),top:I.some(rj),"top-right":I.some(ij),right:I.some(aj),"bottom-right":I.some(cj),bottom:I.some(d5),"bottom-left":I.some(uj),left:I.some(fj)};var Fj=Object.freeze({__proto__:null,setValueFrom:Rj,setToMin:$j,setToMax:MM,getValueFromEvent:cg,setPositionFromValue:Pj,onLeft:YS,onRight:Bj,onUp:$M,onDown:Ij,edgeActions:Lj});const A5=[He("stepSize",1),He("onChange",q),He("onChoose",q),He("onInit",q),He("onDragStart",q),He("onDragEnd",q),He("snapToGrid",!1),He("rounded",!0),jo("snapStart"),Va("model",Tr("mode",{x:[He("minX",0),He("maxX",100),Ca("value",t=>xn(t.mode.minX)),rt("getInitialValue"),Zs("manager",Sj)],y:[He("minY",0),He("maxY",100),Ca("value",t=>xn(t.mode.minY)),rt("getInitialValue"),Zs("manager",RM)],xy:[He("minX",0),He("maxX",100),He("minY",0),He("maxY",100),Ca("value",t=>xn({x:t.mode.minX,y:t.mode.minY})),rt("getInitialValue"),Zs("manager",Fj)]})),ci("sliderBehaviours",[_n,zt]),Ca("mouseIsDown",()=>xn(!1))],Wu=li({name:"Slider",configFields:A5,partFields:tj,factory:(t,s,c,d)=>{const p=Xe=>Nh(Xe,t,"thumb"),v=Xe=>Nh(Xe,t,"spectrum"),C=Xe=>vs(Xe,t,"left-edge"),k=Xe=>vs(Xe,t,"right-edge"),D=Xe=>vs(Xe,t,"top-edge"),B=Xe=>vs(Xe,t,"bottom-edge"),F=t.model,U=F.manager,K=(Xe,Nt)=>{U.setPositionFromValue(Xe,Nt,t,{getLeftEdge:C,getRightEdge:k,getTopEdge:D,getBottomEdge:B,getSpectrum:v})},ee=(Xe,Nt)=>{F.value.set(Nt);const _t=p(Xe);K(Xe,_t)},ae=(Xe,Nt)=>{ee(Xe,Nt);const _t=p(Xe);return t.onChange(Xe,_t,Nt),I.some(!0)},be=Xe=>{U.setToMin(Xe,t)},Fe=Xe=>{U.setToMax(Xe,t)},$e=Xe=>{const Nt=()=>{vs(Xe,t,"thumb").each(Pt=>{const Kt=F.value.get();t.onChoose(Xe,Pt,Kt)})},_t=t.mouseIsDown.get();t.mouseIsDown.set(!1),_t&&Nt()},De=(Xe,Nt)=>{Nt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Xe,p(Xe))},ft=(Xe,Nt)=>{Nt.stop(),t.onDragEnd(Xe,p(Xe)),$e(Xe)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Or(t.sliderBehaviours,[_n.config({mode:"special",focusIn:Xe=>vs(Xe,t,"spectrum").map(_n.focusIn).map(xt)}),zt.config({store:{mode:"manual",getValue:Xe=>F.value.get(),setValue:ee}}),uc.config({channels:{[Ay()]:{onReceive:$e}}})]),events:Os([mt(ik(),(Xe,Nt)=>{ae(Xe,Nt.event.value)}),js((Xe,Nt)=>{const _t=F.getInitialValue();F.value.set(_t);const Pt=p(Xe);K(Xe,Pt);const Kt=v(Xe);t.onInit(Xe,Pt,Kt,F.value.get())}),mt(Jc(),De),mt(Xf(),ft),mt(io(),De),mt(fr(),ft)]),apis:{resetToMin:be,resetToMax:Fe,setValue:ee,refresh:K},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,c)=>{t.setValue(s,c)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),XS=Gt("rgb-hex-update"),yk=Gt("slider-update"),O5=Gt("palette-update"),Uu=(t,s)=>{const c=Wu.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),d=Wu.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Wu.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:J(0)},components:[c,d],sliderBehaviours:Dt([Rn.config({})]),onChange:(p,v,C)=>{bn(p,yk,{value:C})}})},D5="form",Hj=[ci("formBehaviours",[zt])],PM=t=>"<alloy.field."+t+">",N5=t=>{const s=(()=>{const v=[];return{field:(k,D)=>(v.push(k),jp(D5,PM(k),D)),record:J(v)}})(),c=t(s),d=s.record(),p=at(d,v=>Bi({name:v,pname:PM(v)}));return zy(D5,Hj,p,zj,c)},Vj=(t,s)=>t.fold(()=>un.error(s),un.value),zj=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Or(t.formBehaviours,[zt.config({store:{mode:"manual",getValue:c=>{const d=jx(c,t);return qo(d,(p,v)=>p().bind(C=>{const k=So.getCurrent(C);return Vj(k,new Error(`Cannot find a current component to extract the value from for form part '${v}': `+Sp(C.element)))}).map(zt.getValue))},setValue:(c,d)=>{ds(d,(p,v)=>{vs(c,t,v).each(C=>{So.getCurrent(C).each(k=>{zt.setValue(k,p)})})})}}})]),apis:{getField:(c,d)=>vs(c,t,d).bind(So.getCurrent)}}),C_={getField:Yg((t,s,c)=>t.getField(s,c)),sketch:N5},R5=Gt("valid-input"),M5=Gt("invalid-input"),$5=Gt("validating-input"),BM="colorcustom.rgb.",P5=(t,s,c,d)=>{const p=(K,ee)=>Lh.config({invalidClass:s("invalid"),notify:{onValidate:ae=>{bn(ae,$5,{type:K})},onValid:ae=>{bn(ae,R5,{type:K,value:zt.getValue(ae)})},onInvalid:ae=>{bn(ae,M5,{type:K,value:zt.getValue(ae)})}},validator:{validate:ae=>{const be=zt.getValue(ae),Fe=ee(be)?un.value(!0):un.error(t("aria.input.invalid"));return fa.pure(Fe)},validateOnLoad:!1}}),v=(K,ee,ae,be,Fe)=>{const $e=t(BM+"range"),De=ss.parts.label({dom:{tag:"label",attributes:{"aria-label":be}},components:[Ar(ae)]}),ft=ss.parts.field({data:Fe,factory:Mv,inputAttributes:{type:"text",...ee==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:Dt([p(ee,K),Er.config({})]),onSetValue:Pt=>{Lh.isInvalid(Pt)&&Lh.run(Pt).get(q)}}),Xe=[De,ft],Nt=ee!=="hex"?[ss.parts["aria-descriptor"]({text:$e})]:[],_t=Xe.concat(Nt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:_t}},C=(K,ee)=>{const ae=PS(ee);return C_.getField(K,"hex").each(be=>{Rn.isFocused(be)||zt.setValue(K,{hex:ae.value})}),ae},k=(K,ee)=>{const ae=ee.red,be=ee.green,Fe=ee.blue;zt.setValue(K,{red:ae,green:be,blue:Fe})},D=os({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(K,ee)=>{D.getOpt(K).each(ae=>{Bn(ae.element,"background-color","#"+ee.value)})};return qr({factory:()=>{const K={red:xn(I.some(255)),green:xn(I.some(255)),blue:xn(I.some(255)),hex:xn(I.some("ffffff"))},ee=(zn,Ao)=>{const Sn=IS(Ao);k(zn,Sn),$e(Sn)},ae=zn=>K[zn].get(),be=(zn,Ao)=>{K[zn].set(Ao)},Fe=()=>ae("red").bind(zn=>ae("green").bind(Ao=>ae("blue").map(Sn=>Cm(zn,Ao,Sn,1)))),$e=zn=>{const Ao=zn.red,Sn=zn.green,Eo=zn.blue;be("red",I.some(Ao)),be("green",I.some(Sn)),be("blue",I.some(Eo))},De=(zn,Ao)=>{const Sn=Ao.event;Sn.type!=="hex"?be(Sn.type,I.none()):d(zn)},ft=(zn,Ao)=>{c(zn);const Sn=Cf(Ao);be("hex",I.some(Sn.value));const Eo=IS(Sn);k(zn,Eo),$e(Eo),bn(zn,XS,{hex:Sn}),B(zn,Sn)},Xe=(zn,Ao,Sn)=>{const Eo=parseInt(Sn,10);be(Ao,I.some(Eo)),Fe().each(Lt=>{const cn=C(zn,Lt);bn(zn,XS,{hex:cn}),B(zn,cn)})},Nt=zn=>zn.type==="hex",_t=(zn,Ao)=>{const Sn=Ao.event;Nt(Sn)?ft(zn,Sn.value):Xe(zn,Sn.type,Sn.value)},Pt=zn=>({label:t(BM+zn+".label"),description:t(BM+zn+".description")}),Kt=Pt("red"),bo=Pt("green"),mn=Pt("blue"),qn=Pt("hex");return Es(C_.sketch(zn=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[zn.field("red",ss.sketch(v(BS,"red",Kt.label,Kt.description,255))),zn.field("green",ss.sketch(v(BS,"green",bo.label,bo.description,255))),zn.field("blue",ss.sketch(v(BS,"blue",mn.label,mn.description,255))),zn.field("hex",ss.sketch(v(QI,"hex",qn.label,qn.description,"ffffff"))),D.asSpec()],formBehaviours:Dt([Lh.config({invalidClass:s("form-invalid")}),eo("rgb-form-events",[mt(R5,_t),mt(M5,De),mt($5,De)])])})),{apis:{updateHex:(zn,Ao)=>{zt.setValue(zn,{hex:Ao.value}),ee(zn,Ao),B(zn,Ao)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,ee,ae)=>{K.updateHex(ee,ae)}},extraApis:{}})},Wj=(t,s)=>{const c=Wu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),d=Wu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),p=(B,F)=>{const{width:U,height:K}=B,ee=B.getContext("2d");if(ee===null)return;ee.fillStyle=F,ee.fillRect(0,0,U,K);const ae=ee.createLinearGradient(0,0,U,0);ae.addColorStop(0,"rgba(255,255,255,1)"),ae.addColorStop(1,"rgba(255,255,255,0)"),ee.fillStyle=ae,ee.fillRect(0,0,U,K);const be=ee.createLinearGradient(0,0,0,K);be.addColorStop(0,"rgba(0,0,0,0)"),be.addColorStop(1,"rgba(0,0,0,1)"),ee.fillStyle=be,ee.fillRect(0,0,U,K)},v=(B,F)=>{const U=B.components()[0].element.dom,K=HS(F,100,100),ee=oL(K);p(U,sL(ee))},C=(B,F)=>{const U=LR(IS(F));Wu.setValue(B,{x:U.saturation,y:100-U.value})};return qr({factory:B=>{const F=J({x:0,y:0}),U=(ae,be,Fe)=>{bn(ae,O5,{value:Fe})},K=(ae,be,Fe,$e)=>{p(Fe.element.dom,sL(sg))},ee=Dt([So.config({find:I.some}),Rn.config({})]);return Wu.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:F},rounded:!1,components:[c,d],onChange:U,onInit:K,sliderBehaviours:ee})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(B,F,U)=>{v(F,U)},setThumb:(B,F,U)=>{C(F,U)}},extraApis:{}})},Uj=(t,s)=>{const c=p=>{const v=P5(t,s,p.onValidHex,p.onInvalidHex),C=Wj(t,s),k=_t=>(100-_t)/100*360,D=_t=>100-_t/360*100,B={paletteRgba:xn(sg),paletteHue:xn(0)},F=os(Uu(t,s)),U=os(C.sketch({})),K=os(v.sketch({})),ee=(_t,Pt,Kt)=>{U.getOpt(_t).each(bo=>{C.setHue(bo,Kt)})},ae=(_t,Pt)=>{K.getOpt(_t).each(Kt=>{v.updateHex(Kt,Pt)})},be=(_t,Pt,Kt)=>{F.getOpt(_t).each(bo=>{Wu.setValue(bo,D(Kt))})},Fe=(_t,Pt)=>{U.getOpt(_t).each(Kt=>{C.setThumb(Kt,Pt)})},$e=(_t,Pt)=>{const Kt=IS(_t);B.paletteRgba.set(Kt),B.paletteHue.set(Pt)},De=(_t,Pt,Kt,bo)=>{$e(Pt,Kt),wt(bo,mn=>{mn(_t,Pt,Kt)})},ft=()=>{const _t=[ae];return(Pt,Kt)=>{const bo=Kt.event.value,mn=B.paletteHue.get(),qn=HS(mn,bo.x,100-bo.y),zn=lL(qn);De(Pt,zn,mn,_t)}},Xe=()=>{const _t=[ee,ae];return(Pt,Kt)=>{const bo=k(Kt.event.value),mn=B.paletteRgba.get(),qn=LR(mn),zn=HS(bo,qn.saturation,qn.value),Ao=lL(zn);De(Pt,Ao,bo,_t)}},Nt=()=>{const _t=[ee,be,Fe];return(Pt,Kt)=>{const bo=Kt.event.hex,mn=MW(bo);De(Pt,bo,mn.hue,_t)}};return{uid:p.uid,dom:p.dom,components:[U.asSpec(),F.asSpec(),K.asSpec()],behaviours:Dt([eo("colour-picker-events",[mt(XS,Nt()),mt(O5,ft()),mt(yk,Xe())]),So.config({find:_t=>K.getOpt(_t)}),_n.config({mode:"acyclic"})])}};return qr({name:"ColourPicker",configFields:[rt("dom"),He("onValidHex",q),He("onInvalidHex",q)],factory:c})},Ef={self:()=>So.config({find:I.some}),memento:t=>So.config({find:t.getOpt}),childAt:t=>So.config({find:s=>Sc(s.element,t).bind(c=>s.getSystem().getByDom(c).toOptional())})},IM=yn([He("preprocess",Te),He("postprocess",Te)]),S_=(t,s)=>{const c=qi("RepresentingConfigs.memento processors",IM,s);return zt.config({store:{mode:"manual",getValue:d=>{const p=t.get(d),v=zt.getValue(p);return c.postprocess(v)},setValue:(d,p)=>{const v=c.preprocess(p),C=t.get(d);zt.setValue(C,v)}}})},Kb=(t,s,c)=>zt.config({store:{mode:"manual",...t.map(d=>({initialValue:d})).getOr({}),getValue:s,setValue:c}}),LM=(t,s,c)=>Kb(t,d=>s(d.element),(d,p)=>c(d.element,p)),I5=t=>LM(t,wp,Cp),_k=t=>zt.config({store:{mode:"memory",initialValue:t}}),Zj={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},wk=t=>s=>t.translate(Zj[s]),Kj=(t,s,c)=>{const d=D=>"tox-"+D,p=Uj(wk(s),d),v=D=>{bn(D,Ih,{name:"hex-valid",value:!0})},C=D=>{bn(D,Ih,{name:"hex-valid",value:!1})},k=os(p.sketch({dom:{tag:"div",classes:[d("color-picker-container")],attributes:{role:"presentation"}},onValidHex:v,onInvalidHex:C}));return{dom:{tag:"div"},components:[k.asSpec()],behaviours:Dt([Kb(c,D=>{const B=k.get(D);return So.getCurrent(B).bind(K=>zt.getValue(K).hex).map(K=>"#"+yu(K,"#")).getOr("")},(D,B)=>{const F=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,U=I.from(F.exec(B)).bind(ae=>nn(ae,1)),K=k.get(D);So.getCurrent(K).fold(()=>{console.log("Can not find form")},ae=>{zt.setValue(ae,{hex:U.getOr("")}),C_.getField(ae,"hex").each(be=>{Zo(be,ph())})})}),Ef.self()])}};var qj=tinymce.util.Tools.resolve("tinymce.Resource");const L5=t=>xo(t,"init"),F5=t=>{const s=Ks(),c=os({dom:{tag:t.tag}}),d=Ks();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Dt([eo("custom-editor-events",[js(p=>{c.getOpt(p).each(v=>{(L5(t)?t.init(v.element.dom):qj.load(t.scriptId,t.scriptUrl).then(C=>C(v.element.dom,t.settings))).then(C=>{d.on(k=>{C.setValue(k)}),d.clear(),s.set(C)})})})]),Kb(I.none(),()=>s.get().fold(()=>d.get().getOr(""),p=>p.getValue()),(p,v)=>{s.get().fold(()=>d.set(v),C=>C.setValue(v))}),Ef.self()]),components:[c.asSpec()]}};var Tm=tinymce.util.Tools.resolve("tinymce.util.Tools");const H5=(t,s)=>{const c=Tm.explode(s.getOption("images_file_types")),d=p=>ks(c,v=>$r(p.name.toLowerCase(),`.${v.toLowerCase()}`));return _o(vo(t),d)},il=(t,s,c)=>{const d=(K,ee)=>{ee.stop()},p=K=>(ee,ae)=>{wt(K,be=>{be(ee,ae)})},v=(K,ee)=>{var ae;if(!On.isDisabled(K)){const be=ee.event.raw;k(K,(ae=be.dataTransfer)===null||ae===void 0?void 0:ae.files)}},C=(K,ee)=>{const ae=ee.event.raw.target;k(K,ae.files)},k=(K,ee)=>{ee&&(zt.setValue(K,H5(ee,s)),bn(K,Rl,{name:t.name}))},D=os({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Dt([eo("input-file-events",[uf(Ql()),uf(N1())])])}),B=K=>({uid:K.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Dt([_k(c.getOr([])),Ef.self(),On.config({}),ao.config({toggleClass:"dragenter",toggleOnExecute:!1}),eo("dropzone-events",[mt("dragenter",p([d,ao.toggle])),mt("dragleave",p([d,ao.toggle])),mt("dragover",d),mt("drop",p([d,v])),mt(Vg(),C)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ar(s.translate("Drop an image here"))]},Aa.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ar(s.translate("Browse for an image")),D.asSpec()],action:ee=>{D.get(ee).element.dom.click()},buttonBehaviours:Dt([Er.config({}),wf.button(s.isDisabled),wi()])})]}]}),F=t.label.map(K=>Fb(K,s)),U=ss.parts.field({factory:{sketch:B}});return US(F,U,["tox-form__group--stretched"],[])},V5=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:at(t.items,s.interpreter)}),Gj=(t,s)=>{let c=null,d=null;return{cancel:()=>{Q(c)||(clearTimeout(c),c=null,d=null)},throttle:(...C)=>{d=C,Q(c)&&(c=setTimeout(()=>{const k=d;c=null,d=null,t.apply(null,k)},s))}}},Yj=(t,s)=>{let c=null;return{cancel:()=>{Q(c)||(clearTimeout(c),c=null)},throttle:(...v)=>{Q(c)&&(c=setTimeout(()=>{c=null,t.apply(null,v)},s))}}},Ck=(t,s)=>{let c=null;const d=()=>{Q(c)||(clearTimeout(c),c=null)};return{cancel:d,throttle:(...v)=>{d(),c=setTimeout(()=>{c=null,t.apply(null,v)},s)}}},FM=Gt("alloy-fake-before-tabstop"),HM=Gt("alloy-fake-after-tabstop"),z5=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Dt([Rn.config({ignore:!0}),Er.config({})])}),VM=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[z5([FM]),s,z5([HM])],behaviours:Dt([Ef.childAt(1)])}),km=(t,s)=>{bn(t,ic(),{raw:{which:9,shiftKey:s}})},zM=(t,s)=>{const c=s.element;ac(c,FM)?km(t,!0):ac(c,HM)&&km(t,!1)},E_=t=>zS(t,["."+FM,"."+HM].join(","),vt),x_=Gt("update-dialog"),Sk=Gt("update-title"),W5=Gt("update-body"),U5=Gt("update-footer"),j5=Gt("body-send-message"),Ek=Gt("dialog-focus-shifted"),WM=ti().browser,JS=WM.isSafari(),Xj=WM.isFirefox(),UM=JS||Xj,Jj=WM.isChromium(),Hh=({scrollTop:t,scrollHeight:s,clientHeight:c})=>Math.ceil(t)+c>=s,QS=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),Qj=(t,s)=>{const c=t.body;return I.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!Jj&&!JS||ve(c)&&(c.scrollTop!==0||Math.abs(c.scrollHeight-c.clientHeight)>1))?c:t.documentElement)},Z5=(t,s,c)=>{const d=t.dom;I.from(d.contentDocument).fold(c,p=>{let v=0;const C=Qj(p,s).map(D=>(v=D.scrollTop,D)).forall(Hh),k=()=>{const D=d.contentWindow;ve(D)&&(C?QS(D,"bottom"):!C&&UM&&v!==0&&QS(D,v))};JS&&d.addEventListener("load",k,{once:!0}),p.open(),p.write(s),p.close(),JS||k()})},K5=Dn(UM,JS?500:200).map(t=>Gj(Z5,t)),jM=(t,s)=>{const c=xn(t.getOr(""));return{getValue:d=>c.get(),setValue:(d,p)=>{if(c.get()!==p){const v=d.element,C=()=>Gn(v,"srcdoc",p);s?K5.fold(J(Z5),k=>k.throttle)(v,p,C):C()}c.set(p)}}},xk=(t,s,c)=>{const d="tox-dialog__iframe",p=t.transparent?[]:[`${d}--opaque`],v=t.border?["tox-navobj-bordered"]:[],C={...t.label.map(U=>({title:U})).getOr({}),...c.map(U=>({srcdoc:U})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},k=jM(c,t.streamContent),D=t.label.map(U=>Fb(U,s)),B=U=>VM(I.from(v),{uid:U.uid,dom:{tag:"iframe",attributes:C,classes:[d,...p]},behaviours:Dt([Er.config({}),Rn.config({}),Kb(c,k.getValue,k.setValue),uc.config({channels:{[Ek]:{onReceive:(K,ee)=>{ee.newFocus.each(ae=>{Ai(K.element).each(be=>{(es(K.element,ae)?Kr:zo)(be,"tox-navobj-bordered-focus")})})}}}})])}),F=ss.parts.field({factory:{sketch:B}});return US(D,F,["tox-form__group--stretched"],[])},eE=t=>new Promise((s,c)=>{const d=()=>{v(),s(t)},p=[fc(t,"load",d),fc(t,"error",()=>{v(),c("Unable to load data from image: "+t.dom.src)})],v=()=>wt(p,C=>C.unbind());t.dom.complete&&d()}),tE=(t,s,c,d,p)=>{const v=c*p,C=d*p,k=Math.max(0,t/2-v/2),D=Math.max(0,s/2-C/2);return{left:k.toString()+"px",top:D.toString()+"px",width:v.toString()+"px",height:C.toString()+"px"}},q5=(t,s,c)=>{const d=Wr(t),p=Gs(t);return Math.min(d/s,p/c,1)},G5=(t,s)=>{const c=xn(s.getOr({url:""})),d=os({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(D=>({src:D.url})).getOr({})}}),p=os({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[d.asSpec()]}),v=(D,B)=>{const F={url:B.url};B.zoom.each(K=>F.zoom=K),B.cachedWidth.each(K=>F.cachedWidth=K),B.cachedHeight.each(K=>F.cachedHeight=K),c.set(F);const U=()=>{const{cachedWidth:K,cachedHeight:ee,zoom:ae}=F;if(!pe(K)&&!pe(ee)){if(pe(ae)){const Fe=q5(D.element,K,ee);F.zoom=Fe}const be=tE(Wr(D.element),Gs(D.element),K,ee,F.zoom);p.getOpt(D).each(Fe=>{_l(Fe.element,be)})}};d.getOpt(D).each(K=>{const ee=K.element;B.url!==Di(ee,"src")&&(Gn(ee,"src",B.url),zo(D.element,"tox-imagepreview__loaded")),U(),eE(ee).then(ae=>{D.getSystem().isConnected()&&(Kr(D.element,"tox-imagepreview__loaded"),F.cachedWidth=ae.dom.naturalWidth,F.cachedHeight=ae.dom.naturalHeight,U())})})},C={};t.height.each(D=>C.height=D);const k=s.map(D=>({url:D.url,zoom:I.from(D.zoom),cachedWidth:I.from(D.cachedWidth),cachedHeight:I.from(D.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:C,attributes:{role:"presentation"}},components:[p.asSpec()],behaviours:Dt([Ef.self(),Kb(k,()=>c.get(),v)])}},tZ=(t,s)=>{const c="tox-label",d=t.align==="center"?[`${c}--center`]:[],p=t.align==="end"?[`${c}--end`]:[],v={dom:{tag:"label",classes:[c,...d,...p]},components:[Ar(s.providers.translate(t.label))]},C=at(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[v,...C],behaviours:Dt([Ef.self(),Vn.config({}),I5(I.none()),_n.config({mode:"acyclic"})])}},Y5=Gt("toolbar.button.execute"),nZ=t=>yd((s,c)=>{WT(t,s)(d=>{bn(s,Y5,{buttonApi:d}),t.onAction(d)})}),jv=Gt("common-button-display-events"),X5={[El()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Rc()]:["toolbar-button-events",jv],[io()]:["focusing","alloy.base.behaviour",jv]},ZM=t=>Bn(t.element,"width",gt(t.element,"width")),J5=(t,s,c)=>Hu(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},s),Tk=(t,s)=>J5(t,s,[]),lg=(t,s)=>J5(t,s,[Vn.config({})]),Q5=(t,s,c)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ar(c.translate(t))],behaviours:Dt([Vn.config({})])}),ju=Gt("update-menu-text"),Zv=Gt("update-menu-icon"),kk=(t,s,c)=>{const d=xn(q),p=t.text.map(K=>os(Q5(K,s,c.providers))),v=t.icon.map(K=>os(lg(K,c.providers.icons))),C=(K,ee)=>{const ae=zt.getValue(K);return Rn.focus(ae),bn(ae,"keydown",{raw:ee.event.raw}),zu.close(ae),I.some(!0)},k=t.role.fold(()=>({}),K=>({role:K})),D=t.tooltip.fold(()=>({}),K=>{const ee=c.providers.translate(K);return{title:ee,"aria-label":ee}}),B=Hu("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},c.providers.icons),F=Gt("common-button-display-events");return os(zu.sketch({...t.uid?{uid:t.uid}:{},...k,dom:{tag:"button",classes:[s,`${s}--select`].concat(at(t.classes,K=>`${s}--${K}`)),attributes:{...D}},components:f_([v.map(K=>K.asSpec()),p.map(K=>K.asSpec()),I.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(K,ee,ae)=>{t.searchable&&dU(ae)},dropdownBehaviours:Dt([...t.dropdownBehaviours,wf.button(()=>t.disabled||c.providers.isDisabled()),wi(),ZS.config({}),Vn.config({}),eo("dropdown-events",[Bb(t,d),og(t,d)]),eo(F,[js((K,ee)=>ZM(K))]),eo("menubutton-update-display-text",[mt(ju,(K,ee)=>{p.bind(ae=>ae.getOpt(K)).each(ae=>{Vn.set(ae,[Ar(c.providers.translate(ee.event.text))])})}),mt(Zv,(K,ee)=>{v.bind(ae=>ae.getOpt(K)).each(ae=>{Vn.set(ae,[lg(ee.event.icon,c.providers.icons)])})})])]),eventOrder:Es(X5,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Rc()]:["toolbar-button-events","dropdown-events",F]}),sandboxBehaviours:Dt([_n.config({mode:"special",onLeft:C,onRight:C}),eo("dropdown-sandbox-events",[mt(oI,(K,ee)=>{lU(K),ee.stop()}),mt(sI,(K,ee)=>{iM(K,ee),ee.stop()})])]),lazySink:c.getSink,toggleClass:`${s}--active`,parts:{menu:{...RT(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:cM,onCollapseMenu:(K,ee,ae)=>{Lo.getHighlighted(ae).each(be=>{cM(K,ae,be)})},onDehighlightItem:uU}},fetch:K=>fa.nu(Ue(t.fetch,K))})).asSpec()},nE=t=>A(t),eF=t=>t.type==="separator",tF=t=>xo(t,"getSubmenuItems"),oZ={type:"separator"},sZ=(t,s)=>{const c=we(t,(d,p)=>nE(p)?p===""?d:p==="|"?d.length>0&&!eF(d[d.length-1])?d.concat([oZ]):d:xo(s,p.toLowerCase())?d.concat([s[p.toLowerCase()]]):d:d.concat([p]),[]);return c.length>0&&eF(c[c.length-1])&&c.pop(),c},rZ=(t,s)=>{const c=t.getSubmenuItems(),d=KM(c,s),p=Es(d.menus,{[t.value]:d.items}),v=Es(d.expansions,{[t.value]:t.value});return{item:t,menus:p,expansions:v}},iZ=t=>{const s=Mt(t,"value").getOrThunk(()=>Gt("generated-menu-item"));return Es({value:s},t)},KM=(t,s)=>{const c=sZ(A(t)?t.split(" "):t,s);return Ho(c,(d,p)=>{if(tF(p)){const v=iZ(p),C=rZ(v,s);return{menus:Es(d.menus,C.menus),items:[C.item,...d.items],expansions:Es(d.expansions,C.expansions)}}else return{...d,items:[p,...d.items]}},{menus:{},expansions:{},items:[]})},aZ=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),nF=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),qb=(t,s,c,d)=>{const p=Gt("primary-menu"),v=KM(t,c.shared.providers.menuItems());if(v.items.length===0)return I.none();const C=aZ(d),k=PL(p,v.items,s,c,d.isHorizontalMenu,C),D=nF(d),B=qo(v.menus,(U,K)=>PL(K,U,s,c,!1,D)),F=Es(B,St(p,k));return I.from(kv.tieredData(p,F,v.expansions))},Am=t=>!xo(t,"items"),Ak="data-value",qM=(t,s,c,d)=>at(c,p=>Am(p)?{type:"togglemenuitem",text:p.text,value:p.value,active:p.value===d,onAction:()=>{zt.setValue(t,p.value),bn(t,Rl,{name:s}),Rn.focus(t)}}:{type:"nestedmenuitem",text:p.text,getSubmenuItems:()=>qM(t,s,p.items,d)}),Ok=(t,s)=>Qn(t,c=>Am(c)?Dn(c.value===s,c):Ok(c.items,s)),GM=(t,s,c)=>{const d=s.shared.providers,p=c.bind(D=>Ok(t.items,D)).orThunk(()=>kn(t.items).filter(Am)),v=t.label.map(D=>Fb(D,d)),C=ss.parts.field({dom:{},factory:{sketch:D=>kk({uid:D.uid,text:p.map(B=>B.text),icon:I.none(),tooltip:t.label,role:I.none(),fetch:(B,F)=>{const U=qM(B,t.name,t.items,zt.getValue(B));F(qb(U,_m.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:I.none()}))},onSetup:J(q),getApi:J({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Er.config({}),Kb(p.map(B=>B.value),B=>Di(B.element,Ak),(B,F)=>{Ok(t.items,F).each(U=>{Gn(B.element,Ak,U.value),bn(B,ju,{text:U.text})})})]},"tox-listbox",s.shared)}}),k={dom:{tag:"div",classes:["tox-listboxfield"]},components:[C]};return ss.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ye([v.toArray(),[k]]),fieldBehaviours:Dt([On.config({disabled:J(!t.enabled),onDisabled:D=>{ss.getField(D).each(On.disable)},onEnabled:D=>{ss.getField(D).each(On.enable)}})])})},oF=(t,s)=>({dom:{tag:"div",classes:t.classes},components:at(t.items,s.shared.interpreter)}),Dk=(t,s)=>{const c=at(t.options,p=>({dom:{tag:"option",value:p.value,innerHtml:p.text}})),d=t.data.map(p=>St("initialValue",p)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:c,behaviours:Or(t.selectBehaviours,[Rn.config({}),zt.config({store:{mode:"manual",getValue:p=>cc(p.element),setValue:(p,v)=>{const C=kn(t.options);je(t.options,D=>D.value===v).isSome()?xl(p.element,v):p.element.dom.selectedIndex===-1&&v===""&&C.each(D=>xl(p.element,D.value))},...d}})])}},sF=qr({name:"HtmlSelect",configFields:[rt("options"),ci("selectBehaviours",[Rn,zt]),He("selectClasses",[]),He("selectAttributes",{}),jo("data")],factory:Dk}),rF=(t,s,c)=>{const d=at(t.items,D=>({text:s.translate(D.text),value:D.value})),p=t.label.map(D=>Fb(D,s)),v=ss.parts.field({dom:{},...c.map(D=>({data:D})).getOr({}),selectAttributes:{size:t.size},options:d,factory:sF,selectBehaviours:Dt([On.config({disabled:()=>!t.enabled||s.isDisabled()}),Er.config({}),eo("selectbox-change",[mt(Vg(),(D,B)=>{bn(D,Rl,{name:t.name})})])])}),C=t.size>1?I.none():I.some(Hu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),k={dom:{tag:"div",classes:["tox-selectfield"]},components:Ye([[v],C.toArray()])};return ss.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ye([p.toArray(),[k]]),fieldBehaviours:Dt([On.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:D=>{ss.getField(D).each(On.disable)},onEnabled:D=>{ss.getField(D).each(On.enable)}}),wi()])})},cZ=J([He("field1Name","field1"),He("field2Name","field2"),Je("onLockedChange"),Ap(["lockClass"]),He("locked",!1),ou.field("coupledFieldBehaviours",[So,zt])]),lZ=(t,s,c)=>vs(t,s,c).bind(So.getCurrent),iF=(t,s)=>Bi({factory:ss,name:t,overrides:c=>({fieldBehaviours:Dt([eo("coupled-input-behaviour",[mt(ph(),d=>{lZ(d,c,s).each(p=>{vs(d,c,"lock").each(v=>{ao.isOn(v)&&c.onLockedChange(d,p,v)})})})])])})}),uZ=J([iF("field1","field2"),iF("field2","field1"),Bi({factory:Aa,schema:[rt("dom")],name:"lock",overrides:t=>({buttonBehaviours:Dt([ao.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),dZ=(t,s,c,d)=>({uid:t.uid,dom:t.dom,components:s,behaviours:ou.augment(t.coupledFieldBehaviours,[So.config({find:I.some}),zt.config({store:{mode:"manual",getValue:p=>{const v=qC(p,t,["field1","field2"]);return{[t.field1Name]:zt.getValue(v.field1()),[t.field2Name]:zt.getValue(v.field2())}},setValue:(p,v)=>{const C=qC(p,t,["field1","field2"]);Ei(v,t.field1Name)&&zt.setValue(C.field1(),v[t.field1Name]),Ei(v,t.field2Name)&&zt.setValue(C.field2(),v[t.field2Name])}}})]),apis:{getField1:p=>vs(p,t,"field1"),getField2:p=>vs(p,t,"field2"),getLock:p=>vs(p,t,"lock")}}),du=li({name:"FormCoupledInputs",configFields:cZ(),partFields:uZ(),factory:dZ,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),aF=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},c=p=>p in s?s[p]:1;let d=t.value.toFixed(c(t.unit));return d.indexOf(".")!==-1&&(d=d.replace(/\.?0*$/,"")),d+t.unit},YM=t=>{const c=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(c!==null){const d=parseFloat(c[1]),p=c[2];return un.value({value:d,unit:p})}else return un.error(t)},cF=(t,s)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},d=p=>xo(c,p);return t.unit===s?I.some(t.value):d(t.unit)&&d(s)?c[t.unit]===c[s]?I.some(t.value):I.some(t.value/c[t.unit]*c[s]):I.none()},XM=t=>I.none(),Nk=(t,s)=>c=>cF(c,s).map(d=>({value:d*t,unit:s})),fZ=(t,s)=>{const c=YM(t).toOptional(),d=YM(s).toOptional();return Hl(c,d,(p,v)=>cF(p,v.unit).map(C=>v.value/C).map(C=>Nk(C,v.unit)).getOr(XM)).getOr(XM)},mZ=(t,s)=>{let c=XM;const d=Gt("ratio-event"),p=U=>Hu(U,{tag:"span",classes:["tox-icon","tox-lock-icon__"+U]},s.icons),v=du.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[p("lock"),p("unlock")],buttonBehaviours:Dt([On.config({disabled:()=>!t.enabled||s.isDisabled()}),wi(),Er.config({})])}),C=U=>({dom:{tag:"div",classes:["tox-form__group"]},components:U}),k=U=>ss.parts.field({factory:Mv,inputClasses:["tox-textfield"],inputBehaviours:Dt([On.config({disabled:()=>!t.enabled||s.isDisabled()}),wi(),Er.config({}),eo("size-input-events",[mt(Xl(),(K,ee)=>{bn(K,d,{isField1:U})}),mt(Vg(),(K,ee)=>{bn(K,Rl,{name:t.name})})])]),selectOnFocus:!1}),D=U=>({dom:{tag:"label",classes:["tox-label"]},components:[Ar(s.translate(U))]}),B=du.parts.field1(C([ss.parts.label(D("Width")),k(!0)])),F=du.parts.field2(C([ss.parts.label(D("Height")),k(!1)]));return du.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[B,F,C([D(ev),v])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(U,K,ee)=>{YM(zt.getValue(U)).each(ae=>{c(ae).each(be=>{zt.setValue(K,aF(be))})})},coupledFieldBehaviours:Dt([On.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:U=>{du.getField1(U).bind(ss.getField).each(On.disable),du.getField2(U).bind(ss.getField).each(On.disable),du.getLock(U).each(On.disable)},onEnabled:U=>{du.getField1(U).bind(ss.getField).each(On.enable),du.getField2(U).bind(ss.getField).each(On.enable),du.getLock(U).each(On.enable)}}),wi(),eo("size-input-events2",[mt(d,(U,K)=>{const ee=K.event.isField1,ae=ee?du.getField1(U):du.getField2(U),be=ee?du.getField2(U):du.getField1(U),Fe=ae.map(zt.getValue).getOr(""),$e=be.map(zt.getValue).getOr("");c=fZ(Fe,$e)})])])})},lF=(t,s,c)=>{const d=Wu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ar(s.translate(t.label))]}),p=Wu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),v=Wu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Wu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:J(c.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[d,p,v],sliderBehaviours:Dt([Ef.self(),Rn.config({})]),onChoose:(C,k,D)=>{bn(C,Rl,{name:t.name,value:D})}})},uF=(t,s)=>{const c=k=>({dom:{tag:"th",innerHtml:s.translate(k)}}),d=k=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:at(k,c)}]}),p=k=>({dom:{tag:"td",innerHtml:s.translate(k)}}),v=k=>({dom:{tag:"tr"},components:at(k,p)}),C=k=>({dom:{tag:"tbody"},components:at(k,v)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[d(t.header),C(t.cells)],behaviours:Dt([Er.config({}),Rn.config({})])}},dF=(t,s)=>{const c=t.label.map(ee=>Fb(ee,s)),d=[On.config({disabled:()=>t.disabled||s.isDisabled()}),wi(),_n.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:ee=>(Zo(ee,__),I.some(!0))}),eo("textfield-change",[mt(ph(),(ee,ae)=>{bn(ee,Rl,{name:t.name})}),mt(bd(),(ee,ae)=>{bn(ee,Rl,{name:t.name})})]),Er.config({})],p=t.validation.map(ee=>Lh.config({getRoot:ae=>Ai(ae.element),invalidClass:"tox-invalid",validator:{validate:ae=>{const be=zt.getValue(ae),Fe=ee.validator(be);return fa.pure(Fe===!0?un.value(be):un.error(Fe))},validateOnLoad:ee.validateOnLoad}})).toArray(),v=t.placeholder.fold(J({}),ee=>({placeholder:s.translate(ee)})),C=t.inputMode.fold(J({}),ee=>({inputmode:ee})),k={...v,...C},D=ss.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(ee=>({data:ee})).getOr({}),inputAttributes:k,inputClasses:[t.classname],inputBehaviours:Dt(Ye([d,p])),selectOnFocus:!1,factory:Mv}),B=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[D]}:D,U=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),K=[On.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:ee=>{ss.getField(ee).each(On.disable)},onEnabled:ee=>{ss.getField(ee).each(On.enable)}}),wi()];return US(c,B,U,K)},hZ=(t,s,c)=>dF({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:I.none(),maximized:t.maximized,data:c},s),JM=(t,s,c)=>dF({name:t.name,multiline:!0,label:t.label,inputMode:I.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:I.none(),maximized:t.maximized,data:c},s),oE=(t,s)=>s.getAnimationRoot.fold(()=>t.element,c=>c(t)),Vh=t=>t.dimension.property,Kv=(t,s)=>t.dimension.getDimension(s),Rk=(t,s)=>{const c=oE(t,s);Ji(c,[s.shrinkingClass,s.growingClass])},QM=(t,s)=>{zo(t.element,s.openClass),Kr(t.element,s.closedClass),Bn(t.element,Vh(s),"0px"),Cu(t.element)},Mk=(t,s)=>{zo(t.element,s.closedClass),Kr(t.element,s.openClass),Co(t.element,Vh(s))},e4=(t,s,c,d)=>{c.setCollapsed(),Bn(t.element,Vh(s),Kv(s,t.element)),Rk(t,s),QM(t,s),s.onStartShrink(t),s.onShrunk(t)},pZ=(t,s,c,d)=>{const p=d.getOrThunk(()=>Kv(s,t.element));c.setCollapsed(),Bn(t.element,Vh(s),p),Cu(t.element);const v=oE(t,s);zo(v,s.growingClass),Kr(v,s.shrinkingClass),QM(t,s),s.onStartShrink(t)},fF=(t,s,c)=>{const d=Kv(s,t.element);(d==="0px"?e4:pZ)(t,s,c,I.some(d))},mF=(t,s,c)=>{const d=oE(t,s),p=ac(d,s.shrinkingClass),v=Kv(s,t.element);Mk(t,s);const C=Kv(s,t.element);(p?()=>{Bn(t.element,Vh(s),v),Cu(t.element)}:()=>{QM(t,s)})(),zo(d,s.shrinkingClass),Kr(d,s.growingClass),Mk(t,s),Bn(t.element,Vh(s),C),c.setExpanded(),s.onStartGrow(t)},gZ=(t,s,c)=>{if(c.isExpanded()){Co(t.element,Vh(s));const d=Kv(s,t.element);Bn(t.element,Vh(s),d)}},hF=(t,s,c)=>{c.isExpanded()||mF(t,s,c)},bZ=(t,s,c)=>{c.isExpanded()&&fF(t,s,c)},pF=(t,s,c)=>{c.isExpanded()&&e4(t,s,c)},vZ=(t,s,c)=>c.isExpanded(),yZ=(t,s,c)=>c.isCollapsed(),gF=(t,s,c)=>{const d=oE(t,s);return ac(d,s.growingClass)===!0},bF=(t,s,c)=>{const d=oE(t,s);return ac(d,s.shrinkingClass)===!0};var _Z=Object.freeze({__proto__:null,refresh:gZ,grow:hF,shrink:bZ,immediateShrink:pF,hasGrown:vZ,hasShrunk:yZ,isGrowing:gF,isShrinking:bF,isTransitioning:(t,s,c)=>gF(t,s)||bF(t,s),toggleGrow:(t,s,c)=>{(c.isExpanded()?fF:mF)(t,s,c)},disableTransitions:Rk,immediateGrow:(t,s,c)=>{c.isExpanded()||(Mk(t,s),Bn(t.element,Vh(s),Kv(s,t.element)),Rk(t,s),c.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),wZ=Object.freeze({__proto__:null,exhibit:(t,s,c)=>{const d=s.expanded;return Ru(d?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:St(s.dimension.property,"0px")})},events:(t,s)=>Os([Gg(D1(),(c,d)=>{d.event.raw.propertyName===t.dimension.property&&(Rk(c,t),s.isExpanded()&&Co(c.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(c))})])}),CZ=[rt("closedClass"),rt("openClass"),rt("shrinkingClass"),rt("growingClass"),jo("getAnimationRoot"),ho("onShrunk"),ho("onStartShrink"),ho("onGrown"),ho("onStartGrow"),He("expanded",!1),Va("dimension",Tr("property",{width:[Zs("property","width"),Zs("getDimension",t=>Wr(t)+"px")],height:[Zs("property","height"),Zs("getDimension",t=>Gs(t)+"px")]}))],sE=Object.freeze({__proto__:null,init:t=>{const s=xn(t.expanded),c=()=>"expanded: "+s.get();return Qc({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Ue(s.set,!1),setExpanded:Ue(s.set,!0),readState:c})}});const al=Qi({fields:CZ,name:"sliding",active:wZ,apis:_Z,state:sE}),yF=t=>({isEnabled:()=>!On.isDisabled(t),setEnabled:s=>On.set(t,!s),setActive:s=>{const c=t.element;s?(Kr(c,"tox-tbtn--enabled"),Gn(c,"aria-pressed",!0)):(zo(c,"tox-tbtn--enabled"),lr(c,"aria-pressed"))},isActive:()=>ac(t.element,"tox-tbtn--enabled"),setText:s=>{bn(t,ju,{text:s})},setIcon:s=>bn(t,Zv,{icon:s})}),rE=(t,s,c,d,p=!0)=>kk({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:d,fetch:(v,C)=>{const k={pattern:t.search.isSome()?fU(v):""};t.fetch(D=>{C(qb(D,_m.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:t.search}))},k,yF(v))},onSetup:t.onSetup,getApi:yF,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...p?[Er.config({})]:[]]},s,c.shared),t4=(t,s,c)=>{const d=v=>C=>{const k=!C.isActive();C.setActive(k),v.storage.set(k),c.shared.getSink().each(D=>{s().getOpt(D).each(B=>{Sr(B.element),bn(B,Ih,{name:v.name,value:v.storage.get()})})})},p=v=>C=>{C.setActive(v.storage.get())};return v=>{v(at(t,C=>{const k=C.text.fold(()=>({}),D=>({text:D}));return{type:C.type,active:!1,...k,onAction:d(C),onSetup:p(C)}}))}},_F=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Ar(t)]}),$k=Gt("leaf-label-event-id"),Pk=({leaf:t,onLeafAction:s,visible:c,treeId:d,selectedId:p,backstage:v})=>{const C=t.menu.map(D=>rE(D,"tox-mbtn",v,I.none(),c)),k=[_F(t.title)];return C.each(D=>k.push(D)),Aa.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:D=>{s(t.id),D.getSystem().broadcastOn([`update-active-item-${d}`],{value:t.id})},eventOrder:{[ic()]:[$k,"keying"]},buttonBehaviours:Dt([...c?[Er.config({})]:[],ao.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),uc.config({channels:{[`update-active-item-${d}`]:{onReceive:(D,B)=>{(B.value===t.id?ao.on:ao.off)(D)}}}}),eo($k,[js((D,B)=>{p.each(F=>{(F===t.id?ao.on:ao.off)(D)})}),mt(ic(),(D,B)=>{const F=B.event.raw.code==="ArrowLeft",U=B.event.raw.code==="ArrowRight";F?(im(D.element,".tox-tree--directory").each(K=>{D.getSystem().getByDom(K).each(ee=>{X0(K,".tox-tree--directory__label").each(ae=>{ee.getSystem().getByDom(ae).each(Rn.focus)})})}),B.stop()):U&&B.stop()})])])})},SZ=(t,s,c)=>Hu(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:c},s),EZ=(t,s)=>SZ(t,s,[]),n4=Gt("directory-label-event-id"),wF=({directory:t,visible:s,noChildren:c,backstage:d})=>{const p=t.menu.map(k=>rE(k,"tox-mbtn",d,I.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[EZ("chevron-right",d.shared.providers.icons)]},_F(t.title)];p.each(k=>{v.push(k)});const C=k=>{im(k.element,".tox-tree--directory").each(D=>{k.getSystem().getByDom(D).each(B=>{const F=!ao.isOn(B);ao.toggle(B),bn(k,"expand-tree-node",{expanded:F,node:t.id})})})};return Aa.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:v,action:C,eventOrder:{[ic()]:[n4,"keying"]},buttonBehaviours:Dt([...s?[Er.config({})]:[],eo(n4,[mt(ic(),(k,D)=>{const B=D.event.raw.code==="ArrowRight",F=D.event.raw.code==="ArrowLeft";B&&c&&D.stop(),(B||F)&&im(k.element,".tox-tree--directory").each(U=>{k.getSystem().getByDom(U).each(K=>{!ao.isOn(K)&&B||ao.isOn(K)&&F?(C(k),D.stop()):F&&!ao.isOn(K)&&(im(K.element,".tox-tree--directory").each(ee=>{X0(ee,".tox-tree--directory__label").each(ae=>{K.getSystem().getByDom(ae).each(Rn.focus)})}),D.stop())})})})])])})},xZ=({children:t,onLeafAction:s,visible:c,treeId:d,expandedIds:p,selectedId:v,backstage:C})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(k=>k.type==="leaf"?Pk({leaf:k,selectedId:v,onLeafAction:s,visible:c,treeId:d,backstage:C}):Bk({directory:k,expandedIds:p,selectedId:v,onLeafAction:s,labelTabstopping:c,treeId:d,backstage:C})),behaviours:Dt([al.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),Vn.config({})])}),CF=Gt("directory-event-id"),Bk=({directory:t,onLeafAction:s,labelTabstopping:c,treeId:d,backstage:p,expandedIds:v,selectedId:C})=>{const{children:k}=t,D=xn(v),B=U=>k.map(K=>K.type==="leaf"?Pk({leaf:K,selectedId:C,onLeafAction:s,visible:U,treeId:d,backstage:p}):Bk({directory:K,expandedIds:D.get(),selectedId:C,onLeafAction:s,labelTabstopping:U,treeId:d,backstage:p})),F=v.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[wF({directory:t,visible:c,noChildren:t.children.length===0,backstage:p}),xZ({children:k,expandedIds:v,selectedId:C,onLeafAction:s,visible:F,treeId:d,backstage:p})],behaviours:Dt([eo(CF,[js((U,K)=>{ao.set(U,F)}),mt("expand-tree-node",(U,K)=>{const{expanded:ee,node:ae}=K.event;D.set(ee?[...D.get(),ae]:D.get().filter(be=>be!==ae))})]),ao.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(U,K)=>{const ee=U.components()[1],ae=B(K);K?al.grow(ee):al.shrink(ee),Vn.set(ee,ae)}})])}},TZ=Gt("tree-event-id"),SF=(t,s)=>{const c=t.onLeafAction.getOr(q),d=t.onToggleExpand.getOr(q),p=t.defaultExpandedIds,v=xn(p),C=xn(t.defaultSelectedId),k=Gt("tree-id"),D=(B,F)=>t.items.map(U=>U.type==="leaf"?Pk({leaf:U,selectedId:B,onLeafAction:c,visible:!0,treeId:k,backstage:s}):Bk({directory:U,selectedId:B,onLeafAction:c,expandedIds:F,labelTabstopping:!0,treeId:k,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:D(C.get(),v.get()),behaviours:Dt([_n.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),eo(TZ,[mt("expand-tree-node",(B,F)=>{const{expanded:U,node:K}=F.event;v.set(U?[...v.get(),K]:v.get().filter(ee=>ee!==K)),d(v.get(),{expanded:U,node:K})})]),uc.config({channels:{[`update-active-item-${k}`]:{onReceive:(B,F)=>{C.set(I.some(F.value)),Vn.set(B,D(I.some(F.value),v.get()))}}}}),Vn.config({})])}};var EF=Object.freeze({__proto__:null,events:(t,s)=>{const d=t.stream.streams.setup(t,s);return Os([mt(t.event,d),Wa(()=>s.cancel())].concat(t.cancelEvent.map(p=>[mt(p,()=>s.cancel())]).getOr([])))}});const xF=t=>{const s=xn(null);return Qc({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:v=>{s.set(v)},cancel:()=>{const v=s.get();v!==null&&v.cancel()}})};var AZ=Object.freeze({__proto__:null,throttle:xF,init:t=>t.stream.streams.state(t)});const TF=(t,s)=>{const c=t.stream,d=Ck(t.onStream,c.delay);return s.setTimer(d),(p,v)=>{d.throttle(p,v),c.stopEvent&&v.stop()}};var OZ=[Va("stream",Tr("mode",{throttle:[rt("delay"),He("stopEvent",!0),Zs("streams",{setup:TF,state:xF})]})),He("event","input"),jo("cancelEvent"),Je("onStream")];const Ik=Qi({fields:OZ,name:"streaming",active:EF,state:AZ}),Lk=(t,s,c)=>{const d=zt.getValue(c);zt.setValue(s,d),Fk(s)},kF=(t,s)=>{const c=t.element,d=cc(c),p=c.dom;Di(c,"type")!=="number"&&s(p,d)},Fk=t=>{kF(t,(s,c)=>s.setSelectionRange(c.length,c.length))},DZ=(t,s)=>{kF(t,(c,d)=>c.setSelectionRange(s,d.length))},NZ=(t,s,c)=>{if(t.selectsOver){const d=zt.getValue(s),p=t.getDisplayText(d),v=zt.getValue(c);return t.getDisplayText(v).indexOf(p)===0?I.some(()=>{Lk(t,s,c),DZ(s,p.length)}):I.none()}else return I.none()},o4=J("alloy.typeahead.itemexecute"),AF=(t,s,c,d)=>{const p=(U,K,ee)=>{t.previewing.set(!1);const ae=rr.getCoupled(U,"sandbox");if(To.isOpen(ae))So.getCurrent(ae).each(be=>{Lo.getHighlighted(be).fold(()=>{ee(be)},()=>{WO(ae,be.element,"keydown",K)})});else{const be=Fe=>{So.getCurrent(Fe).each(ee)};QT(t,C(U),U,ae,d,be,rl.HighlightMenuAndItem).get(q)}},v=tI(t),C=U=>K=>K.map(ee=>{const ae=Hd(ee.menus),be=Ae(ae,$e=>_o($e.items,De=>De.type==="item"));return zt.getState(U).update(at(be,$e=>$e.data)),ee}),k=U=>So.getCurrent(U),D="typeaheadevents",B=[Rn.config({}),zt.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:U=>cc(U.element),getFallbackEntry:U=>({value:U,meta:{}}),setValue:(U,K)=>{xl(U.element,t.model.getDisplayText(K))},...t.initialData.map(U=>St("initialValue",U)).getOr({})}}),Ik.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(U,K)=>{const ee=rr.getCoupled(U,"sandbox");if(Rn.isFocused(U)&&cc(U.element).length>=t.minChars){const be=k(ee).bind($e=>Lo.getHighlighted($e).map(zt.getValue));t.previewing.set(!0);const Fe=$e=>{k(ee).each(De=>{be.fold(()=>{t.model.selectsOver&&Lo.highlightFirst(De)},ft=>{Lo.highlightBy(De,Xe=>zt.getValue(Xe).value===ft.value),Lo.getHighlighted(De).orThunk(()=>(Lo.highlightFirst(De),I.none()))})})};QT(t,C(U),U,ee,d,Fe,rl.HighlightJustMenu).get(q)}},cancelEvent:Ow()}),_n.config({mode:"special",onDown:(U,K)=>(p(U,K,Lo.highlightFirst),I.some(!0)),onEscape:U=>{const K=rr.getCoupled(U,"sandbox");return To.isOpen(K)?(To.close(K),I.some(!0)):I.none()},onUp:(U,K)=>(p(U,K,Lo.highlightLast),I.some(!0)),onEnter:U=>{const K=rr.getCoupled(U,"sandbox"),ee=To.isOpen(K);if(ee&&!t.previewing.get())return k(K).bind(ae=>Lo.getHighlighted(ae)).map(ae=>(bn(U,o4(),{item:ae}),!0));{const ae=zt.getValue(U);return Zo(U,Ow()),t.onExecute(K,U,ae),ee&&To.close(K),I.some(!0)}}}),ao.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),rr.config({others:{sandbox:U=>nM(t,U,{onOpen:()=>ao.on(U),onClose:()=>{t.lazyTypeaheadComp.get().each(K=>lr(K.element,"aria-activedescendant")),ao.off(U)}})}}),eo(D,[js(U=>{t.lazyTypeaheadComp.set(I.some(U))}),Wa(U=>{t.lazyTypeaheadComp.set(I.none())}),yd(U=>{const K=q;tM(t,C(U),U,d,K,rl.HighlightMenuAndItem).get(q)}),mt(o4(),(U,K)=>{const ee=rr.getCoupled(U,"sandbox");Lk(t.model,U,K.event.item),Zo(U,Ow()),t.onItemExecute(U,ee,K.event.item,zt.getValue(U)),To.close(ee),Fk(U)})].concat(t.dismissOnBlur?[mt(zg(),U=>{const K=rr.getCoupled(U,"sandbox");Mu(K.element).isNone()&&To.close(K)})]:[]))],F={[Qf()]:[zt.name(),Ik.name(),D],...t.eventOrder};return{uid:t.uid,dom:nI(Es(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Or(t.typeaheadBehaviours,B)},eventOrder:F}},RZ=J([jo("lazySink"),rt("fetch"),He("minChars",5),He("responseTime",1e3),ho("onOpen"),He("getHotspot",I.some),He("getAnchorOverrides",J({})),He("layouts",I.none()),He("eventOrder",{}),rf("model",{},[He("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),He("selectsOver",!0),He("populateFromBrowse",!0)]),ho("onSetValue"),tl("onExecute"),ho("onItemExecute"),He("inputClasses",[]),He("inputAttributes",{}),He("inputStyles",{}),He("matchWidth",!0),He("useMinWidth",!1),He("dismissOnBlur",!0),Ap(["openClass"]),jo("initialData"),ci("typeaheadBehaviours",[Rn,zt,Ik,_n,ao,rr]),Ca("lazyTypeaheadComp",()=>xn(I.none)),Ca("previewing",()=>xn(!0))].concat(eI()).concat(oM())),OF=J([Bu({schema:[mf()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,c,d)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(p=>{NZ(t.model,p,d).fold(()=>{t.model.selectsOver?(Lo.dehighlight(c,d),t.previewing.set(!0)):t.previewing.set(!1)},v=>{v(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(p=>{t.model.populateFromBrowse&&Lk(t.model,p,d),yr(d.element,"id").each(v=>Gn(p.element,"aria-activedescendant",v))})},onExecute:(s,c)=>t.lazyTypeaheadComp.get().map(d=>(bn(d,o4(),{item:c}),!0)),onHover:(s,c)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&Lk(t.model,d,c)})}})})]),MZ=li({name:"Typeahead",configFields:RZ(),partFields:OF(),factory:AF}),Md=t=>({...t,toCached:()=>Md(t.toCached()),bindFuture:D=>Md(t.bind(B=>B.fold(F=>fa.pure(un.error(F)),F=>D(F)))),bindResult:D=>Md(t.map(B=>B.bind(D))),mapResult:D=>Md(t.map(B=>B.map(D))),mapError:D=>Md(t.map(B=>B.mapError(D))),foldResult:(D,B)=>t.map(F=>F.fold(D,B)),withTimeout:(D,B)=>Md(fa.nu(F=>{let U=!1;const K=setTimeout(()=>{U=!0,F(un.error(B()))},D);t.get(ee=>{U||(clearTimeout(K),F(ee))})}))}),DF=t=>Md(fa.nu(t)),NF=t=>Md(fa.pure(un.value(t))),PZ={nu:DF,wrap:Md,pure:NF,value:NF,error:t=>Md(fa.pure(un.error(t))),fromResult:t=>Md(fa.pure(t)),fromFuture:t=>Md(t.map(un.value)),fromPromise:t=>DF(s=>{t.then(c=>{s(un.value(c))},c=>{s(un.error(c))})})},iE=(t,s,c=[],d,p,v)=>{const C=s.fold(()=>({}),B=>({action:B})),k={buttonBehaviours:Dt([wf.button(()=>!t.enabled||v.isDisabled()),wi(),Er.config({}),eo("button press",[$1("click"),$1("mousedown")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...C},D=Es(k,{dom:d});return Es(D,{components:p})},BZ=(t,s,c,d=[])=>{const p=t.tooltip.map(D=>({"aria-label":c.translate(D),title:c.translate(D)})).getOr({}),v={tag:"button",classes:["tox-tbtn"],attributes:p},C=t.icon.map(D=>Tk(D,c.icons)),k=f_([C]);return iE(t,s,d,v,k,c)},s4=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},RF=(t,s,c,d=[],p=[])=>{const v=c.translate(t.text),C=t.icon.map(K=>Tk(K,c.icons)),k=[C.getOrThunk(()=>Ar(v))],D=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),U={tag:"button",classes:[...s4(D),...C.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...p],attributes:{title:v}};return iE(t,s,d,U,k,c)},r4=(t,s,c,d=[],p=[])=>{const v=RF(t,I.some(s),c,d,p);return Aa.sketch(v)},MF=(t,s)=>c=>{s==="custom"?bn(c,Ih,{name:t,value:{}}):s==="submit"?Zo(c,__):s==="cancel"?Zo(c,ig):console.error("Unknown button type: ",s)},IZ=(t,s)=>s==="menu",LZ=(t,s)=>s==="custom"||s==="cancel"||s==="submit",$F=(t,s)=>s==="togglebutton",PF=(t,s)=>{var c,d;const p=t.icon.map(De=>lg(De,s.icons)).map(os),v=De=>{bn(De,Ih,{name:t.name,value:{setIcon:ft=>{p.map(Xe=>Xe.getOpt(De).each(Nt=>{Vn.set(Nt,[lg(ft,s.icons)])}))}}})},C=t.buttonType.getOr(t.primary?"primary":"secondary"),k={...t,name:(c=t.name)!==null&&c!==void 0?c:"",primary:C==="primary",tooltip:I.from(t.tooltip),enabled:(d=t.enabled)!==null&&d!==void 0?d:!1,borderless:!1},D=k.tooltip.map(De=>({"aria-label":s.translate(De),title:s.translate(De)})).getOr({}),B=s4(C??"secondary"),F=t.icon.isSome()&&t.text.isSome(),U={tag:"button",classes:[...B.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...F?["tox-button--icon-and-text"]:[]],attributes:D},K=[],ee=s.translate(t.text.getOr("")),ae=Ar(ee),Fe=[...f_([p.map(De=>De.asSpec())]),...t.text.isSome()?[ae]:[]],$e=iE(k,I.some(v),K,U,Fe,s);return Aa.sketch($e)},aE=(t,s,c)=>{if(IZ(t,s)){const d=()=>C,p=t,v={...t,type:"menubutton",search:I.none(),onSetup:k=>(k.setEnabled(t.enabled),q),fetch:t4(p.items,d,c)},C=os(rE(v,"tox-tbtn",c,I.none()));return C.asSpec()}else if(LZ(t,s)){const d=MF(t.name,s),p={...t,borderless:!1};return r4(p,d,c.shared.providers,[])}else{if($F(t,s))return PF(t,c.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},Hk=(t,s)=>{const c=MF(t.name,"custom");return UL(I.none(),ss.parts.field({factory:Aa,...RF(t,I.some(c),s,[_k(""),Ef.self()])}))},FZ={type:"separator"},HZ=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:q}),i4=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:q}),VZ=t=>at(t,HZ),BF=(t,s)=>_o(s,c=>c.type===t),a4=(t,s)=>VZ(BF(t,s)),zZ=t=>a4("header",t.targets),WZ=t=>a4("anchor",t.targets),IF=t=>I.from(t.anchorTop).map(s=>i4("<top>",s)).toArray(),UZ=t=>I.from(t.anchorBottom).map(s=>i4("<bottom>",s)).toArray(),jZ=t=>at(t,s=>i4(s,s)),co=t=>we(t,(s,c)=>s.length===0||c.length===0?s.concat(c):s.concat(FZ,c),[]),qv=(t,s)=>{const c=t.toLowerCase();return _o(s,d=>{var p;const v=d.meta!==void 0&&d.meta.text!==void 0?d.meta.text:d.text,C=(p=d.value)!==null&&p!==void 0?p:"";return zr(v.toLowerCase(),c)||zr(C.toLowerCase(),c)})},LF=(t,s,c)=>{var d,p;const v=zt.getValue(s),C=(p=(d=v==null?void 0:v.meta)===null||d===void 0?void 0:d.text)!==null&&p!==void 0?p:v.value;return c.getLinkInformation().fold(()=>[],D=>{const B=qv(C,jZ(c.getHistory(t)));return t==="file"?co([B,qv(C,zZ(D)),qv(C,Ye([IF(D),WZ(D),UZ(D)]))]):B})},c4=Gt("aria-invalid"),FF=(t,s,c,d)=>{const p=s.shared.providers,v=De=>{const ft=zt.getValue(De);c.addToHistory(ft.value,t.filetype)},C={...d.map(De=>({initialData:De})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":c4,type:"url"},minChars:0,responseTime:0,fetch:De=>{const ft=LF(t.filetype,De,c),Xe=qb(ft,_m.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:I.none()});return fa.pure(Xe)},getHotspot:De=>ae.getOpt(De),onSetValue:(De,ft)=>{De.hasConfigured(Lh)&&Lh.run(De).get(q)},typeaheadBehaviours:Dt([...c.getValidationHandler().map(De=>Lh.config({getRoot:ft=>Ai(ft.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ft,Xe)=>{F.getOpt(ft).each(Nt=>{Gn(Nt.element,"title",p.translate(Xe))})}},validator:{validate:ft=>{const Xe=zt.getValue(ft);return PZ.nu(Nt=>{De({type:t.filetype,url:Xe.value},_t=>{if(_t.status==="invalid"){const Pt=un.error(_t.message);Nt(Pt)}else{const Pt=un.value(_t.message);Nt(Pt)}})})},validateOnLoad:!1}})).toArray(),On.config({disabled:()=>!t.enabled||p.isDisabled()}),Er.config({}),eo("urlinput-events",[mt(ph(),De=>{const ft=cc(De.element),Xe=ft.trim();Xe!==ft&&xl(De.element,Xe),t.filetype==="file"&&bn(De,Rl,{name:t.name})}),mt(Vg(),De=>{bn(De,Rl,{name:t.name}),v(De)}),mt(bd(),De=>{bn(De,Rl,{name:t.name}),v(De)})])]),eventOrder:{[ph()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:De=>De.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:RT(!1,1,"normal")},onExecute:(De,ft,Xe)=>{bn(ft,__,{})},onItemExecute:(De,ft,Xe,Nt)=>{v(De),bn(De,Rl,{name:t.name})}},k=ss.parts.field({...C,factory:MZ}),D=t.label.map(De=>Fb(De,p)),F=os(((De,ft,Xe=De,Nt=De)=>Hu(Xe,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+De],attributes:{title:p.translate(Nt),"aria-live":"polite",...ft.fold(()=>({}),_t=>({id:_t}))}},p.icons))("invalid",I.some(c4),"warning")),U=os({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[F.asSpec()]}),K=c.getUrlPicker(t.filetype),ee=Gt("browser.url.event"),ae=os({dom:{tag:"div",classes:["tox-control-wrap"]},components:[k,U.asSpec()],behaviours:Dt([On.config({disabled:()=>!t.enabled||p.isDisabled()})])}),be=os(r4({name:t.name,icon:I.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:I.none(),borderless:!0},De=>Zo(De,ee),p,[],["tox-browse-url"])),Fe=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ye([[ae.asSpec()],K.map(()=>be.asSpec()).toArray()])}),$e=De=>{So.getCurrent(De).each(ft=>{const Xe=zt.getValue(ft),Nt={fieldname:t.name,...Xe};K.each(_t=>{_t(Nt).get(Pt=>{zt.setValue(ft,Pt),bn(De,Rl,{name:t.name})})})})};return ss.sketch({dom:FU(),components:D.toArray().concat([Fe()]),fieldBehaviours:Dt([On.config({disabled:()=>!t.enabled||p.isDisabled(),onDisabled:De=>{ss.getField(De).each(On.disable),be.getOpt(De).each(On.disable)},onEnabled:De=>{ss.getField(De).each(On.enable),be.getOpt(De).each(On.enable)}}),wi(),eo("url-input-events",[mt(ee,$e)])])})},HF=(t,s)=>{const c=Fu(t.icon,s.icons);return xm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:c},components:t.url?[Aa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:c,attributes:{title:s.translate(t.iconTooltip)}},action:d=>bn(d,Ih,{name:"alert-banner",value:t.url}),buttonBehaviours:Dt([wT()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},VF=(t,s)=>{t.dom.checked=s},hne=t=>t.dom.checked,cE=(t,s,c)=>{const d=D=>(D.element.dom.click(),I.some(!0)),p=ss.parts.field({factory:{sketch:Te},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Dt([Ef.self(),On.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:D=>{Ai(D.element).each(B=>Kr(B,"tox-checkbox--disabled"))},onEnabled:D=>{Ai(D.element).each(B=>zo(B,"tox-checkbox--disabled"))}}),Er.config({}),Rn.config({}),LM(c,hne,VF),_n.config({mode:"special",onEnter:d,onSpace:d,stopSpaceKeyup:!0}),eo("checkbox-events",[mt(Vg(),(D,B)=>{bn(D,Rl,{name:t.name})})])])}),v=ss.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ar(s.translate(t.label))],behaviours:Dt([ZS.config({})])}),C=D=>Hu(D==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+D]},s.icons),k=os({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return ss.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[p,k.asSpec(),v],fieldBehaviours:Dt([On.config({disabled:()=>!t.enabled||s.isDisabled()}),wi()])})},ZZ=t=>t.presets==="presentation"?xm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):xm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Dt([Er.config({}),Rn.config({})])}),Si=t=>(s,c,d,p)=>Mt(c,"name").fold(()=>t(c,p,I.none()),v=>s.field(v,t(c,p,Mt(d,v)))),KZ=t=>(s,c,d,p)=>{const v=Es(c,{source:"dynamic"});return Si(t)(s,v,d,p)},qZ={bar:Si((t,s)=>MU(t,s.shared)),collection:Si((t,s,c)=>HU(t,s.shared.providers,c)),alertbanner:Si((t,s)=>HF(t,s.shared.providers)),input:Si((t,s,c)=>hZ(t,s.shared.providers,c)),textarea:Si((t,s,c)=>JM(t,s.shared.providers,c)),label:Si((t,s)=>tZ(t,s.shared)),iframe:KZ((t,s,c)=>xk(t,s.shared.providers,c)),button:Si((t,s)=>Hk(t,s.shared.providers)),checkbox:Si((t,s,c)=>cE(t,s.shared.providers,c)),colorinput:Si((t,s,c)=>ZU(t,s.shared,s.colorinput,c)),colorpicker:Si((t,s,c)=>Kj(t,s.shared.providers,c)),dropzone:Si((t,s,c)=>il(t,s.shared.providers,c)),grid:Si((t,s)=>V5(t,s.shared)),listbox:Si((t,s,c)=>GM(t,s,c)),selectbox:Si((t,s,c)=>rF(t,s.shared.providers,c)),sizeinput:Si((t,s)=>mZ(t,s.shared.providers)),slider:Si((t,s,c)=>lF(t,s.shared.providers,c)),urlinput:Si((t,s,c)=>FF(t,s,s.urlinput,c)),customeditor:Si(F5),htmlpanel:Si(ZZ),imagepreview:Si((t,s,c)=>G5(t,c)),table:Si((t,s)=>uF(t,s.shared.providers)),tree:Si((t,s)=>SF(t,s)),panel:Si((t,s)=>oF(t,s))},GZ={field:(t,s)=>s,record:J([])},l4=(t,s,c,d)=>{const p=Es(d,{shared:{interpreter:v=>lE(t,v,c,p)}});return lE(t,s,c,p)},lE=(t,s,c,d)=>Mt(qZ,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),p=>p(t,s,c,d)),u4=(t,s,c)=>lE(GZ,t,s,c),Gb="layout-inset",d4=t=>t.x,zF=(t,s)=>t.x+t.width/2-s.width/2,f4=(t,s)=>t.x+t.width-s.width,m4=t=>t.y,Vk=(t,s)=>t.y+t.height-s.height,WF=(t,s)=>t.y+t.height/2-s.height/2,zk=(t,s,c)=>sr(f4(t,s),Vk(t,s),c.insetSouthwest(),U1(),"southwest",Ds(t,{right:0,bottom:3}),Gb),Wk=(t,s,c)=>sr(d4(t),Vk(t,s),c.insetSoutheast(),Sh(),"southeast",Ds(t,{left:1,bottom:3}),Gb),uE=(t,s,c)=>sr(f4(t,s),m4(t),c.insetNorthwest(),ry(),"northwest",Ds(t,{right:0,top:2}),Gb),dE=(t,s,c)=>sr(d4(t),m4(t),c.insetNortheast(),sy(),"northeast",Ds(t,{left:1,top:2}),Gb),xf=(t,s,c)=>sr(zF(t,s),m4(t),c.insetNorth(),Qw(),"north",Ds(t,{top:2}),Gb),fE=(t,s,c)=>sr(zF(t,s),Vk(t,s),c.insetSouth(),iy(),"south",Ds(t,{bottom:3}),Gb),UF=(t,s,c)=>sr(f4(t,s),WF(t,s),c.insetEast(),U2(),"east",Ds(t,{right:0}),Gb),jF=(t,s,c)=>sr(d4(t),WF(t,s),c.insetWest(),W2(),"west",Ds(t,{left:1}),Gb),YZ=t=>{switch(t){case"north":return xf;case"northeast":return dE;case"northwest":return uE;case"south":return fE;case"southeast":return Wk;case"southwest":return zk;case"east":return UF;case"west":return jF}},ZF=(t,s,c,d,p)=>ox(d).map(YZ).getOr(xf)(t,s,c,d,p),KF=t=>{switch(t){case"north":return fE;case"northeast":return Wk;case"northwest":return zk;case"south":return xf;case"southeast":return dE;case"southwest":return uE;case"east":return jF;case"west":return UF}},XZ=(t,s,c,d,p)=>ox(d).map(KF).getOr(xf)(t,s,c,d,p),mE={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},JZ=(t,s,c)=>{const p={maxHeightFunction:Np()},v=()=>({type:"node",root:Qe(Ne(t())),node:I.from(t()),bubble:cm(12,12,mE),layouts:{onRtl:()=>[dE],onLtr:()=>[uE]},overrides:p}),C=()=>({type:"hotspot",hotspot:s(),bubble:cm(-12,12,mE),layouts:{onRtl:()=>[$i,gi,ai],onLtr:()=>[gi,$i,ai]},overrides:p});return()=>c()?v():C()},QZ=(t,s,c,d)=>{const v={maxHeightFunction:Np()},C=()=>({type:"node",root:Qe(Ne(s())),node:I.from(s()),bubble:cm(12,12,mE),layouts:{onRtl:()=>[xf],onLtr:()=>[xf]},overrides:v}),k=()=>t?{type:"node",root:Qe(Ne(s())),node:I.from(s()),bubble:cm(0,-Su(s()),mE),layouts:{onRtl:()=>[Bs],onLtr:()=>[Bs]},overrides:v}:{type:"hotspot",hotspot:c(),bubble:cm(0,0,mE),layouts:{onRtl:()=>[Bs],onLtr:()=>[Bs]},overrides:v};return()=>d()?C():k()},eK=(t,s,c)=>{const d=()=>({type:"node",root:Qe(Ne(t())),node:I.from(t()),layouts:{onRtl:()=>[xf],onLtr:()=>[xf]}}),p=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[ai],onLtr:()=>[ai]}});return()=>c()?d():p()},tK=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const c=t.selection.getRng(),d=t.model.table.getSelectedCells();if(d.length>1){const p=d[0],v=d[d.length-1],C={firstCell:Ie.fromDom(p),lastCell:Ie.fromDom(v)};return I.some(C)}return I.some(sv.range(Ie.fromDom(c.startContainer),c.startOffset,Ie.fromDom(c.endContainer),c.endOffset))}}),qF=t=>s=>({type:"node",root:t(),node:s}),nK=(t,s,c,d)=>{const p=o_(t),v=()=>Ie.fromDom(t.getBody()),C=()=>Ie.fromDom(t.getContentAreaContainer()),k=()=>p||!d();return{inlineDialog:JZ(C,s,k),inlineBottomDialog:QZ(t.inline,C,c,k),banner:eK(C,s,k),cursor:tK(t,v),node:qF(v)}},GF=t=>(s,c)=>{CL(t)(s,c)},oK=t=>()=>mL(t),YF=t=>s=>b_(t,s),XF=t=>s=>fL(t,s),JF=t=>({colorPicker:GF(t),hasCustomColors:oK(t),getColors:YF(t),getColorCols:XF(t)}),sK=t=>()=>HB(t),QF=t=>({isDraggableModal:sK(t)}),eH=t=>{const s=xn(yS(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},tH=t=>Ei(t,"items"),h4=t=>Ei(t,"format"),nH=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],rK=t=>xo(t,"items"),Om=t=>xo(t,"block"),Uk=t=>xo(t,"inline"),jk=t=>xo(t,"selector"),oH=t=>we(t,(s,c)=>{if(rK(c)){const d=oH(c.items);return{customFormats:s.customFormats.concat(d.customFormats),formats:s.formats.concat([{title:c.title,items:d.formats}])}}else if(Uk(c)||Om(c)||jk(c)){const p=`custom-${A(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:p,format:c}]),formats:s.formats.concat([{title:c.title,format:p,icon:c.icon}])}}else return{...s,formats:s.formats.concat(c)}},{customFormats:[],formats:[]}),p4=(t,s)=>{const c=oH(s),d=p=>{wt(p,v=>{t.formatter.has(v.name)||t.formatter.register(v.name,v.format)})};return t.formatter?d(c.customFormats):t.on("init",()=>{d(c.customFormats)}),c.formats},sH=t=>MB(t).map(s=>{const c=p4(t,s);return xT(t)?nH.concat(c):c}).getOr(nH),g4=t=>{const s=uo(t);return s.length===1&&mo(s,"title")},b4=(t,s,c)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:c(t.format)}),Zk=(t,s,c,d)=>{const p=D=>b4(D,c,d),v=D=>{const B=k(D.items);return{...D,type:"submenu",getStyleItems:J(B)}},C=D=>{const B=A(D.name)?D.name:Gt(D.title),F=`custom-${B}`,U={...D,type:"formatter",format:F,isSelected:c(F),getStylePreview:d(F)};return t.formatter.register(B,U),U},k=D=>at(D,B=>tH(B)?v(B):h4(B)?p(B):g4(B)?{...B,type:"separator"}:C(B));return k(s)},iK=t=>{const s=k=>()=>t.formatter.match(k),c=k=>()=>{const D=t.formatter.get(k);return D!==void 0?I.some({tag:D.length>0&&(D[0].inline||D[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(k))}):I.none()},d=xn([]),p=xn([]),v=xn(!1);return t.on("PreInit",k=>{const D=sH(t),B=Zk(t,D,s,c);d.set(B)}),t.on("addStyleModifications",k=>{const D=Zk(t,k.items,s,c);p.set(D),v.set(k.replace)}),{getData:()=>{const k=v.get()?[]:d.get(),D=p.get();return k.concat(D)}}},rH=t=>ve(t)&&t.nodeType===1,iH=Tm.trim,Kk=t=>s=>!!(rH(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),aK=Kk("true"),cK=Kk("false"),v4=(t,s,c,d,p)=>({type:t,title:s,url:c,level:d,attach:p}),lK=t=>{let s=t;for(;s=s.parentNode;){const c=s.contentEditable;if(c&&c!=="inherit")return aK(s)}return!1},uK=(t,s)=>at(mc(Ie.fromDom(s),t),c=>c.dom),y4=t=>t.innerText||t.textContent,aH=t=>t.id?t.id:Gt("h"),dK=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,fK=t=>dK(t)&&lH(t),cH=t=>t&&/^(H[1-6])$/.test(t.nodeName),lH=t=>lK(t)&&!cK(t),uH=t=>cH(t)&&lH(t),Dm=t=>cH(t)?parseInt(t.nodeName.substr(1),10):0,_4=t=>{var s;const c=aH(t),d=()=>{t.id=c};return v4("header",(s=y4(t))!==null&&s!==void 0?s:"","#"+c,Dm(t),d)},mK=t=>{const s=t.id||t.name,c=y4(t);return v4("anchor",c||"#"+s,"#"+s,0,q)},hK=t=>at(_o(t,uH),_4),pK=t=>at(_o(t,fK),mK),gK=t=>uK("h1,h2,h3,h4,h5,h6,a:not([href])",t),bK=t=>iH(t.title).length>0,dH={find:t=>{const s=gK(t);return _o(hK(s).concat(pK(s)),bK)}},w4="tinymce-url-history",yK=5,Oa=t=>A(t)&&/^https?/.test(t),C4=t=>j(t)&&t.length<=yK&&Jt(t,Oa),fH=t=>R(t)&&Hs(t,s=>!C4(s)).isNone(),hE=()=>{const t=Lb.getItem(w4);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+w4+" was not valid JSON",c),{};throw c}return fH(s)?s:(console.log("Local storage "+w4+" was not valid format",s),{})},_K=t=>{if(!fH(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Lb.setItem(w4,JSON.stringify(t))},wK=t=>{const s=hE();return Mt(s,t).getOr([])},CK=(t,s)=>{if(!Oa(t))return;const c=hE(),d=Mt(c,s).getOr([]),p=_o(d,v=>v!==t);c[s]=[t].concat(p).slice(0,yK),_K(c)},mH=t=>!!t,SK=t=>qo(Tm.makeMap(t,/[, ]/),mH),S4=t=>I.from(sR(t)),EK=t=>{const s=I.from(kT(t)).filter(mH).map(SK);return S4(t).fold(vt,c=>s.fold(xt,d=>uo(d).length>0?d:!1))},xK=(t,s)=>{const c=EK(t);return le(c)?c?S4(t):I.none():c[s]?S4(t):I.none()},hH=(t,s)=>xK(t,s).map(c=>d=>fa.nu(p=>{const v=(k,D)=>{if(!A(k))throw new Error("Expected value to be string");if(D!==void 0&&!R(D))throw new Error("Expected meta to be a object");p({value:k,meta:D})},C={filetype:s,fieldname:d.fieldname,...I.from(d.meta).getOr({})};c.call(t,v,d.value,C)})),pE=t=>I.from(t).filter(A).getOrUndefined(),TK=t=>IB(t)?I.some({targets:dH.find(t.getBody()),anchorTop:pE(LB(t)),anchorBottom:pE(FB(t))}):I.none(),pH=t=>I.from(rR(t)),kK=t=>({getHistory:wK,addToHistory:CK,getLinkInformation:()=>TK(t),getValidationHandler:()=>pH(t),getUrlPicker:s=>hH(t,s)}),gH=(t,s,c,d)=>{const p=xn(!1),v=eH(s),C={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:bc.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},k=kK(s),D=iK(s),B=JF(s),F=QF(s),U=()=>p.get(),K=Fe=>p.set(Fe),ee={shared:{providers:C,anchors:nK(s,c,d,v.isPositionedAtTop),header:v},urlinput:k,styles:D,colorinput:B,dialog:F,isContextMenuOpen:U,setContextMenuState:K},ae={...ee,shared:{...ee.shared,interpreter:Fe=>u4(Fe,{},ae),getSink:t.popup}},be={...ee,shared:{...ee.shared,interpreter:Fe=>u4(Fe,{},be),getSink:t.dialog}};return{popup:ae,dialog:be}},AK=(t,s,c)=>{const d=(_t,Pt)=>{wt([s,...c],Kt=>{Kt.broadcastEvent(_t,Pt)})},p=(_t,Pt)=>{wt([s,...c],Kt=>{Kt.broadcastOn([_t],Pt)})},v=_t=>p(mm(),{target:_t.target}),C=cp(),k=fc(C,"touchstart",v),D=fc(C,"touchmove",_t=>d(Ug(),_t)),B=fc(C,"touchend",_t=>d(Dw(),_t)),F=fc(C,"mousedown",v),U=fc(C,"mouseup",_t=>{_t.raw.button===0&&p(Ay(),{target:_t.target})}),K=_t=>p(mm(),{target:Ie.fromDom(_t.target)}),ee=_t=>{_t.button===0&&p(Ay(),{target:Ie.fromDom(_t.target)})},ae=()=>{wt(t.editorManager.get(),_t=>{t!==_t&&_t.dispatch("DismissPopups",{relatedTarget:t})})},be=_t=>d(yp(),Y1(_t)),Fe=_t=>{p(Hp(),{}),d(Jf(),Y1(_t))},$e=Ne(Ie.fromDom(t.getElement())),De=Dp($e,"scroll",_t=>{requestAnimationFrame(()=>{const Pt=t.getContainer();if(Pt!=null){const bo=Fv(t,s.element).map(mn=>[mn.element,...mn.others]).getOr([]);ks(bo,mn=>es(mn,_t.target))&&(t.dispatch("ElementScroll",{target:_t.target.dom}),d(R0(),_t))}})}),ft=()=>p(Hp(),{}),Xe=_t=>{_t.state&&p(mm(),{target:Ie.fromDom(t.getContainer())})},Nt=_t=>{p(mm(),{target:Ie.fromDom(_t.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",K),t.on("tap",K),t.on("mouseup",ee),t.on("mousedown",ae),t.on("ScrollWindow",be),t.on("ResizeWindow",Fe),t.on("ResizeEditor",ft),t.on("AfterProgressState",Xe),t.on("DismissPopups",Nt)}),t.on("remove",()=>{t.off("click",K),t.off("tap",K),t.off("mouseup",ee),t.off("mousedown",ae),t.off("ScrollWindow",be),t.off("ResizeWindow",Fe),t.off("ResizeEditor",ft),t.off("AfterProgressState",Xe),t.off("DismissPopups",Nt),F.unbind(),k.unbind(),D.unbind(),B.unbind(),U.unbind(),De.unbind()}),t.on("detach",()=>{wt([s,...c],Nx),wt([s,...c],_t=>_t.destroy())})},ta=YC,Nm=mN,pne=J([He("shell",!1),rt("makeItem"),He("setupItem",q),ou.field("listBehaviours",[Vn])]),OK=su({name:"items",overrides:()=>({behaviours:Dt([Vn.config({})])})}),DK=J([OK]),NK=J("CustomList"),bH=(t,s,c,d)=>{const p=(k,D)=>{C(k).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},B=>{const F=Vn.contents(B),U=D.length,K=U-F.length,ee=K>0?so(K,()=>t.makeItem()):[],ae=F.slice(U);wt(ae,Fe=>Vn.remove(B,Fe)),wt(ee,Fe=>Vn.append(B,Fe));const be=Vn.contents(B);wt(be,(Fe,$e)=>{t.setupItem(k,Fe,D[$e],$e)})})},v=t.shell?{behaviours:[Vn.config({})],components:[]}:{behaviours:[],components:s},C=k=>t.shell?I.some(k):vs(k,t,"items");return{uid:t.uid,dom:t.dom,components:v.components,behaviours:Or(t.listBehaviours,v.behaviours),apis:{setItems:p}}},qk=li({name:NK(),configFields:pne(),partFields:DK(),factory:bH,apis:{setItems:(t,s,c)=>{t.setItems(s,c)}}}),T_=J([rt("dom"),He("shell",!0),ci("toolbarBehaviours",[Vn])]),vH=J([su({name:"groups",overrides:()=>({behaviours:Dt([Vn.config({})])})})]),RK=(t,s,c,d)=>{const p=(k,D)=>{v(k).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},B=>{Vn.set(B,D)})},v=k=>t.shell?I.some(k):vs(k,t,"groups"),C=t.shell?{behaviours:[Vn.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:C.components,behaviours:Or(t.toolbarBehaviours,C.behaviours),apis:{setGroups:p},domModification:{attributes:{role:"group"}}}},Rm=li({name:"Toolbar",configFields:T_(),partFields:vH(),factory:RK,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)}}}),MK=q,$K=vt,Gk=J([]);var yH=Object.freeze({__proto__:null,setup:MK,isDocked:$K,getBehaviours:Gk});const E4=t=>(xi(Pr(t,"position"),"fixed")?I.none():Ud(t)).orThunk(()=>{const d=Ie.fromTag("span");return oa(t).bind(p=>{Ia(p,d);const v=Ud(d);return La(d),v})}),_H=t=>E4(t).map(Ui).getOrThunk(()=>zs(0,0)),PK=(t,s)=>{const c=t.element;Kr(c,s.transitionClass),zo(c,s.fadeOutClass),Kr(c,s.fadeInClass),s.onShow(t)},BK=(t,s)=>{const c=t.element;Kr(c,s.transitionClass),zo(c,s.fadeInClass),Kr(c,s.fadeOutClass),s.onHide(t)},wH=(t,s)=>t.y<s.bottom&&t.bottom>s.y,CH=(t,s)=>t.y>=s.y,gE=(t,s)=>t.bottom<=s.bottom,x4=(t,s,c)=>({location:"top",leftX:s,topY:c.bounds.y-t.y}),k_=(t,s,c)=>({location:"bottom",leftX:s,bottomY:t.bottom-c.bounds.bottom}),T4=t=>t.box.x-t.win.x,k4=(t,s,c)=>{const d=s.win,p=s.box,v=T4(s);return Qn(t,C=>{switch(C){case"bottom":return gE(p,c.bounds)?I.none():I.some(k_(d,v,c));case"top":return CH(p,c.bounds)?I.none():I.some(x4(d,v,c));default:return I.none()}}).getOr({location:"no-dock"})},bE=(t,s,c)=>Jt(t,d=>{switch(d){case"bottom":return gE(s,c.bounds);case"top":return CH(s,c.bounds)}}),SH=(t,s)=>{const c=s.optScrollEnv.fold(J(t.bounds.y),d=>d.scrollElmTop+(t.bounds.y-d.currentScrollTop));return zs(t.bounds.x,c)},IK=(t,s)=>{const c=s.optScrollEnv.fold(J(t.y),d=>t.y+d.currentScrollTop-d.scrollElmTop);return zs(t.x,c)},Yk=(t,s,c)=>c.getInitialPos().map(d=>{const p=SH(d,s);return{box:P(p.left,p.top,Wr(t),Gs(t)),location:d.location}}),A4=(t,s,c,d,p)=>{const v=IK(s,c),C=P(v.left,v.top,s.width,s.height);d.setInitialPos({style:Wi(t),position:gt(t,"position")||"static",bounds:C,location:p.location})},EH=(t,s,c,d,p)=>{d.getInitialPos().fold(()=>A4(t,s,c,d,p),()=>q)},xH=(t,s,c)=>c.getInitialPos().bind(d=>{var p;switch(c.clearInitialPos(),d.position){case"static":return I.some({morph:"static"});case"absolute":const v=E4(t).getOr($o()),C=z(v),k=(p=v.dom.scrollTop)!==null&&p!==void 0?p:0;return I.some({morph:"absolute",positionCss:nl("absolute",Mt(d.style,"left").map(D=>s.x-C.x),Mt(d.style,"top").map(D=>s.y-C.y+k),Mt(d.style,"right").map(D=>C.right-s.right),Mt(d.style,"bottom").map(D=>C.bottom-s.bottom))});default:return I.none()}}),O4=(t,s,c)=>Yk(t,s,c).filter(({box:d})=>bE(c.getModes(),d,s)).bind(({box:d})=>xH(t,d,c)),A_=t=>{switch(t.location){case"top":return I.some({morph:"fixed",positionCss:nl("fixed",I.some(t.leftX),I.some(t.topY),I.none(),I.none())});case"bottom":return I.some({morph:"fixed",positionCss:nl("fixed",I.some(t.leftX),I.none(),I.none(),I.some(t.bottomY))});default:return I.none()}},LK=(t,s,c)=>{const d=z(t),p=Ct(),v=k4(c.getModes(),{win:p,box:d},s);return v.location==="top"||v.location==="bottom"?(A4(t,d,s,c,v),A_(v)):I.none()},FK=(t,s,c)=>O4(t,s,c).orThunk(()=>s.optScrollEnv.bind(d=>Yk(t,s,c)).bind(({box:d,location:p})=>{const v=Ct(),C=T4({win:v,box:d}),k=p==="top"?x4(v,C,s):k_(v,C,s);return A_(k)})),O_=(t,s,c)=>{const d=t.element;return xi(Pr(d,"position"),"fixed")?FK(d,s,c):LK(d,s,c)},TH=(t,s,c)=>{const d=t.element;return Yk(d,s,c).bind(({box:p})=>xH(d,p,c))},HK=(t,s,c,d)=>{const p=z(t),v=Ct(),C=T4({win:v,box:p}),k=d(v,C,s);return k.location==="bottom"||k.location==="top"?(EH(t,p,s,c,k),A_(k)):I.none()},D4=(t,s,c)=>{c.setDocked(!1),wt(["left","right","top","bottom","position"],d=>Co(t.element,d)),s.onUndocked(t)},vE=(t,s,c,d)=>{const p=d.position==="fixed";c.setDocked(p),cC(t.element,d),(p?s.onDocked:s.onUndocked)(t)},Xk=(t,s,c,d,p=!1)=>{s.contextual.each(v=>{v.lazyContext(t).each(C=>{const k=wH(C,d.bounds);k!==c.isVisible()&&(c.setVisible(k),p&&!k?(ff(t.element,[v.fadeOutClass]),v.onHide(t)):(k?PK:BK)(t,v))})})},kH=(t,s,c,d,p)=>{Xk(t,s,c,d,!0),vE(t,s,c,p.positionCss)},VK=(t,s,c,d,p)=>{switch(p.morph){case"static":return D4(t,s,c);case"absolute":return vE(t,s,c,p.positionCss);case"fixed":return kH(t,s,c,d,p)}},zK=(t,s,c)=>{const d=s.lazyViewport(t);Xk(t,s,c,d),O_(t,d,c).each(p=>{VK(t,s,c,d,p)})},N4=(t,s,c)=>{const d=t.element;c.setDocked(!1);const p=s.lazyViewport(t);TH(t,p,c).each(v=>{switch(v.morph){case"static":{D4(t,s,c);break}case"absolute":{vE(t,s,c,v.positionCss);break}}}),c.setVisible(!0),s.contextual.each(v=>{Ji(d,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),Jk(t,s,c)},Jk=(t,s,c)=>{t.getSystem().isConnected()&&zK(t,s,c)},AH=(t,s,c)=>{c.isDocked()&&N4(t,s,c)},OH=t=>(s,c,d)=>{const p=c.lazyViewport(s);HK(s.element,p,d,t).each(C=>{kH(s,c,d,p,C)})},WK=OH(x4),UK=OH(k_);var ZK=Object.freeze({__proto__:null,refresh:Jk,reset:AH,isDocked:(t,s,c)=>c.isDocked(),getModes:(t,s,c)=>c.getModes(),setModes:(t,s,c,d)=>c.setModes(d),forceDockToTop:WK,forceDockToBottom:UK}),KK=Object.freeze({__proto__:null,events:(t,s)=>Os([Gg(D1(),(c,d)=>{t.contextual.each(p=>{ac(c.element,p.transitionClass)&&(Ji(c.element,[p.transitionClass,p.fadeInClass]),(s.isVisible()?p.onShown:p.onHidden)(c)),d.stop()})}),mt(yp(),(c,d)=>{Jk(c,t,s)}),mt(R0(),(c,d)=>{Jk(c,t,s)}),mt(Jf(),(c,d)=>{AH(c,t,s)})])}),qK=[wr("contextual",[Zr("fadeInClass"),Zr("fadeOutClass"),Zr("transitionClass"),Dc("lazyContext"),ho("onShow"),ho("onShown"),ho("onHide"),ho("onHidden")]),dr("lazyViewport",()=>({bounds:Ct(),optScrollEnv:I.none()})),sf("modes",["top","bottom"],tr),ho("onDocked"),ho("onUndocked")],NH=Object.freeze({__proto__:null,init:t=>{const s=xn(!1),c=xn(!0),d=Ks(),p=xn(t.modes),v=()=>`docked:  ${s.get()}, visible: ${c.get()}, modes: ${p.get().join(",")}`;return Qc({isDocked:s.get,setDocked:s.set,getInitialPos:d.get,setInitialPos:d.set,clearInitialPos:d.clear,isVisible:c.get,setVisible:c.set,getModes:p.get,setModes:p.set,readState:v})}});const Fr=Qi({fields:qK,name:"docking",active:KK,apis:ZK,state:NH}),R4=J(Gt("toolbar-height-change")),zh={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},RH="tox-tinymce--toolbar-sticky-on",MH="tox-tinymce--toolbar-sticky-off",GK=(t,s)=>{const c=Vi(s),p=ya(s).dom.innerHeight,v=ia(c),C=Ie.fromDom(t.elm),k=te(C),D=Gs(C),B=k.y,F=B+D,U=Ui(s),K=Gs(s),ee=U.top,ae=ee+K,be=Math.abs(ee-v.top)<2,Fe=Math.abs(ae-(v.top+p))<2;if(be&&B<ae)ap(v.left,B-K,c);else if(Fe&&F>ee){const $e=B-p+D+K;ap(v.left,$e,c)}},eA=(t,s)=>mo(Fr.getModes(t),s),M4=t=>{const s=d=>Su(d)+(parseInt(gt(d,"margin-top"),10)||0)+(parseInt(gt(d,"margin-bottom"),10)||0),c=t.element;Ai(c).each(d=>{const p="padding-"+Fr.getModes(t)[0];if(Fr.isDocked(t)){const v=Wr(d);Bn(c,"width",v+"px"),Bn(d,p,s(c)+"px")}else Co(c,"width"),Co(d,p)})},$H=(t,s)=>{s?(zo(t,zh.fadeOutClass),ff(t,[zh.transitionClass,zh.fadeInClass])):(zo(t,zh.fadeInClass),ff(t,[zh.fadeOutClass,zh.transitionClass]))},$4=(t,s)=>{const c=Ie.fromDom(t.getContainer());s?(Kr(c,RH),zo(c,MH)):(Kr(c,MH),zo(c,RH))},tA=(t,s)=>{const c=Vi(s);pf(c).filter(d=>!es(s,d)).filter(d=>es(d,Ie.fromDom(c.dom.body))||Qr(t,d)).each(()=>Sr(s))},nA=(t,s)=>Mu(t).orThunk(()=>s().toOptional().bind(c=>Mu(c.element))),YK=(t,s,c)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{c().each(Fr.reset)}),t.on("ResizeWindow ResizeEditor",()=>{c().each(M4)}),t.on("SkinLoaded",()=>{c().each(d=>{Fr.isDocked(d)?Fr.reset(d):Fr.refresh(d)})}),t.on("FullscreenStateChanged",()=>{c().each(Fr.reset)})),t.on("AfterScrollIntoView",d=>{c().each(p=>{Fr.refresh(p);const v=p.element;Dr(v)&&GK(d,v)})}),t.on("PostRender",()=>{$4(t,!1)})},XK=t=>t().map(Fr.isDocked).getOr(!1),JK=()=>[uc.config({channels:{[R4()]:{onReceive:M4}}})],PH=(t,s)=>{const c=Ks(),d=s.getSink,p=k=>{d().each(D=>k(D.element))},v=k=>{t.inline||M4(k),$4(t,Fr.isDocked(k)),k.getSystem().broadcastOn([Hp()],{}),d().each(D=>D.getSystem().broadcastOn([Hp()],{}))},C=t.inline?[]:JK();return[Rn.config({}),Fr.config({contextual:{lazyContext:k=>{const D=Su(k.element),B=t.inline?t.getContentAreaContainer():t.getContainer();return I.from(B).map(F=>{const U=z(Ie.fromDom(F));return Fv(t,k.element).fold(()=>{const ee=U.height-D,ae=U.y+(eA(k,"top")?0:D);return P(U.x,ae,U.width,ee)},ee=>{const ae=Ce(U,lu(ee)),be=eA(k,"top")?ae.y:ae.y+D;return P(ae.x,be,ae.width,ae.height-D)})})},onShow:()=>{p(k=>$H(k,!0))},onShown:k=>{p(D=>Ji(D,[zh.transitionClass,zh.fadeInClass])),c.get().each(D=>{tA(k.element,D),c.clear()})},onHide:k=>{nA(k.element,d).fold(c.clear,c.set),p(D=>$H(D,!1))},onHidden:()=>{p(k=>Ji(k,[zh.transitionClass]))},...zh},lazyViewport:k=>Fv(t,k.element).fold(()=>{const B=Ct(),F=$B(t),U=B.y+(eA(k,"top")?F:0),K=B.height-(eA(k,"bottom")?F:0);return{bounds:P(B.x,U,B.width,K),optScrollEnv:I.none()}},B=>({bounds:lu(B),optScrollEnv:I.some({currentScrollTop:B.element.dom.scrollTop,scrollElmTop:Ui(B.element).top})})),modes:[s.header.getDockingMode()],onDocked:v,onUndocked:v}),...C]};var D_=Object.freeze({__proto__:null,setup:YK,isDocked:XK,getBehaviours:PH});const oA=t=>{const s=t.editor,c=t.sticky?PH:Gk;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Dt(c(s,t.sharedBackstage))}},P4=yn([Lr,Va("items",lh([mp([kS,Nc("items",tr)]),tr]))].concat(l_)),QK=t=>as("GroupToolbarButton",P4,t),eq=[Gi("text"),Gi("tooltip"),Gi("icon"),Yi("search",!1,lh([fh,yn([Gi("placeholder")])],t=>le(t)?t?I.some({placeholder:I.none()}):I.none():I.some(t))),Dc("fetch"),dr("onSetup",()=>q)],BH=yn([Lr,...eq]),IH=t=>as("menubutton",BH,t),tq=yn([Lr,c_,Vu,ng,_R,tW,$v,ca("presets","normal",["normal","color","listpreview"]),dI(1),i_,a_]),nq=t=>as("SplitButton",tq,t);var B4=qr({factory:(t,s)=>{const c=(p,v)=>{const C=at(v,k=>{const D={type:"menubutton",text:k.text,fetch:F=>{F(k.getItems())}},B=IH(D).mapError(F=>hh(F)).getOrDie();return rE(B,"tox-mbtn",s.backstage,I.some("menuitem"))});Vn.set(p,C)},d={focus:_n.focusIn,setMenus:c};return{uid:t.uid,dom:t.dom,components:[],behaviours:Dt([Vn.config({}),eo("menubar-events",[js(p=>{t.onSetup(p)}),mt(gd(),(p,v)=>{mr(p.element,".tox-mbtn--active").each(C=>{xa(v.event.target,".tox-mbtn").each(k=>{es(C,k)||p.getSystem().getByDom(C).each(D=>{p.getSystem().getByDom(k).each(B=>{zu.expand(B),zu.close(D),Rn.focus(B)})})})})}),mt(N0(),(p,v)=>{v.event.prevFocus.bind(C=>p.getSystem().getByDom(C).toOptional()).each(C=>{v.event.newFocus.bind(k=>p.getSystem().getByDom(k).toOptional()).each(k=>{zu.isOpen(C)&&(zu.expand(k),zu.close(C))})})})]),_n.config({mode:"flow",selector:".tox-mbtn",onEscape:p=>(t.onEscape(p),I.some(!0))}),Er.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[rt("dom"),rt("uid"),rt("onEscape"),rt("backstage"),He("onSetup",q)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,c)=>{t.setMenus(s,c)}}});const LH="Upgrade",FH="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",oq=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:FH,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:LH}}]}),HH="container",sA=[ci("slotBehaviours",[])],yE=t=>"<alloy.field."+t+">",sq=t=>{const s=(()=>{const v=[];return{slot:(k,D)=>(v.push(k),jp(HH,yE(k),D)),record:J(v)}})(),c=t(s),d=s.record(),p=at(d,v=>Bi({name:v,pname:yE(v)}));return zy(HH,sA,p,rq,c)},rq=(t,s)=>{const c=be=>Zx(t),d=(be,Fe)=>vs(be,t,Fe),p=(be,Fe)=>($e,De)=>vs($e,t,De).map(ft=>be(ft,De)).getOr(Fe),v=be=>(Fe,$e)=>{wt($e,De=>be(Fe,De))},C=(be,Fe)=>Di(be.element,"aria-hidden")!=="true",k=(be,Fe)=>{if(!C(be)){const $e=be.element;Co($e,"display"),lr($e,"aria-hidden"),bn(be,R1(),{name:Fe,visible:!0})}},D=(be,Fe)=>{if(C(be)){const $e=be.element;Bn($e,"display","none"),Gn($e,"aria-hidden","true"),bn(be,R1(),{name:Fe,visible:!1})}},B=p(C,!1),F=p(D),U=v(F),K=be=>U(be,c()),ee=p(k),ae={getSlotNames:c,getSlot:d,isShowing:B,hideSlot:F,hideAllSlots:K,showSlot:ee};return{uid:t.uid,dom:t.dom,components:s,behaviours:Cb(t.slotBehaviours),apis:ae}},vc={...qo({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,c)=>t.getSlot(s,c),isShowing:(t,s,c)=>t.isShowing(s,c),hideSlot:(t,s,c)=>t.hideSlot(s,c),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,c)=>t.showSlot(s,c)},t=>Yg(t)),sketch:sq},I4=yn([Vu,c_,dr("onShow",q),dr("onHide",q),$v]),L4=t=>as("sidebar",I4,t),F4=t=>{const{sidebars:s}=t.ui.registry.getAll();wt(uo(s),c=>{const d=s[c],p=()=>xi(I.from(t.queryCommandValue("ToggleSidebar")),c);t.ui.registry.addToggleButton(c,{icon:d.icon,tooltip:d.tooltip,onAction:v=>{t.execCommand("ToggleSidebar",!1,c),v.setActive(p())},onSetup:v=>{v.setActive(p());const C=()=>v.setActive(p());return t.on("ToggleSidebar",C),()=>{t.off("ToggleSidebar",C)}}})})},iq=t=>({element:()=>t.element.dom}),H4=(t,s)=>{const c=at(uo(s),d=>{const p=s[d],v=Yo(L4(p));return{name:d,getApi:iq,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return at(c,d=>{const p=xn(q);return t.slot(d.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:DS.unnamedEvents([Bb(d,p),og(d,p),mt(R1(),(v,C)=>{const k=C.event;je(c,B=>B.name===k.name).each(B=>{(k.visible?B.onShow:B.onHide)(B.getApi(v))})})])})})},aq=t=>vc.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:H4(s,t),slotBehaviours:DS.unnamedEvents([js(c=>vc.hideAllSlots(c))])})),cq=(t,s,c)=>{So.getCurrent(t).each(p=>{Vn.set(p,[aq(s)]);const v=c==null?void 0:c.toLowerCase();A(v)&&xo(s,v)&&So.getCurrent(p).each(C=>{vc.showSlot(C,v),al.immediateGrow(p),Co(p.element,"width"),rA(t.element,"region")})})},rA=(t,s)=>{Gn(t,"role",s)},_E=(t,s)=>{So.getCurrent(t).each(d=>{So.getCurrent(d).each(v=>{al.hasGrown(d)?vc.isShowing(v,s)?(al.shrink(d),rA(t.element,"presentation")):(vc.hideAllSlots(v),vc.showSlot(v,s),rA(t.element,"region")):(vc.hideAllSlots(v),vc.showSlot(v,s),al.grow(d),rA(t.element,"region"))})})},lq=t=>So.getCurrent(t).bind(c=>al.isGrowing(c)||al.hasGrown(c)?So.getCurrent(c).bind(v=>je(vc.getSlotNames(v),C=>vc.isShowing(v,C))):I.none()),V4=Gt("FixSizeEvent"),z4=Gt("AutoSizeEvent"),wne=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Dt([Er.config({}),Rn.config({}),al.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{So.getCurrent(s).each(vc.hideAllSlots),Zo(s,z4)},onGrown:s=>{Zo(s,z4)},onStartGrow:s=>{bn(s,V4,{width:Pr(s.element,"width").getOr("")})},onStartShrink:s=>{bn(s,V4,{width:Wr(s.element)+"px"})}}),Vn.config({}),So.config({find:s=>{const c=Vn.contents(s);return kn(c)}})])}],behaviours:Dt([Ef.childAt(0),eo("sidebar-sliding-events",[mt(V4,(s,c)=>{Bn(s.element,"width",c.event.width)}),mt(z4,(s,c)=>{Co(s.element,"width")})])])});var VH=Object.freeze({__proto__:null,block:(t,s,c,d)=>{Gn(t.element,"aria-busy",!0);const p=s.getRoot(t).getOr(t),v=Dt([_n.config({mode:"special",onTab:()=>I.some(!0),onShiftTab:()=>I.some(!0)}),Rn.config({})]),C=d(p,v),k=p.getSystem().build(C);Vn.append(p,eu(k)),k.hasConfigured(_n)&&s.focus&&_n.focusIn(k),c.isBlocked()||s.onBlock(t),c.blockWith(()=>Vn.remove(p,k))},unblock:(t,s,c)=>{lr(t.element,"aria-busy"),c.isBlocked()&&s.onUnblock(t),c.clear()},isBlocked:(t,s,c)=>c.isBlocked()}),dq=[dr("getRoot",I.none),hi("focus",!0),ho("onBlock"),ho("onUnblock")],fq=Object.freeze({__proto__:null,init:()=>{const t=rx(),s=c=>{t.set({destroy:c})};return Qc({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Mm=Qi({fields:dq,name:"blocking",apis:VH,state:fq}),mq=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return we(s,(c,d)=>d.name==="class"?c:{...c,[d.name]:d.value},{})},zH=t=>Array.prototype.slice.call(t.dom.classList,0),Yb=t=>{const s=Ie.fromHtml(t),c=Ma(s),d=mq(s),p=zH(s),v=c.length===0?{}:{innerHtml:wp(s)};return{tag:nc(s),classes:p,attributes:d,...v}},hq=t=>(s,c)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Yb('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),WH=t=>So.getCurrent(t).each(s=>Sr(s.element)),Ene=(t,s)=>{const c="tabindex",d=`data-mce-${c}`;I.from(t.iframeElement).map(Ie.fromDom).each(p=>{s?(yr(p,c).each(v=>Gn(p,d,v)),Gn(p,c,-1)):(lr(p,c),yr(p,d).each(v=>{Gn(p,c,v),lr(p,d)}))})},xne=(t,s,c,d)=>{const p=s.element;if(Ene(t,c),c)Mm.block(s,hq(d)),Co(p,"display"),lr(p,"aria-hidden"),t.hasFocus()&&WH(s);else{const v=So.getCurrent(s).exists(C=>cb(C.element));Mm.unblock(s),Bn(p,"display","none"),Gn(p,"aria-hidden","true"),v&&t.focus()}},UH=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Dt([Vn.config({}),Mm.config({focus:!1}),So.config({find:s=>kn(s.components())})]),components:[]}),jH=t=>t.type==="focusin",pq=t=>jH(t)?(t.composed?kn(t.composedPath()):I.from(t.target)).map(Ie.fromDom).filter(Xo).exists(c=>ac(c,"mce-pastebin")):!1,gq=(t,s,c)=>{const d=xn(!1),p=Ks(),v=k=>{d.get()&&!pq(k)&&(k.preventDefault(),WH(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",v),t.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const C=k=>{k!==d.get()&&(d.set(k),xne(t,s(),k,c.providers),xs(t,k))};t.on("ProgressState",k=>{if(p.on(clearTimeout),Me(k.time)){const D=_T.setEditorTimeout(t,()=>C(k.state),k.time);p.set(D)}else C(k.state),p.clear()})},Zu=(t,s)=>we(t,(p,v)=>s(v,p.len).fold(J(p),k=>({len:k.finish,list:p.list.concat([k])})),{len:0,list:[]}).list,W4=(t,s,c)=>({within:t,extra:s,withinWidth:c}),U4=(t,s,c)=>{const d=Zu(t,(k,D)=>{const B=c(k);return I.some({element:k,start:D,finish:D+B,width:B})}),p=_o(d,k=>k.finish<=s),v=Ho(p,(k,D)=>k+D.width,0),C=d.slice(p.length);return{within:p,extra:C,withinWidth:v}},wE=t=>at(t,s=>s.element),bq=(t,s,c)=>{const d=wE(t.concat(s));return W4(d,[],c)},CE=(t,s,c,d)=>{const p=wE(t).concat([c]);return W4(p,wE(s),d)},vq=(t,s,c)=>W4(wE(t),[],c),iA=(t,s,c)=>{const d=U4(s,t,c);return d.extra.length===0?I.some(d):I.none()},yq=(t,s,c,d)=>{const p=iA(t,s,c).getOrThunk(()=>U4(s,t-c(d),c)),v=p.within,C=p.extra,k=p.withinWidth;return C.length===1&&C[0].width<=c(d)?bq(v,C,k):C.length>=1?CE(v,C,d,k):vq(v,C,k)},SE=(t,s)=>{const c=at(s,d=>eu(d));Rm.setGroups(t,c)},_q=t=>Qn(t,s=>Mu(s.element).bind(c=>s.getSystem().getByDom(c).toOptional())),ZH=(t,s,c)=>{const d=s.builtGroups.get();if(d.length===0)return;const p=Nh(t,s,"primary"),v=rr.getCoupled(t,"overflowGroup");Bn(p.element,"visibility","hidden");const C=d.concat([v]),k=_q(C);c([]),SE(p,C);const D=Wr(p.element),B=yq(D,s.builtGroups.get(),F=>Wr(F.element),v);B.extra.length===0?(Vn.remove(p,v),c([])):(SE(p,B.within),c(B.extra)),Co(p.element,"visibility"),Cu(p.element),k.each(Rn.focus)},Ku=J([ci("splitToolbarBehaviours",[rr]),Ca("builtGroups",()=>xn([]))]),wq=J([Ap(["overflowToggledClass"]),of("getOverflowBounds"),rt("lazySink"),Ca("overflowGroups",()=>xn([])),ho("onOpened"),ho("onClosed")].concat(Ku())),aA=J([Bi({factory:Rm,schema:T_(),name:"primary"}),Bu({schema:T_(),name:"overflow"}),Bu({name:"overflow-button"}),Bu({name:"overflow-group"})]),cA=J((t,s)=>{Vf(t,Math.floor(s))}),KH=J([Ap(["toggledClass"]),rt("lazySink"),Dc("fetch"),of("getBounds"),wr("fireDismissalEventInstead",[He("event",lf())]),lm(),ho("onToggled")]),Cq=J([Bu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Dt([ao.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Bu({factory:Rm,schema:T_(),name:"toolbar",overrides:t=>({toolbarBehaviours:Dt([_n.config({mode:"cyclic",onEscape:s=>(vs(s,t,"button").each(Rn.focus),I.none())})])})})]),EE=Ks(),Sq=(t,s)=>{EE.set(!0),j4(t,s),EE.clear()},j4=(t,s)=>{const c=rr.getCoupled(t,"toolbarSandbox");To.isOpen(c)?To.close(c):To.open(c,s.toolbar())},Z4=(t,s,c,d)=>{const p=c.getBounds.map(C=>C()),v=c.lazySink(t).getOrDie();vi.positionWithinBounds(v,s,{anchor:{type:"hotspot",hotspot:t,layouts:d,overrides:{maxWidthFunction:cA()}}},p)},qH=(t,s,c,d,p)=>{Rm.setGroups(s,p),Z4(t,s,c,d),ao.on(t)},Eq=(t,s,c)=>{const d=Gw(),p=(C,k)=>{const D=EE.get().getOr(!1);c.fetch().get(B=>{qH(t,k,c,s.layouts,B),d.link(t.element),D||_n.focusIn(k)})},v=()=>{ao.off(t),EE.get().getOr(!1)||Rn.focus(t),d.unlink(t.element)};return{dom:{tag:"div",attributes:{id:d.id}},behaviours:Dt([_n.config({mode:"special",onEscape:C=>(To.close(C),I.some(!0))}),To.config({onOpen:p,onClose:v,isPartOf:(C,k,D)=>Tp(k,D)||Tp(t,D),getAttachPoint:()=>c.lazySink(t).getOrDie()}),uc.config({channels:{...Vp({isExtraPart:vt,...c.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...PC({doReposition:()=>{To.getState(rr.getCoupled(t,"toolbarSandbox")).each(C=>{Z4(t,C,c,s.layouts)})}})}})])}},Xb=li({name:"FloatingToolbarButton",factory:(t,s,c,d)=>({...Aa.sketch({...d.button(),action:p=>{j4(p,d)},buttonBehaviours:ou.augment({dump:d.button().buttonBehaviours},[rr.config({others:{toolbarSandbox:p=>Eq(p,c,t)}})])}),apis:{setGroups:(p,v)=>{To.getState(rr.getCoupled(p,"toolbarSandbox")).each(C=>{qH(p,C,t,c.layouts,v)})},reposition:p=>{To.getState(rr.getCoupled(p,"toolbarSandbox")).each(v=>{Z4(p,v,t,c.layouts)})},toggle:p=>{j4(p,d)},toggleWithoutFocusing:p=>{Sq(p,d)},getToolbar:p=>To.getState(rr.getCoupled(p,"toolbarSandbox")),isOpen:p=>To.isOpen(rr.getCoupled(p,"toolbarSandbox"))}}),configFields:KH(),partFields:Cq(),apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),GH=J([rt("items"),Ap(["itemSelector"]),ci("tgroupBehaviours",[_n])]),YH=J([Hy({name:"items",unit:"item"})]),XH=(t,s,c,d)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Or(t.tgroupBehaviours,[_n.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),lA=li({name:"ToolbarGroup",configFields:GH(),partFields:YH(),factory:XH}),K4=t=>at(t,s=>eu(s)),q4=(t,s,c)=>{ZH(t,c,d=>{c.overflowGroups.set(d),s.getOpt(t).each(p=>{Xb.setGroups(p,K4(d))})})},JH=(t,s,c,d)=>{const p=os(Xb.sketch({fetch:()=>fa.nu(v=>{v(K4(t.overflowGroups.get()))}),layouts:{onLtr:()=>[gi,$i],onRtl:()=>[$i,gi],onBottomLtr:()=>[lc,Ka],onBottomRtl:()=>[Ka,lc]},getBounds:c.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:d["overflow-button"](),toolbar:d.overflow()},onToggled:(v,C)=>t[C?"onOpened":"onClosed"](v)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Or(t.splitToolbarBehaviours,[rr.config({others:{overflowGroup:()=>lA.sketch({...d["overflow-group"](),items:[p.asSpec()]})}})]),apis:{setGroups:(v,C)=>{t.builtGroups.set(at(C,v.getSystem().build)),q4(v,p,t)},refresh:v=>q4(v,p,t),toggle:v=>{p.getOpt(v).each(C=>{Xb.toggle(C)})},toggleWithoutFocusing:v=>{p.getOpt(v).each(Xb.toggleWithoutFocusing)},isOpen:v=>p.getOpt(v).map(Xb.isOpen).getOr(!1),reposition:v=>{p.getOpt(v).each(C=>{Xb.reposition(C)})},getOverflow:v=>p.getOpt(v).bind(Xb.getToolbar)},domModification:{attributes:{role:"group"}}}},QH=li({name:"SplitFloatingToolbar",configFields:wq(),partFields:aA(),factory:JH,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),xq=J([Ap(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ho("onOpened"),ho("onClosed")].concat(Ku())),Tq=J([Bi({factory:Rm,schema:T_(),name:"primary"}),Bi({factory:Rm,schema:T_(),name:"overflow",overrides:t=>({toolbarBehaviours:Dt([al.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{vs(s,t,"overflow-button").each(c=>{ao.off(c),Rn.focus(c)}),t.onClosed(s)},onGrown:s=>{_n.focusIn(s),t.onOpened(s)},onStartGrow:s=>{vs(s,t,"overflow-button").each(ao.on)}}),_n.config({mode:"acyclic",onEscape:s=>(vs(s,t,"overflow-button").each(Rn.focus),I.some(!0))})])})}),Bu({name:"overflow-button",overrides:t=>({buttonBehaviours:Dt([ao.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Bu({name:"overflow-group"})]),e6=(t,s)=>vs(t,s,"overflow").map(al.hasGrown).getOr(!1),t6=(t,s)=>{vs(t,s,"overflow-button").bind(()=>vs(t,s,"overflow")).each(c=>{G4(t,s),al.toggleGrow(c)})},G4=(t,s)=>{vs(t,s,"overflow").each(c=>{ZH(t,s,d=>{const p=at(d,v=>eu(v));Rm.setGroups(c,p)}),vs(t,s,"overflow-button").each(d=>{al.hasGrown(c)&&ao.on(d)}),al.refresh(c)})},kq=(t,s,c,d)=>{const p="alloy.toolbar.toggle",v=(C,k)=>{const D=at(k,C.getSystem().build);t.builtGroups.set(D)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Or(t.splitToolbarBehaviours,[rr.config({others:{overflowGroup:C=>lA.sketch({...d["overflow-group"](),items:[Aa.sketch({...d["overflow-button"](),action:k=>{Zo(C,p)}})]})}}),eo("toolbar-toggle-events",[mt(p,C=>{t6(C,t)})])]),apis:{setGroups:(C,k)=>{v(C,k),G4(C,t)},refresh:C=>G4(C,t),toggle:C=>t6(C,t),isOpen:C=>e6(C,t)},domModification:{attributes:{role:"group"}}}},Y4=li({name:"SplitSlidingToolbar",configFields:xq(),partFields:Tq(),factory:kq,apis:{setGroups:(t,s,c)=>{t.setGroups(s,c)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),n6=t=>{const s=t.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[lA.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Dt([Er.config({}),Rn.config({})])}},uA=t=>lA.sketch(n6(t)),o6=(t,s)=>{const c=js(d=>{const p=at(t.initGroups,uA);Rm.setGroups(d,p)});return Dt([wf.toolbarButton(t.providers.isDisabled),wi(),_n.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),eo("toolbar-events",[c])])},s6=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":n6({title:I.none(),items:[]}),"overflow-button":BZ({name:"more",icon:I.some("more-drawer"),enabled:!0,tooltip:I.some("More..."),primary:!1,buttonType:I.none(),borderless:!1},I.none(),t.providers)},splitToolbarBehaviours:o6(t,s)}},Aq=t=>{const s=s6(t),c=4,d=QH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return QH.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const p=t.moreDrawerData.lazyHeader().element,v=te(p),C=Wd(p),k=te(C),D=Math.max(C.dom.scrollHeight,k.height);return P(v.x+c,k.y,v.width-c*2,D)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>t.onToggled(p,!0),onClosed:p=>t.onToggled(p,!1)})},Oq=t=>{const s=Y4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=Y4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=s6(t);return Y4.sketch({...d,components:[s,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>{p.getSystem().broadcastOn([R4()],{type:"opened"}),t.onToggled(p,!0)},onClosed:p=>{p.getSystem().broadcastOn([R4()],{type:"closed"}),t.onToggled(p,!1)}})},xE=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Rm.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Dd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Rm.parts.groups({})],toolbarBehaviours:o6(t,s)})},r6=[ng,Vu,Gi("tooltip"),ca("buttonType","secondary",["primary","secondary"]),hi("borderless",!1),Dc("onAction")],Dq=[...r6,Ph,Sl("type",["button"])],X4=[...r6,hi("active",!1),Sl("type",["togglebutton"])],i6={button:Dq,togglebutton:X4},dA=[Sl("type",["group"]),sf("buttons",[],Tr("type",i6))],Nq=Tr("type",{...i6,group:dA}),a6=yn([sf("buttons",[],Nq),Dc("onShow"),Dc("onHide")]),Rq=t=>as("view",a6,t),Mq=(t,s)=>{var c,d;const p=t.type==="togglebutton",v=t.icon.map(ft=>lg(ft,s.icons)).map(os),k=(()=>ft=>{const Xe=Pt=>{v.map(Kt=>Kt.getOpt(ft).each(bo=>{Vn.set(bo,[lg(Pt,s.icons)])}))},Nt=Pt=>{const Kt=ft.element;Pt?(Kr(Kt,"tox-button--enabled"),Gn(Kt,"aria-pressed",!0)):(zo(Kt,"tox-button--enabled"),lr(Kt,"aria-pressed"))},_t=()=>ac(ft.element,"tox-button--enabled");if(p)return t.onAction({setIcon:Xe,setActive:Nt,isActive:_t});if(t.type==="button")return t.onAction({setIcon:Xe})})(),D={...t,name:p?t.text.getOr(t.icon.getOr("")):(c=t.text)!==null&&c!==void 0?c:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:I.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},B=s4((d=t.buttonType)!==null&&d!==void 0?d:"secondary"),F=p?t.text.map(s.translate):I.some(s.translate(t.text)),U=F.map(Ar),K=D.tooltip.or(F).map(ft=>({"aria-label":s.translate(ft),title:s.translate(ft)})).getOr({}),ee=v.map(ft=>ft.asSpec()),ae=f_([ee,U]),be=t.icon.isSome()&&U.isSome(),Fe={tag:"button",classes:B.concat(...t.icon.isSome()&&!be?["tox-button--icon"]:[]).concat(...be?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:K},$e=[],De=iE(D,I.some(k),$e,Fe,ae,s);return Aa.sketch(De)},$q=(t,s)=>Mq(t,s),Pq=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:at(t.buttons,c=>$q(c,s))}),c6=ti().deviceType,J4=c6.isPhone(),Bq=c6.isTablet(),fA=t=>{let s=!1;const c=at(t.buttons,d=>d.type==="group"?(s=!0,Pq(d,t.providers)):$q(d,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...J4||Bq?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Dt([Rn.config({}),_n.config({mode:"flow",selector:"button, .tox-button",focusInside:Gp.OnEnterOrSpaceMode})]),components:s?c:[xm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),xm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}},l6=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),u6=(t,s,c,d)=>{const p={getPane:v=>ta.getPart(v,t,"pane"),getOnShow:v=>t.viewConfig.onShow,getOnHide:v=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:p}};var Jb=li({name:"silver.View",configFields:[rt("viewConfig")],partFields:[su({factory:{sketch:fA},schema:[rt("buttons"),rt("providers")],name:"header"}),su({factory:{sketch:l6},schema:[],name:"pane"})],factory:u6,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const Iq=(t,s,c)=>Fl(s,(d,p)=>{const v=Yo(Rq(d));return t.slot(p,Jb.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Jb.parts.header({buttons:v.buttons,providers:c})]:[],Jb.parts.pane({})]}))}),d6=(t,s)=>vc.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:Iq(c,t,s),slotBehaviours:DS.unnamedEvents([js(d=>vc.hideAllSlots(d))])})),Gv=t=>je(vc.getSlotNames(t),s=>vc.isShowing(t,s)),f6=t=>{const s=t.element;Bn(s,"display","none"),Gn(s,"aria-hidden","true")},Lq=t=>{const s=t.element;Co(s,"display"),lr(s,"aria-hidden")},Fq=t=>({getContainer:J(t)}),m6=(t,s,c)=>{vc.getSlot(t,s).each(d=>{Jb.getPane(d).each(p=>{c(d)(Fq(p.element.dom))})})},Q4=(t,s)=>m6(t,s,Jb.getOnShow),Hq=(t,s)=>m6(t,s,Jb.getOnHide);var TE=qr({factory:(t,s)=>{const v={setViews:(C,k)=>{Vn.set(C,[d6(k,s.backstage.shared.providers)])},whichView:C=>So.getCurrent(C).bind(Gv),toggleView:(C,k,D,B)=>So.getCurrent(C).exists(F=>{const U=Gv(F),K=U.exists(ae=>B===ae),ee=vc.getSlot(F,B).isSome();return ee&&(vc.hideAllSlots(F),K?(f6(C),k()):(D(),Lq(C),vc.showSlot(F,B),Q4(F,B)),U.each(ae=>Hq(F,ae))),ee})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Dt([Vn.config({}),So.config({find:C=>{const k=Vn.contents(C);return kn(k)}})]),apis:v}},name:"silver.ViewWrapper",configFields:[rt("backstage")],apis:{setViews:(t,s,c)=>t.setViews(s,c),toggleView:(t,s,c,d,p)=>t.toggleView(s,c,d,p),whichView:(t,s)=>t.whichView(s)}});const h6=(t,s,c)=>{let d=!1;const p={getSocket:v=>ta.getPart(v,t,"socket"),setSidebar:(v,C,k)=>{ta.getPart(v,t,"sidebar").each(D=>cq(D,C,k))},toggleSidebar:(v,C)=>{ta.getPart(v,t,"sidebar").each(k=>_E(k,C))},whichSidebar:v=>ta.getPart(v,t,"sidebar").bind(lq).getOrNull(),getHeader:v=>ta.getPart(v,t,"header"),getToolbar:v=>ta.getPart(v,t,"toolbar"),setToolbar:(v,C)=>{ta.getPart(v,t,"toolbar").each(k=>{const D=at(C,uA);k.getApis().setGroups(k,D)})},setToolbars:(v,C)=>{ta.getPart(v,t,"multiple-toolbar").each(k=>{const D=at(C,B=>at(B,uA));qk.setItems(k,D)})},refreshToolbar:v=>{ta.getPart(v,t,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:v=>{ta.getPart(v,t,"toolbar").each(C=>{cs(C.getApis().toggle,k=>k(C))})},toggleToolbarDrawerWithoutFocusing:v=>{ta.getPart(v,t,"toolbar").each(C=>{cs(C.getApis().toggleWithoutFocusing,k=>k(C))})},isToolbarDrawerToggled:v=>ta.getPart(v,t,"toolbar").bind(C=>I.from(C.getApis().isOpen).map(k=>k(C))).getOr(!1),getThrobber:v=>ta.getPart(v,t,"throbber"),focusToolbar:v=>{ta.getPart(v,t,"toolbar").orThunk(()=>ta.getPart(v,t,"multiple-toolbar")).each(k=>{_n.focusIn(k)})},setMenubar:(v,C)=>{ta.getPart(v,t,"menubar").each(k=>{B4.setMenus(k,C)})},focusMenubar:v=>{ta.getPart(v,t,"menubar").each(C=>{B4.focus(C)})},setViews:(v,C)=>{ta.getPart(v,t,"viewWrapper").each(k=>{TE.setViews(k,C)})},toggleView:(v,C)=>ta.getPart(v,t,"viewWrapper").exists(k=>TE.toggleView(k,()=>p.showMainView(v),()=>p.hideMainView(v),C)),whichView:v=>ta.getPart(v,t,"viewWrapper").bind(TE.whichView).getOrNull(),hideMainView:v=>{d=p.isToolbarDrawerToggled(v),d&&p.toggleToolbarDrawer(v),ta.getPart(v,t,"editorContainer").each(C=>{const k=C.element;Bn(k,"display","none"),Gn(k,"aria-hidden","true")})},showMainView:v=>{d&&p.toggleToolbarDrawer(v),ta.getPart(v,t,"editorContainer").each(C=>{const k=C.element;Co(k,"display"),lr(k,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:p,behaviours:t.behaviours}},mA=Nm.optional({factory:B4,name:"menubar",schema:[rt("backstage")]}),e3=t=>t.type===Dd.sliding?Oq:t.type===Dd.floating?Aq:xE,Vq=Nm.optional({factory:{sketch:t=>qk.sketch({uid:t.uid,dom:t.dom,listBehaviours:Dt([_n.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>xE({type:t.type,uid:Gt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),I.some(!0))}),setupItem:(s,c,d,p)=>{Rm.setGroups(c,d)},shell:!0})},name:"multiple-toolbar",schema:[rt("dom"),rt("onEscape")]}),zq=Nm.optional({factory:{sketch:t=>{const s=e3(t),c={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),I.some(!0)),onToggled:(d,p)=>t.onToolbarToggled(p),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(c)}},name:"toolbar",schema:[rt("dom"),rt("onEscape"),rt("getSink")]}),p6=Nm.optional({factory:{sketch:oA},name:"header",schema:[rt("dom")]}),Wq=Nm.optional({factory:{sketch:oq},name:"promotion",schema:[rt("dom")]}),Uq=Nm.optional({name:"socket",schema:[rt("dom")]}),jq=Nm.optional({factory:{sketch:wne},name:"sidebar",schema:[rt("dom")]}),g6=Nm.optional({factory:{sketch:UH},name:"throbber",schema:[rt("dom")]}),Zq=Nm.optional({factory:TE,name:"viewWrapper",schema:[rt("backstage")]}),Kq=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),t3=Nm.optional({factory:{sketch:Kq},name:"editorContainer",schema:[]});var Ns=li({name:"OuterContainer",factory:h6,configFields:[rt("dom"),rt("behaviours")],partFields:[p6,mA,zq,Vq,Uq,jq,Wq,g6,Zq,t3],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,c,d)=>{t.setSidebar(s,c,d)},toggleSidebar:(t,s,c)=>{t.toggleSidebar(s,c)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,c)=>{t.setToolbar(s,c)},setToolbars:(t,s,c)=>{t.setToolbars(s,c)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,c)=>{t.setMenubar(s,c)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,c)=>{t.setViews(s,c)},toggleView:(t,s,c)=>t.toggleView(s,c),whichView:(t,s)=>t.whichView(s)}});const qq="file edit view insert format tools table help",n3={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Gq=(t,s,c)=>{const d=TT(c).split(/[ ,]/);return{text:t.title,getItems:()=>Ae(t.items,p=>{const v=p.toLowerCase();return v.trim().length===0?[]:ks(d,C=>C===v)?[]:v==="separator"||v==="|"?[{type:"separator"}]:s.menuItems[v]?[s.menuItems[v]]:[]})}},hA=t=>t.split(" "),b6=(t,s)=>{const c={...n3,...s.menus},d=uo(s.menus).length>0,p=s.menubar===void 0||s.menubar===!0?hA(qq):hA(s.menubar===!1?"":s.menubar),v=_o(p,k=>{const D=xo(n3,k);return d?D||Mt(s.menus,k).exists(B=>xo(B,"items")):D}),C=at(v,k=>{const D=c[k];return Gq({title:D.title,items:hA(D.items)},s,t)});return _o(C,k=>{const D=B=>A(B)||B.type!=="separator";return k.getItems().length>0&&ks(k.getItems(),D)})},o3=t=>{const s=()=>{t._skinLoaded=!0,DW(t)};return()=>{t.initialized?s():t.on("init",s)}},Yq=(t,s)=>()=>NW(t,{message:s}),v6=(t,s,c)=>(t.on("remove",()=>c.unload(s)),c.load(s)),Xq=(t,s)=>{const c=s+"/skin.min.css";return v6(t,c,t.ui.styleSheetLoader)},y6=(t,s)=>{if(At(Ie.fromDom(t.getElement()))){const d=s+"/skin.shadowdom.min.css";return v6(t,d,Jy.DOM.styleSheetLoader)}else return Promise.resolve()},_6=(t,s)=>{const c=jB(s);return c&&s.contentCSS.push(c+(t?"/content.inline":"/content")+".min.css"),!aR(s)&&A(c)?Promise.all([Xq(s,c),y6(s,c)]).then(o3(s),Yq(s,"Skin could not be loaded")):Promise.resolve(o3(s)())},Jq=Ue(_6,!1),Qq=Ue(_6,!0),s3=(t,s,c)=>{const d=(k,D,B,F)=>{const U=s.shared.providers.translate(k.title);if(k.type==="separator")return I.some({type:"separator",text:U});if(k.type==="submenu"){const K=Ae(k.getStyleItems(),ee=>p(ee,D,F));return D===0&&K.length<=0?I.none():I.some({type:"nestedmenuitem",text:U,enabled:K.length>0,getSubmenuItems:()=>Ae(k.getStyleItems(),ee=>p(ee,D,F))})}else return I.some({type:"togglemenuitem",text:U,icon:k.icon,active:k.isSelected(F),enabled:!B,onAction:c.onAction(k),...k.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},p=(k,D,B)=>{const F=k.type==="formatter"&&c.isInvalid(k);return D===0?F?[]:d(k,D,!1,B).toArray():d(k,D,F,B).toArray()},v=k=>{const D=c.getCurrentValue(),B=c.shouldHide?0:1;return Ae(k,F=>p(F,B,D))};return{validateItems:v,getFetch:(k,D)=>(B,F)=>{const U=D(),K=v(U),ee=qb(K,_m.CLOSE_ON_EXECUTE,k,{isHorizontalMenu:!1,search:I.none()});F(ee)}}},Qb=(t,s,c)=>{const d=c.dataset,p=d.type==="basic"?()=>at(d.data,v=>b4(v,c.isSelectedFor,c.getPreviewFor)):d.getData;return{items:s3(t,s,c),getStyleItems:p}},kE=(t,s,c)=>{const{items:d,getStyleItems:p}=Qb(t,s,c),v=k=>({getComponent:J(k)}),C=rg(t,"NodeChange",k=>{const D=k.getComponent();c.updateText(D),On.set(k.getComponent(),!t.selection.isEditable())});return kk({text:c.icon.isSome()?I.none():c.text,icon:c.icon,tooltip:I.from(c.tooltip),role:I.none(),fetch:d.getFetch(s,p),onSetup:C,getApi:v,columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},eG=t=>at(t,s=>{let c=s,d=s;const p=s.split("=");return p.length>1&&(c=p[0],d=p[1]),{title:c,format:d}}),tG=t=>({type:"basic",data:t});var N_;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(N_||(N_={}));const nG=(t,s)=>s===N_.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),r3=(t,s,c)=>{const d=t.options.get(s);return{type:"basic",data:eG(nG(d,c))}},i3=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],w6=t=>{const s=()=>je(i3,k=>t.formatter.match(k.format)),c=k=>()=>t.formatter.match(k),d=k=>I.none,p=k=>{const B=s().fold(J("left"),F=>F.title.toLowerCase());bn(k,Zv,{icon:`align-${B}`})},v=tG(i3),C=k=>()=>je(i3,D=>D.format===k.format).each(D=>t.execCommand(D.command));return{tooltip:"Align",text:I.none(),icon:I.some("align-left"),isSelectedFor:c,getCurrentValue:I.none,getPreviewFor:d,onAction:C,updateText:p,dataset:v,shouldHide:!1,isInvalid:k=>!t.formatter.canApply(k.format)}},oG=(t,s)=>kE(t,s,w6(t)),C6=(t,s)=>{const c=Qb(t,s,w6(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:Ya(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},AE=(t,s)=>{const c=s(),d=at(c,p=>p.format);return I.from(t.formatter.closest(d)).bind(p=>je(c,v=>v.format===p)).orThunk(()=>Dn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},pA=t=>{const s="Paragraph",c=C=>()=>t.formatter.match(C),d=C=>()=>{const k=t.formatter.get(C);return k?I.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):I.none()},p=C=>{const D=AE(t,()=>v.data).fold(J(s),B=>B.title);bn(C,ju,{text:D})},v=r3(t,"block_formats",N_.SemiColon);return{tooltip:"Blocks",text:I.some(s),icon:I.none(),isSelectedFor:c,getCurrentValue:I.none,getPreviewFor:d,onAction:iL(t),updateText:p,dataset:v,shouldHide:!1,isInvalid:C=>!t.formatter.canApply(C.format)}},S6=(t,s)=>kE(t,s,pA(t)),e1=(t,s)=>{const c=Qb(t,s,pA(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Ya(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},E6=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],x6=t=>{const s=t.split(/\s*,\s*/);return at(s,c=>c.replace(/^['"]+|['"]+$/g,""))},sG=t=>{const s=()=>{const c=x6(t.toLowerCase());return Jt(E6,d=>c.indexOf(d.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},T6=t=>{const s="System Font",c=()=>{const B=ae=>ae?x6(ae)[0]:"",F=t.queryCommandValue("FontName"),U=D.data,K=F?F.toLowerCase():"";return{matchOpt:je(U,ae=>{const be=ae.format;return be.toLowerCase()===K||B(be).toLowerCase()===B(K).toLowerCase()}).orThunk(()=>Dn(sG(K),{title:s,format:K})),font:F}},d=B=>F=>F.exists(U=>U.format===B),p=()=>{const{matchOpt:B}=c();return B},v=B=>()=>I.some({tag:"div",styles:B.indexOf("dings")===-1?{"font-family":B}:{}}),C=B=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,B.format)})},k=B=>{const{matchOpt:F,font:U}=c(),K=F.fold(J(U),ee=>ee.title);bn(B,ju,{text:K})},D=r3(t,"font_family_formats",N_.SemiColon);return{tooltip:"Fonts",text:I.some(s),icon:I.none(),isSelectedFor:d,getCurrentValue:p,getPreviewFor:v,onAction:C,updateText:k,dataset:D,shouldHide:!1,isInvalid:vt}},rG=(t,s)=>kE(t,s,T6(t)),iG=(t,s)=>{const c=Qb(t,s,T6(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:Ya(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},aG={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},cG=(()=>{const t="[0-9]+",c="[eE]"+("[+-]?"+t),d="\\.",p=k=>`(?:${k})?`,C=`[+-]?(?:${["Infinity",t+d+p(t)+p(c),d+t+p(c),t+p(c)].join("|")})`;return new RegExp(`^(${C})(.*)$`)})(),k6=(t,s)=>ks(s,c=>ks(aG[c],d=>t===d)),gA=(t,s)=>I.from(cG.exec(t)).bind(d=>{const p=Number(d[1]),v=d[2];return k6(v,s)?I.some({value:p,unit:v}):I.none()}),lG=(t,s)=>gA(t,s).map(({value:c,unit:d})=>c+d),bA={tab:J(9),escape:J(27),enter:J(13),backspace:J(8),delete:J(46),left:J(37),up:J(38),right:J(39),down:J(40),space:J(32),home:J(36),end:J(35),pageUp:J(33),pageDown:J(34)},uG=(t,s,c)=>{let d=I.none();const p=De=>De.map(ft=>zt.getValue(ft)).getOr(""),v=rg(t,"NodeChange",De=>{const ft=De.getComponent();d=I.some(ft),c.updateInputValue(ft),On.set(ft,!t.selection.isEditable())}),C=De=>({getComponent:J(De)}),k=xn(q),D=Gt("custom-number-input-events"),B=(De,ft,Xe)=>{const Nt=p(d),_t=c.getNewValue(Nt,De),Pt=Nt.length-`${_t}`.length,Kt=d.map(mn=>mn.element.dom.selectionStart-Pt),bo=d.map(mn=>mn.element.dom.selectionEnd-Pt);c.onAction(_t,Xe),d.each(mn=>{zt.setValue(mn,_t),ft&&(Kt.each(qn=>mn.element.dom.selectionStart=qn),bo.each(qn=>mn.element.dom.selectionEnd=qn))})},F=(De,ft)=>B((Xe,Nt)=>Xe-Nt,De,ft),U=(De,ft)=>B((Xe,Nt)=>Xe+Nt,De,ft),K=De=>Ai(De.element).fold(I.none,ft=>(Sr(ft),I.some(!0))),ee=De=>cb(De.element)?(Hf(De.element).each(ft=>Sr(ft)),I.some(!0)):I.none(),ae=(De,ft,Xe,Nt)=>{const _t=s.shared.providers.translate(Xe),Pt=Gt("altExecuting"),Kt=rg(t,"NodeChange",mn=>{On.set(mn.getComponent(),!t.selection.isEditable())}),bo=mn=>{On.isDisabled(mn)||De(!0)};return Aa.sketch({dom:{tag:"button",attributes:{title:_t,"aria-label":_t},classes:Nt.concat(ft)},components:[Tk(ft,s.shared.providers.icons)],buttonBehaviours:Dt([On.config({}),eo(Pt,[Bb({onSetup:Kt,getApi:C},k),og({getApi:C},k),mt(ic(),(mn,qn)=>{(qn.event.raw.keyCode===bA.space()||qn.event.raw.keyCode===bA.enter())&&(On.isDisabled(mn)||De(!1))}),mt(Ql(),bo),mt(Xf(),bo)])]),eventOrder:{[ic()]:[Pt,"keying"],[Ql()]:[Pt,"alloy.base.behaviour"],[Xf()]:[Pt,"alloy.base.behaviour"]}})},be=os(ae(De=>F(!1,De),"minus","Decrease font size",["highlight-on-focus"])),Fe=os(ae(De=>U(!1,De),"plus","Increase font size",["highlight-on-focus"])),$e=os({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Mv.sketch({inputBehaviours:Dt([On.config({}),eo(D,[Bb({onSetup:v,getApi:C},k),og({getApi:C},k)]),eo("input-update-display-text",[mt(ju,(De,ft)=>{zt.setValue(De,ft.event.text)}),mt(Jl(),De=>{c.onAction(zt.getValue(De))}),mt(Vg(),De=>{c.onAction(zt.getValue(De))})]),_n.config({mode:"special",onEnter:De=>(B(Te,!0,!0),I.some(!0)),onEscape:K,onUp:De=>(U(!0,!1),I.some(!0)),onDown:De=>(F(!0,!1),I.some(!0)),onLeft:(De,ft)=>(ft.cut(),I.none()),onRight:(De,ft)=>(ft.cut(),I.none())})])})],behaviours:Dt([Rn.config({}),_n.config({mode:"special",onEnter:ee,onSpace:ee,onEscape:K}),eo("input-wrapper-events",[mt(gd(),De=>{wt([be,Fe],ft=>{const Xe=Ie.fromDom(ft.get(De).element.dom);cb(Xe)&&Eh(Xe)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[be.asSpec(),$e.asSpec(),Fe.asSpec()],behaviours:Dt([Rn.config({}),_n.config({mode:"flow",focusInside:Gp.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:De=>cb(De.element)?I.none():(Sr(De.element),I.some(!0))})])}},dG={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},fG={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},mG=(t,s)=>{const c=Math.pow(10,s);return Math.round(t*c)/c},hG=(t,s)=>/[0-9.]+px$/.test(t)?mG(parseInt(t,10)*72/96,s||0)+"pt":Mt(fG,t).getOr(t),pG=t=>Mt(dG,t).getOr(""),a3=t=>{const s=()=>{let D=I.none();const B=k.data,F=t.queryCommandValue("FontSize");if(F)for(let U=3;D.isNone()&&U>=0;U--){const K=hG(F,U),ee=pG(K);D=je(B,ae=>ae.format===F||ae.format===K||ae.format===ee)}return{matchOpt:D,size:F}},c=D=>B=>B.exists(F=>F.format===D),d=()=>{const{matchOpt:D}=s();return D},p=J(I.none),v=D=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,D.format)})},C=D=>{const{matchOpt:B,size:F}=s(),U=B.fold(J(F),K=>K.title);bn(D,ju,{text:U})},k=r3(t,"font_size_formats",N_.Space);return{tooltip:"Font sizes",text:I.some("12pt"),icon:I.none(),isSelectedFor:c,getPreviewFor:p,getCurrentValue:d,onAction:v,updateText:C,dataset:k,shouldHide:!1,isInvalid:vt}},A6=(t,s)=>kE(t,s,a3(t)),O6=t=>{var s;const c={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:c},gG=16,D6=t=>t>=0,bG=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:d=>bn(d,ju,{text:s()}),onAction:(d,p)=>t.execCommand("FontSize",!1,d,{skip_focus:!p}),getNewValue:(d,p)=>{gA(d,["unsupportedLength","empty"]);const v=gA(d,["unsupportedLength","empty"]).or(gA(s(),["unsupportedLength","empty"])),C=v.map(F=>F.value).getOr(gG),k=BB(t),D=v.map(F=>F.unit).filter(F=>F!=="").getOr(k),B=p(C,O6(D).step);return`${D6(B)?B:C}${D}`}}},vG=(t,s)=>uG(t,s,bG(t)),yG=(t,s)=>{const c=Qb(t,s,a3(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Ya(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},c3=(t,s)=>{const c="Paragraph",d=C=>()=>t.formatter.match(C),p=C=>()=>{const k=t.formatter.get(C);return k!==void 0?I.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):I.none()},v=C=>{const k=U=>tH(U)?Ae(U.items,k):h4(U)?[{title:U.title,format:U.format}]:[],D=Ae(sH(t),k),F=AE(t,J(D)).fold(J(c),U=>U.title);bn(C,ju,{text:F})};return{tooltip:"Formats",text:I.some(c),icon:I.none(),isSelectedFor:d,getCurrentValue:I.none,getPreviewFor:p,onAction:iL(t),updateText:v,shouldHide:QN(t),isInvalid:C=>!t.formatter.canApply(C.format),dataset:s}},_G=(t,s)=>{const c={type:"advanced",...s.styles};return kE(t,s,c3(t,c))},N6=(t,s)=>{const c={type:"advanced",...s.styles},d=Qb(t,s,c3(t,c));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Ya(t),getSubmenuItems:()=>d.items.validateItems(d.getStyleItems())})},wG=J([rt("toggleClass"),rt("fetch"),Je("onExecute"),He("getHotspot",I.some),He("getAnchorOverrides",J({})),lm(),Je("onItemExecute"),jo("lazySink"),rt("dom"),ho("onOpen"),ci("splitDropdownBehaviours",[rr,_n,Rn]),He("matchWidth",!1),He("useMinWidth",!1),He("eventOrder",{}),jo("role")].concat(oM())),CG=Bi({factory:Aa,schema:[rt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Dt([Rn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(_p)},buttonBehaviours:Dt([ao.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),SG=Bi({factory:Aa,schema:[rt("dom")],name:"button",defaults:()=>({buttonBehaviours:Dt([Rn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(c=>{t.onExecute(c,s)})}})}),EG=J([CG,SG,su({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[rt("text")],name:"aria-descriptor"}),Bu({schema:[mf()],name:"menu",defaults:t=>({onExecute:(s,c)=>{s.getSystem().getByUid(t.uid).each(d=>{t.onItemExecute(d,s,c)})}})}),eM()]),xG=(t,s,c,d)=>{const p=F=>{So.getCurrent(F).each(U=>{Lo.highlightFirst(U),_n.focusIn(U)})},v=F=>{tM(t,Te,F,d,p,rl.HighlightMenuAndItem).get(q)},C=F=>(v(F),I.some(!0)),k=F=>{const U=Nh(F,t,"button");return _p(U),I.some(!0)},D={...Os([js((F,U)=>{vs(F,t,"aria-descriptor").each(ee=>{const ae=Gt("aria");Gn(ee.element,"id",ae),Gn(F.element,"aria-describedby",ae)})})]),...mS(I.some(v))},B={repositionMenus:F=>{ao.isOn(F)&&$L(F)}};return{uid:t.uid,dom:t.dom,components:s,apis:B,eventOrder:{...t.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},events:D,behaviours:Or(t.splitDropdownBehaviours,[rr.config({others:{sandbox:F=>{const U=Nh(F,t,"arrow");return nM(t,F,{onOpen:()=>{ao.on(U),ao.on(F)},onClose:()=>{ao.off(U),ao.off(F)}})}}}),_n.config({mode:"special",onSpace:k,onEnter:k,onDown:C}),Rn.config({}),ao.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},vA=li({name:"SplitDropdown",configFields:wG(),partFields:EG(),factory:xG,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),l3=t=>({isEnabled:()=>!On.isDisabled(t),setEnabled:s=>On.set(t,!s),setText:s=>bn(t,ju,{text:s}),setIcon:s=>bn(t,Zv,{icon:s})}),TG=t=>({setActive:s=>{ao.set(t,s)},isActive:()=>ao.isOn(t),isEnabled:()=>!On.isDisabled(t),setEnabled:s=>On.set(t,!s),setText:s=>bn(t,ju,{text:s}),setIcon:s=>bn(t,Zv,{icon:s})}),R6=(t,s)=>t.map(c=>({"aria-label":s.translate(c),title:s.translate(c)})).getOr({}),M6=Gt("focus-button"),u3=(t,s,c,d,p)=>{const v=s.map(k=>os(Q5(k,"tox-tbtn",p))),C=t.map(k=>os(lg(k,p.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:R6(c,p)},components:f_([C.map(k=>k.asSpec()),v.map(k=>k.asSpec())]),eventOrder:{[io()]:["focusing","alloy.base.behaviour",jv],[Rc()]:[jv,"toolbar-group-button-events"]},buttonBehaviours:Dt([wf.toolbarButton(p.isDisabled),wi(),eo(jv,[js((k,D)=>ZM(k)),mt(ju,(k,D)=>{v.bind(B=>B.getOpt(k)).each(B=>{Vn.set(B,[Ar(p.translate(D.event.text))])})}),mt(Zv,(k,D)=>{C.bind(B=>B.getOpt(k)).each(B=>{Vn.set(B,[lg(D.event.icon,p.icons)])})}),mt(io(),(k,D)=>{D.event.prevent(),Zo(k,M6)})])].concat(d.getOr([])))}},kG=(t,s,c,d)=>{const p=s.shared,v=xn(q),C={toolbarButtonBehaviours:[],getApi:l3,onSetup:t.onSetup},k=[eo("toolbar-group-button-events",[Bb(C,v),og(C,v)])];return Xb.sketch({lazySink:p.getSink,fetch:()=>fa.nu(D=>{D(at(c(t.items),uA))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:u3(t.icon,t.text,t.tooltip,I.some(k),p.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:d}}}})},d3=(t,s,c)=>{var d;const p=xn(q),v=u3(t.icon,t.text,t.tooltip,I.none(),c);return Aa.sketch({dom:v.dom,components:v.components,eventOrder:X5,buttonBehaviours:{...Dt([eo("toolbar-button-events",[nZ({onAction:t.onAction,getApi:s.getApi}),Bb(s,p),og(s,p)]),wf.toolbarButton(()=>!t.enabled||c.isDisabled()),wi()].concat(s.toolbarButtonBehaviours)),[jv]:(d=v.buttonBehaviours)===null||d===void 0?void 0:d[jv]}})},$6=(t,s)=>f3(t,s,[]),f3=(t,s,c)=>d3(t,{toolbarButtonBehaviours:c.length>0?[eo("toolbarButtonWith",c)]:[],getApi:l3,onSetup:t.onSetup},s),P6=(t,s)=>B6(t,s,[]),B6=(t,s,c)=>d3(t,{toolbarButtonBehaviours:[Vn.config({}),ao.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[eo("toolbarToggleButtonWith",c)]:[]),getApi:TG,onSetup:t.onSetup},s),I6=(t,s,c)=>d=>fa.nu(p=>s.fetch(p)).map(p=>I.from(lM(Es(GR(Gt("menu-value"),p,v=>{s.onItemAction(t(d),v)},s.columns,s.presets,_m.CLOSE_ON_EXECUTE,s.select.getOr(vt),c),{movement:VS(s.columns,s.presets),menuBehaviours:DS.unnamedEvents(s.columns!=="auto"?[]:[js((v,C)=>{NR(v,4,NT(s.presets)).each(({numRows:k,numColumns:D})=>{_n.setGridSize(v,k,D)})})])})))),AG=(t,s)=>{const c=v=>({isEnabled:()=>!On.isDisabled(v),setEnabled:C=>On.set(v,!C),setIconFill:(C,k)=>{mr(v.element,`svg path[class="${C}"], rect[class="${C}"]`).each(D=>{Gn(D,"fill",k)})},setActive:C=>{Gn(v.element,"aria-pressed",C),mr(v.element,"span").each(k=>{v.getSystem().getByDom(k).each(D=>ao.set(D,C))})},isActive:()=>mr(v.element,"span").exists(C=>v.getSystem().getByDom(C).exists(ao.isOn)),setText:C=>mr(v.element,"span").each(k=>v.getSystem().getByDom(k).each(D=>bn(D,ju,{text:C}))),setIcon:C=>mr(v.element,"span").each(k=>v.getSystem().getByDom(k).each(D=>bn(D,Zv,{icon:C})))}),d=xn(q),p={getApi:c,onSetup:t.onSetup};return vA.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...R6(t.tooltip,s.providers)}},onExecute:v=>{const C=c(v);C.isEnabled()&&t.onAction(C)},onItemExecute:(v,C,k)=>{},splitDropdownBehaviours:Dt([wf.splitButton(s.providers.isDisabled),wi(),eo("split-dropdown-events",[js((v,C)=>ZM(v)),mt(M6,Rn.focus),Bb(p,d),og(p,d)]),ZS.config({})]),eventOrder:{[Rc()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:I6(c,t,s.providers),parts:{menu:RT(!1,t.columns,t.presets)},components:[vA.parts.button(u3(t.icon,t.text,I.none(),I.some([ao.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),vA.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Fu("chevron-down",s.providers.icons)},buttonBehaviours:Dt([wf.splitButton(s.providers.isDisabled),wi(),wT()])}),vA.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},L6=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],OE=(t,s)=>(c,d,p)=>{const v=t(c).mapError(C=>hh(C)).getOrDie();return s(v,d,p)},OG={button:OE(pI,(t,s)=>$6(t,s.shared.providers)),togglebutton:OE(gI,(t,s)=>P6(t,s.shared.providers)),menubutton:OE(IH,(t,s)=>rE(t,"tox-tbtn",s,I.none(),!1)),splitbutton:OE(nq,(t,s)=>AG(t,s.shared)),grouptoolbarbutton:OE(QK,(t,s,c)=>{const d=c.ui.registry.getAll().buttons,p=C=>DE(c,{buttons:d,toolbar:C,allowToolbarGroups:!1},s,I.none()),v={[vy]:s.shared.header.isPositionedAtTop()?tu.TopToBottom:tu.BottomToTop};switch(t_(c)){case Dd.floating:return kG(t,s,p,v);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},DG=(t,s,c)=>Mt(OG,t.type).fold(()=>(console.error("skipping button defined by",t),I.none()),d=>I.some(d(t,s,c))),F6={styles:_G,fontsize:A6,fontsizeinput:vG,fontfamily:rG,blocks:S6,align:oG},NG=t=>{const s=at(L6,c=>{const d=_o(c.items,p=>xo(t,p)||xo(F6,p));return{name:c.name,items:d}});return _o(s,c=>c.items.length>0)},RG=t=>{const s=t.split("|");return at(s,c=>({items:c.trim().split(" ")}))},MG=t=>ce(t,s=>xo(s,"name")&&xo(s,"items")),$G=t=>{const s=t.toolbar,c=t.buttons;return s===!1?[]:s===void 0||s===!0?NG(c):A(s)?RG(s):MG(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},m3=(t,s,c,d,p,v)=>Mt(s,c.toLowerCase()).orThunk(()=>v.bind(C=>Qn(C,k=>Mt(s,k+c.toLowerCase())))).fold(()=>Mt(F6,c.toLowerCase()).map(C=>C(t,p)),C=>C.type==="grouptoolbarbutton"&&!d?(console.warn(`Ignoring the '${c}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),I.none()):DG(C,p,t)),DE=(t,s,c,d)=>{const p=$G(s),v=at(p,C=>{const k=Ae(C.items,D=>D.trim().length===0?[]:m3(t,s.buttons,D,s.allowToolbarGroups,c,d).toArray());return{title:I.from(t.translate(C.name)),items:k}});return _o(v,C=>C.items.length>0)},H6=(t,s,c,d)=>{const p=s.mainUi.outerContainer,v=c.toolbar,C=c.buttons;if(ce(v,A)){const k=v.map(D=>{const B={toolbar:D,buttons:C,allowToolbarGroups:c.allowToolbarGroups};return DE(t,B,d,I.none())});Ns.setToolbars(p,k)}else Ns.setToolbar(p,DE(t,c,d,I.none()))},V6=ti(),PG=V6.os.isiOS()&&V6.os.version.major<=12,BG=(t,s)=>{const{uiMotherships:c}=s,d=t.dom;let p=t.getWin();const v=t.getDoc().documentElement,C=xn(zs(p.innerWidth,p.innerHeight)),k=xn(zs(v.offsetWidth,v.offsetHeight)),D=()=>{const K=C.get();(K.left!==p.innerWidth||K.top!==p.innerHeight)&&(C.set(zs(p.innerWidth,p.innerHeight)),LS(t))},B=()=>{const K=t.getDoc().documentElement,ee=k.get();(ee.left!==K.offsetWidth||ee.top!==K.offsetHeight)&&(k.set(zs(K.offsetWidth,K.offsetHeight)),LS(t))},F=K=>{Sm(t,K)};d.bind(p,"resize",D),d.bind(p,"scroll",F);const U=Dp(Ie.fromDom(t.getBody()),"load",B);t.on("hide",()=>{wt(c,K=>{Bn(K.element,"display","none")})}),t.on("show",()=>{wt(c,K=>{Co(K.element,"display")})}),t.on("NodeChange",B),t.on("remove",()=>{U.unbind(),d.unbind(p,"resize",D),d.unbind(p,"scroll",F),p=null})},IG=(t,s,c)=>{eg(t)&&Lp(c.mainUi.mothership.element,c.popupUi.mothership),AC(s,c.dialogUi.mothership)};var FG=Object.freeze({__proto__:null,render:async(t,s,c,d,p)=>{const{mainUi:v,uiMotherships:C}=s,k=xn(0),D=v.outerContainer;await Jq(t);const B=Ie.fromDom(p.targetNode),F=Qe(Ne(B));Lp(B,v.mothership),IG(t,F,s),t.on("PostRender",()=>{Ns.setSidebar(D,c.sidebar,WB(t)),H6(t,s,c,d),k.set(t.getWin().innerWidth),Ns.setMenubar(D,b6(t,c)),Ns.setViews(D,c.views),BG(t,s)});const U=Ns.getSocket(D).getOrDie("Could not find expected socket element");if(PG){_l(U.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const be=Yj(()=>{t.dispatch("ScrollContent")},20),Fe=fc(U.element,"scroll",be.throttle);t.on("remove",Fe.unbind)}HI(t,s),t.addCommand("ToggleSidebar",(be,Fe)=>{Ns.toggleSidebar(D,Fe),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var be;return(be=Ns.whichSidebar(D))!==null&&be!==void 0?be:""}),t.addCommand("ToggleView",(be,Fe)=>{if(Ns.toggleView(D,Fe)){const $e=D.element;v.mothership.broadcastOn([mm()],{target:$e}),wt(C,De=>{De.broadcastOn([mm()],{target:$e})}),Q(Ns.whichView(D))&&(t.focus(),t.nodeChanged(),Ns.refreshToolbar(D))}}),t.addQueryValueHandler("ToggleView",()=>{var be;return(be=Ns.whichView(D))!==null&&be!==void 0?be:""});const K=t_(t),ee=()=>{Ns.refreshToolbar(s.mainUi.outerContainer)};(K===Dd.sliding||K===Dd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const be=t.getWin().innerWidth;be!==k.get()&&(ee(),k.set(be))});const ae={setEnabled:be=>{RS(s,!be)},isEnabled:()=>!On.isDisabled(D)};return{iframeContainer:U.element.dom,editorContainer:D.element.dom,api:ae}}});const h3=t=>/^[0-9\.]+(|px)$/i.test(""+t)?I.some(parseInt(""+t,10)):I.none(),yA=t=>Me(t)?t+"px":t,_A=(t,s,c)=>{const d=s.filter(v=>t<v),p=c.filter(v=>t>v);return d.or(p).getOr(t)},z6=t=>{const s=e_(t),c=XN(t),d=JN(t);return h3(s).map(p=>_A(p,c,d))},W6=t=>z6(t).getOr(e_(t)),U6=t=>{const s=CT(t),c=ST(t),d=ET(t);return h3(s).map(p=>_A(p,c,d))},HG=t=>U6(t).getOr(CT(t)),{ToolbarLocation:p3,ToolbarMode:Yv}=qB,VG=40,zG=(t,s,c,d,p)=>{const{mainUi:v,uiMotherships:C}=c,k=Jy.DOM,D=o_(t),B=wS(t),F=ET(t).or(U6(t)),U=d.shared.header,K=U.isPositionedAtTop,ee=t_(t),ae=ee===Yv.sliding||ee===Yv.floating,be=xn(!1),Fe=()=>be.get()&&!t.removed,$e=Sn=>ae?Sn.fold(J(0),Eo=>Eo.components().length>1?Gs(Eo.components()[1].element):0):0,De=Sn=>{switch(nR(t)){case p3.auto:const Eo=Ns.getToolbar(v.outerContainer),Lt=$e(Eo),cn=Gs(Sn.element)-Lt,Fn=z(s);if(Fn.y>cn)return"top";{const En=Wd(s),Wn=Math.max(En.dom.scrollHeight,Gs(En));return Fn.bottom<Wn-cn||Ct().bottom<Fn.bottom-cn?"bottom":"top"}case p3.bottom:return"bottom";case p3.top:default:return"top"}},ft=Sn=>{p.on(Eo=>{Fr.setModes(Eo,[Sn]),U.setDockingMode(Sn);const Lt=K()?tu.TopToBottom:tu.BottomToTop;Gn(Eo.element,vy,Lt)})},Xe=()=>{p.on(Sn=>{const Eo=F.getOrThunk(()=>{const Lt=h3(gt($o(),"margin-left")).getOr(0);return Wr($o())-Ui(s).left+Lt});Bn(Sn.element,"max-width",Eo+"px")})},Nt=Sn=>{p.on(Eo=>{const Lt=Ns.getToolbar(v.outerContainer),cn=$e(Lt),Fn=z(s),{top:yo,left:En}=_t(t,v.outerContainer.element).fold(()=>({top:K()?Math.max(Fn.y-Gs(Eo.element)+cn,0):Fn.bottom,left:Fn.x}),Ko=>{var yc;const nr=z(Ko),Bl=(yc=Ko.dom.scrollTop)!==null&&yc!==void 0?yc:0,kf=es(Ko,$o()),r1=kf?Math.max(Fn.y-Gs(Eo.element)+cn,0):Fn.y-nr.y+Bl-Gs(Eo.element)+cn;return{top:K()?r1:Fn.bottom,left:kf?Fn.x:Fn.x-nr.x}}),Wn={position:"absolute",left:Math.round(En)+"px",top:Math.round(yo)+"px"},_s=Sn.map(Ko=>{const yc=ia(),nr=150,Bl=window.innerWidth-(En-yc.left);return{width:Math.max(Math.min(Ko,Bl),nr)+"px"}}).getOr({});_l(v.outerContainer.element,{...Wn,..._s})})},_t=(Sn,Eo)=>eg(Sn)?E4(Eo):I.none(),Pt=()=>{wt(C,Sn=>{Sn.broadcastOn([Hp()],{})})},Kt=()=>{if(D)return I.none();if(Ui(v.outerContainer.element).left+Ni(v.outerContainer.element)>=window.innerWidth-VG||Pr(v.outerContainer.element,"width").isSome()){Bn(v.outerContainer.element,"position","absolute"),Bn(v.outerContainer.element,"left","0px"),Co(v.outerContainer.element,"width");const Eo=Ni(v.outerContainer.element);return I.some(Eo)}else return I.none()},bo=Sn=>{if(!Fe())return;D||Xe();const Eo=D?I.none():Kt();ae&&Ns.refreshToolbar(v.outerContainer),D||Nt(Eo),B&&p.on(Sn),Pt()},mn=()=>D||!B||!Fe()?!1:p.get().exists(Sn=>{const Eo=U.getDockingMode(),Lt=De(Sn);return Lt!==Eo?(ft(Lt),!0):!1});return{isVisible:Fe,isPositionedAtTop:K,show:()=>{be.set(!0),Bn(v.outerContainer.element,"display","flex"),k.addClass(t.getBody(),"mce-edit-focus"),wt(C,Sn=>{Co(Sn.element,"display")}),mn(),eg(t)?bo(Sn=>Fr.isDocked(Sn)?Fr.reset(Sn):Fr.refresh(Sn)):bo(Fr.refresh)},hide:()=>{be.set(!1),Bn(v.outerContainer.element,"display","none"),k.removeClass(t.getBody(),"mce-edit-focus"),wt(C,Sn=>{Bn(Sn.element,"display","none")})},update:bo,updateMode:()=>{mn()&&bo(Fr.reset)},repositionPopups:Pt}},j6=(t,s)=>{const c=z(t);return{pos:s?c.y:c.bottom,bounds:c}},WG=(t,s,c,d)=>{const p=xn(j6(s,c.isPositionedAtTop())),v=B=>{const{pos:F,bounds:U}=j6(s,c.isPositionedAtTop()),{pos:K,bounds:ee}=p.get(),ae=U.height!==ee.height||U.width!==ee.width;p.set({pos:F,bounds:U}),ae&&LS(t,B),c.isVisible()&&(K!==F?c.update(Fr.reset):ae&&(c.updateMode(),c.repositionPopups()))};d||(t.on("activate",c.show),t.on("deactivate",c.hide)),t.on("SkinLoaded ResizeWindow",()=>c.update(Fr.reset)),t.on("NodeChange keydown",B=>{requestAnimationFrame(()=>v(B))});let C=0;const k=Ck(()=>c.update(Fr.refresh),33);t.on("ScrollWindow",()=>{const B=ia().left;B!==C&&(C=B,k.throttle()),c.updateMode()}),eg(t)&&t.on("ElementScroll",B=>{c.update(Fr.refresh)});const D=dc();D.set(Dp(Ie.fromDom(t.getBody()),"load",B=>v(B.raw))),t.on("remove",()=>{D.clear()})};var UG=Object.freeze({__proto__:null,render:async(t,s,c,d,p)=>{const{mainUi:v}=s,C=Ks(),k=Ie.fromDom(p.targetNode),D=zG(t,k,s,d,C),B=oR(t);await Qq(t);const F=()=>{if(C.isSet()){D.show();return}C.set(Ns.getHeader(v.outerContainer).getOrDie());const K=lR(t);eg(t)?(Lp(k,v.mothership),Lp(k,s.popupUi.mothership)):AC(K,v.mothership),AC(K,s.dialogUi.mothership),H6(t,s,c,d),Ns.setMenubar(v.outerContainer,b6(t,c)),D.show(),WG(t,k,D,B),t.nodeChanged()};t.on("show",F),t.on("hide",D.hide),B||(t.on("focus",F),t.on("blur",D.hide)),t.on("init",()=>{(t.hasFocus()||B)&&F()}),HI(t,s);const U={show:F,hide:D.hide,setEnabled:K=>{RS(s,!K)},isEnabled:()=>!On.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:U}}});const jG=()=>{const t=Ks(),s=Ks(),c=Ks();return{dialogUi:t,popupUi:s,mainUi:c,getUiMotherships:()=>{const v=t.get().map(k=>k.mothership),C=s.get().map(k=>k.mothership);return v.fold(()=>C.toArray(),k=>C.fold(()=>[k],D=>es(k.element,D.element)?[k]:[k,D]))},lazyGetInOuterOrDie:(v,C)=>()=>c.get().bind(k=>C(k.outerContainer)).getOrDie(`Could not find ${v} element in OuterContainer`)}},ZG="contexttoolbar-show",wA="contexttoolbar-hide",KG=t=>({hide:()=>Zo(t,bp()),getValue:()=>zt.getValue(t)}),Z6=(t,s)=>mt(Y5,(c,d)=>{const p=t.get(c),v=KG(p);s.onAction(v,d.event.buttonApi)}),K6=(t,s,c)=>{const{primary:d,...p}=s.original,v=Yo(pI({...p,type:"button",onAction:q}));return f3(v,c,[Z6(t,s)])},q6=(t,s,c)=>{const{primary:d,...p}=s.original,v=Yo(gI({...p,type:"togglebutton",onAction:q}));return B6(v,c,[Z6(t,s)])},qG=t=>t.type==="contextformtogglebutton",GG=(t,s,c)=>qG(s)?q6(t,s,c):K6(t,s,c),YG=(t,s,c)=>{const d=at(s,C=>os(GG(t,C,c)));return{asSpecs:()=>at(d,C=>C.asSpec()),findPrimary:C=>Qn(s,(k,D)=>k.primary?I.from(d[D]).bind(B=>B.getOpt(C)).filter(ye(On.isDisabled)):I.none())}},G6=(t,s)=>{const c=t.label.fold(()=>({}),v=>({"aria-label":v})),d=os(Mv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Dt([_n.config({mode:"special",onEnter:v=>p.findPrimary(v).map(C=>(_p(C),!0)),onLeft:(v,C)=>(C.cut(),I.none()),onRight:(v,C)=>(C.cut(),I.none())})])})),p=YG(d,t.commands,s);return[{title:I.none(),items:[d.asSpec()]},{title:I.none(),items:p.asSpecs()}]},XG={renderContextForm:(t,s,c)=>xE({type:t,uid:Gt("context-toolbar"),initGroups:G6(s,c),onEscape:I.none,cyclicKeying:!0,providers:c}),buildInitGroups:G6},g3=(t,s,c)=>s.bottom-t.y>=c&&t.bottom-s.y>=c,JG=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const c=rd(Ie.fromDom(t.startContainer),t.startOffset).element;return(ki(c)?oa(c):I.some(c)).filter(Xo).map(p=>p.dom.getBoundingClientRect()).getOr(s)}else return s},b3=t=>{const s=t.selection.getRng(),c=JG(s);if(t.inline){const d=ia();return P(d.left+c.left,d.top+c.top,c.width,c.height)}else{const d=te(Ie.fromDom(t.getBody()));return P(d.x+c.left,d.y+c.top,c.width,c.height)}},QG=(t,s)=>s.filter(c=>ns(c)&&bl(c)).map(te).getOrThunk(()=>b3(t)),eY=(t,s,c)=>{const d=Math.max(t.x+c,s.x),p=Math.min(t.right-c,s.right);return{x:d,width:p-d}},CA=(t,s,c,d,p,v)=>{const C=Ie.fromDom(t.getContainer()),k=mr(C,".tox-editor-header").getOr(C),D=z(k),B=D.y>=s.bottom,F=d&&!B;if(t.inline&&F)return{y:Math.max(D.bottom+v,c.y),bottom:c.bottom};if(t.inline&&!F)return{y:c.y,bottom:Math.min(D.y-v,c.bottom)};const U=p==="line"?z(C):s;return F?{y:Math.max(D.bottom+v,c.y),bottom:Math.min(U.bottom-v,c.bottom)}:{y:Math.max(U.y+v,c.y),bottom:Math.min(D.y-v,c.bottom)}},Y6=(t,s,c,d=0)=>{const p=jf(window),v=z(Ie.fromDom(t.getContentAreaContainer())),C=OT(t)||bS(t)||vS(t),{x:k,width:D}=eY(v,p,d);if(t.inline&&!C)return P(k,p.y,D,p.height);{const B=s.header.isPositionedAtTop(),{y:F,bottom:U}=CA(t,v,p,B,c,d);return P(k,F,D,U-F)}},Xv=12,NE={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},v3={maxHeightFunction:Np(),maxWidthFunction:cA()},tY=(t,s)=>{const c=t.selection.getRng(),d=rd(Ie.fromDom(c.startContainer),c.startOffset);return c.startContainer===c.endContainer&&c.startOffset===c.endOffset-1&&es(d.element,s)},nY=(t,s,c)=>{const d=Pr(t,"position");Bn(t,"position",s);const p=c(t);return d.each(v=>Bn(t,"position",v)),p},X6=t=>t==="node",oY=(t,s,c,d,p)=>{const v=b3(t),C=d.lastElement().exists(k=>es(c,k));if(tY(t,c))return C?ZF:xf;if(C)return nY(s,d.getMode(),()=>g3(v,z(s),-20)&&!d.isReposition()?XZ:ZF);{const k=d.getMode()==="fixed"?p.y+ia().top:p.y,D=Gs(s)+Xv;return k+D<=v.y?xf:fE}},sY=(t,s,c,d)=>{const p=D=>(B,F,U,K,ee)=>{const ae=oY(t,K,D,c,ee),be={...B,y:ee.y,height:ee.height};return{...ae(be,F,U,K,ee),alwaysFit:!0}},v=D=>X6(d)?[p(D)]:[];return s?{onLtr:D=>[ai,$i,gi,Ka,lc,Bs].concat(v(D)),onRtl:D=>[ai,gi,$i,lc,Ka,Bs].concat(v(D))}:{onLtr:D=>[Bs,ai,Ka,$i,lc,gi].concat(v(D)),onRtl:D=>[Bs,ai,lc,gi,Ka,$i].concat(v(D))}},SA=(t,s,c,d)=>s==="line"?{bubble:cm(Xv,0,NE),layouts:{onLtr:()=>[qa],onRtl:()=>[Z2]},overrides:v3}:{bubble:cm(0,Xv,NE,1/Xv),layouts:sY(t,c,d,s),overrides:v3},EA=(t,s)=>{const c=_o(s,v=>v.predicate(t.dom)),{pass:d,fail:p}=vr(c,v=>v.type==="contexttoolbar");return{contextToolbars:d,contextForms:p}},J6=t=>{if(t.length<=1)return t;{const s=v=>ks(t,C=>C.position===v),c=v=>_o(t,C=>C.position===v),d=s("selection"),p=s("node");if(d||p)if(p&&d){const v=c("node"),C=at(c("selection"),k=>({...k,position:"node"}));return v.concat(C)}else return c(d?"selection":"node");else return c("line")}},Q6=t=>{if(t.length<=1)return t;{const s=d=>je(t,p=>p.position===d);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(d=>d.position).fold(()=>[],d=>_o(t,p=>p.position===d))}},e7=(t,s,c)=>{const d=EA(t,s);if(d.contextForms.length>0)return I.some({elem:t,toolbars:[d.contextForms[0]]});{const p=EA(t,c);if(p.contextForms.length>0)return I.some({elem:t,toolbars:[p.contextForms[0]]});if(d.contextToolbars.length>0||p.contextToolbars.length>0){const v=J6(d.contextToolbars.concat(p.contextToolbars));return I.some({elem:t,toolbars:v})}else return I.none()}},rY=(t,s,c)=>t(s)?I.none():Ws(s,d=>{if(Xo(d)){const{contextToolbars:p,contextForms:v}=EA(d,c.inNodeScope),C=v.length>0?v:Q6(p);return C.length>0?I.some({elem:d,toolbars:C}):I.none()}else return I.none()},t),t7=(t,s)=>{const c=Ie.fromDom(s.getBody()),d=C=>es(C,c),p=C=>!d(C)&&!Qr(c,C),v=Ie.fromDom(s.selection.getNode());return p(v)?I.none():e7(v,t.inNodeScope,t.inEditorScope).orThunk(()=>rY(d,v,t))},iY=(t,s)=>{const c={},d=[],p=[],v={},C={},k=(F,U)=>{const K=Yo(TR(U));c[F]=K,K.launch.map(ee=>{v["form:"+F]={...U.launch,type:ee.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(K)}}}),K.scope==="editor"?p.push(K):d.push(K),C[F]=K},D=(F,U)=>{wI(U).each(K=>{U.scope==="editor"?p.push(K):d.push(K),C[F]=K})},B=uo(t);return wt(B,F=>{const U=t[F];U.type==="contextform"?k(F,U):U.type==="contexttoolbar"&&D(F,U)}),{forms:c,inNodeScope:d,inEditorScope:p,lookupTable:C,formNavigators:v}},n7=Gt("forward-slide"),o7=Gt("backward-slide"),y3=Gt("change-slide-event"),_3="tox-pop--resizing",RE=t=>{const s=xn([]);return hr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:c=>{s.set([]),hr.getContent(c).each(d=>{Co(d.element,"visibility")}),zo(c.element,_3),Co(c.element,"width")},inlineBehaviours:Dt([eo("context-toolbar-events",[Gg(D1(),(c,d)=>{d.event.raw.propertyName==="width"&&(zo(c.element,_3),Co(c.element,"width"))}),mt(y3,(c,d)=>{const p=c.element;Co(p,"width");const v=Wr(p);hr.setContent(c,d.event.contents),Kr(p,_3);const C=Wr(p);Bn(p,"width",v+"px"),hr.getContent(c).each(k=>{d.event.focus.bind(D=>(Sr(D),Mu(p))).orThunk(()=>(_n.focusIn(k),pf(Ne(p))))}),setTimeout(()=>{Bn(c.element,"width",C+"px")},0)}),mt(n7,(c,d)=>{hr.getContent(c).each(p=>{s.set(s.get().concat([{bar:p,focus:pf(Ne(c.element))}]))}),bn(c,y3,{contents:d.event.forwardContents,focus:I.none()})}),mt(o7,(c,d)=>{lo(s.get()).each(p=>{s.set(s.get().slice(0,s.get().length-1)),bn(c,y3,{contents:eu(p.bar),focus:p.focus})})})]),_n.config({mode:"special",onEscape:c=>lo(s.get()).fold(()=>t.onEscape(),d=>(Zo(c,o7),I.some(!0)))})]),lazySink:()=>un.value(t.sink)})},w3="tox-pop--transition",aY=(t,s,c,d)=>{const p=d.backstage,v=p.shared,C=ti().deviceType.isTouch,k=Ks(),D=Ks(),B=Ks(),F=la(RE({sink:c,onEscape:()=>(t.focus(),I.some(!0))})),U=()=>{const mn=B.get().getOr("node"),qn=X6(mn)?1:0;return Y6(t,v,mn,qn)},K=()=>!t.removed&&!(C()&&p.isContextMenuOpen()),ee=mn=>xi(Hl(mn,k.get(),es),!0),ae=()=>{if(K()){const mn=U(),qn=xi(B.get(),"node")?QG(t,k.get()):b3(t);return mn.height<=0||!g3(qn,mn,.01)}else return!0},be=()=>{k.clear(),D.clear(),B.clear(),hr.hide(F)},Fe=()=>{if(hr.isOpen(F)){const mn=F.element;Co(mn,"display"),ae()?Bn(mn,"display","none"):(D.set(0),hr.reposition(F))}},$e=mn=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[mn],behaviours:Dt([_n.config({mode:"acyclic"}),eo("pop-dialog-wrap-events",[js(qn=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>_n.focusIn(qn))}),Wa(qn=>{t.shortcuts.remove("ctrl+F9")})])])}),De=Tc(()=>iY(s,mn=>{const qn=Nt([mn]);bn(F,n7,{forwardContents:$e(qn)})})),ft=(mn,qn)=>DE(t,{buttons:mn,toolbar:qn.items,allowToolbarGroups:!1},d.backstage,I.some(["form:"])),Xe=(mn,qn)=>XG.buildInitGroups(mn,qn),Nt=mn=>{const{buttons:qn}=t.ui.registry.getAll(),zn=De(),Ao={...qn,...zn.formNavigators},Sn=t_(t)===Dd.scrolling?Dd.scrolling:Dd.default,Eo=Ye(at(mn,Lt=>Lt.type==="contexttoolbar"?ft(Ao,Lt):Xe(Lt,v.providers)));return xE({type:Sn,uid:Gt("context-toolbar"),initGroups:Eo,onEscape:I.none,cyclicKeying:!0,providers:v.providers})},_t=(mn,qn)=>{const zn=mn==="node"?v.anchors.node(qn):v.anchors.cursor(),Ao=SA(t,mn,C(),{lastElement:k.get,isReposition:()=>xi(D.get(),0),getMode:()=>vi.getMode(c)});return Es(zn,Ao)},Pt=(mn,qn)=>{if(bo.cancel(),!K())return;const zn=Nt(mn),Ao=mn[0].position,Sn=_t(Ao,qn);B.set(Ao),D.set(1);const Eo=F.element;Co(Eo,"display"),ee(qn)||(zo(Eo,w3),vi.reset(c,F)),hr.showWithinBounds(F,$e(zn),{anchor:Sn,transition:{classes:[w3],mode:"placement"}},()=>I.some(U())),qn.fold(k.clear,k.set),ae()&&Bn(Eo,"display","none")};let Kt=!1;const bo=Ck(()=>{if(!(!t.hasFocus()||t.removed||Kt))if(ac(F.element,w3))bo.throttle();else{const mn=De();t7(mn,t).fold(be,qn=>{Pt(qn.toolbars,I.some(qn.elem))})}},17);t.on("init",()=>{t.on("remove",be),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Fe),t.on("click keyup focus SetContent",bo.throttle),t.on(wA,be),t.on(ZG,mn=>{const qn=De();Mt(qn.lookupTable,mn.toolbarKey).each(zn=>{Pt([zn],Dn(mn.target!==t,mn.target)),hr.getContent(F).each(_n.focusIn)})}),t.on("focusout",mn=>{_T.setEditorTimeout(t,()=>{Mu(c.element).isNone()&&Mu(F.element).isNone()&&be()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&be()}),t.on("AfterProgressState",mn=>{mn.state?be():t.hasFocus()&&bo.throttle()}),t.on("dragstart",()=>{Kt=!0}),t.on("dragend drop",()=>{Kt=!1}),t.on("NodeChange",mn=>{Mu(F.element).fold(bo.throttle,q)})})},cY=t=>{wt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],c=>{t.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:Nl(t,c.cmd),onSetup:qT(t,c.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Ya(t),onAction:Nl(t,"JustifyNone")})},C3=(t,s)=>{const c=()=>{const d=s.getOptions(t),p=s.getCurrent(t).map(s.hash),v=Ks();return at(d,C=>({type:"togglemenuitem",text:s.display(C),onSetup:k=>{const D=F=>{F&&(v.on(U=>U.setActive(!1)),v.set(k)),k.setActive(F)};D(xi(p,s.hash(C)));const B=s.watcher(t,C,D);return()=>{v.clear(),B()}},onAction:()=>s.setCurrent(t,C)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:d=>d(c()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:c,onSetup:s.onMenuSetup})},lY=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:ZB,hash:s=>lG(s,["fixed","relative","empty"]).getOr(s),display:Te,watcher:(s,c,d)=>s.formatter.formatChanged("lineheight",d,!1,{value:c}).unbind,getCurrent:s=>I.from(s.queryCommandValue("LineHeight")),setCurrent:(s,c)=>s.execCommand("LineHeight",!1,c),onToolbarSetup:Ya(t),onMenuSetup:Ya(t)}),s7=t=>I.from(eR(t)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:J(c),hash:d=>pe(d.customCode)?d.code:`${d.code}/${d.customCode}`,display:d=>d.title,watcher:(d,p,v)=>{var C;return d.formatter.formatChanged("lang",v,!1,{value:p.code,customValue:(C=p.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:d=>{const p=Ie.fromDom(d.selection.getNode());return Xi(p,v=>I.some(v).filter(Xo).bind(C=>yr(C,"lang").map(D=>{const B=yr(C,"data-mce-lang").getOrUndefined();return{code:D,customCode:B,title:""}})))},setCurrent:(d,p)=>d.execCommand("Lang",!1,p),onToolbarSetup:d=>{const p=dc();return d.setActive(t.formatter.match("lang",{},void 0,!0)),p.set(t.formatter.formatChanged("lang",d.setActive,!0)),KT(p.clear,Ya(t)(d))},onMenuSetup:Ya(t)})),uY=t=>{C3(t,lY(t)),s7(t).each(s=>C3(t,s))},dY=(t,s)=>{C6(t,s),iG(t,s),N6(t,s),e1(t,s),yG(t,s)},fY=t=>rg(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),mY=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:fY(t),onAction:Nl(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Ya(t),onAction:Nl(t,"indent")})},hY=t=>{mY(t)},R_=(t,s)=>c=>{c.setActive(s.get());const d=p=>{s.set(p.state),c.setActive(p.state)};return t.on("PastePlainTextToggle",d),KT(()=>t.off("PastePlainTextToggle",d),Ya(t)(c))},r7=t=>{const s=xn(gS(t)),c=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:c,onSetup:R_(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:c,onSetup:R_(t,s)})},S3=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},pY=t=>{Tm.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,c)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:qT(t,s.name),onAction:S3(t,s.name)})});for(let s=1;s<=6;s++){const c="h"+s;t.ui.registry.addToggleButton(c,{text:c.toUpperCase(),tooltip:"Heading "+s,onSetup:qT(t,c),onAction:S3(t,c)})}},i7=t=>{Tm.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Nl(t,s.action)})}),Tm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Ya(t),onAction:Nl(t,s.action)})})},E3=t=>{Tm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Nl(t,s.action),onSetup:qT(t,s.name)})})},a7=t=>{pY(t),i7(t),E3(t)},c7=t=>{Tm.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Nl(t,s.action)})}),Tm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Ya(t),onAction:Nl(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Ya(t),onAction:S3(t,"code")})},gY=t=>{a7(t),c7(t)},ug=(t,s)=>rg(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),xA=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:ug(t,"hasUndo"),onAction:Nl(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:ug(t,"hasRedo"),onAction:Nl(t,"redo")})},x3=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:ug(t,"hasUndo"),onAction:Nl(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:ug(t,"hasRedo"),onAction:Nl(t,"redo")})},l7=t=>{xA(t),x3(t)},u7=t=>rg(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),bY=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:u7(t),onAction:Nl(t,"mceToggleVisualAid")})},d7=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Nl(t,"mceToggleVisualAid")})},vY=t=>{d7(t),bY(t)},yY=(t,s)=>{cY(t),gY(t),dY(t,s),l7(t),v_(t),vY(t),hY(t),uY(t),r7(t)},_Y=t=>A(t)?t.split(/[ ,]/):t,f7=t=>s=>s.options.get(t),wY=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:c=>c===!1?{value:[],valid:!0}:A(c)||ce(c,A)?{value:_Y(c),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},T3=f7("contextmenu_never_use_native"),TA=f7("contextmenu_avoid_overlap"),m7=t=>k3(t).length===0,k3=t=>{const s=t.ui.registry.getAll().contextMenus,c=t.options.get("contextmenu");return t.options.isSet("contextmenu")?c:_o(c,d=>xo(s,d))},Jv=(t,s)=>({type:"makeshift",x:t,y:s}),CY=(t,s,c)=>Jv(t.x+s,t.y+c),A3=t=>t.type==="longpress"||t.type.indexOf("touch")===0,SY=t=>{if(A3(t)){const s=t.touches[0];return Jv(s.pageX,s.pageY)}else return Jv(t.pageX,t.pageY)},EY=t=>{if(A3(t)){const s=t.touches[0];return Jv(s.clientX,s.clientY)}else return Jv(t.clientX,t.clientY)},kA=(t,s)=>{const c=Jy.DOM.getPos(t);return CY(s,c.x,c.y)},h7=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?SY(s):kA(t.getContentAreaContainer(),EY(s)):p7(t),p7=t=>({type:"selection",root:Ie.fromDom(t.selection.getNode())}),xY=t=>({type:"node",node:I.some(Ie.fromDom(t.selection.getNode())),root:Ie.fromDom(t.getBody())}),g7=(t,s,c)=>{switch(c){case"node":return xY(t);case"point":return h7(t,s);case"selection":return p7(t)}},TY=(t,s,c,d,p,v)=>{const C=c(),k=g7(t,s,v);qb(C,_m.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:I.none()}).map(D=>{s.preventDefault(),hr.showMenuAt(p,{anchor:k},{menu:{markers:Rv("normal")},data:D})})},kY={onLtr:()=>[ai,$i,gi,Ka,lc,Bs,xf,fE,dE,Wk,uE,zk],onRtl:()=>[ai,gi,$i,lc,Ka,Bs,xf,fE,uE,zk,dE,Wk]},b7=12,v7={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},AY=(t,s)=>{const c=t.selection;if(c.isCollapsed()||s.touches.length<1)return!1;{const d=s.touches[0],p=c.getRng();return Ed(t.getWin(),sv.domRange(p)).exists(C=>C.left<=d.clientX&&C.right>=d.clientX&&C.top<=d.clientY&&C.bottom>=d.clientY)}},OY=t=>{const s=t.selection.getRng(),c=()=>{_T.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),v()};t.once("touchend",c);const d=C=>{C.preventDefault(),C.stopImmediatePropagation()};t.on("mousedown",d,!0);const p=()=>v();t.once("longpresscancel",p);const v=()=>{t.off("touchend",c),t.off("longpresscancel",p),t.off("mousedown",d)}},y7=(t,s,c)=>{const d=g7(t,s,c);return{bubble:cm(0,c==="point"?b7:0,v7),layouts:kY,overrides:{maxWidthFunction:cA(),maxHeightFunction:Np()},...d}},DY=(t,s,c,d,p,v,C)=>{const k=y7(t,s,v);qb(c,_m.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!0,search:I.none()}).map(D=>{s.preventDefault();const B=C?rl.HighlightMenuAndItem:rl.HighlightNone;hr.showMenuWithinBounds(p,{anchor:k},{menu:{markers:Rv("normal"),highlightOnOpen:B},data:D,type:"horizontal"},()=>I.some(Y6(t,d.shared,v==="node"?"node":"selection"))),t.dispatch(wA)})},NY=(t,s,c,d,p,v)=>{const C=ti(),k=C.os.isiOS(),D=C.os.isMacOS(),B=C.os.isAndroid(),F=C.deviceType.isTouch(),U=()=>!(B||k||D&&F),K=()=>{const ee=c();DY(t,s,ee,d,p,v,U())};if((D||k)&&v!=="node"){const ee=()=>{OY(t),K()};AY(t,s)?ee():(t.once("selectionchange",ee),t.once("touchend",()=>t.off("selectionchange",ee)))}else K()},_7=t=>A(t)?t==="|":t.type==="separator",O3={type:"separator"},w7=t=>{const s=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(A(t))return t;switch(t.type){case"separator":return O3;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const d=t.getSubmenuItems();return A(d)?d:at(d,w7)}};default:const c=t;return{type:"menuitem",...s(c),onAction:ke(c.onAction)}}},AA=(t,s)=>{if(s.length===0)return t;const d=lo(t).filter(p=>!_7(p)).fold(()=>[],p=>[O3]);return t.concat(d).concat(s).concat([O3])},RY=(t,s,c)=>{const d=we(s,(p,v)=>Mt(t,v.toLowerCase()).map(C=>{const k=C.update(c);if(A(k))return AA(p,k.split(" "));if(k.length>0){const D=at(k,w7);return AA(p,D)}else return p}).getOrThunk(()=>p.concat([v])),[]);return d.length>0&&_7(d[d.length-1])&&d.pop(),d},MY=(t,s)=>s.ctrlKey&&!T3(t),D3=t=>t.type==="longpress"||xo(t,"touches"),N3=(t,s)=>!D3(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),R3=(t,s)=>N3(t,s)?t.selection.getStart(!0):s.target,$Y=(t,s)=>{const c=TA(t),d=N3(t,s)?"selection":"point";if(va(c)){const p=R3(t,s);return zS(Ie.fromDom(p),c)?"node":d}else return d},PY=(t,s,c)=>{const p=ti().deviceType.isTouch,v=la(hr.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Dt([eo("dismissContextMenu",[mt(lf(),(D,B)=>{To.close(D),t.focus()})])])})),C=()=>hr.hide(v),k=D=>{if(T3(t)&&D.preventDefault(),MY(t,D)||m7(t))return;const B=$Y(t,D),F=()=>{const K=R3(t,D),ee=t.ui.registry.getAll(),ae=k3(t);return RY(ee.contextMenus,ae,K)};(p()?NY:TY)(t,D,F,c,v,B)};t.on("init",()=>{const D="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(p()?"":" ResizeWindow");t.on(D,C),t.on("longpress contextmenu",k)})},M3=O.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),OA=t=>s=>s.translate(-t.left,-t.top),DA=t=>s=>s.translate(t.left,t.top),Wh=t=>(s,c)=>we(t,(d,p)=>p(d),zs(s,c)),NA=(t,s,c)=>t.fold(Wh([DA(c),OA(s)]),Wh([OA(s)]),Wh([])),Qv=(t,s,c)=>t.fold(Wh([DA(c)]),Wh([]),Wh([DA(s)])),C7=(t,s,c)=>t.fold(Wh([]),Wh([OA(c)]),Wh([DA(s),OA(c)])),BY=(t,s,c,d,p,v)=>{const C=Qv(t,p,v),k=Qv(s,p,v);return Math.abs(C.left-k.left)<=c&&Math.abs(C.top-k.top)<=d},$3=(t,s,c,d,p,v)=>{const C=Qv(t,p,v),k=Qv(s,p,v),D=Math.abs(C.left-k.left),B=Math.abs(C.top-k.top);return zs(D,B)},P3=(t,s,c)=>{const d=t.fold((p,v)=>({position:I.some("absolute"),left:I.some(p+"px"),top:I.some(v+"px")}),(p,v)=>({position:I.some("absolute"),left:I.some(p-c.left+"px"),top:I.some(v-c.top+"px")}),(p,v)=>({position:I.some("fixed"),left:I.some(p+"px"),top:I.some(v+"px")}));return{right:I.none(),bottom:I.none(),...d}},IY=(t,s,c)=>t.fold((d,p)=>M_(d+s,p+c),(d,p)=>t1(d+s,p+c),(d,p)=>e0(d+s,p+c)),B3=(t,s,c,d)=>{const p=(v,C)=>(k,D)=>{const B=v(s,c,d);return C(k.getOr(B.left),D.getOr(B.top))};return t.fold(p(C7,M_),p(Qv,t1),p(NA,e0))},M_=M3.offset,t1=M3.absolute,e0=M3.fixed,S7=(t,s)=>{const c=Di(t,s);return pe(c)?NaN:parseInt(c,10)},LY=(t,s)=>{const c=t.element,d=S7(c,s.leftAttr),p=S7(c,s.topAttr);return isNaN(d)||isNaN(p)?I.none():I.some(zs(d,p))},FY=(t,s,c)=>{const d=t.element;Gn(d,s.leftAttr,c.left+"px"),Gn(d,s.topAttr,c.top+"px")},E7=(t,s)=>{const c=t.element;lr(c,s.leftAttr),lr(c,s.topAttr)},HY=(t,s,c,d)=>LY(t,s).fold(()=>c,p=>e0(p.left+d.left,p.top+d.top)),VY=(t,s,c,d,p,v)=>{const C=HY(t,s,c,d),k=s.mustSnap?WY(t,s,C,p,v):UY(t,s,C,p,v),D=NA(C,p,v);return FY(t,s,D),k.fold(()=>({coord:e0(D.left,D.top),extra:I.none()}),B=>({coord:B.output,extra:B.extra}))},zY=(t,s)=>{E7(t,s)},x7=(t,s,c,d)=>Qn(t,p=>{const v=p.sensor;return BY(s,v,p.range.left,p.range.top,c,d)?I.some({output:B3(p.output,s,c,d),extra:p.extra}):I.none()}),WY=(t,s,c,d,p)=>{const v=s.getSnapPoints(t);return x7(v,c,d,p).orThunk(()=>we(v,(D,B)=>{const F=B.sensor,U=$3(c,F,B.range.left,B.range.top,d,p);return D.deltas.fold(()=>({deltas:I.some(U),snap:I.some(B)}),K=>{const ee=(U.left+U.top)/2,ae=(K.left+K.top)/2;return ee<=ae?{deltas:I.some(U),snap:I.some(B)}:D})},{deltas:I.none(),snap:I.none()}).snap.map(D=>({output:B3(D.output,c,d,p),extra:D.extra})))},UY=(t,s,c,d,p)=>{const v=s.getSnapPoints(t);return x7(v,c,d,p)},jY=(t,s,c)=>({coord:B3(t.output,t.output,s,c),extra:t.extra});var T7=Object.freeze({__proto__:null,snapTo:(t,s,c,d)=>{const p=s.getTarget(t.element);if(s.repositionTarget){const v=Vi(t.element),C=ia(v),k=_H(p),D=jY(d,C,k),B=P3(D.coord,C,k);xc(p,B)}}});const I3="data-initial-z-index",k7=t=>{oa(t.element).filter(Xo).each(s=>{yr(s,I3).fold(()=>Co(s,"z-index"),c=>Bn(s,"z-index",c)),lr(s,I3)})},ZY=t=>{oa(t.element).filter(Xo).each(s=>{Pr(s,"z-index").each(c=>{Gn(s,I3,c)}),Bn(s,"z-index",gt(t.element,"z-index"))})},A7=(t,s)=>{t.getSystem().addToGui(s),ZY(s)},KY=t=>{k7(t),t.getSystem().removeFromGui(t)},n1=(t,s,c)=>t.getSystem().build(xm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:c}));var O7=wr("snaps",[rt("getSnapPoints"),ho("onSensor"),rt("leftAttr"),rt("topAttr"),He("lazyViewport",Ct),He("mustSnap",!1)]);const L3=[He("useFixed",vt),rt("blockerClass"),He("getTarget",Te),He("onDrag",q),He("repositionTarget",!0),He("onDrop",q),dr("getBounds",Ct),O7],qY=t=>Na(Pr(t,"left"),Pr(t,"top"),Pr(t,"position"),(s,c,d)=>(d==="fixed"?e0:M_)(parseInt(s,10),parseInt(c,10))).getOrThunk(()=>{const s=Ui(t);return t1(s.left,s.top)}),GY=(t,s,c,d,p)=>{const v=p.bounds,C=Qv(s,c,d),k=Za(C.left,v.x,v.x+v.width-p.width),D=Za(C.top,v.y,v.y+v.height-p.height),B=t1(k,D);return s.fold(()=>{const F=C7(B,c,d);return M_(F.left,F.top)},J(B),()=>{const F=NA(B,c,d);return e0(F.left,F.top)})},YY=(t,s,c,d,p,v,C)=>{const k=s.fold(()=>{const D=IY(c,v.left,v.top),B=NA(D,d,p);return e0(B.left,B.top)},D=>{const B=VY(t,D,c,v,d,p);return B.extra.each(F=>{D.onSensor(t,F)}),B.coord});return GY(t,k,d,p,C)},D7=(t,s,c,d)=>{const p=s.getTarget(t.element);if(s.repositionTarget){const v=Vi(t.element),C=ia(v),k=_H(p),D=qY(p),B=YY(t,s.snaps,D,C,k,d,c),F=P3(B,C,k);xc(p,F)}s.onDrag(t,p,d)},N7=(t,s)=>({bounds:t.getBounds(),height:Su(s.element),width:Ni(s.element)}),F3=(t,s,c,d,p)=>{const v=c.update(d,p),C=c.getStartData().getOrThunk(()=>N7(s,t));v.each(k=>{D7(t,s,C,k)})},R7=(t,s,c,d)=>{s.each(KY),c.snaps.each(v=>{zY(t,v)});const p=c.getTarget(t.element);d.reset(),c.onDrop(t,p)},H3=t=>(s,c)=>{const d=p=>{c.setStartData(N7(s,p))};return Os([mt(yp(),p=>{c.getStartData().each(()=>d(p))}),...t(s,c,d)])},XY=t=>Os([mt(io(),t.forceDrop),mt(fr(),t.drop),mt(Us(),(s,c)=>{t.move(c.event)}),mt(Mi(),t.delayDrop)]);var JY=Object.freeze({__proto__:null,getData:t=>I.from(zs(t.x,t.y)),getDelta:(t,s)=>zs(s.left-t.left,s.top-t.top)});const M7=(t,s,c)=>[mt(io(),(d,p)=>{if(p.event.raw.button!==0)return;p.stop();const C=()=>R7(d,I.some(B),t,s),k=BL(C,200),D={drop:C,delayDrop:k.schedule,forceDrop:C,move:U=>{k.cancel(),F3(d,t,s,JY,U)}},B=n1(d,t.blockerClass,XY(D));(()=>{c(d),A7(d,B)})()})],QY=[...L3,Zs("dragger",{handlers:H3(M7)})],$7=t=>Os([mt(Jc(),t.forceDrop),mt(Xf(),t.drop),mt(D0(),t.drop),mt(pd(),(s,c)=>{t.move(c.event)})]),P7=t=>{const s=t[0];return I.some(zs(s.clientX,s.clientY))};var B7=Object.freeze({__proto__:null,getData:t=>{const c=t.raw.touches;return c.length===1?P7(c):I.none()},getDelta:(t,s)=>zs(s.left-t.left,s.top-t.top)});const I7=(t,s,c)=>{const d=Ks(),p=v=>{R7(v,d.get(),t,s),d.clear()};return[mt(Jc(),(v,C)=>{C.stop();const k=()=>p(v),D={drop:k,delayDrop:q,forceDrop:k,move:U=>{F3(v,t,s,B7,U)}},B=n1(v,t.blockerClass,$7(D));d.set(B),(()=>{c(v),A7(v,B)})()}),mt(pd(),(v,C)=>{C.stop(),F3(v,t,s,B7,C.event)}),mt(Xf(),(v,C)=>{C.stop(),p(v)}),mt(D0(),p)]},V3=[...L3,Zs("dragger",{handlers:H3(I7)})],eX=(t,s,c)=>[...M7(t,s,c),...I7(t,s,c)],tX=[...L3,Zs("dragger",{handlers:H3(eX)})];var nX=Object.freeze({__proto__:null,mouse:QY,touch:V3,mouseOrTouch:tX}),oX=Object.freeze({__proto__:null,init:()=>{let t=I.none(),s=I.none();const c=()=>{t=I.none(),s=I.none()},d=(D,B)=>{const F=t.map(U=>D.getDelta(U,B));return t=I.some(B),F},p=(D,B)=>D.getData(B).bind(F=>d(D,F)),v=D=>{s=I.some(D)},C=()=>s,k=J({});return Qc({readState:k,reset:c,update:p,getStartData:C,setStartData:v})}});const t0=iC({branchKey:"mode",branches:nX,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:I.from(t.extra)})},state:oX,apis:T7}),z3=40,MA=z3/2,L7=(t,s,c,d,p,v)=>t.fold(()=>t0.snap({sensor:t1(c-MA,d-MA),range:zs(p,v),output:t1(I.some(c),I.some(d)),extra:{td:s}}),C=>{const k=c-MA,D=d-MA,B=z3,F=z3,U=C.element.dom.getBoundingClientRect();return t0.snap({sensor:t1(k,D),range:zs(B,F),output:t1(I.some(c-U.width/2),I.some(d-U.height/2)),extra:{td:s}})}),F7=(t,s,c)=>{const d=(p,v)=>p.exists(C=>es(C,v));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(p,v)=>{const C=v.td;d(s.get(),C)||(s.set(C),c(C))},mustSnap:!0}},H7=t=>os(Aa.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Dt([t0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),ZS.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),sX=(t,s)=>{const c=xn([]),d=xn([]),p=xn(!1),v=Ks(),C=Ks(),k=Pt=>{const Kt=te(Pt);return L7(ee.getOpt(s),Pt,Kt.x,Kt.y,Kt.width,Kt.height)},D=()=>at(c.get(),Pt=>k(Pt)),B=Pt=>{const Kt=te(Pt);return L7(ae.getOpt(s),Pt,Kt.right,Kt.bottom,Kt.width,Kt.height)},F=()=>at(d.get(),Pt=>B(Pt)),U=F7(D,v,Pt=>{C.get().each(Kt=>{t.dispatch("TableSelectorChange",{start:Pt,finish:Kt})})}),K=F7(F,C,Pt=>{v.get().each(Kt=>{t.dispatch("TableSelectorChange",{start:Kt,finish:Pt})})}),ee=H7(U),ae=H7(K),be=la(ee.asSpec()),Fe=la(ae.asSpec()),$e=(Pt,Kt,bo,mn)=>{const qn=Kt.dom.getBoundingClientRect();Co(Pt.element,"display");const zn=ya(Ie.fromDom(t.getBody())).dom.innerHeight,Ao=bo(qn),Sn=mn(qn,zn);(Ao||Sn)&&Bn(Pt.element,"display","none")},De=(Pt,Kt,bo,mn)=>{const qn=bo(Kt);t0.snapTo(Pt,qn),$e(Pt,Kt,Sn=>Sn[mn]<0,(Sn,Eo)=>Sn[mn]>Eo)},ft=Pt=>De(be,Pt,k,"top"),Xe=()=>v.get().each(ft),Nt=Pt=>De(Fe,Pt,B,"bottom"),_t=()=>C.get().each(Nt);ti().deviceType.isTouch()&&(t.on("TableSelectionChange",Pt=>{p.get()||(yf(s,be),yf(s,Fe),p.set(!0)),v.set(Pt.start),C.set(Pt.finish),Pt.otherCells.each(Kt=>{c.set(Kt.upOrLeftCells),d.set(Kt.downOrRightCells),ft(Pt.start),Nt(Pt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{Xe(),_t()}),t.on("TableSelectionClear",()=>{p.get()&&(Pu(be),Pu(Fe),p.set(!1)),v.clear(),C.clear()}))};var rX=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const iX=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",$A=(t,s,c)=>{var d;const p=(d=s.delimiter)!==null&&d!==void 0?d:"",v=(B,F,U)=>Aa.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":U,"aria-level":U+1}},components:[Ar(B)],action:K=>{t.focus(),t.selection.select(F),t.nodeChanged()},buttonBehaviours:Dt([wf.button(c.isDisabled),wi()])}),C=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ar(` ${p} `)]}),k=B=>we(B,(F,U,K)=>{const ee=v(U.name,U.element,K);return K===0?F.concat([ee]):F.concat([C(),ee])},[]),D=B=>{const F=[];let U=B.length;for(;U-- >0;){const K=B[U];if(K.nodeType===1&&!iX(K)){const ee=Lv(t,K);if(ee.isDefaultPrevented()||F.push({name:ee.name,element:K}),ee.isPropagationStopped())break}}return F};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Dt([_n.config({mode:"flow",selector:"div[role=button]"}),On.config({disabled:c.isDisabled}),wi(),Er.config({}),Vn.config({}),eo("elementPathEvents",[js((B,F)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>_n.focusIn(B)),t.on("NodeChange",U=>{const K=D(U.parents),ee=K.length>0?k(K):[];Vn.set(B,ee)})})])]),components:[]}};var o1;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(o1||(o1={}));const aX=(t,s,c,d,p)=>{const v={height:_A(d+s.top,XN(t),JN(t))};return c===o1.Both&&(v.width=_A(p+s.left,ST(t),ET(t))),v},V7=(t,s,c)=>{const d=Ie.fromDom(t.getContainer()),p=aX(t,s,c,Gs(d),Wr(d));ds(p,(v,C)=>{Me(v)&&Bn(d,C,yA(v))}),cu(t)},cX=t=>{const s=zB(t);return s===!1?o1.None:s==="both"?o1.Both:o1.Vertical},PA=(t,s,c,d)=>{const v=zs(c*20,d*20);return V7(t,v,s),I.some(!0)},lX=(t,s)=>{const c=cX(t);if(c===o1.None)return I.none();const d=c===o1.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return I.some(Hu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(d)},behaviours:[t0.config({mode:"mouse",repositionTarget:!1,onDrag:(p,v,C)=>V7(t,C,c),blockerClass:"tox-blocker"}),_n.config({mode:"special",onLeft:()=>PA(t,c,-1,0),onRight:()=>PA(t,c,1,0),onUp:()=>PA(t,c,0,-1),onDown:()=>PA(t,c,0,1)}),Er.config({}),Rn.config({})]},s.icons))},z7=(t,s)=>{const c=(d,p,v)=>Vn.set(d,[Ar(s.translate(["{0} "+v,p[v]]))]);return Aa.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Dt([wf.button(s.isDisabled),wi(),Er.config({}),Vn.config({}),zt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),eo("wordcount-events",[yd(d=>{const p=zt.getValue(d),v=p.mode==="words"?"characters":"words";zt.setValue(d,{mode:v,count:p.count}),c(d,p.count,v)}),js(d=>{t.on("wordCountUpdate",p=>{const{mode:v}=zt.getValue(d);zt.setValue(d,{mode:v,count:p.wordCount}),c(d,p.wordCount,v)})})])]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},uX=(t,s)=>{const c=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":bc.translate(["Powered by {0}","Tiny"])},innerHtml:rX.trim()},behaviours:Dt([Rn.config({})])}]}),d=()=>{const v=[];return iR(t)&&v.push($A(t,{},s)),t.hasPlugin("wordcount")&&v.push(z7(t,s)),AT(t)&&v.push(c()),v.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:v}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const v=d(),C=lX(t,s);return v.concat(C.toArray())})()}},W7=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),dX=(t,s)=>{const c=t.inline,d=c?UG:FG,p=wS(t)?D_:yH,v=jG(),C=Ks(),k=Ks(),D=Ks(),K=ti().deviceType.isTouch()?["tox-platform-touch"]:[],ee=yS(t),ae=t_(t),be=os({dom:{tag:"div",classes:["tox-anchorbar"]}}),Fe=os({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),$e=()=>v.mainUi.get().map(En=>En.outerContainer).bind(Ns.getHeader),De=()=>un.fromOption(v.dialogUi.get().map(En=>En.sink),"UI has not been rendered"),ft=()=>un.fromOption(v.popupUi.get().map(En=>En.sink),"(popup) UI has not been rendered"),Xe=v.lazyGetInOuterOrDie("anchor bar",be.getOpt),Nt=v.lazyGetInOuterOrDie("bottom anchor bar",Fe.getOpt),_t=v.lazyGetInOuterOrDie("toolbar",Ns.getToolbar),Pt=v.lazyGetInOuterOrDie("throbber",Ns.getThrobber),Kt=gH({popup:ft,dialog:De},t,Xe,Nt),bo=()=>{const En={attributes:{[vy]:ee?tu.BottomToTop:tu.TopToBottom}},Wn=Ns.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Kt.popup,onEscape:()=>{t.focus()}}),_s=Ns.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Kt.popup.shared.getSink,providers:Kt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:mg=>{ZT(t,mg)},type:ae,lazyToolbar:_t,lazyHeader:()=>$e().getOrDie("Could not find header element"),...En}),Ko=Ns.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Kt.popup.shared.providers,onEscape:()=>{t.focus()},type:ae}),yc=vS(t),nr=bS(t),Bl=OT(t),kf=UB(t),r1=mn(),i1=yc||nr||Bl,a0=()=>yc?[Ko]:nr?[_s]:[],a1=kf?[r1,Wn]:[Wn];return Ns.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(i1?[]:["tox-editor-header--empty"]),...En},components:Ye([Bl?a1:[],a0(),o_(t)?[]:[be.asSpec()]]),sticky:wS(t),editor:t,sharedBackstage:Kt.popup.shared})},mn=()=>Ns.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),qn=()=>{const En=Ns.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Wn=Ns.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[En,Wn]}},zn=()=>{const En=lR(t),Wn=es($o(),En)&&gt(En,"display")==="grid",_s={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(K),attributes:{...bc.isRtl()?{dir:"rtl"}:{}}},behaviours:Dt([vi.config({useFixed:()=>p.isDocked($e)})])},Ko={dom:{styles:{width:document.body.clientWidth+"px"}},events:Os([mt(Jf(),Bl=>{Bn(Bl.element,"width",document.body.clientWidth+"px")})])},yc=la(Es(_s,Wn?Ko:{})),nr=dM(yc);return k.set(nr),{sink:yc,mothership:nr}},Ao=()=>{const En={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(K),attributes:{...bc.isRtl()?{dir:"rtl"}:{}}},behaviours:Dt([vi.config({useFixed:()=>p.isDocked($e),getBounds:()=>s.getPopupSinkBounds()})])},Wn=la(En),_s=dM(Wn);return D.set(_s),{sink:Wn,mothership:_s}},Sn=()=>{const En=bo(),Wn=qn(),_s=Ns.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Kt.popup}),Ko=Ns.parts.viewWrapper({backstage:Kt.popup}),yc=VB(t)&&!c?I.some(uX(t,Kt.popup.shared.providers)):I.none(),nr=Ye([ee?[]:[En],c?[]:[Wn],ee?[En]:[]]),Bl=Ns.parts.editorContainer({components:Ye([nr,c?[]:[Fe.asSpec(),...yc.toArray()]])}),kf=_S(t),r1={role:"application",...bc.isRtl()?{dir:"rtl"}:{},...kf?{"aria-hidden":"true"}:{}},i1=la(Ns.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(ee?["tox-tinymce--toolbar-bottom"]:[]).concat(K),styles:{visibility:"hidden",...kf?{opacity:"0",border:"0"}:{}},attributes:r1},components:[Bl,...c?[]:[Ko],_s],behaviours:Dt([wi(),On.config({disableClass:"tox-tinymce--disabled"}),_n.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),a0=dM(i1);return C.set(a0),{mothership:a0,outerContainer:i1}},Eo=En=>{const Wn=yA(W6(t)),_s=yA(HG(t));return t.inline||(Jm("div","width",_s)&&Bn(En.element,"width",_s),Jm("div","height",Wn)?Bn(En.element,"height",Wn):Bn(En.element,"height","400px")),Wn},Lt=En=>{t.addShortcut("alt+F9","focus menubar",()=>{Ns.focusMenubar(En)}),t.addShortcut("alt+F10","focus toolbar",()=>{Ns.focusToolbar(En)}),t.addCommand("ToggleToolbarDrawer",(Wn,_s)=>{_s!=null&&_s.skipFocus?Ns.toggleToolbarDrawerWithoutFocusing(En):Ns.toggleToolbarDrawer(En)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Ns.isToolbarDrawerToggled(En))},cn=En=>{const{mainUi:Wn,popupUi:_s,uiMotherships:Ko}=En;qo(tR(t),(a$,U_)=>{t.ui.registry.addGroupToolbarButton(U_,a$)});const{buttons:yc,menuItems:nr,contextToolbars:Bl,sidebars:kf,views:r1}=t.ui.registry.getAll(),i1=cR(t),a0={menuItems:nr,menus:KB(t),menubar:PB(t),toolbar:i1.getOrThunk(()=>n_(t)),allowToolbarGroups:ae===Dd.floating,buttons:yc,sidebar:kf,views:r1};Lt(Wn.outerContainer),AK(t,Wn.mothership,Ko),p.setup(t,Kt.popup.shared,$e),yY(t,Kt.popup),PY(t,Kt.popup.shared.getSink,Kt.popup),F4(t),gq(t,Pt,Kt.popup.shared),aY(t,Bl,_s.sink,{backstage:Kt.popup}),sX(t,_s.sink);const a1=t.getElement(),mg=Eo(Wn.outerContainer),i$={targetNode:a1,height:mg};return d.render(t,En,a0,Kt.popup,i$)},Fn=En=>(D.set(En.mothership),En),yo=()=>{const En=Sn(),Wn=zn(),_s=eg(t)?Ao():Fn(Wn);v.dialogUi.set(Wn),v.popupUi.set(_s),v.mainUi.set(En);const Ko={popupUi:_s,dialogUi:Wn,mainUi:En,uiMotherships:v.getUiMotherships()};return cn(Ko)};return{popups:{backstage:Kt.popup,getMothership:()=>W7("popups",D)},dialogs:{backstage:Kt.dialog,getMothership:()=>W7("dialogs",k)},renderUI:yo}},fX=(t,s)=>{const c=yr(t,"id").fold(()=>{const d=Gt("dialog-label");return Gn(s,"id",d),d},Te);Gn(t,"aria-labelledby",c)},mX=J([rt("lazySink"),jo("dragBlockClass"),dr("getBounds",Ct),He("useTabstopAt",xt),He("firstTabstop",0),He("eventOrder",{}),ci("modalBehaviours",[_n]),tl("onExecute"),ab("onEscape")]),ME={sketch:Te},U7=J([su({name:"draghandle",overrides:(t,s)=>({behaviours:Dt([t0.config({mode:"mouse",getTarget:c=>im(c,'[role="dialog"]').getOr(c),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Bi({schema:[rt("dom")],name:"title"}),Bi({factory:ME,schema:[rt("dom")],name:"close"}),Bi({factory:ME,schema:[rt("dom")],name:"body"}),su({factory:ME,schema:[rt("dom")],name:"footer"}),Bu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[He("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),He("components",[])],name:"blocker"})]),hX=(t,s,c,d)=>{const p=Ks(),v=ee=>{p.set(ee);const ae=t.lazySink(ee).getOrDie(),be=d.blocker(),Fe=ae.getSystem().build({...be,components:be.components.concat([eu(ee)]),behaviours:Dt([Rn.config({}),eo("dialog-blocker-events",[Gg(Xl(),()=>{Mm.isBlocked(ee)?q():_n.focusIn(ee)})])])});yf(ae,Fe),_n.focusIn(ee)},C=ee=>{p.clear(),oa(ee.element).each(ae=>{ee.getSystem().getByDom(ae).each(be=>{Pu(be)})})},k=ee=>Nh(ee,t,"body"),D=ee=>vs(ee,t,"footer"),B=(ee,ae)=>{Mm.block(ee,ae)},F=ee=>{Mm.unblock(ee)},U=Gt("modal-events"),K={...t.eventOrder,[Rc()]:[U].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:v,hide:C,getBody:k,getFooter:D,setIdle:F,setBusy:B},eventOrder:K,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Or(t.modalBehaviours,[Vn.config({}),_n.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Mm.config({getRoot:p.get}),eo(U,[js(ee=>{fX(ee.element,Nh(ee,t,"title").element)})])])}},Ii=li({name:"ModalDialog",configFields:mX(),partFields:U7(),factory:hX,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,c)=>{t.setBusy(s,c)},setIdle:(t,s)=>{t.setIdle(s)}}}),pX=yn([Lr,kS].concat(Bv)),gX=fh,W3=[SR("button"),Vu,ca("align","end",["start","end"]),FT,Nd,Ig("buttonType",["primary","secondary"])],j7=[...W3,Ph],U3=[Sl("type",["submit","cancel","custom"]),...j7],bX=[Sl("type",["menu"]),ng,c_,Vu,Nc("items",pX),...W3],vX=[...W3,Sl("type",["togglebutton"]),Zr("tooltip"),Vu,ng,hi("active",!1)],yX=Tr("type",{submit:U3,cancel:U3,custom:U3,menu:bX,togglebutton:vX}),_X=[Lr,Ph,Sl("level",["info","warn","error","success"]),IT,He("url","")],wX=yn(_X),CX=t=>[Lr,t],SX=[Lr,Ph,Nd,SR("button"),Vu,uI,Ig("buttonType",["primary","secondary","toolbar"]),FT],EX=yn(SX),$_=[Lr,kS],$m=$_.concat([vR]),xX=$_.concat([r_,Nd]),TX=yn(xX),kX=fh,AX=$m.concat([dI("auto")]),Z7=yn(AX),K7=mp([AS,Ph,IT]),n0=$m.concat([Sa("storageKey","default")]),OX=yn(n0),j3=tr,DX=yn($m),NX=tr,RX=$_.concat([Sa("tag","textarea"),Zr("scriptId"),Zr("scriptUrl"),Fg("settings",void 0)]),MX=$_.concat([Sa("tag","textarea"),Dc("init")]),$X=tf(t=>as("customeditor.old",Ki(MX),t).orThunk(()=>as("customeditor.new",Ki(RX),t))),o0=tr,BX=yn($m),IX=mh(),LX=t=>[Lr,O0("columns"),t],FX=[Lr,Zr("html"),ca("presets","presentation",["presentation","document"])],HX=yn(FX),VX=$m.concat([hi("border",!1),hi("sandboxed",!0),hi("streamContent",!1),hi("transparent",!0)]),zX=yn(VX),WX=tr,K3=yn($_.concat([Gi("height")])),$E=yn([Zr("url"),pp("zoom"),pp("cachedWidth"),pp("cachedHeight")]),q3=$m.concat([Gi("inputMode"),Gi("placeholder"),hi("maximized",!1),Nd]),BA=yn(q3),s0=tr,IA=t=>[Lr,r_,t,ca("align","start",["start","center","end"])],UX=[Ph,AS],q7=[Ph,Nc("items",qf("items",()=>G3))],G3=lh([yn(UX),yn(q7)]),G7=$m.concat([Nc("items",G3),Nd]),jX=yn(G7),ZX=tr,KX=$m.concat([O1("items",[Ph,AS]),gp("size",1),Nd]),Y7=yn(KX),X7=tr,Y3=$m.concat([hi("constrain",!0),Nd]),qX=yn(Y3),J7=yn([Zr("width"),Zr("height")]),GX=$_.concat([r_,gp("min",0),gp("max",0)]),Q7=yn(GX),YX=dh,XX=[Lr,Nc("header",tr),Nc("cells",qt(tr))],JX=yn(XX),X3=$m.concat([Gi("placeholder"),hi("maximized",!1),Nd]),J3=yn(X3),QX=tr,Q3=[Sl("type",["directory","leaf"]),wm,Zr("id"),Du("menu",BH)],e8=yn(Q3),t8=Q3.concat([Nc("children",qf("children",()=>rc("type",{directory:n8,leaf:e8})))]),n8=yn(t8),eJ=rc("type",{directory:n8,leaf:e8}),r0=[Lr,Nc("items",eJ),of("onLeafAction"),of("onToggleExpand"),sf("defaultExpandedIds",[],tr),Gi("defaultSelectedId")],o8=yn(r0),tJ=$m.concat([ca("filetype","file",["image","media","file"]),Nd]),LA=yn(tJ),P_=yn([AS,wR]),B_=t=>si("items","items",Uo(),qt(tf(s=>as(`Checking item of ${t}`,FA,s).fold(c=>un.error(hh(c)),c=>un.value(c))))),FA=Pg(()=>rc("type",{alertbanner:wX,bar:yn(CX(B_("bar"))),button:EX,checkbox:TX,colorinput:OX,colorpicker:DX,dropzone:BX,grid:yn(LX(B_("grid"))),iframe:zX,input:BA,listbox:jX,selectbox:Y7,sizeinput:qX,slider:Q7,textarea:J3,urlinput:LA,customeditor:$X,htmlpanel:HX,imagepreview:K3,collection:Z7,label:yn(IA(B_("label"))),table:JX,tree:o8,panel:cl})),HA=[Lr,He("classes",[]),Nc("items",FA)],cl=yn(HA),VA=[SR("tab"),wm,Nc("items",FA)],s8=[Lr,O1("tabs",VA)],r8=yn(s8),nJ=j7,oJ=yX,s1=yn([Zr("title"),Va("body",rc("type",{panel:cl,tabpanel:r8})),Sa("size","normal"),sf("buttons",[],oJ),He("initialData",{}),dr("onAction",q),dr("onChange",q),dr("onSubmit",q),dr("onClose",q),dr("onCancel",q),dr("onTabChange",q)]),Fne=t=>as("dialog",s1,t),sJ=yn([Sl("type",["cancel","custom"]),...nJ]),i8=yn([Zr("title"),Zr("url"),pp("height"),pp("width"),md("buttons",sJ),dr("onAction",q),dr("onCancel",q),dr("onClose",q),dr("onMessage",q)]),I_=t=>as("dialog",i8,t),L_=t=>R(t)?[t].concat(Ae(Hd(t),L_)):j(t)?Ae(t,L_):[],a8=t=>A(t.type)&&A(t.name),rJ={checkbox:kX,colorinput:j3,colorpicker:NX,dropzone:IX,input:s0,iframe:WX,imagepreview:$E,selectbox:X7,sizeinput:J7,slider:YX,listbox:ZX,size:J7,textarea:QX,urlinput:P_,customeditor:o0,collection:K7,togglemenuitem:gX},iJ=t=>I.from(rJ[t.type]),aJ=t=>_o(L_(t),a8),cJ=t=>{const s=aJ(t),c=Ae(s,d=>iJ(d).fold(()=>[],p=>[Va(d.name,p)]));return yn(c)},i0=t=>{var s;const c=Yo(Fne(t)),d=cJ(t),p=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:c,dataValidator:d,initialData:p}},F_={open:(t,s)=>{const c=i0(s);return t(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(t,s)=>{const c=Yo(I_(s));return t(c)},redial:t=>i0(t)};var lJ=Object.freeze({__proto__:null,events:(t,s)=>{const c=(d,p)=>{t.updateState.each(v=>{const C=v(d,p);s.set(C)}),t.renderComponents.each(v=>{const C=v(p,s.get());(t.reuseDom?eB:QP)(d,C)})};return Os([mt(vd(),(d,p)=>{const v=p;if(!v.universal){const C=t.channel;mo(v.channels,C)&&c(d,v.data)}}),js((d,p)=>{t.initialData.each(v=>{c(d,v)})})])}}),uJ=Object.freeze({__proto__:null,getState:(t,s,c)=>c}),dJ=[rt("channel"),jo("renderComponents"),jo("updateState"),jo("initialData"),hi("reuseDom",!0)],fJ=Object.freeze({__proto__:null,init:()=>{const t=xn(I.none()),s=()=>t.set(I.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const qu=Qi({fields:dJ,name:"reflecting",active:lJ,apis:uJ,state:fJ}),e$=t=>{const s=[],c={};return ds(t,(d,p)=>{d.fold(()=>{s.push(p)},v=>{c[p]=v})}),s.length>0?un.error(s):un.value(c)},mJ=(t,s,c)=>{const d=os(C_.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:at(t.items,v=>l4(p,v,s,c))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:Dt([_n.config({mode:"acyclic",useTabstopAt:ye(E_)}),Ef.memento(d),S_(d,{postprocess:p=>e$(p).fold(v=>(console.error(v),{}),Te)}),eo("dialog-body-panel",[mt(Xl(),(p,v)=>{p.getSystem().broadcastOn([Ek],{newFocus:I.some(v.event.target)})})])])}},Vne=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:mS(t.action),behaviours:Or(t.tabButtonBehaviours,[Rn.config({}),_n.config({mode:"execution",useSpace:!0,useEnter:!0}),zt.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),e=qr({name:"TabButton",configFields:[He("uid",void 0),rt("value"),si("dom","dom",Zf(()=>({attributes:{role:"tab",id:Gt("aria"),"aria-selected":"false"}})),Ac()),jo("action"),He("domModification",{}),ci("tabButtonBehaviours",[Rn,_n,zt]),rt("view")],factory:Vne}),n=J([rt("tabs"),rt("dom"),He("clickToDismiss",!1),ci("tabbarBehaviours",[Lo,_n]),Ap(["tabClass","selectedClass"])]),o=Hy({factory:e,name:"tabs",unit:"tab",overrides:t=>{const s=(d,p)=>{Lo.dehighlight(d,p),bn(d,gh(),{tabbar:d,button:p})},c=(d,p)=>{Lo.highlight(d,p),bn(d,jg(),{tabbar:d,button:p})};return{action:d=>{const p=d.getSystem().getByUid(t.uid).getOrDie(),v=Lo.isHighlighted(p,d);(()=>v&&t.clickToDismiss?s:v?q:c)()(p,d)},domModification:{classes:[t.markers.tabClass]}}}}),a=J([o]),u=(t,s,c,d)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Or(t.tabbarBehaviours,[Lo.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(p,v)=>{Gn(v.element,"aria-selected","true")},onDehighlight:(p,v)=>{Gn(v.element,"aria-selected","false")}}),_n.config({mode:"flow",getInitial:p=>Lo.getHighlighted(p).map(v=>v.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),m=li({name:"Tabbar",configFields:n(),partFields:a(),factory:u}),b=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Or(t.tabviewBehaviours,[Vn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),S=qr({name:"Tabview",configFields:[ci("tabviewBehaviours",[Vn])],factory:b}),T=J([He("selectFirst",!0),ho("onChangeTab"),ho("onDismissTab"),He("tabs",[]),ci("tabSectionBehaviours",[])]),$=Bi({factory:m,schema:[rt("dom"),nf("markers",[rt("tabClass"),rt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),W=Bi({factory:S,name:"tabview"}),V=J([$,W]),X=(t,s,c,d)=>{const p=C=>{const k=zt.getValue(C);vs(C,t,"tabview").each(D=>{je(t.tabs,F=>F.value===k).each(F=>{const U=F.view();yr(C.element,"id").each(K=>{Gn(D.element,"aria-labelledby",K)}),Vn.set(D,U),t.onChangeTab(D,C,U)})})},v=(C,k)=>{vs(C,t,"tabbar").each(D=>{k(D).each(_p)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Cb(t.tabSectionBehaviours),events:Os(Ye([t.selectFirst?[js((C,k)=>{v(C,Lo.getFirst)})]:[],[mt(jg(),(C,k)=>{const D=k.event.button;p(D)}),mt(gh(),(C,k)=>{const D=k.event.button;t.onDismissTab(C,D)})]])),apis:{getViewItems:C=>vs(C,t,"tabview").map(k=>Vn.contents(k)).getOr([]),showTab:(C,k)=>{v(C,B=>{const F=Lo.getCandidates(B);return je(F,K=>zt.getValue(K)===k).filter(K=>!Lo.isHighlighted(B,K))})}}}},ue=li({name:"TabSection",configFields:T(),partFields:V(),factory:X,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,c)=>{t.showTab(s,c)}}}),he=(t,s,c)=>at(t,(d,p)=>{Vn.set(c,t[p].view());const v=s.dom.getBoundingClientRect();return Vn.set(c,[]),v.height}),re=t=>kn(vn(t,(s,c)=>s>c?-1:s<c?1:0)),fe=(t,s,c)=>{const d=Wd(t).dom,p=im(t,".tox-dialog-wrap").getOr(t),v=gt(p,"position")==="fixed";let C;v?C=Math.max(d.clientHeight,window.innerHeight):C=Math.max(d.offsetHeight,d.scrollHeight);const k=Gs(s),B=s.dom.offsetLeft>=c.dom.offsetLeft+Wr(c)?Math.max(Gs(c),k):k,F=parseInt(gt(t,"margin-top"),10)||0,U=parseInt(gt(t,"margin-bottom"),10)||0,ee=Gs(t)+F+U-B;return C-ee},Re=(t,s)=>{kn(t).each(c=>ue.showTab(s,c.value))},Pe=(t,s)=>{Bn(t,"height",s+"px"),Bn(t,"flex-basis",s+"px")},Be=(t,s,c)=>{im(t,'[role="dialog"]').each(d=>{mr(d,'[role="tablist"]').each(p=>{c.get().map(v=>(Bn(s,"height","0"),Bn(s,"flex-basis","0"),Math.min(v,fe(d,s,p)))).each(v=>{Pe(s,v)})})})},Ve=t=>mr(t,'[role="tabpanel"]'),ht=t=>{const s=Ks();return{extraEvents:[js(p=>{const v=p.element;Ve(v).each(C=>{Bn(C,"visibility","hidden"),p.getSystem().getByDom(C).toOptional().each(k=>{const D=he(t,C,k);re(D).fold(s.clear,s.set)}),Be(v,C,s),Co(C,"visibility"),Re(t,p),requestAnimationFrame(()=>{Be(v,C,s)})})}),mt(Jf(),p=>{const v=p.element;Ve(v).each(C=>{Be(v,C,s)})}),mt(KL,(p,v)=>{const C=p.element;Ve(C).each(k=>{const D=pf(Ne(k));Bn(k,"visibility","hidden");const B=Pr(k,"height").map(K=>parseInt(K,10));Co(k,"height"),Co(k,"flex-basis");const F=k.dom.getBoundingClientRect().height;B.forall(K=>F>K)?(s.set(F),Be(C,k,s)):B.each(K=>{Pe(k,K)}),Co(k,"visibility"),D.each(Sr)})})],selectFirst:!1}},dn="send-data-to-section",yt="send-data-to-view",et=(t,s,c)=>{const d=xn({}),p=B=>{const F=zt.getValue(B),U=e$(F).getOr({}),K=d.get(),ee=Es(K,U);d.set(ee)},v=B=>{const F=d.get();zt.setValue(B,F)},C=xn(null),k=at(t.tabs,B=>({value:B.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ar(c.shared.providers.translate(B.title))],view:()=>[C_.sketch(F=>({dom:{tag:"div",classes:["tox-form"]},components:at(B.items,U=>l4(F,U,s,c)),formBehaviours:Dt([_n.config({mode:"acyclic",useTabstopAt:ye(E_)}),eo("TabView.form.events",[js(v),Wa(p)]),uc.config({channels:jt([{key:dn,value:{onReceive:p}},{key:yt,value:{onReceive:v}}])})])}))]})),D=ht(k);return ue.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(B,F,U)=>{const K=zt.getValue(F);bn(B,ZL,{name:K,oldName:C.get()}),C.set(K)},tabs:k,components:[ue.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[m.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Dt([Er.config({})])}),ue.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:D.selectFirst,tabSectionBehaviours:Dt([eo("tabpanel",D.extraEvents),_n.config({mode:"acyclic"}),So.config({find:B=>kn(ue.getViewItems(B))}),Kb(I.none(),B=>(B.getSystem().broadcastOn([dn],{}),d.get()),(B,F)=>{d.set(F),B.getSystem().broadcastOn([yt],{})})])})},ct=(t,s,c,d,p)=>{const v=D=>{const B=D.body;switch(B.type){case"tabpanel":return[et(B,D.initialData,d)];default:return[mJ(B,D.initialData,d)]}},C=(D,B)=>I.some({isTabPanel:()=>B.body.type==="tabpanel"}),k={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(D=>({id:D})).getOr({}),...p?k:{}}},components:[],behaviours:Dt([Ef.childAt(0),qu.config({channel:`${W5}-${s}`,updateState:C,renderComponents:v,initialData:t})])}},It=(t,s,c,d,p)=>ct(t,s,I.some(c),d,p),Ht=(t,s,c)=>{const d=ct(t,s,I.none(),c,!1);return Ii.parts.body(d)},on=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[VM(I.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Dt([Er.config({}),Rn.config({})])})]}],behaviours:Dt([_n.config({mode:"acyclic",useTabstopAt:ye(E_)})])};return Ii.parts.body(s)};function Mn(t){return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Mn(t)}function $n(t,s){return $n=Object.setPrototypeOf||function(d,p){return d.__proto__=p,d},$n(t,s)}function Po(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wo(t,s,c){return Po()?Wo=Reflect.construct:Wo=function(p,v,C){var k=[null];k.push.apply(k,v);var D=Function.bind.apply(p,k),B=new D;return C&&$n(B,C.prototype),B},Wo.apply(null,arguments)}function ys(t){return Xa(t)||Li(t)||Rt(t)||Fo()}function Xa(t){if(Array.isArray(t))return rn(t)}function Li(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rt(t,s){if(t){if(typeof t=="string")return rn(t,s);var c=Object.prototype.toString.call(t).slice(8,-1);if(c==="Object"&&t.constructor&&(c=t.constructor.name),c==="Map"||c==="Set")return Array.from(t);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return rn(t,s)}}function rn(t,s){(s==null||s>t.length)&&(s=t.length);for(var c=0,d=new Array(s);c<s;c++)d[c]=t[c];return d}function Fo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Do=Object.hasOwnProperty,fn=Object.setPrototypeOf,gn=Object.isFrozen,Ot=Object.getPrototypeOf,Ln=Object.getOwnPropertyDescriptor,Yn=Object.freeze,Bo=Object.seal,Js=Object.create,Zn=typeof Reflect<"u"&&Reflect,No=Zn.apply,Nr=Zn.construct;No||(No=function(s,c,d){return s.apply(c,d)}),Yn||(Yn=function(s){return s}),Bo||(Bo=function(s){return s}),Nr||(Nr=function(s,c){return Wo(s,ys(c))});var Rs=ll(Array.prototype.forEach),xr=ll(Array.prototype.pop),ir=ll(Array.prototype.push),Fs=ll(String.prototype.toLowerCase),ui=ll(String.prototype.match),Ja=ll(String.prototype.replace),Qa=ll(String.prototype.indexOf),Pm=ll(String.prototype.trim),Hr=ll(RegExp.prototype.test),dg=Bm(TypeError);function ll(t){return function(s){for(var c=arguments.length,d=new Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return No(t,s,d)}}function Bm(t){return function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return Nr(t,c)}}function Io(t,s){fn&&fn(t,null);for(var c=s.length;c--;){var d=s[c];if(typeof d=="string"){var p=Fs(d);p!==d&&(gn(s)||(s[c]=p),d=p)}t[d]=!0}return t}function pr(t){var s=Js(null),c;for(c in t)No(Do,t,[c])&&(s[c]=t[c]);return s}function $l(t,s){for(;t!==null;){var c=Ln(t,s);if(c){if(c.get)return ll(c.get);if(typeof c.value=="function")return ll(c.value)}t=Ot(t)}function d(p){return console.warn("fallback value for",p),null}return d}var Tf=Yn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fu=Yn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mu=Yn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Uh=Yn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Da=Yn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fg=Yn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Im=Yn(["#text"]),$d=Yn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),jh=Yn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),PE=Yn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H_=Yn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),WA=Bo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),t$=Bo(/<%[\w\W]*|[\w\W]*%>/gm),n$=Bo(/^data-[\-\w.\u00B7-\uFFFF]/),c8=Bo(/^aria-[\-\w]+$/),Lm=Bo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V_=Bo(/^(?:\w+script|data):/i),Ke=Bo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qe=Bo(/^html$/i),$t=function(){return typeof window>"u"?null:window},kt=function(s,c){if(Mn(s)!=="object"||typeof s.createPolicy!="function")return null;var d=null,p="data-tt-policy-suffix";c.currentScript&&c.currentScript.hasAttribute(p)&&(d=c.currentScript.getAttribute(p));var v="dompurify"+(d?"#"+d:"");try{return s.createPolicy(v,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+v+" could not be created."),null}};function wn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$t(),s=function(it){return wn(it)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var c=t.document,d=t.document,p=t.DocumentFragment,v=t.HTMLTemplateElement,C=t.Node,k=t.Element,D=t.NodeFilter,B=t.NamedNodeMap,F=B===void 0?t.NamedNodeMap||t.MozNamedAttrMap:B,U=t.HTMLFormElement,K=t.DOMParser,ee=t.trustedTypes,ae=k.prototype,be=$l(ae,"cloneNode"),Fe=$l(ae,"nextSibling"),$e=$l(ae,"childNodes"),De=$l(ae,"parentNode");if(typeof v=="function"){var ft=d.createElement("template");ft.content&&ft.content.ownerDocument&&(d=ft.content.ownerDocument)}var Xe=kt(ee,c),Nt=Xe?Xe.createHTML(""):"",_t=d,Pt=_t.implementation,Kt=_t.createNodeIterator,bo=_t.createDocumentFragment,mn=_t.getElementsByTagName,qn=c.importNode,zn={};try{zn=pr(d).documentMode?d.documentMode:{}}catch{}var Ao={};s.isSupported=typeof De=="function"&&Pt&&typeof Pt.createHTMLDocument<"u"&&zn!==9;var Sn=WA,Eo=t$,Lt=n$,cn=c8,Fn=V_,yo=Ke,En=Lm,Wn=null,_s=Io({},[].concat(ys(Tf),ys(fu),ys(mu),ys(Da),ys(Im))),Ko=null,yc=Io({},[].concat(ys($d),ys(jh),ys(PE),ys(H_))),nr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Bl=null,kf=null,r1=!0,i1=!0,a0=!1,a1=!1,mg=!1,i$=!1,a$=!1,U_=!1,d8=!1,f8=!1,Xne=!0,gJ=!0,c$=!1,UA={},jA=null,Jne=Io({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Qne=null,eoe=Io({},["audio","video","img","source","image","track"]),bJ=null,toe=Io({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),vJ="http://www.w3.org/1998/Math/MathML",yJ="http://www.w3.org/2000/svg",j_="http://www.w3.org/1999/xhtml",m8=j_,_J=!1,ZA,Eue=["application/xhtml+xml","text/html"],xue="text/html",IE,KA=null,Tue=d.createElement("form"),noe=function(it){return it instanceof RegExp||it instanceof Function},wJ=function(it){KA&&KA===it||((!it||Mn(it)!=="object")&&(it={}),it=pr(it),Wn="ALLOWED_TAGS"in it?Io({},it.ALLOWED_TAGS):_s,Ko="ALLOWED_ATTR"in it?Io({},it.ALLOWED_ATTR):yc,bJ="ADD_URI_SAFE_ATTR"in it?Io(pr(toe),it.ADD_URI_SAFE_ATTR):toe,Qne="ADD_DATA_URI_TAGS"in it?Io(pr(eoe),it.ADD_DATA_URI_TAGS):eoe,jA="FORBID_CONTENTS"in it?Io({},it.FORBID_CONTENTS):Jne,Bl="FORBID_TAGS"in it?Io({},it.FORBID_TAGS):{},kf="FORBID_ATTR"in it?Io({},it.FORBID_ATTR):{},UA="USE_PROFILES"in it?it.USE_PROFILES:!1,r1=it.ALLOW_ARIA_ATTR!==!1,i1=it.ALLOW_DATA_ATTR!==!1,a0=it.ALLOW_UNKNOWN_PROTOCOLS||!1,a1=it.SAFE_FOR_TEMPLATES||!1,mg=it.WHOLE_DOCUMENT||!1,U_=it.RETURN_DOM||!1,d8=it.RETURN_DOM_FRAGMENT||!1,f8=it.RETURN_TRUSTED_TYPE||!1,a$=it.FORCE_BODY||!1,Xne=it.SANITIZE_DOM!==!1,gJ=it.KEEP_CONTENT!==!1,c$=it.IN_PLACE||!1,En=it.ALLOWED_URI_REGEXP||En,m8=it.NAMESPACE||j_,it.CUSTOM_ELEMENT_HANDLING&&noe(it.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(nr.tagNameCheck=it.CUSTOM_ELEMENT_HANDLING.tagNameCheck),it.CUSTOM_ELEMENT_HANDLING&&noe(it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(nr.attributeNameCheck=it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),it.CUSTOM_ELEMENT_HANDLING&&typeof it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(nr.allowCustomizedBuiltInElements=it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ZA=Eue.indexOf(it.PARSER_MEDIA_TYPE)===-1?ZA=xue:ZA=it.PARSER_MEDIA_TYPE,IE=ZA==="application/xhtml+xml"?function(pn){return pn}:Fs,a1&&(i1=!1),d8&&(U_=!0),UA&&(Wn=Io({},ys(Im)),Ko=[],UA.html===!0&&(Io(Wn,Tf),Io(Ko,$d)),UA.svg===!0&&(Io(Wn,fu),Io(Ko,jh),Io(Ko,H_)),UA.svgFilters===!0&&(Io(Wn,mu),Io(Ko,jh),Io(Ko,H_)),UA.mathMl===!0&&(Io(Wn,Da),Io(Ko,PE),Io(Ko,H_))),it.ADD_TAGS&&(Wn===_s&&(Wn=pr(Wn)),Io(Wn,it.ADD_TAGS)),it.ADD_ATTR&&(Ko===yc&&(Ko=pr(Ko)),Io(Ko,it.ADD_ATTR)),it.ADD_URI_SAFE_ATTR&&Io(bJ,it.ADD_URI_SAFE_ATTR),it.FORBID_CONTENTS&&(jA===Jne&&(jA=pr(jA)),Io(jA,it.FORBID_CONTENTS)),gJ&&(Wn["#text"]=!0),mg&&Io(Wn,["html","head","body"]),Wn.table&&(Io(Wn,["tbody"]),delete Bl.tbody),Yn&&Yn(it),KA=it)},ooe=Io({},["mi","mo","mn","ms","mtext"]),soe=Io({},["foreignobject","desc","title","annotation-xml"]),kue=Io({},["title","style","font","a","script"]),h8=Io({},fu);Io(h8,mu),Io(h8,Uh);var CJ=Io({},Da);Io(CJ,fg);var Aue=function(it){var pn=De(it);(!pn||!pn.tagName)&&(pn={namespaceURI:j_,tagName:"template"});var to=Fs(it.tagName),di=Fs(pn.tagName);return it.namespaceURI===yJ?pn.namespaceURI===j_?to==="svg":pn.namespaceURI===vJ?to==="svg"&&(di==="annotation-xml"||ooe[di]):Boolean(h8[to]):it.namespaceURI===vJ?pn.namespaceURI===j_?to==="math":pn.namespaceURI===yJ?to==="math"&&soe[di]:Boolean(CJ[to]):it.namespaceURI===j_?pn.namespaceURI===yJ&&!soe[di]||pn.namespaceURI===vJ&&!ooe[di]?!1:!CJ[to]&&(kue[to]||!h8[to]):!1},c0=function(it){ir(s.removed,{element:it});try{it.parentNode.removeChild(it)}catch{try{it.outerHTML=Nt}catch{it.remove()}}},p8=function(it,pn){try{ir(s.removed,{attribute:pn.getAttributeNode(it),from:pn})}catch{ir(s.removed,{attribute:null,from:pn})}if(pn.removeAttribute(it),it==="is"&&!Ko[it])if(U_||d8)try{c0(pn)}catch{}else try{pn.setAttribute(it,"")}catch{}},roe=function(it){var pn,to;if(a$)it="<remove></remove>"+it;else{var di=ui(it,/^[\r\n\t ]+/);to=di&&di[0]}ZA==="application/xhtml+xml"&&(it='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+it+"</body></html>");var Af=Xe?Xe.createHTML(it):it;if(m8===j_)try{pn=new K().parseFromString(Af,ZA)}catch{}if(!pn||!pn.documentElement){pn=Pt.createDocument(m8,"template",null);try{pn.documentElement.innerHTML=_J?"":Af}catch{}}var Yu=pn.body||pn.documentElement;return it&&to&&Yu.insertBefore(d.createTextNode(to),Yu.childNodes[0]||null),m8===j_?mn.call(pn,mg?"html":"body")[0]:mg?pn.documentElement:Yu},ioe=function(it){return Kt.call(it.ownerDocument||it,it,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT,null,!1)},Oue=function(it){return it instanceof U&&(typeof it.nodeName!="string"||typeof it.textContent!="string"||typeof it.removeChild!="function"||!(it.attributes instanceof F)||typeof it.removeAttribute!="function"||typeof it.setAttribute!="function"||typeof it.namespaceURI!="string"||typeof it.insertBefore!="function")},l$=function(it){return Mn(C)==="object"?it instanceof C:it&&Mn(it)==="object"&&typeof it.nodeType=="number"&&typeof it.nodeName=="string"},l0=function(it,pn,to){Ao[it]&&Rs(Ao[it],function(di){di.call(s,pn,to,KA)})},aoe=function(it){var pn;if(l0("beforeSanitizeElements",it,null),Oue(it)||Hr(/[\u0080-\uFFFF]/,it.nodeName))return c0(it),!0;var to=IE(it.nodeName);if(l0("uponSanitizeElement",it,{tagName:to,allowedTags:Wn}),it.hasChildNodes()&&!l$(it.firstElementChild)&&(!l$(it.content)||!l$(it.content.firstElementChild))&&Hr(/<[/\w]/g,it.innerHTML)&&Hr(/<[/\w]/g,it.textContent)||to==="select"&&Hr(/<template/i,it.innerHTML))return c0(it),!0;if(!Wn[to]||Bl[to]){if(!Bl[to]&&loe(to)&&(nr.tagNameCheck instanceof RegExp&&Hr(nr.tagNameCheck,to)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(to)))return!1;if(gJ&&!jA[to]){var di=De(it)||it.parentNode,Af=$e(it)||it.childNodes;if(Af&&di)for(var Yu=Af.length,hu=Yu-1;hu>=0;--hu)di.insertBefore(be(Af[hu],!0),Fe(it))}return c0(it),!0}return it instanceof k&&!Aue(it)||(to==="noscript"||to==="noembed")&&Hr(/<\/no(script|embed)/i,it.innerHTML)?(c0(it),!0):(a1&&it.nodeType===3&&(pn=it.textContent,pn=Ja(pn,Sn," "),pn=Ja(pn,Eo," "),it.textContent!==pn&&(ir(s.removed,{element:it.cloneNode()}),it.textContent=pn)),l0("afterSanitizeElements",it,null),!1)},coe=function(it,pn,to){if(Xne&&(pn==="id"||pn==="name")&&(to in d||to in Tue))return!1;if(!(i1&&!kf[pn]&&Hr(Lt,pn))){if(!(r1&&Hr(cn,pn))){if(!Ko[pn]||kf[pn]){if(!(loe(it)&&(nr.tagNameCheck instanceof RegExp&&Hr(nr.tagNameCheck,it)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(it))&&(nr.attributeNameCheck instanceof RegExp&&Hr(nr.attributeNameCheck,pn)||nr.attributeNameCheck instanceof Function&&nr.attributeNameCheck(pn))||pn==="is"&&nr.allowCustomizedBuiltInElements&&(nr.tagNameCheck instanceof RegExp&&Hr(nr.tagNameCheck,to)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(to))))return!1}else if(!bJ[pn]){if(!Hr(En,Ja(to,yo,""))){if(!((pn==="src"||pn==="xlink:href"||pn==="href")&&it!=="script"&&Qa(to,"data:")===0&&Qne[it])){if(!(a0&&!Hr(Fn,Ja(to,yo,"")))){if(to)return!1}}}}}}return!0},loe=function(it){return it.indexOf("-")>0},uoe=function(it){var pn,to,di,Af;l0("beforeSanitizeAttributes",it,null);var Yu=it.attributes;if(Yu){var hu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ko};for(Af=Yu.length;Af--;){pn=Yu[Af];var g8=pn,pu=g8.name,doe=g8.namespaceURI;to=pu==="value"?pn.value:Pm(pn.value),di=IE(pu);var Nue=to;if(hu.attrName=di,hu.attrValue=to,hu.keepAttr=!0,hu.forceKeepAttr=void 0,l0("uponSanitizeAttribute",it,hu),to=hu.attrValue,!hu.forceKeepAttr){if(!hu.keepAttr){p8(pu,it);continue}if(Hr(/\/>/i,to)){p8(pu,it);continue}a1&&(to=Ja(to,Sn," "),to=Ja(to,Eo," "));var Rue=IE(it.nodeName);if(!coe(Rue,di,to)){p8(pu,it);continue}if(to!==Nue)try{doe?it.setAttributeNS(doe,pu,to):it.setAttribute(pu,to)}catch{p8(pu,it)}}}l0("afterSanitizeAttributes",it,null)}},Due=function wo(it){var pn,to=ioe(it);for(l0("beforeSanitizeShadowDOM",it,null);pn=to.nextNode();)l0("uponSanitizeShadowNode",pn,null),!aoe(pn)&&(pn.content instanceof p&&wo(pn.content),uoe(pn));l0("afterSanitizeShadowDOM",it,null)};return s.sanitize=function(wo,it){var pn,to,di,Af,Yu;if(_J=!wo,_J&&(wo="<!-->"),typeof wo!="string"&&!l$(wo)){if(typeof wo.toString!="function")throw dg("toString is not a function");if(wo=wo.toString(),typeof wo!="string")throw dg("dirty is not a string, aborting")}if(!s.isSupported){if(Mn(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof wo=="string")return t.toStaticHTML(wo);if(l$(wo))return t.toStaticHTML(wo.outerHTML)}return wo}if(i$||wJ(it),s.removed=[],typeof wo=="string"&&(c$=!1),c$){if(wo.nodeName){var hu=IE(wo.nodeName);if(!Wn[hu]||Bl[hu])throw dg("root node is forbidden and cannot be sanitized in-place")}}else if(wo instanceof C)pn=roe("<!---->"),to=pn.ownerDocument.importNode(wo,!0),to.nodeType===1&&to.nodeName==="BODY"||to.nodeName==="HTML"?pn=to:pn.appendChild(to);else{if(!U_&&!a1&&!mg&&wo.indexOf("<")===-1)return Xe&&f8?Xe.createHTML(wo):wo;if(pn=roe(wo),!pn)return U_?null:f8?Nt:""}pn&&a$&&c0(pn.firstChild);for(var g8=ioe(c$?wo:pn);di=g8.nextNode();)di.nodeType===3&&di===Af||aoe(di)||(di.content instanceof p&&Due(di.content),uoe(di),Af=di);if(Af=null,c$)return wo;if(U_){if(d8)for(Yu=bo.call(pn.ownerDocument);pn.firstChild;)Yu.appendChild(pn.firstChild);else Yu=pn;return Ko.shadowroot&&(Yu=qn.call(c,Yu,!0)),Yu}var pu=mg?pn.outerHTML:pn.innerHTML;return mg&&Wn["!doctype"]&&pn.ownerDocument&&pn.ownerDocument.doctype&&pn.ownerDocument.doctype.name&&Hr(qe,pn.ownerDocument.doctype.name)&&(pu="<!DOCTYPE "+pn.ownerDocument.doctype.name+`>
`+pu),a1&&(pu=Ja(pu,Sn," "),pu=Ja(pu,Eo," ")),Xe&&f8?Xe.createHTML(pu):pu},s.setConfig=function(wo){wJ(wo),i$=!0},s.clearConfig=function(){KA=null,i$=!1},s.isValidAttribute=function(wo,it,pn){KA||wJ({});var to=IE(wo),di=IE(it);return coe(to,di,pn)},s.addHook=function(wo,it){typeof it=="function"&&(Ao[wo]=Ao[wo]||[],ir(Ao[wo],it))},s.removeHook=function(wo){if(Ao[wo])return xr(Ao[wo])},s.removeHooks=function(wo){Ao[wo]&&(Ao[wo]=[])},s.removeAllHooks=function(){Ao={}},s}var Ro=wn();const Qs=t=>Ro().sanitize(t),ma=Av.deviceType.isTouch(),ha=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),z_=(t,s)=>Ii.parts.close(Aa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:Dt([Er.config({})])})),W_=()=>Ii.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),o$=(t,s)=>Ii.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Yb(`<p>${Qs(s.translate(t))}</p>`)}]}]}),l8=t=>Ii.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),po=(t,s)=>[xm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),xm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],tt=t=>{const s="tox-dialog",c=s+"-wrap",d=c+"__backdrop",p=s+"__disable-scroll";return Ii.sketch({lazySink:t.lazySink,onEscape:v=>(t.onEscape(v),I.some(!0)),useTabstopAt:v=>!E_(v),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Yb(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:ma?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:c,modalBehaviours:Dt([Rn.config({}),eo("dialog-events",t.dialogEvents.concat([Gg(Xl(),(v,C)=>{Mm.isBlocked(v)?q():_n.focusIn(v)}),mt(N0(),(v,C)=>{v.getSystem().broadcastOn([Ek],{newFocus:C.event.newFocus})})])),eo("scroll-lock",[js(()=>{Kr($o(),p)}),Wa(()=>{zo($o(),p)})]),...t.extraBehaviours]),eventOrder:{[El()]:["dialog-events"],[Rc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Qf()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},an=t=>Aa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:Dt([Er.config({})]),components:[Hu("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Zo(s,ig)}}),Kn=(t,s,c,d)=>{const p=v=>[Ar(d.translate(v.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...c.map(v=>({id:v})).getOr({})}},components:[],behaviours:Dt([qu.config({channel:`${Sk}-${s}`,initialData:t,renderComponents:p})])}},Rr=()=>({dom:Yb('<div class="tox-dialog__draghandle"></div>')}),Gu=(t,s,c,d)=>xm.sketch({dom:Yb('<div class="tox-dialog__header"></div>'),components:[Kn(t,s,I.some(c),d),Rr(),an(d)],containerBehaviours:Dt([t0.config({mode:"mouse",blockerClass:"blocker",getTarget:p=>xa(p,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Pl=(t,s,c)=>{const d=Ii.parts.title(Kn(t,s,I.none(),c)),p=Ii.parts.draghandle(Rr()),v=Ii.parts.close(an(c)),C=[d].concat(t.draggable?[p]:[]).concat([v]);return xm.sketch({dom:Yb('<div class="tox-dialog__header"></div>'),components:C})},Pc=(t,s,c)=>Pl({title:c.shared.providers.translate(t),draggable:c.dialog.isDraggableModal()},s,c.shared.providers),BE=(t,s,c,d)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${d.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:Yb('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Bc=(t,s,c)=>({onClose:()=>c.closeWindow(),onBlock:d=>{const p=mr(t().element,".tox-dialog__header").map(v=>Gs(v));Ii.setBusy(t(),(v,C)=>BE(d.message,C,s,p))},onUnblock:()=>{Ii.setIdle(t())}}),s$=(t,s,c,d)=>{const p=(v,C)=>I.some(C);return la(tt({...t,firstTabstop:1,lazySink:d.shared.getSink,extraBehaviours:[qu.config({channel:`${x_}-${t.id}`,updateState:p,initialData:s}),_k({}),...t.extraBehaviours],onEscape:v=>{Zo(v,ig)},dialogEvents:c,eventOrder:{[vd()]:[qu.name(),uc.name()],[Rc()]:["scroll-lock",qu.name(),"messages","dialog-events","alloy.base.behaviour"],[Qf()]:["alloy.base.behaviour","dialog-events","messages",qu.name(),"scroll-lock"]}}))},r$=(t,s={})=>{const c=d=>{const p=at(d.items,v=>{const C=Mt(s,v.name).getOr(xn(!1));return{...v,storage:C}});return{...d,items:p}};return at(t,d=>d.type==="menu"?c(d):d)},u8=t=>we(t,(s,c)=>c.type==="menu"?we(c.items,(p,v)=>(p[v.name]=v.storage,p),s):s,{}),hJ=(t,s)=>[qg(Xl(),zM),t(jS,(c,d,p,v)=>{pf(Ne(v.element)).fold(q,Eh),s.onClose(),d.onClose()}),t(ig,(c,d,p,v)=>{d.onCancel(c),Zo(v,jS)}),mt(mM,(c,d)=>s.onUnblock()),mt(fM,(c,d)=>s.onBlock(d.event))],sue=(t,s)=>{const c=(p,v)=>mt(p,(C,k)=>{d(C,(D,B)=>{v(t(),D,k.event,C)})}),d=(p,v)=>{qu.getState(p).get().each(C=>{v(C,p)})};return[...hJ(c,s),c(Ih,(p,v,C)=>{v.onAction(p,{name:C.name})})]},zne=(t,s,c)=>{const d=(v,C)=>mt(v,(k,D)=>{p(k,(B,F)=>{C(t(),B,D.event,k)})}),p=(v,C)=>{qu.getState(v).get().each(k=>{C(k.internalDialog,v)})};return[...hJ(d,s),d(__,(v,C)=>C.onSubmit(v)),d(Rl,(v,C,k)=>{C.onChange(v,{name:k.name})}),d(Ih,(v,C,k,D)=>{const B=()=>D.getSystem().isConnected()?_n.focusIn(D):void 0,F=ee=>Sg(ee,"disabled")||yr(ee,"aria-disabled").exists(ae=>ae==="true"),U=Ne(D.element),K=pf(U);C.onAction(v,{name:k.name,value:k.value}),pf(U).fold(B,ee=>{F(ee)||K.exists(ae=>Qr(ee,ae)&&F(ae))?B():c().toOptional().filter(ae=>!Qr(ae.element,ee)).each(B)})}),d(ZL,(v,C,k)=>{C.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),Wa(v=>{const C=t();zt.setValue(v,C.getData())})]},rue=(t,s)=>aE(t,t.type,s),iue=(t,s,c)=>je(s,d=>d.name===c).bind(d=>d.memento.getOpt(t)),aue=(t,s)=>{const c=s.map(k=>k.footerButtons).getOr([]),d=vr(c,k=>k.align==="start"),p=(k,D)=>xm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${k}`]},components:at(D,B=>B.memento.asSpec())}),v=p("start",d.pass),C=p("end",d.fail);return[v,C]},Wne=(t,s,c)=>{const d=(p,v)=>{const C=at(v.buttons,D=>{const B=os(rue(D,c));return{name:D.name,align:D.align,memento:B}}),k=D=>iue(p,C,D);return I.some({lookupByName:k,footerButtons:C})};return{dom:Yb('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Dt([qu.config({channel:`${U5}-${s}`,initialData:t,updateState:d,renderComponents:aue})])}},cue=(t,s,c)=>Wne(t,s,c),Une=(t,s,c)=>Ii.parts.footer(Wne(t,s,c)),jne=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const d=So.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return C_.getField(d,s).orThunk(()=>t.getFooter().bind(C=>qu.getState(C).get()).bind(C=>C.lookupByName(s)))}else return I.none()},lue=(t,s)=>{const c=t.getRoot();return qu.getState(c).get().map(d=>Yo(as("data",d.dataValidator,s))).getOr(s)},Zne=(t,s,c)=>{const d=ae=>{const be=t.getRoot();be.getSystem().isConnected()&&ae(be)},ee={getData:()=>{const ae=t.getRoot(),be=ae.getSystem().isConnected()?t.getFormWrapper():ae,Fe=zt.getValue(be),$e=qo(c,De=>De.get());return{...Fe,...$e}},setData:ae=>{d(be=>{const Fe=ee.getData(),$e=Es(Fe,ae),De=lue(t,$e),ft=t.getFormWrapper();zt.setValue(ft,De),ds(c,(Xe,Nt)=>{xo($e,Nt)&&Xe.set($e[Nt])})})},setEnabled:(ae,be)=>{jne(t,ae).each(be?On.enable:On.disable)},focus:ae=>{jne(t,ae).each(Rn.focus)},block:ae=>{if(!A(ae))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");d(be=>{bn(be,fM,{message:ae})})},unblock:()=>{d(ae=>{Zo(ae,mM)})},showTab:ae=>{d(be=>{const Fe=t.getBody();qu.getState(Fe).get().exists(De=>De.isTabPanel())&&So.getCurrent(Fe).each(De=>{ue.showTab(De,ae)})})},redial:ae=>{d(be=>{const Fe=t.getId(),$e=s(ae),De=r$($e.internalDialog.buttons,c);be.getSystem().broadcastOn([`${x_}-${Fe}`],$e),be.getSystem().broadcastOn([`${Sk}-${Fe}`],$e.internalDialog),be.getSystem().broadcastOn([`${W5}-${Fe}`],$e.internalDialog),be.getSystem().broadcastOn([`${U5}-${Fe}`],{...$e.internalDialog,buttons:De}),ee.setData($e.initialData)})},close:()=>{d(ae=>{Zo(ae,jS)})},toggleFullscreen:t.toggleFullscreen};return ee},uue=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},due=(t,s,c)=>{const d=Gt("dialog"),p=t.internalDialog,v=Pc(p.title,d,c),C=Ht({body:p.body,initialData:p.initialData},d,c),k=r$(p.buttons),D=u8(k),B=Dn(k.length!==0,Une({buttons:k},d,c)),F=zne(()=>be,Bc(()=>ee,c.shared.providers,s),c.shared.getSink),U=uue(p.size),ee=s$({id:d,header:v,body:C,footer:B,extraClasses:U,extraBehaviours:[],extraStyles:{}},t,F,c),ae=(()=>{const Fe=()=>{const De=Ii.getBody(ee);return So.getCurrent(De).getOr(De)},$e=()=>{const De="tox-dialog--fullscreen",ft=Ie.fromDom(ee.element.dom);ac(ft,De)?(zo(ft,De),ff(ft,U)):(Ji(ft,U),Kr(ft,De))};return{getId:J(d),getRoot:J(ee),getBody:()=>Ii.getBody(ee),getFooter:()=>Ii.getFooter(ee),getFormWrapper:Fe,toggleFullscreen:$e}})(),be=Zne(ae,s.redial,D);return{dialog:ee,instanceApi:be}},fue=t=>{switch(t){case"medium":return I.some("tox-dialog--width-md");default:return I.none()}},Kne=(t,s,c,d=!1)=>{const p=Gt("dialog"),v=Gt("dialog-label"),C=Gt("dialog-content"),k=t.internalDialog,D=fue(k.size),B=(Xe,Nt)=>I.some(Nt),F=os(Gu({title:k.title,draggable:!0},p,v,c.shared.providers)),U=os(It({body:k.body,initialData:k.initialData},p,C,c,d)),K=r$(k.buttons),ee=u8(K),ae=Dn(K.length!==0,os(cue({buttons:K},p,c))),be=zne(()=>ft,{onBlock:Xe=>{Mm.block($e,(Nt,_t)=>{const Pt=F.getOpt($e).map(Kt=>Gs(Kt.element));return BE(Xe.message,_t,c.shared.providers,Pt)})},onUnblock:()=>{Mm.unblock($e)},onClose:()=>s.closeWindow()},c.shared.getSink),Fe="tox-dialog-inline",$e=la({dom:{tag:"div",classes:["tox-dialog",Fe,...D.toArray()],attributes:{role:"dialog",["aria-labelledby"]:v}},eventOrder:{[vd()]:[qu.name(),uc.name()],[El()]:["execute-on-form"],[Rc()]:["reflecting","execute-on-form"]},behaviours:Dt([_n.config({mode:"cyclic",onEscape:Xe=>(Zo(Xe,jS),I.some(!0)),useTabstopAt:Xe=>!E_(Xe)&&(nc(Xe)!=="button"||Di(Xe,"disabled")!=="disabled"),firstTabstop:1}),qu.config({channel:`${x_}-${p}`,updateState:B,initialData:t}),Rn.config({}),eo("execute-on-form",be.concat([Gg(Xl(),(Xe,Nt)=>{_n.focusIn(Xe)}),mt(N0(),(Xe,Nt)=>{Xe.getSystem().broadcastOn([Ek],{newFocus:Nt.event.newFocus})})])),Mm.config({getRoot:()=>I.some($e)}),Vn.config({}),_k({})]),components:[F.asSpec(),U.asSpec(),...ae.map(Xe=>Xe.asSpec()).toArray()]}),De=()=>{const Xe="tox-dialog--fullscreen",Nt=Ie.fromDom($e.element.dom);om(Nt,[Xe])?(Ji(Nt,[Xe]),ff(Nt,[Fe])):(Ji(Nt,[Fe]),ff(Nt,[Xe]))},ft=Zne({getId:J(p),getRoot:J($e),getFooter:()=>ae.map(Xe=>Xe.get($e)),getBody:()=>U.get($e),getFormWrapper:()=>{const Xe=U.get($e);return So.getCurrent(Xe).getOr(Xe)},toggleFullscreen:De},s.redial,ee);return{dialog:$e,instanceApi:ft}};var pJ=tinymce.util.Tools.resolve("tinymce.util.URI");const mue=t=>{const s=C=>{t.getSystem().isConnected()&&C(t)};return{block:C=>{if(!A(C))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(k=>{bn(k,fM,{message:C})})},unblock:()=>{s(C=>{Zo(C,mM)})},close:()=>{s(C=>{Zo(C,jS)})},sendMessage:C=>{s(k=>{k.getSystem().broadcastOn([j5],C)})}}},hue=["insertContent","setContent","execCommand","close","block","unblock"],qne=t=>R(t)&&hue.indexOf(t.mceAction)!==-1,pue=t=>!qne(t)&&R(t)&&xo(t,"mceAction"),gue=(t,s,c)=>{switch(c.mceAction){case"insertContent":t.insertContent(c.content);break;case"setContent":t.setContent(c.content);break;case"execCommand":const d=le(c.ui)?c.ui:!1;t.execCommand(c.cmd,d,c.value);break;case"close":s.close();break;case"block":s.block(c.message);break;case"unblock":s.unblock();break}},bue=(t,s,c,d)=>{const p=Gt("dialog"),v=Pc(t.title,p,d),C=on(t),k=t.buttons.bind(De=>De.length===0?I.none():I.some(Une({buttons:De},p,d))),D=sue(()=>$e,Bc(()=>Fe,d.shared.providers,s)),B={...t.height.fold(()=>({}),De=>({height:De+"px","max-height":De+"px"})),...t.width.fold(()=>({}),De=>({width:De+"px","max-width":De+"px"}))},F=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],U=new pJ(t.url,{base_uri:new pJ(window.location.href)}),K=`${U.protocol}://${U.host}${U.port?":"+U.port:""}`,ee=dc(),ae=[eo("messages",[js(()=>{const De=fc(Ie.fromDom(window),"message",ft=>{if(U.isSameOrigin(new pJ(ft.raw.origin))){const Xe=ft.raw.data;qne(Xe)?gue(c,$e,Xe):pue(Xe)&&t.onMessage($e,Xe)}});ee.set(De)}),Wa(ee.clear)]),uc.config({channels:{[j5]:{onReceive:(De,ft)=>{mr(De.element,"iframe").each(Xe=>{const Nt=Xe.dom.contentWindow;ve(Nt)&&Nt.postMessage(ft,K)})}}}})],Fe=s$({id:p,header:v,body:C,footer:k,extraClasses:F,extraBehaviours:ae,extraStyles:B},t,D,d),$e=mue(Fe);return{dialog:Fe,instanceApi:$e}},vue=t=>{const s=t.shared;return{open:(d,p)=>{const v=()=>{Ii.hide(B),p()},C=os(aE({name:"close-alert",text:"OK",primary:!0,buttonType:I.some("primary"),align:"end",enabled:!0,icon:I.none()},"cancel",t)),k=W_(),D=z_(v,s.providers),B=la(tt({lazySink:()=>s.getSink(),header:ha(k,D),body:o$(d,s.providers),footer:I.some(l8(po([],[C.asSpec()]))),onEscape:v,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[mt(ig,v)],eventOrder:{}}));Ii.show(B);const F=C.get(B);Rn.focus(F)}}},yue=t=>{const s=t.shared;return{open:(d,p)=>{const v=K=>{Ii.hide(F),p(K)},C=os(aE({name:"yes",text:"Yes",primary:!0,buttonType:I.some("primary"),align:"end",enabled:!0,icon:I.none()},"submit",t)),k=aE({name:"no",text:"No",primary:!1,buttonType:I.some("secondary"),align:"end",enabled:!0,icon:I.none()},"cancel",t),D=W_(),B=z_(()=>v(!1),s.providers),F=la(tt({lazySink:()=>s.getSink(),header:ha(D,B),body:o$(d,s.providers),footer:I.some(l8(po([],[k,C.asSpec()]))),onEscape:()=>v(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[mt(ig,()=>v(!1)),mt(__,()=>v(!0))],eventOrder:{}}));Ii.show(F);const U=C.get(F);Rn.focus(U)}}},Gne=(t,s)=>Yo(as("data",s,t)),Yne=t=>zS(t,".tox-alert-dialog")||zS(t,".tox-confirm-dialog"),_ue=(t,s,c)=>s&&c?[]:[Fr.config({contextual:{lazyContext:()=>I.some(z(Ie.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:d=>Fv(t,d.element).map(v=>({bounds:lu(v),optScrollEnv:I.some({currentScrollTop:v.element.dom.scrollTop,scrollElmTop:Ui(v.element).top})})).getOrThunk(()=>({bounds:Ct(),optScrollEnv:I.none()}))})],wue=t=>{const s=t.editor,c=wS(s),d=vue(t.backstages.dialog),p=yue(t.backstages.dialog),v=(ae,be,Fe)=>{if(!pe(be)){if(be.inline==="toolbar")return B(ae,t.backstages.popup.shared.anchors.inlineDialog(),Fe,be);if(be.inline==="bottom")return F(ae,t.backstages.popup.shared.anchors.inlineBottomDialog(),Fe,be);if(be.inline==="cursor")return B(ae,t.backstages.popup.shared.anchors.cursor(),Fe,be)}return D(ae,Fe)},C=(ae,be)=>k(ae,be),k=(ae,be)=>{const Fe=$e=>{const De=bue($e,{closeWindow:()=>{Ii.hide(De.dialog),be(De.instanceApi)}},s,t.backstages.dialog);return Ii.show(De.dialog),De.instanceApi};return F_.openUrl(Fe,ae)},D=(ae,be)=>{const Fe=($e,De,ft)=>{const Xe=De,_t=due({dataValidator:ft,initialData:Xe,internalDialog:$e},{redial:F_.redial,closeWindow:()=>{Ii.hide(_t.dialog),be(_t.instanceApi)}},t.backstages.dialog);return Ii.show(_t.dialog),_t.instanceApi.setData(Xe),_t.instanceApi};return F_.open(Fe,ae)},B=(ae,be,Fe,$e)=>{const De=(ft,Xe,Nt)=>{const _t=Gne(Xe,Nt),Pt=Ks(),Kt=t.backstages.popup.shared.header.isPositionedAtTop(),bo={dataValidator:Nt,initialData:_t,internalDialog:ft},mn=()=>Pt.on(Sn=>{hr.reposition(Sn),Fr.refresh(Sn)}),qn=Kne(bo,{redial:F_.redial,closeWindow:()=>{Pt.on(hr.hide),s.off("ResizeEditor",mn),Pt.clear(),Fe(qn.instanceApi)}},t.backstages.popup,$e.ariaAttrs),zn=la(hr.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:$e.persistent?{event:"doNotDismissYet"}:{},...Kt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Dt([eo("window-manager-inline-events",[mt(lf(),(Sn,Eo)=>{Zo(qn.dialog,ig)})]),..._ue(s,c,Kt)]),isExtraPart:(Sn,Eo)=>Yne(Eo)}));Pt.set(zn);const Ao=()=>{const Sn=s.inline?$o():Ie.fromDom(s.getContainer()),Eo=z(Sn);return I.some(Eo)};return hr.showWithinBounds(zn,eu(qn.dialog),{anchor:be},Ao),(!c||!Kt)&&(Fr.refresh(zn),s.on("ResizeEditor",mn)),qn.instanceApi.setData(_t),_n.focusIn(qn.dialog),qn.instanceApi};return F_.open(De,ae)},F=(ae,be,Fe,$e)=>{const De=(ft,Xe,Nt)=>{const _t=Gne(Xe,Nt),Pt=Ks(),Kt=t.backstages.popup.shared.header.isPositionedAtTop(),bo={dataValidator:Nt,initialData:_t,internalDialog:ft},mn=()=>Pt.on(Sn=>{hr.reposition(Sn),Fr.refresh(Sn)}),qn=Kne(bo,{redial:F_.redial,closeWindow:()=>{Pt.on(hr.hide),s.off("ResizeEditor ScrollWindow ElementScroll",mn),Pt.clear(),Fe(qn.instanceApi)}},t.backstages.popup,$e.ariaAttrs),zn=la(hr.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:$e.persistent?{event:"doNotDismissYet"}:{},...Kt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Dt([eo("window-manager-inline-events",[mt(lf(),(Sn,Eo)=>{Zo(qn.dialog,ig)})]),Fr.config({contextual:{lazyContext:()=>I.some(z(Ie.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Sn=>Fv(s,Sn.element).map(Lt=>({bounds:lu(Lt),optScrollEnv:I.some({currentScrollTop:Lt.element.dom.scrollTop,scrollElmTop:Ui(Lt.element).top})})).getOrThunk(()=>({bounds:Ct(),optScrollEnv:I.none()}))})]),isExtraPart:(Sn,Eo)=>Yne(Eo)}));Pt.set(zn);const Ao=()=>t.backstages.popup.shared.getSink().toOptional().bind(Sn=>{const Eo=Fv(s,Sn.element),Lt=15,cn=Eo.map(En=>lu(En)).getOr(Ct()),Fn=z(Ie.fromDom(s.getContentAreaContainer())),yo=Ce(Fn,cn);return I.some(P(yo.x,yo.y,yo.width,yo.height-Lt))});return hr.showWithinBounds(zn,eu(qn.dialog),{anchor:be},Ao),Fr.refresh(zn),s.on("ResizeEditor ScrollWindow ElementScroll",mn),qn.instanceApi.setData(_t),_n.focusIn(qn.dialog),qn.instanceApi};return F_.open(De,ae)};return{open:v,openUrl:C,alert:(ae,be)=>{d.open(ae,be)},close:ae=>{ae.close()},confirm:(ae,be)=>{p.open(ae,be)}}},Cue=t=>{RB(t),PW(t),wY(t)};var Sue=()=>{Nn.add("silver",t=>{Cue(t);let s=()=>Ct();const{dialogs:c,popups:d,renderUI:p}=dX(t,{getPopupSinkBounds:()=>s()}),v=async()=>{const D=await p();return Fv(t,d.getMothership().element).each(F=>{s=()=>lu(F)}),D};bU.register(t,d.backstage.shared);const C=wue({editor:t,backstages:{popup:d.backstage,dialog:c.backstage}}),k=()=>YN(t,{backstage:d.backstage},d.getMothership());return{renderUI:v,getWindowManagerImpl:J(C),getNotificationManagerImpl:k}})};Sue()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=(f,g,_)=>{var x;return _(f,g.prototype)?!0:((x=f.constructor)===null||x===void 0?void 0:x.name)===g.name},l=f=>{const g=typeof f;return f===null?"null":g==="object"&&Array.isArray(f)?"array":g==="object"&&r(f,String,(_,x)=>x.isPrototypeOf(_))?"string":g},h=f=>g=>l(g)===f,y=f=>g=>typeof g===f,w=f=>g=>f===g,E=h("string"),A=h("object"),R=h("array"),H=w(null),j=y("boolean"),Q=w(void 0),le=f=>f==null,pe=f=>!le(f),me=y("function"),ve=y("number"),Ee=()=>{},Me=(f,g)=>(..._)=>f(g.apply(null,_)),ce=(f,g)=>_=>f(g(_)),q=f=>()=>f,ke=f=>f,ze=(f,g)=>f===g;function We(f,...g){return(..._)=>{const x=g.concat(_);return f.apply(null,x)}}const J=f=>g=>!f(g),Te=f=>()=>{throw new Error(f)},Ge=f=>f(),Ue=q(!1),ye=q(!0);class ie{constructor(g,_){this.tag=g,this.value=_}static some(g){return new ie(!0,g)}static none(){return ie.singletonNone}fold(g,_){return this.tag?_(this.value):g()}isSome(){return this.tag}isNone(){return!this.tag}map(g){return this.tag?ie.some(g(this.value)):ie.none()}bind(g){return this.tag?g(this.value):ie.none()}exists(g){return this.tag&&g(this.value)}forall(g){return!this.tag||g(this.value)}filter(g){return!this.tag||g(this.value)?this:ie.none()}getOr(g){return this.tag?this.value:g}or(g){return this.tag?this:g}getOrThunk(g){return this.tag?this.value:g()}orThunk(g){return this.tag?this:g()}getOrDie(g){if(this.tag)return this.value;throw new Error(g??"Called getOrDie on None")}static from(g){return pe(g)?ie.some(g):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(g){this.tag&&g(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const Tt=Array.prototype.slice,vt=Array.prototype.indexOf,xt=Array.prototype.push,I=(f,g)=>vt.call(f,g),ln=(f,g)=>I(f,g)>-1,ot=(f,g)=>{for(let _=0,x=f.length;_<x;_++){const N=f[_];if(g(N,_))return!0}return!1},Xn=(f,g)=>{const _=[];for(let x=0;x<f;x++)_.push(g(x));return _},hn=(f,g)=>{const _=f.length,x=new Array(_);for(let N=0;N<_;N++){const L=f[N];x[N]=g(L,N)}return x},lt=(f,g)=>{for(let _=0,x=f.length;_<x;_++){const N=f[_];g(N,_)}},mo=(f,g)=>{for(let _=f.length-1;_>=0;_--){const x=f[_];g(x,_)}},ks=(f,g)=>{const _=[],x=[];for(let N=0,L=f.length;N<L;N++){const Z=f[N];(g(Z,N)?_:x).push(Z)}return{pass:_,fail:x}},so=(f,g)=>{const _=[];for(let x=0,N=f.length;x<N;x++){const L=f[x];g(L,x)&&_.push(L)}return _},Mo=(f,g,_)=>(mo(f,(x,N)=>{_=g(_,x,N)}),_),at=(f,g,_)=>(lt(f,(x,N)=>{_=g(_,x,N)}),_),wt=(f,g,_)=>{for(let x=0,N=f.length;x<N;x++){const L=f[x];if(g(L,x))return ie.some(L);if(_(L,x))break}return ie.none()},Y=(f,g)=>wt(f,g,Ue),vr=(f,g)=>{for(let _=0,x=f.length;_<x;_++){const N=f[_];if(g(N,_))return ie.some(_)}return ie.none()},_o=f=>{const g=[];for(let _=0,x=f.length;_<x;++_){if(!R(f[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+f);xt.apply(g,f[_])}return g},Ho=(f,g)=>_o(hn(f,g)),we=(f,g)=>{for(let _=0,x=f.length;_<x;++_){const N=f[_];if(g(N,_)!==!0)return!1}return!0},Ze=f=>{const g=Tt.call(f,0);return g.reverse(),g},je=(f,g)=>{const _={};for(let x=0,N=f.length;x<N;x++){const L=f[x];_[String(L)]=g(L,x)}return _},pt=(f,g)=>{const _=Tt.call(f,0);return _.sort(g),_},Ye=(f,g)=>g>=0&&g<f.length?ie.some(f[g]):ie.none(),Ae=f=>Ye(f,0),Jt=f=>Ye(f,f.length-1),Wt=(f,g)=>{for(let _=0;_<f.length;_++){const x=g(f[_],_);if(x.isSome())return x}return ie.none()},st=Object.keys,Bt=Object.hasOwnProperty,tn=(f,g)=>{const _=st(f);for(let x=0,N=_.length;x<N;x++){const L=_[x],Z=f[L];g(Z,L)}},vn=(f,g)=>nn(f,(_,x)=>({k:x,v:g(_,x)})),nn=(f,g)=>{const _={};return tn(f,(x,N)=>{const L=g(x,N);_[L.k]=L.v}),_},kn=f=>(g,_)=>{f[_]=g},lo=(f,g,_,x)=>{tn(f,(N,L)=>{(g(N,L)?_:x)(N,L)})},vo=(f,g)=>{const _={};return lo(f,g,kn(_),Ee),_},Qn=(f,g)=>{const _=[];return tn(f,(x,N)=>{_.push(g(x,N))}),_},uo=f=>Qn(f,ke),mi=(f,g)=>ds(f,g)?ie.from(f[g]):ie.none(),ds=(f,g)=>Bt.call(f,g),qo=(f,g)=>ds(f,g)&&f[g]!==void 0&&f[g]!==null,wc=f=>{for(const g in f)if(Bt.call(f,g))return!1;return!0},oo=typeof window<"u"?window:Function("return this;")(),fs=(f,g)=>{let _=g??oo;for(let x=0;x<f.length&&_!==void 0&&_!==null;++x)_=_[f[x]];return _},ms=(f,g)=>{const _=f.split(".");return fs(_,g)},ba=(f,g)=>ms(f,g),Fl=(f,g)=>{const _=ba(f,g);if(_==null)throw new Error(f+" not available on this browser");return _},Hs=Object.getPrototypeOf,Hd=f=>Fl("HTMLElement",f),Mt=f=>{const g=ms("ownerDocument.defaultView",f);return A(f)&&(Hd(g).prototype.isPrototypeOf(f)||/^HTML\w*Element$/.test(Hs(f).constructor.name))},xo=8,Ei=9,xi=11,Lc=1,Fc=3,ws=f=>f.dom.nodeName.toLowerCase(),Hl=f=>f.dom.nodeType,Na=f=>g=>Hl(g)===f,cs=f=>Hl(f)===xo||ws(f)==="#comment",Dn=f=>Xr(f)&&Mt(f.dom),Xr=Na(Lc),ml=Na(Fc),Hc=Na(Ei),yu=Na(xi),$s=f=>g=>Xr(g)&&ws(g)===f,zr=(f,g,_)=>{if(E(_)||j(_)||ve(_))f.setAttribute(g,_+"");else throw console.error("Invalid call to Attribute.set. Key ",g,":: Value ",_,":: Element ",f),new Error("Attribute value was not simple")},Ps=(f,g,_)=>{zr(f.dom,g,_)},$r=(f,g)=>{const _=f.dom;tn(g,(x,N)=>{zr(_,N,x)})},Vl=(f,g)=>{tn(g,(_,x)=>{_.fold(()=>{qs(f,x)},N=>{zr(f.dom,x,N)})})},Jr=(f,g)=>{const _=f.dom.getAttribute(g);return _===null?void 0:_},va=(f,g)=>ie.from(Jr(f,g)),qs=(f,g)=>{f.dom.removeAttribute(g)},Ti=f=>at(f.dom.attributes,(g,_)=>(g[_.name]=_.value,g),{}),hl=(f,g)=>{const x=(g||document).createElement("div");if(x.innerHTML=f,!x.hasChildNodes()||x.childNodes.length>1){const N="HTML does not have a single root node";throw console.error(N,f),new Error(N)}return Vc(x.childNodes[0])},Lf=(f,g)=>{const x=(g||document).createElement(f);return Vc(x)},_u=(f,g)=>{const x=(g||document).createTextNode(f);return Vc(x)},Vc=f=>{if(f==null)throw new Error("Node cannot be null or undefined");return{dom:f}},Ie={fromHtml:hl,fromTag:Lf,fromText:_u,fromDom:Vc,fromPoint:(f,g,_)=>ie.from(f.dom.elementFromPoint(g,_)).map(Vc)},Hi=(f,g)=>{const _=f.dom;if(_.nodeType!==Lc)return!1;{const x=_;if(x.matches!==void 0)return x.matches(g);if(x.msMatchesSelector!==void 0)return x.msMatchesSelector(g);if(x.webkitMatchesSelector!==void 0)return x.webkitMatchesSelector(g);if(x.mozMatchesSelector!==void 0)return x.mozMatchesSelector(g);throw new Error("Browser lacks native selectors")}},zc=f=>f.nodeType!==Lc&&f.nodeType!==Ei&&f.nodeType!==xi||f.childElementCount===0,pl=(f,g)=>{const _=g===void 0?document:g.dom;return zc(_)?[]:hn(_.querySelectorAll(f),Ie.fromDom)},Ff=(f,g)=>{const _=g===void 0?document:g.dom;return zc(_)?ie.none():ie.from(_.querySelector(f)).map(Ie.fromDom)},ls=(f,g)=>f.dom===g.dom,Gm=(f,g)=>{const _=f.dom,x=g.dom;return _===x?!1:_.contains(x)},sp=Hi,Cc=f=>Ie.fromDom(f.dom.ownerDocument),od=f=>Hc(f)?f:Cc(f),As=f=>Ie.fromDom(od(f).dom.documentElement),us=f=>Ie.fromDom(od(f).dom.defaultView),Wc=f=>ie.from(f.dom.parentNode).map(Ie.fromDom),nc=f=>ie.from(f.dom.parentElement).map(Ie.fromDom),gl=(f,g)=>{const _=me(g)?g:Ue;let x=f.dom;const N=[];for(;x.parentNode!==null&&x.parentNode!==void 0;){const L=x.parentNode,Z=Ie.fromDom(L);if(N.push(Z),_(Z)===!0)break;x=L}return N},wu=f=>ie.from(f.dom.previousSibling).map(Ie.fromDom),bl=f=>ie.from(f.dom.nextSibling).map(Ie.fromDom),Xo=f=>hn(f.dom.childNodes,Ie.fromDom),ki=(f,g)=>{const _=f.dom.childNodes;return ie.from(_[g]).map(Ie.fromDom)},Vd=f=>ki(f,0),vl=(f,g)=>{Wc(f).each(x=>{x.dom.insertBefore(g.dom,f.dom)})},Ra=(f,g)=>{bl(f).fold(()=>{Wc(f).each(N=>{Vs(N,g)})},x=>{vl(x,g)})},ar=(f,g)=>{Vd(f).fold(()=>{Vs(f,g)},x=>{f.dom.insertBefore(g.dom,x.dom)})},Vs=(f,g)=>{f.dom.appendChild(g.dom)},Ym=(f,g,_)=>{ki(f,_).fold(()=>{Vs(f,g)},x=>{vl(x,g)})},zd=(f,g)=>{vl(f,g),Vs(g,f)},es=(f,g)=>{lt(g,(_,x)=>{const N=x===0?f:g[x-1];Ra(N,_)})},Qr=(f,g)=>{lt(g,_=>{Vs(f,_)})},Vi=f=>{f.dom.textContent="",lt(Xo(f),g=>{cr(g)})},cr=f=>{const g=f.dom;g.parentNode!==null&&g.parentNode.removeChild(g)},Wd=f=>{const g=Xo(f);g.length>0&&es(f,g),cr(f)},ya=(f,g)=>Ie.fromDom(f.dom.cloneNode(g)),oa=f=>ya(f,!1),Ai=f=>ya(f,!0),Xm=(f,g)=>{const _=Ie.fromTag(g),x=Ti(f);return $r(_,x),_},Ud=(f,g)=>{const _=Xm(f,g),x=Xo(Ai(f));return Qr(_,x),_},sd=(f,g)=>{const _=Xm(f,g);Ra(f,_);const x=Xo(f);return Qr(_,x),cr(f),_},Ma=["tfoot","thead","tbody","colgroup"],Sc=f=>ln(Ma,f),Hf=(f,g)=>({rows:f,columns:g}),Ec=(f,g)=>({row:f,column:g}),rd=(f,g,_)=>({element:f,rowspan:g,colspan:_}),jd=(f,g,_,x)=>({element:f,rowspan:g,colspan:_,isNew:x}),oe=(f,g,_,x,N,L)=>({element:f,rowspan:g,colspan:_,row:x,column:N,isLocked:L}),Se=(f,g,_)=>({element:f,cells:g,section:_}),Ne=(f,g,_,x)=>({element:f,cells:g,section:_,isNew:x}),Qe=(f,g,_)=>({element:f,isNew:g,isLocked:_}),At=(f,g,_,x)=>({element:f,cells:g,section:_,isNew:x}),Cn=(f,g,_,x)=>({startRow:f,startCol:g,finishRow:_,finishCol:x}),is=(f,g,_)=>({element:f,colspan:g,column:_}),Cs=(f,g)=>({element:f,columns:g}),ts=f=>yu(f)&&pe(f.dom.host),ns=me(Element.prototype.attachShadow)&&me(Node.prototype.getRootNode),$o=q(ns),Oi=ns?f=>Ie.fromDom(f.dom.getRootNode()):od,yl=f=>{const g=Oi(f);return ts(g)?ie.some(g):ie.none()},Gn=f=>Ie.fromDom(f.dom.host),Oo=f=>{if($o()&&pe(f.target)){const g=Ie.fromDom(f.target);if(Xr(g)&&Di(g)&&f.composed&&f.composedPath){const _=f.composedPath();if(_)return Ae(_)}}return ie.from(f.target)},Di=f=>pe(f.dom.shadowRoot),yr=f=>{const g=ml(f)?f.dom.parentNode:f.dom;if(g==null||g.ownerDocument===null)return!1;const _=g.ownerDocument;return yl(Ie.fromDom(g)).fold(()=>_.body.contains(g),ce(yr,Gn))},Sg=()=>lr(Ie.fromDom(document)),lr=f=>{const g=f.dom.body;if(g==null)throw new Error("Body is not available yet");return Ie.fromDom(g)},y1=(f,g,_)=>so(gl(f,_),g),id=(f,g)=>so(Xo(f),g),zi=(f,g)=>{let _=[];return lt(Xo(f),x=>{g(x)&&(_=_.concat([x])),_=_.concat(zi(x,g))}),_},Bn=(f,g,_)=>y1(f,x=>Hi(x,g),_),_l=(f,g)=>id(f,_=>Hi(_,g)),xc=(f,g)=>pl(g,f);var gt=(f,g,_,x,N)=>f(_,x)?ie.some(_):me(N)&&N(_)?ie.none():g(_,x,N);const Uc=(f,g,_)=>{let x=f.dom;const N=me(_)?_:Ue;for(;x.parentNode;){x=x.parentNode;const L=Ie.fromDom(x);if(g(L))return ie.some(L);if(N(L))break}return ie.none()},Pr=(f,g,_)=>gt((N,L)=>L(N),Uc,f,g,_),Wi=(f,g)=>{const _=N=>g(Ie.fromDom(N));return Y(f.dom.childNodes,_).map(Ie.fromDom)},Jm=(f,g)=>{const _=x=>{for(let N=0;N<x.childNodes.length;N++){const L=Ie.fromDom(x.childNodes[N]);if(g(L))return ie.some(L);const Z=_(x.childNodes[N]);if(Z.isSome())return Z}return ie.none()};return _(f.dom)},Co=(f,g,_)=>Uc(f,x=>Hi(x,g),_),Cu=(f,g)=>Wi(f,_=>Hi(_,g)),ad=(f,g)=>Ff(g,f),Br=(f,g,_)=>gt((N,L)=>Hi(N,L),Co,f,g,_),Gs=(f,g,_=ze)=>f.exists(x=>_(x,g)),Su=f=>{const g=[],_=x=>{g.push(x)};for(let x=0;x<f.length;x++)f[x].each(_);return g},T0=(f,g)=>f!=null?g(f):ie.none(),rp=(f,g)=>f?ie.some(g):ie.none(),zs=(f,g,_)=>g===""||f.length>=g.length&&f.substr(_,_+g.length)===g,$a=(f,g,_=0,x)=>{const N=f.indexOf(g,_);return N!==-1?Q(x)?!0:N+g.length<=x:!1},Pa=(f,g)=>zs(f,g,0),Ui=(f,g)=>zs(f,g,f.length-g.length),Wl=(f=>g=>g.replace(f,""))(/^\s+|\s+$/g),Ss=f=>f.length>0,Wr=f=>{const g=parseFloat(f);return isNaN(g)?ie.none():ie.some(g)},Ni=f=>f.style!==void 0&&me(f.style.getPropertyValue),Vf=(f,g,_)=>{if(!E(_))throw console.error("Invalid call to CSS.set. Property ",g,":: Value ",_,":: Element ",f),new Error("CSS value must be a string: "+_);Ni(f)&&f.style.setProperty(g,_)},Tc=(f,g)=>{Ni(f)&&f.style.removeProperty(g)},gs=(f,g,_)=>{const x=f.dom;Vf(x,g,_)},Ur=(f,g)=>{const _=f.dom;tn(g,(x,N)=>{Vf(_,N,x)})},jc=(f,g)=>{const _=f.dom,N=window.getComputedStyle(_).getPropertyValue(g);return N===""&&!yr(f)?Zd(_,g):N},Zd=(f,g)=>Ni(f)?f.style.getPropertyValue(g):"",Ul=(f,g)=>{const _=f.dom,x=Zd(_,g);return ie.from(x).filter(N=>N.length>0)},Zc=(f,g)=>{const _=f.dom;Tc(_,g),Gs(va(f,"style").map(Wl),"")&&qs(f,"style")},ur=(f,g)=>{const _=f.dom,x=g.dom;Ni(_)&&Ni(x)&&(x.style.cssText=_.style.cssText)},ji=(f,g,_=0)=>va(f,g).map(x=>parseInt(x,10)).getOr(_),ei=(f,g)=>ji(f,g,1),Kc=f=>$s("col")(f)?ji(f,"span",1)>1:ei(f,"colspan")>1,Eu=f=>ei(f,"rowspan")>1,Go=(f,g)=>parseInt(jc(f,g),10),oc=q(10),zf=q(10),jl=(f,g)=>Kd(f,g,ye),Kd=(f,g,_)=>Ho(Xo(f),x=>Hi(x,g)?_(x)?[x]:[]:Kd(x,g,_)),Qm=(f,g,_=Ue)=>{if(_(g))return ie.none();if(ln(f,ws(g)))return ie.some(g);const x=N=>Hi(N,"table")||_(N);return Co(g,f.join(","),x)},Zl=(f,g)=>Qm(["td","th"],f,g),Ba=f=>jl(f,"th,td"),cd=f=>Hi(f,"colgroup")?_l(f,"col"):Ho(wl(f),g=>_l(g,"col")),sa=(f,g)=>Br(f,"table",g),Kl=f=>jl(f,"tr"),wl=f=>sa(f).fold(q([]),g=>_l(g,"colgroup")),eh=(f,g)=>hn(f,_=>{if(ws(_)==="colgroup"){const x=hn(cd(_),N=>{const L=ji(N,"span",1);return rd(N,1,L)});return Se(_,x,"colgroup")}else{const x=hn(Ba(_),N=>{const L=ji(N,"rowspan",1),Z=ji(N,"colspan",1);return rd(N,L,Z)});return Se(_,x,g(_))}}),qc=f=>Wc(f).map(g=>{const _=ws(g);return Sc(_)?_:"tbody"}).getOr("tbody"),th=f=>{const g=Kl(f),x=[...wl(f),...g];return eh(x,qc)},Wf=(f,g)=>eh(f,()=>g),xu=f=>{let g=!1,_;return(...x)=>(g||(g=!0,_=f.apply(null,x)),_)},nh=(f,g,_,x)=>{const N=f.isiOS()&&/ipad/i.test(_)===!0,L=f.isiOS()&&!N,Z=f.isiOS()||f.isAndroid(),ne=Z||x("(pointer:coarse)"),de=N||!L&&Z&&x("(min-device-width:768px)"),_e=L||Z&&!de,Le=g.isSafari()&&f.isiOS()&&/safari/i.test(_)===!1,bt=!_e&&!de&&!Le;return{isiPad:q(N),isiPhone:q(L),isTablet:q(de),isPhone:q(_e),isTouch:q(ne),isAndroid:f.isAndroid,isiOS:f.isiOS,isWebView:q(Le),isDesktop:q(bt)}},oh=(f,g)=>{for(let _=0;_<f.length;_++){const x=f[_];if(x.test(g))return x}},ld=(f,g)=>{const _=oh(f,g);if(!_)return{major:0,minor:0};const x=N=>Number(g.replace(_,"$"+N));return sh(x(1),x(2))},Eg=(f,g)=>{const _=String(g).toLowerCase();return f.length===0?ge():ld(f,_)},ge=()=>sh(0,0),sh=(f,g)=>({major:f,minor:g}),ra={nu:sh,detect:Eg,unknown:ge},ip=(f,g)=>Wt(g.brands,_=>{const x=_.brand.toLowerCase();return Y(f,N=>{var L;return x===((L=N.brand)===null||L===void 0?void 0:L.toLowerCase())}).map(N=>({current:N.name,version:ra.nu(parseInt(_.version,10),0)}))}),_1=(f,g)=>{const _=String(g).toLowerCase();return Y(f,x=>x.search(_))},w1=(f,g)=>_1(f,g).map(_=>{const x=ra.detect(_.versionRegexes,g);return{current:_.name,version:x}}),Jo=(f,g)=>_1(f,g).map(_=>{const x=ra.detect(_.versionRegexes,g);return{current:_.name,version:x}}),sc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ti=f=>g=>$a(g,f),ql=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:f=>$a(f,"edge/")&&$a(f,"chrome")&&$a(f,"safari")&&$a(f,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sc],search:f=>$a(f,"chrome")&&!$a(f,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:f=>$a(f,"msie")||$a(f,"trident")},{name:"Opera",versionRegexes:[sc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ti("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ti("firefox")},{name:"Safari",versionRegexes:[sc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:f=>($a(f,"safari")||$a(f,"mobile/"))&&$a(f,"applewebkit")}],Tu=[{name:"Windows",search:ti("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:f=>$a(f,"iphone")||$a(f,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ti("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ti("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ti("linux"),versionRegexes:[]},{name:"Solaris",search:ti("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ti("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ti("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],qd={browsers:q(ql),oses:q(Tu)},_a="Edge",rh="Chromium",Uf="IE",ih="Opera",Gc="Firefox",ud="Safari",xg=()=>Ia({current:void 0,version:ra.unknown()}),Ia=f=>{const g=f.current,_=f.version,x=N=>()=>g===N;return{current:g,version:_,isEdge:x(_a),isChromium:x(rh),isIE:x(Uf),isOpera:x(ih),isFirefox:x(Gc),isSafari:x(ud)}},ni={unknown:xg,nu:Ia,edge:q(_a),chromium:q(rh),ie:q(Uf),opera:q(ih),firefox:q(Gc),safari:q(ud)},ku="Windows",Gd="iOS",La="Android",ia="Linux",ap="macOS",Tg="Solaris",Yd="FreeBSD",jf="ChromeOS",cp=()=>Cl({current:void 0,version:ra.unknown()}),Cl=f=>{const g=f.current,_=f.version,x=N=>()=>g===N;return{current:g,version:_,isWindows:x(ku),isiOS:x(Gd),isAndroid:x(La),isMacOS:x(ap),isLinux:x(ia),isSolaris:x(Tg),isFreeBSD:x(Yd),isChromeOS:x(jf)}},ah={unknown:cp,nu:Cl,windows:q(ku),ios:q(Gd),android:q(La),linux:q(ia),macos:q(ap),solaris:q(Tg),freebsd:q(Yd),chromeos:q(jf)},C1={detect:(f,g,_)=>{const x=qd.browsers(),N=qd.oses(),L=g.bind(de=>ip(x,de)).orThunk(()=>w1(x,f)).fold(ni.unknown,ni.nu),Z=Jo(N,f).fold(ah.unknown,ah.nu),ne=nh(Z,L,f,_);return{browser:L,os:Z,deviceType:ne}}},lp=f=>window.matchMedia(f).matches;let Xd=xu(()=>C1.detect(navigator.userAgent,ie.from(navigator.userAgentData),lp));const kg=()=>Xd(),Gl=(f,g)=>{const _=(ne,de)=>{if(!ve(de)&&!de.match(/^[0-9]+$/))throw new Error(f+".set accepts only positive integer values. Value was "+de);const _e=ne.dom;Ni(_e)&&(_e.style[f]=de+"px")},x=ne=>{const de=g(ne);if(de<=0||de===null){const _e=jc(ne,f);return parseFloat(_e)||0}return de},N=x,L=(ne,de)=>at(de,(_e,Le)=>{const bt=jc(ne,Le),Zt=bt===void 0?0:parseInt(bt,10);return isNaN(Zt)?_e:_e+Zt},0);return{set:_,get:x,getOuter:N,aggregate:L,max:(ne,de,_e)=>{const Le=L(ne,_e);return de>Le?de-Le:0}}},P=(f,g)=>Wr(f).getOr(g),z=(f,g,_)=>P(jc(f,g),_),te=(f,g,_,x)=>{const N=z(f,`padding-${_}`,0),L=z(f,`padding-${x}`,0),Z=z(f,`border-${_}-width`,0),ne=z(f,`border-${x}-width`,0);return g-N-L-Z-ne},Ce=(f,g)=>{const _=f.dom,x=_.getBoundingClientRect().width||_.offsetWidth;return g==="border-box"?x:te(f,x,"left","right")},Oe=f=>z(f,"height",f.dom.offsetHeight),Ct=f=>z(f,"width",f.dom.offsetWidth),Nn=f=>Ce(f,"content-box"),Un=Gl("width",f=>f.dom.offsetWidth),jn=f=>Un.get(f),Hn=f=>Un.getOuter(f),un=Nn,Ys=Ct,oi=(f,g,_)=>{const x=f.cells,N=x.slice(0,g),L=x.slice(g),Z=N.concat(_).concat(L);return Ag(f,Z)},S1=(f,g,_)=>oi(f,g,[_]),up=(f,g,_)=>{const x=f.cells;x[g]=_},Ag=(f,g)=>At(f.element,g,f.section,f.isNew),Og=(f,g)=>{const _=f.cells,x=hn(_,g);return At(f.element,x,f.section,f.isNew)},jr=(f,g)=>f.cells[g],aa=(f,g)=>jr(f,g).element,Fa=f=>f.cells.length,Zi=f=>{const g=ks(f,_=>_.section==="colgroup");return{rows:g.fail,cols:g.pass}},Dg=(f,g,_)=>{const x=hn(f.cells,_);return At(g(f.element),x,f.section,!0)},er="data-snooker-locked-cols",Ha=f=>va(f,er).bind(g=>ie.from(g.match(/\d+/g))).map(g=>je(g,ye)),kc=f=>{const g=at(Zi(f).rows,(x,N)=>(lt(N.cells,(L,Z)=>{L.isLocked&&(x[Z]=!0)}),x),{}),_=Qn(g,(x,N)=>parseInt(N,10));return pt(_)},ch=(f,g)=>f+","+g,_r=(f,g,_)=>ie.from(f.access[ch(g,_)]),k0=(f,g,_)=>{const x=E1(f,N=>_(g,N.element));return x.length>0?ie.some(x[0]):ie.none()},E1=(f,g)=>{const _=Ho(f.all,x=>x.cells);return so(_,g)},Es=f=>{const g={};let _=0;return lt(f.cells,x=>{const N=x.colspan;Xn(N,L=>{const Z=_+L;g[Z]=is(x.element,N,Z)}),_+=N}),g},Au=f=>{const g={},_=[],N=Ae(f).map(Ft=>Ft.element).bind(sa).bind(Ha).getOr({});let L=0,Z=0,ne=0;const{pass:de,fail:_e}=ks(f,Ft=>Ft.section==="colgroup");lt(_e,Ft=>{const dt=[];lt(Ft.cells,Vt=>{let ut=0;for(;g[ch(ne,ut)]!==void 0;)ut++;const sn=qo(N,ut.toString()),In=oe(Vt.element,Vt.rowspan,Vt.colspan,ne,ut,sn);for(let ro=0;ro<Vt.colspan;ro++)for(let Is=0;Is<Vt.rowspan;Is++){const ea=ne+Is,Dr=ut+ro,sl=ch(ea,Dr);g[sl]=In,Z=Math.max(Z,Dr+1)}dt.push(In)}),L++,_.push(Se(Ft.element,dt,Ft.section)),ne++});const{columns:Le,colgroups:bt}=Jt(de).map(Ft=>{const dt=Es(Ft);return{colgroups:[Cs(Ft.element,uo(dt))],columns:dt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Hf(L,Z),access:g,all:_,columns:Le,colgroups:bt}},fo={fromTable:f=>{const g=th(f);return Au(g)},generate:Au,getAt:_r,findItem:k0,filterItems:E1,justCells:f=>Ho(f.all,g=>g.cells),justColumns:f=>uo(f.columns),hasColumns:f=>st(f.columns).length>0,getColumnAt:(f,g)=>ie.from(f.columns[g])},Ng=(f,g=ye)=>{const _=f.grid,x=Xn(_.columns,ke),N=Xn(_.rows,ke);return hn(x,L=>Rg(()=>Ho(N,_e=>fo.getAt(f,_e,L).filter(Le=>Le.column===L).toArray()),_e=>_e.colspan===1&&g(_e.element),()=>fo.getAt(f,0,L)))},Rg=(f,g,_)=>{const x=f();return Y(x,g).orThunk(()=>ie.from(x[0]).orThunk(_)).map(Z=>Z.element)},_w=f=>{const g=f.grid,_=Xn(g.rows,ke),x=Xn(g.columns,ke);return hn(_,N=>Rg(()=>Ho(x,de=>fo.getAt(f,N,de).filter(_e=>_e.row===N).fold(q([]),_e=>[_e])),de=>de.rowspan===1,()=>fo.getAt(f,N,0)))},y2=(f,g)=>{if(g<0||g>=f.length-1)return ie.none();const _=f[g].fold(()=>{const N=Ze(f.slice(0,g));return Wt(N,(L,Z)=>L.map(ne=>({value:ne,delta:Z+1})))},N=>ie.some({value:N,delta:0})),x=f[g+1].fold(()=>{const N=f.slice(g+1);return Wt(N,(L,Z)=>L.map(ne=>({value:ne,delta:Z+1})))},N=>ie.some({value:N,delta:1}));return _.bind(N=>x.map(L=>{const Z=L.delta+N.delta;return Math.abs(L.value-N.value)/Z}))},Mg=(f,g)=>_=>dp(_)==="rtl"?g:f,dp=f=>jc(f,"direction")==="rtl"?"rtl":"ltr",ww=Gl("height",f=>{const g=f.dom;return yr(f)?g.getBoundingClientRect().height:g.offsetHeight}),Ou=f=>ww.get(f),Kf=f=>ww.getOuter(f),Cw=Oe,fp=(f,g)=>({left:f,top:g,translate:(x,N)=>fp(f+x,g+N)}),dd=fp,x1=f=>{const g=f.getBoundingClientRect();return dd(g.left,g.top)},Yl=(f,g)=>f!==void 0?f:g!==void 0?g:0,ef=f=>{const g=f.dom.ownerDocument,_=g.body,x=g.defaultView,N=g.documentElement;if(_===f.dom)return dd(_.offsetLeft,_.offsetTop);const L=Yl(x==null?void 0:x.pageYOffset,N.scrollTop),Z=Yl(x==null?void 0:x.pageXOffset,N.scrollLeft),ne=Yl(N.clientTop,_.clientTop),de=Yl(N.clientLeft,_.clientLeft);return Sw(f).translate(Z-de,L-ne)},Sw=f=>{const g=f.dom,x=g.ownerDocument.body;return x===g?dd(x.offsetLeft,x.offsetTop):yr(f)?x1(g):dd(0,0)},$g=(f,g)=>({row:f,y:g}),T1=(f,g)=>({col:f,x:g}),k1=f=>ef(f).left+Hn(f),A1=f=>ef(f).left,Ri=(f,g)=>T1(f,A1(g)),Pg=(f,g)=>T1(f,k1(g)),Ir=f=>ef(f).top,Ki=(f,g)=>$g(f,Ir(g)),yn=(f,g)=>$g(f,Ir(g)+Kf(g)),qt=(f,g,_)=>{if(_.length===0)return[];const x=hn(_.slice(1),(L,Z)=>L.map(ne=>f(Z,ne))),N=_[_.length-1].map(L=>g(_.length-1,L));return x.concat([N])},lh=f=>-f,Yc={delta:ke,positions:f=>qt(Ki,yn,f),edge:Ir},Ac=Mg({delta:ke,edge:A1,positions:f=>qt(Ri,Pg,f)},{delta:lh,edge:k1,positions:f=>qt(Pg,Ri,f)}),Oc={delta:(f,g)=>Ac(g).delta(f,g),positions:(f,g)=>Ac(g).positions(f,g),edge:f=>Ac(f).edge(f)},dh={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},tr=(()=>{const f="[0-9]+",_="[eE]"+("[+-]?"+f),x="\\.",N=ne=>`(?:${ne})?`,Z=`[+-]?(?:${["Infinity",f+x+N(f)+N(_),x+f+N(_),f+N(_)].join("|")})`;return new RegExp(`^(${Z})(.*)$`)})(),fh=(f,g)=>ot(g,_=>ot(dh[_],x=>f===x)),hp=(f,g)=>ie.from(tr.exec(f)).bind(x=>{const N=Number(x[1]),L=x[2];return fh(L,g)?ie.some({value:N,unit:L}):ie.none()}),Et=/(\d+(\.\d+)?)%/,Ew=/(\d+(\.\d+)?)px|em/,xw=$s("col"),rc=(f,g,_)=>{const x=nc(f).getOrThunk(()=>lr(Cc(f)));return g(f)/_(x)*100},mh=(f,g)=>{gs(f,"width",g+"px")},tf=(f,g)=>{gs(f,"width",g+"%")},Xs=(f,g)=>{gs(f,"height",g+"px")},A0=f=>Cw(f)+"px",as=(f,g,_,x)=>{const N=sa(f).map(L=>{const Z=_(L);return Math.floor(g/100*Z)}).getOr(g);return x(f,N),N},Yo=(f,g,_,x)=>{const N=parseFloat(f);return Ui(f,"%")&&ws(g)!=="table"?as(g,N,_,x):N},qi=f=>{const g=A0(f);return g?Yo(g,f,Ou,Xs):Ou(f)},hh=(f,g,_)=>{const x=_(f),N=ei(f,g);return x/N},Tr=(f,g)=>Ul(f,g).orThunk(()=>va(f,g).map(_=>_+"px")),qf=f=>Tr(f,"width"),si=f=>Tr(f,"height"),Ca=f=>rc(f,jn,un),fd=f=>xw(f)?jn(f):Ys(f),rt=f=>hh(f,"rowspan",qi),Va=f=>qf(f).bind(_=>hp(_,["fixed","relative","empty"])),O0=(f,g,_)=>{gs(f,"width",g+_)},Zr=f=>jn(f)+"px",Sl=f=>rc(f,jn,un)+"%",Bg=f=>qf(f).exists(g=>Et.test(g)),Dc=f=>qf(f).exists(g=>Ew.test(g)),Tw=f=>qf(f).isNone(),nf=q(Et),O1=$s("col"),Nc=f=>qf(f).getOrThunk(()=>fd(f)+"px"),jo=f=>si(f).getOrThunk(()=>rt(f)+"px"),Du=f=>hn(fo.justColumns(f),g=>ie.from(g.element)),pp=f=>{const g=kg().browser,_=g.isChromium()||g.isFirefox();return O1(f)?_:!0},Gi=(f,g,_,x,N,L)=>f.filter(x).fold(()=>L(y2(_,g)),Z=>N(Z)),Ig=(f,g,_,x)=>{const N=Ng(f),L=fo.hasColumns(f)?Du(f):N,Z=[ie.some(Oc.edge(g))].concat(hn(Oc.positions(N,g),de=>de.map(_e=>_e.x))),ne=J(Kc);return hn(L,(de,_e)=>Gi(de,_e,Z,ne,Le=>{if(pp(Le))return _(Le);{const bt=T0(N[_e],ke);return Gi(bt,_e,Z,ne,Zt=>x(ie.some(jn(Zt))),x)}},x))},of=f=>f.map(g=>g+"px").getOr(""),md=(f,g)=>Ig(f,g,Nc,of),wr=(f,g,_)=>Ig(f,g,Ca,x=>x.fold(()=>_.minCellWidth(),N=>N/_.pixelWidth()*100)),Lg=(f,g,_)=>Ig(f,g,fd,x=>x.getOrThunk(_.minCellWidth)),He=(f,g,_,x,N)=>{const L=_w(f),Z=[ie.some(_.edge(g))].concat(hn(_.positions(L,g),ne=>ne.map(de=>de.y)));return hn(L,(ne,de)=>Gi(ne,de,Z,J(Eu),x,N))},Yi=(f,g,_)=>He(f,g,_,rt,x=>x.getOrThunk(zf)),gp=(f,g,_)=>He(f,g,_,jo,of),Sa=(f,g)=>()=>yr(f)?g(f):parseFloat(Ul(f,"width").getOr("0")),ca=f=>{const g=Sa(f,jn),_=q(0);return{width:g,pixelWidth:g,getWidths:(N,L)=>Lg(N,f,L),getCellDelta:_,singleColumnWidth:q([0]),minCellWidth:_,setElementWidth:Ee,adjustTableWidth:Ee,isRelative:!0,label:"none"}},hi=f=>{const g=Sa(f,de=>parseFloat(Sl(de))),_=Sa(f,jn);return{width:g,pixelWidth:_,getWidths:(de,_e)=>wr(de,f,_e),getCellDelta:de=>de/_()*100,singleColumnWidth:(de,_e)=>[100-de],minCellWidth:()=>oc()/_()*100,setElementWidth:tf,adjustTableWidth:de=>{const _e=g(),Le=de/100*_e,bt=_e+Le;tf(f,bt)},isRelative:!0,label:"percent"}},dr=f=>{const g=Sa(f,jn);return{width:g,pixelWidth:g,getWidths:(Z,ne)=>Lg(Z,f,ne),getCellDelta:ke,singleColumnWidth:(Z,ne)=>[Math.max(oc(),Z+ne)-Z],minCellWidth:oc,setElementWidth:mh,adjustTableWidth:Z=>{const ne=g()+Z;mh(f,ne)},isRelative:!1,label:"pixel"}},Fg=(f,g)=>nf().exec(g)!==null?hi(f):dr(f),rf={getTableSize:f=>qf(f).fold(()=>ca(f),_=>Fg(f,_)),pixelSize:dr,percentageSize:hi,noneSize:ca},xn=(f,g,_,x,N,L)=>({minRow:f,minCol:g,maxRow:_,maxCol:x,allCells:N,selectedCells:L}),_2=(f,g)=>{const _=f.grid.columns;let N=f.grid.rows,L=_,Z=0,ne=0;const de=[],_e=[];return tn(f.access,Le=>{if(de.push(Le),g(Le)){_e.push(Le);const bt=Le.row,Zt=bt+Le.rowspan-1,Ft=Le.column,dt=Ft+Le.colspan-1;bt<N?N=bt:Zt>Z&&(Z=Zt),Ft<L?L=Ft:dt>ne&&(ne=dt)}}),xn(N,L,Z,ne,de,_e)},O=(f,g,_)=>{const x=f[_].element,N=Ie.fromTag("td");Vs(N,Ie.fromTag("br")),(g?Vs:ar)(x,N)},M=(f,g,_,x)=>{const N=so(f,ne=>ne.section!=="colgroup"),L=g.grid.columns,Z=g.grid.rows;for(let ne=0;ne<Z;ne++){let de=!1;for(let _e=0;_e<L;_e++)ne<_.minRow||ne>_.maxRow||_e<_.minCol||_e>_.maxCol||(fo.getAt(g,ne,_e).filter(x).isNone()?O(N,de,ne):de=!0)}},G=(f,g,_,x)=>{tn(_.columns,Z=>{(Z.column<g.minCol||Z.column>g.maxCol)&&cr(Z.element)});const N=so(jl(f,"tr"),Z=>Z.dom.childElementCount===0);lt(N,cr),(g.minCol===g.maxCol||g.minRow===g.maxRow)&&lt(jl(f,"th,td"),Z=>{qs(Z,"rowspan"),qs(Z,"colspan")}),qs(f,er),qs(f,"data-snooker-col-series"),rf.getTableSize(f).adjustTableWidth(x)},se=(f,g,_,x)=>{if(x.minCol===0&&g.grid.columns===x.maxCol+1)return 0;const N=Lg(g,f,_),L=at(N,(_e,Le)=>_e+Le,0),de=at(N.slice(x.minCol,x.maxCol+1),(_e,Le)=>_e+Le,0)/L*_.pixelWidth()-_.pixelWidth();return _.getCellDelta(de)},xe=(f,g)=>{const _=Zt=>Hi(Zt.element,g),x=Ai(f),N=th(x),L=rf.getTableSize(f),Z=fo.generate(N),ne=_2(Z,_),de="th:not("+g+"),td:not("+g+")",_e=Kd(x,"th,td",Zt=>Hi(Zt,de));lt(_e,cr),M(N,Z,ne,_);const Le=fo.fromTable(f),bt=se(f,Le,L,ne);return G(x,ne,Z,bt),x},nt="",jt=((f,g)=>{const _=L=>{if(!f(L))throw new Error("Can only get "+g+" value of a "+g+" node");return x(L).getOr("")},x=L=>f(L)?ie.from(L.dom.nodeValue):ie.none();return{get:_,getOption:x,set:(L,Z)=>{if(!f(L))throw new Error("Can only set raw "+g+" value of a "+g+" node");L.dom.nodeValue=Z}}})(ml,"text"),An=f=>jt.get(f),Pn=f=>jt.getOption(f),Qo=(f,g)=>jt.set(f,g),Vo=f=>ws(f)==="img"?1:Pn(f).fold(()=>Xo(f).length,g=>g.length),Ws=f=>Pn(f).filter(g=>g.trim().length!==0||g.indexOf(nt)>-1).isSome(),Xi=f=>Dn(f)&&Jr(f,"contenteditable")==="false",Xc=["img","br"],hd=f=>Ws(f)||ln(Xc,ws(f))||Xi(f),za=f=>Jm(f,hd),Gf=f=>Hg(f,hd),Hg=(f,g)=>{const _=x=>{const N=Xo(x);for(let L=N.length-1;L>=0;L--){const Z=N[L];if(g(Z))return ie.some(Z);const ne=_(Z);if(ne.isSome())return ne}return ie.none()};return _(f)},Yf={scope:["row","col"]},af=f=>()=>{const g=Ie.fromTag("td",f.dom);return Vs(g,Ie.fromTag("br",f.dom)),g},kr=f=>()=>Ie.fromTag("col",f.dom),Jc=f=>()=>Ie.fromTag("colgroup",f.dom),pd=f=>()=>Ie.fromTag("tr",f.dom),Xf=(f,g,_)=>{const x=Ud(f,g);return tn(_,(N,L)=>{N===null?qs(x,L):Ps(x,L,N)}),x},D0=f=>f,io=(f,g,_)=>za(f).map(N=>{const L=_.join(","),Z=Bn(N,L,ne=>ls(ne,f));return Mo(Z,(ne,de)=>{const _e=oa(de);return Vs(ne,_e),_e},g)}).getOr(g),Us=(f,g)=>{tn(Yf,(_,x)=>va(f,x).filter(N=>ln(_,N)).each(N=>Ps(g,x,N)))},Mi=(f,g,_)=>{const x=(Z,ne)=>{ur(Z.element,ne),Zc(ne,"height"),Z.colspan!==1&&Zc(ne,"width")},N=Z=>{const ne=Ie.fromTag(ws(Z.element),g.dom),de=_.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),_e=de.length>0?io(Z.element,ne,de):ne;return Vs(_e,Ie.fromTag("br")),x(Z,ne),Us(Z.element,ne),f(Z.element,ne),ne};return{col:Z=>{const ne=Ie.fromTag(ws(Z.element),g.dom);return x(Z,ne),f(Z.element,ne),ne},colgroup:Jc(g),row:pd(g),cell:N,replace:Xf,colGap:kr(g),gap:af(g)}},fr=f=>({col:kr(f),colgroup:Jc(f),row:pd(f),cell:af(f),replace:D0,colGap:kr(f),gap:af(f)}),gd=(f,g)=>{const x=(g||document).createElement("div");return x.innerHTML=f,Xo(Ie.fromDom(x))},Xl=f=>hn(f,Ie.fromDom),Jl=f=>g=>g.options.get(f),ic="100%",w2=f=>{var g;const _=f.dom,x=(g=_.getParent(f.selection.getStart(),_.isBlock))!==null&&g!==void 0?g:f.getBody();return un(Ie.fromDom(x))+"px"},ph=(f,g)=>vd(f)||!Wg(f)?g:bd(f)?{...g,width:w2(f)}:{...g,width:ic},Vg=(f,g)=>vd(f)||Wg(f)?g:bd(f)?{...g,width:w2(f)}:{...g,width:ic},Ql=f=>{const g=f.options.register;g("table_clone_elements",{processor:"string[]"}),g("table_use_colgroups",{processor:"boolean",default:!0}),g("table_header_type",{processor:_=>{const x=ln(["section","cells","sectionCells","auto"],_);return x?{value:_,valid:x}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),g("table_sizing_mode",{processor:"string",default:"auto"}),g("table_default_attributes",{processor:"object",default:{border:"1"}}),g("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),g("table_column_resizing",{processor:_=>{const x=ln(["preservetable","resizetable"],_);return x?{value:_,valid:x}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),g("table_resize_bars",{processor:"boolean",default:!0}),g("table_style_by_css",{processor:"boolean",default:!0}),g("table_merge_content_on_paste",{processor:"boolean",default:!0})},C2=f=>ie.from(f.options.get("table_clone_elements")),D1=f=>{const g=f.options.get("object_resizing");return ln(g.split(","),"table")},kw=Jl("table_header_type"),Aw=Jl("table_column_resizing"),Cr=f=>Aw(f)==="preservetable",S2=f=>Aw(f)==="resizetable",cf=Jl("table_sizing_mode"),zg=f=>cf(f)==="relative",bd=f=>cf(f)==="fixed",vd=f=>cf(f)==="responsive",El=Jl("table_resize_bars"),Wg=Jl("table_style_by_css"),N1=Jl("table_merge_content_on_paste"),ri=f=>{const g=f.options,_=g.get("table_default_attributes");return g.isSet("table_default_attributes")?_:Vg(f,_)},bp=f=>{const g=f.options,_=g.get("table_default_styles");return g.isSet("table_default_styles")?_:ph(f,_)},Ow=Jl("table_use_colgroups"),vp=f=>Br(f,"[contenteditable]"),Ug=(f,g=!1)=>yr(f)?f.dom.isContentEditable:vp(f).fold(q(g),_=>Dw(_)==="true"),Dw=f=>f.dom.contentEditable,yp=f=>Ie.fromDom(f.getBody()),Jf=f=>g=>ls(g,yp(f)),Rc=f=>{qs(f,"data-mce-style");const g=_=>qs(_,"data-mce-style");lt(Ba(f),g),lt(cd(f),g),lt(Kl(f),g)},Qf=f=>Ie.fromDom(f.selection.getStart()),lf=f=>f.getBoundingClientRect().width,Nw=f=>f.getBoundingClientRect().height,N0=(f,g)=>{const _=f.dom.getStyle(g,"width")||f.dom.getAttrib(g,"width");return ie.from(_).filter(Ss)},R1=f=>/^(\d+(\.\d+)?)%$/.test(f),R0=f=>/^(\d+(\.\d+)?)px$/.test(f),jg=f=>Pr(f,$s("table")).exists(Ug),gh=(f,g)=>{const _=g.column,x=g.column+g.colspan-1,N=g.row,L=g.row+g.rowspan-1;return _<=f.finishCol&&x>=f.startCol&&N<=f.finishRow&&L>=f.startRow},E2=(f,g)=>g.column>=f.startCol&&g.column+g.colspan-1<=f.finishCol&&g.row>=f.startRow&&g.row+g.rowspan-1<=f.finishRow,M1=(f,g)=>{let _=!0;const x=We(E2,g);for(let N=g.startRow;N<=g.finishRow;N++)for(let L=g.startCol;L<=g.finishCol;L++)_=_&&fo.getAt(f,N,L).exists(x);return _?ie.some(g):ie.none()},Zo=(f,g)=>Cn(Math.min(f.row,g.row),Math.min(f.column,g.column),Math.max(f.row+f.rowspan-1,g.row+g.rowspan-1),Math.max(f.column+f.colspan-1,g.column+g.colspan-1)),bn=(f,g,_)=>{const x=fo.findItem(f,g,ls),N=fo.findItem(f,_,ls);return x.bind(L=>N.map(Z=>Zo(L,Z)))},_p=(f,g,_)=>bn(f,g,_).bind(x=>M1(f,x)),M0=(f,g,_,x)=>fo.findItem(f,g,ls).bind(N=>{const L=_>0?N.row+N.rowspan-1:N.row,Z=x>0?N.column+N.colspan-1:N.column;return fo.getAt(f,L+_,Z+x).map(de=>de.element)}),$0=(f,g,_)=>bn(f,g,_).map(x=>{const N=fo.filterItems(f,We(gh,x));return hn(N,L=>L.element)}),Rw=(f,g)=>{const _=(x,N)=>Gm(N,x);return fo.findItem(f,g,_).map(x=>x.element)},WO=(f,g,_)=>sa(f).bind(x=>{const N=$1(x);return M0(N,f,g,_)}),Os=(f,g,_)=>{const x=$1(f);return $0(x,g,_)},P0=(f,g,_,x,N)=>{const L=$1(f),Z=ls(f,_)?ie.some(g):Rw(L,g),ne=ls(f,N)?ie.some(x):Rw(L,x);return Z.bind(de=>ne.bind(_e=>$0(L,de,_e)))},x2=(f,g,_)=>{const x=$1(f);return _p(x,g,_)},$1=fo.fromTable;var mt=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Zg=()=>{const f=_e=>Ie.fromDom(_e.dom.cloneNode(!1)),g=_e=>od(_e).dom,_=_e=>Xr(_e)?ws(_e)==="body"?!0:ln(mt,ws(_e)):!1,x=_e=>Xr(_e)?ln(["br","img","hr","input"],ws(_e)):!1,N=_e=>Xr(_e)&&Jr(_e,"contenteditable")==="false",L=(_e,Le)=>_e.dom.compareDocumentPosition(Le.dom),Z=(_e,Le)=>{const bt=Ti(_e);$r(Le,bt)},ne=_e=>{const Le=ws(_e);return ln(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Le)},de=_e=>Xr(_e)?va(_e,"lang"):ie.none();return{up:q({selector:Co,closest:Br,predicate:Uc,all:gl}),down:q({selector:xc,predicate:zi}),styles:q({get:jc,getRaw:Ul,set:gs,remove:Zc}),attrs:q({get:Jr,set:Ps,remove:qs,copyTo:Z}),insert:q({before:vl,after:Ra,afterAll:es,append:Vs,appendAll:Qr,prepend:ar,wrap:zd}),remove:q({unwrap:Wd,remove:cr}),create:q({nu:Ie.fromTag,clone:f,text:Ie.fromText}),query:q({comparePosition:L,prevSibling:wu,nextSibling:bl}),property:q({children:Xo,name:ws,parent:Wc,document:g,isText:ml,isComment:cs,isElement:Xr,isSpecial:ne,getLanguage:de,getText:An,setText:Qo,isBoundary:_,isEmptyTag:x,isNonEditable:N}),eq:ls,is:sp}};const UO=(f,g,_,x)=>{const N=_[0],L=_.slice(1);return x(f,g,N,L)},B0=(f,g,_)=>_.length>0?UO(f,g,_,Mw):ie.none(),Mw=(f,g,_,x)=>{const N=g(f,_);return Mo(x,(L,Z)=>{const ne=g(f,Z);return Kg(f,L,ne)},N)},Kg=(f,g,_)=>g.bind(x=>_.filter(We(f.eq,x))),qg=(f,g)=>We(f.eq,g),uf=(f,g,_,x=Ue)=>{const N=[g].concat(f.up().all(g)),L=[_].concat(f.up().all(_)),Z=Le=>vr(Le,x).fold(()=>Le,Zt=>Le.slice(0,Zt+1)),ne=Z(N),de=Z(L),_e=Y(ne,Le=>ot(de,qg(f,Le)));return{firstpath:ne,secondpath:de,shared:_e}},jO=B0,Gg=uf,js=Zg(),Wa=(f,g)=>jO(js,(_,x)=>f(x),g),ZO=(f,g,_)=>Gg(js,f,g,_),yd=f=>Co(f,"table"),P1=(f,g,_)=>{const x=N=>L=>_!==void 0&&_(L)||ls(L,N);return ls(f,g)?ie.some({boxes:ie.some([f]),start:f,finish:g}):yd(f).bind(N=>yd(g).bind(L=>{if(ls(N,L))return ie.some({boxes:Os(N,f,g),start:f,finish:g});if(Gm(N,L)){const Z=Bn(g,"td,th",x(N)),ne=Z.length>0?Z[Z.length-1]:g;return ie.some({boxes:P0(N,f,N,g,L),start:f,finish:ne})}else if(Gm(L,N)){const Z=Bn(f,"td,th",x(L)),ne=Z.length>0?Z[Z.length-1]:f;return ie.some({boxes:P0(L,f,N,g,L),start:f,finish:ne})}else return ZO(f,g).shared.bind(Z=>Br(Z,"table",_).bind(ne=>{const de=Bn(g,"td,th",x(ne)),_e=de.length>0?de[de.length-1]:g,Le=Bn(f,"td,th",x(ne)),bt=Le.length>0?Le[Le.length-1]:f;return ie.some({boxes:P0(ne,f,N,g,L),start:bt,finish:_e})}))}))},wp=(f,g)=>{const _=xc(f,g);return _.length>0?ie.some(_):ie.none()},Cp=(f,g)=>Y(f,_=>Hi(_,g)),T2=(f,g,_)=>ad(f,g).bind(x=>ad(f,_).bind(N=>Wa(yd,[x,N]).map(L=>({first:x,last:N,table:L})))),k2=(f,g)=>Co(f,"table").bind(_=>ad(_,g).bind(x=>P1(x,f).bind(N=>N.boxes.map(L=>({boxes:L,start:N.start,finish:N.finish}))))),$w=(f,g,_,x,N)=>Cp(f,N).bind(L=>WO(L,g,_).bind(Z=>k2(Z,x))),KO=(f,g)=>wp(f,g),Sp=(f,g,_)=>T2(f,g,_).bind(x=>{const N=de=>ls(f,de),L="thead,tfoot,tbody,table",Z=Co(x.first,L,N),ne=Co(x.last,L,N);return Z.bind(de=>ne.bind(_e=>ls(de,_e)?x2(x.table,x.first,x.last):ie.none()))}),em=ke,I0=f=>{const g=(x,N)=>va(x,N).exists(L=>parseInt(L,10)>1),_=x=>g(x,"rowspan")||g(x,"colspan");return f.length>0&&we(f,_)?ie.some(f):ie.none()},L0=(f,g,_)=>g.length<=1?ie.none():Sp(f,_.firstSelectedSelector,_.lastSelectedSelector).map(x=>({bounds:x,cells:g})),B1="data-mce-selected",Gt="td["+B1+"],th["+B1+"]",Ua="["+B1+"]",I1="data-mce-first-selected",A2="td["+I1+"],th["+I1+"]",F0="data-mce-last-selected",Ea="td["+F0+"],th["+F0+"]",H0=Ua,Nu={selected:B1,selectedSelector:Gt,firstSelected:I1,firstSelectedSelector:A2,lastSelected:F0,lastSelectedSelector:Ea},tm=(f,g,_)=>({element:_,mergable:L0(g,f,Nu),unmergable:I0(f),selection:em(f)}),Pw=(f,g,_)=>({element:f,clipboard:g,generators:_}),_d=(f,g,_,x)=>({selection:em(f),clipboard:_,generators:x}),Bw=f=>sa(f).bind(g=>KO(g,Nu.firstSelectedSelector)).fold(q(f),g=>g[0]),O2=f=>(g,_)=>{const x=ws(g),N=x==="col"||x==="colgroup"?Bw(g):g;return Br(N,f,_)},Iw=O2("th,td,caption"),L1=O2("th,td"),df=f=>Xl(f.model.table.getSelectedCells()),F1=f=>so(df(f),g=>Hi(g,Nu.selectedSelector)),V0=f=>sa(f[0]).map(g=>{const _=xe(g,H0);return Rc(_),[_]}),qO=(f,g)=>hn(g,_=>f.selection.serializer.serialize(_.dom,{})).join(""),D2=f=>hn(f,g=>g.dom.innerText).join(""),Yg=(f,g)=>{f.on("BeforeGetContent",_=>{const x=N=>{_.preventDefault(),V0(N).each(L=>{_.content=_.format==="text"?D2(L):qO(f,L)})};if(_.selection===!0){const N=F1(f);N.length>=1&&x(N)}}),f.on("BeforeSetContent",_=>{if(_.selection===!0&&_.paste===!0){const x=df(f);Ae(x).each(N=>{sa(N).each(L=>{const Z=so(gd(_.content),de=>ws(de)!=="meta"),ne=$s("table");if(N1(f)&&Z.length===1&&ne(Z[0])){_.preventDefault();const de=Ie.fromDom(f.getDoc()),_e=fr(de),Le=Pw(N,Z[0],_e);g.pasteCells(L,Le).each(()=>{f.focus()})}})})}})},ja=(f,g)=>({element:f,offset:g}),Qc=(f,g,_)=>f.property().isText(g)&&f.property().getText(g).trim().length===0||f.property().isComment(g)?_(g).bind(x=>Qc(f,x,_).orThunk(()=>ie.some(x))):ie.none(),Xg=(f,g)=>f.property().isText(g)?f.property().getText(g).length:f.property().children(g).length,N2=(f,g)=>{const _=Qc(f,g,f.query().prevSibling).getOr(g);if(f.property().isText(_))return ja(_,Xg(f,_));const x=f.property().children(_);return x.length>0?N2(f,x[x.length-1]):ja(_,Xg(f,_))},Ep=N2,z0=Zg(),Ru=f=>Ep(z0,f),Lw=(f,g)=>{Kc(f)||Va(f).each(x=>{const N=x.value/2;O0(f,N,x.unit),O0(g,N,x.unit)})},W0=f=>hn(f,q(0)),Jg=(f,g,_,x,N)=>N(f.slice(0,g)).concat(x).concat(N(f.slice(_))),Fw=f=>(g,_,x,N)=>{if(f(x)){const L=Math.max(N,g[_]-Math.abs(x)),Z=Math.abs(L-g[_]);return x>=0?Z:-Z}else return x},nm=Fw(f=>f<0),R2=Fw(ye),U0=()=>{const f=(ne,de,_e,Le,bt)=>{const Zt=nm(ne,de,Le,bt);return Jg(ne,de,_e+1,[Zt,0],W0)},g=(ne,de,_e,Le)=>{const bt=(100+_e)/100,Zt=Math.max(Le,(ne[de]+_e)/bt);return hn(ne,(Ft,dt)=>(dt===de?Zt:Ft/bt)-Ft)},_=(ne,de,_e,Le,bt,Zt)=>Zt?g(ne,de,Le,bt):f(ne,de,_e,Le,bt);return{resizeTable:(ne,de)=>ne(de),clampTableDelta:nm,calcLeftEdgeDeltas:_,calcMiddleDeltas:(ne,de,_e,Le,bt,Zt,Ft)=>_(ne,_e,Le,bt,Zt,Ft),calcRightEdgeDeltas:(ne,de,_e,Le,bt,Zt)=>{if(Zt)return g(ne,_e,Le,bt);{const Ft=nm(ne,_e,Le,bt);return W0(ne.slice(0,_e)).concat([Ft])}},calcRedestributedWidths:(ne,de,_e,Le)=>{if(Le){const Zt=(de+_e)/de,Ft=hn(ne,dt=>dt/Zt);return{delta:Zt*100-100,newSizes:Ft}}else return{delta:_e,newSizes:ne}}}},j0=()=>{const f=(Z,ne,de,_e,Le)=>{const bt=_e>=0?de:ne,Zt=R2(Z,bt,_e,Le);return Jg(Z,ne,de+1,[Zt,-Zt],W0)};return{resizeTable:(Z,ne,de)=>{de&&Z(ne)},clampTableDelta:(Z,ne,de,_e,Le)=>{if(Le){if(de>=0)return de;{const bt=at(Z,(Zt,Ft)=>Zt+Ft-_e,0);return Math.max(-bt,de)}}else return nm(Z,ne,de,_e)},calcLeftEdgeDeltas:f,calcMiddleDeltas:(Z,ne,de,_e,Le,bt)=>f(Z,de,_e,Le,bt),calcRightEdgeDeltas:(Z,ne,de,_e,Le,bt)=>{if(bt)return W0(Z);{const Zt=_e/Z.length;return hn(Z,q(Zt))}},calcRedestributedWidths:(Z,ne,de,_e)=>({delta:0,newSizes:Z})}},Hw=f=>fo.fromTable(f).grid,bs=$s("th"),Z0=f=>we(f,g=>bs(g.element)),GO=(f,g)=>f&&g?"sectionCells":f?"section":"cells",M2=f=>{const g=f.section==="thead",_=Gs(Qg(f.cells),"th");return f.section==="tfoot"?{type:"footer"}:g||_?{type:"header",subType:GO(g,_)}:{type:"body"}},Qg=f=>{const g=so(f,_=>bs(_.element));return g.length===0?ie.some("td"):g.length===f.length?ie.some("th"):ie.none()},$2=f=>{const g=hn(f,N=>M2(N).type),_=ln(g,"header"),x=ln(g,"footer");if(!_&&!x)return ie.some("body");{const N=ln(g,"body");return _&&!N&&!x?ie.some("header"):!_&&!N&&x?ie.some("footer"):ie.none()}},el=f=>Wt(f.all,g=>{const _=M2(g);return _.type==="header"?ie.from(_.subType):ie.none()}),pi=(f,g,_)=>Qe(_(f.element,g),!0,f.isLocked),Vw=(f,g)=>f.section!==g?At(f.element,f.cells,g,f.isNew):f,P2=()=>({transformRow:Vw,transformCell:(f,g,_)=>{const x=_(f.element,g),N=ws(x)!=="td"?sd(x,"td"):x;return Qe(N,f.isNew,f.isLocked)}}),eb=()=>({transformRow:Vw,transformCell:pi}),K0=()=>({transformRow:(f,g)=>Vw(f,g==="thead"?"tbody":g),transformCell:pi}),q0={getTableSectionType:(f,g)=>{const _=fo.fromTable(f);switch(el(_).getOr(g)){case"section":return P2();case"sectionCells":return eb();case"cells":return K0()}},section:P2,sectionCells:eb,cells:K0,fallback:()=>({transformRow:ke,transformCell:pi})},bh=(f,g,_,x)=>{_===x?qs(f,g):Ps(f,g,_)},B2=(f,g,_)=>{Jt(_l(f,g)).fold(()=>ar(f,_),x=>Ra(x,_))},gP=(f,g)=>{const _=Cu(f,g).getOrThunk(()=>{const x=Ie.fromTag(g,Cc(f).dom);return g==="thead"?B2(f,"caption,colgroup",x):g==="colgroup"?B2(f,"caption",x):Vs(f,x),x});return Vi(_),_},bP=(f,g)=>{const _=[],x=[],N=Ft=>hn(Ft,dt=>{dt.isNew&&_.push(dt.element);const Vt=dt.element;return Vi(Vt),lt(dt.cells,ut=>{ut.isNew&&x.push(ut.element),bh(ut.element,"colspan",ut.colspan,1),bh(ut.element,"rowspan",ut.rowspan,1),Vs(Vt,ut.element)}),Vt}),L=Ft=>Ho(Ft,dt=>hn(dt.cells,Vt=>(bh(Vt.element,"span",Vt.colspan,1),Vt.element))),Z=(Ft,dt)=>{const Vt=gP(f,dt),sn=(dt==="colgroup"?L:N)(Ft);Qr(Vt,sn)},ne=Ft=>{Cu(f,Ft).each(cr)},de=(Ft,dt)=>{Ft.length>0?Z(Ft,dt):ne(dt)},_e=[],Le=[],bt=[],Zt=[];return lt(g,Ft=>{switch(Ft.section){case"thead":_e.push(Ft);break;case"tbody":Le.push(Ft);break;case"tfoot":bt.push(Ft);break;case"colgroup":Zt.push(Ft);break}}),de(Zt,"colgroup"),de(_e,"thead"),de(Le,"tbody"),de(bt,"tfoot"),{newRows:_,newCells:x}},Kr=f=>hn(f,g=>{const _=oa(g.element);return lt(g.cells,x=>{const N=Ai(x.element);bh(N,"colspan",x.colspan,1),bh(N,"rowspan",x.rowspan,1),Vs(_,N)}),_}),wd=(f,g)=>hn(f,_=>jr(_,g)),zo=(f,g)=>f[g],ac=(f,g)=>{if(f.length===0)return 0;const _=f[0];return vr(f,N=>!g(_.element,N.element)).getOr(f.length)},ff=(f,g,_,x)=>{const N=zo(f,g),L=N.section==="colgroup",Z=ac(N.cells.slice(_),x),ne=L?1:ac(wd(f.slice(g),_),x);return{colspan:Z,rowspan:ne}},Ji=(f,g)=>{const _=hn(f,N=>hn(N.cells,Ue)),x=(N,L,Z,ne)=>{for(let de=N;de<N+Z;de++)for(let _e=L;_e<L+ne;_e++)_[de][_e]=!0};return hn(f,(N,L)=>{const Z=Ho(N.cells,(ne,de)=>{if(_[L][de]===!1){const _e=ff(f,L,de,g);return x(L,de,_e.rowspan,_e.colspan),[jd(ne.element,_e.rowspan,_e.colspan,ne.isNew)]}else return[]});return Ne(N.element,Z,N.section,N.isNew)})},om=(f,g,_)=>{const x=[];lt(f.colgroups,N=>{const L=[];for(let Z=0;Z<f.grid.columns;Z++){const ne=fo.getColumnAt(f,Z).map(de=>Qe(de.element,_,!1)).getOrThunk(()=>Qe(g.colGap(),!0,!1));L.push(ne)}x.push(At(N.element,L,"colgroup",_))});for(let N=0;N<f.grid.rows;N++){const L=[];for(let de=0;de<f.grid.columns;de++){const _e=fo.getAt(f,N,de).map(Le=>Qe(Le.element,_,Le.isLocked)).getOrThunk(()=>Qe(g.gap(),!0,!1));L.push(_e)}const Z=f.all[N],ne=At(Z.element,L,Z.section,_);x.push(ne)}return x},Ww=(f,g)=>om(f,g,!1),vh=f=>Ji(f,ls),cc=(f,g)=>Wt(f.all,_=>Y(_.cells,x=>ls(g,x.element))),xl=(f,g,_)=>{const x=hn(g.selection,L=>Zl(L).bind(Z=>cc(f,Z)).filter(_)),N=Su(x);return rp(N.length>0,N)},ii=(f,g,_,x,N)=>(L,Z,ne,de)=>{const _e=fo.fromTable(L),Le=ie.from(de==null?void 0:de.section).getOrThunk(q0.fallback);return g(_e,Z).map(Zt=>{const Ft=Ww(_e,ne),dt=f(Ft,Zt,ls,N(ne),Le),Vt=kc(dt.grid),ut=vh(dt.grid);return{info:Zt,grid:ut,cursor:dt.cursor,lockedColumns:Vt}}).bind(Zt=>{const Ft=bP(L,Zt.grid),dt=ie.from(de==null?void 0:de.sizing).getOrThunk(()=>rf.getTableSize(L)),Vt=ie.from(de==null?void 0:de.resize).getOrThunk(j0);return _(L,Zt.grid,Zt.info,{sizing:dt,resize:Vt,section:Le}),x(L),qs(L,er),Zt.lockedColumns.length>0&&Ps(L,er,Zt.lockedColumns.join(",")),ie.some({cursor:Zt.cursor,newRows:Ft.newRows,newCells:Ft.newCells})})},tb=(f,g)=>Zl(g.element).bind(_=>cc(f,_).map(x=>({...x,generators:g.generators,clipboard:g.clipboard}))),yh=(f,g)=>xl(f,g,ye).map(_=>({cells:_,generators:g.generators,clipboard:g.clipboard})),Uw=(f,g)=>g.mergable,I2=(f,g)=>g.unmergable,sm=(f,g)=>xl(f,g,ye),Cd=(f,g)=>xl(f,g,_=>!_.isLocked),L2=(f,g)=>cc(f,g).exists(_=>!_.isLocked),jw=(f,g)=>we(g,_=>L2(f,_)),YO=(f,g)=>Uw(f,g).filter(_=>jw(f,_.cells)),XO=(f,g)=>I2(f,g).filter(_=>jw(f,_)),JO=(f,g,_,x)=>{const N=Zi(f).rows;if(N.length===0)return f;for(let L=g.startRow;L<=g.finishRow;L++)for(let Z=g.startCol;Z<=g.finishCol;Z++){const ne=N[L],de=jr(ne,Z).isLocked;up(ne,Z,Qe(x(),!1,de))}return f},Zw=(f,g,_,x)=>{const N=Zi(f).rows;let L=!0;for(let Z=0;Z<N.length;Z++)for(let ne=0;ne<Fa(N[0]);ne++){const de=N[Z],_e=jr(de,ne),Le=_e.element,bt=_(Le,g);bt&&!L?up(de,ne,Qe(x(),!0,_e.isLocked)):bt&&(L=!1)}return f},H1=(f,g)=>at(f,(_,x)=>ot(_,N=>g(N.element,x.element))?_:_.concat([x]),[]),QO=(f,g,_,x)=>(g>0&&g<f[0].cells.length&&lt(f,N=>{const L=N.cells[g-1];let Z=0;const ne=x();for(;N.cells.length>g+Z&&_(L.element,N.cells[g+Z].element);)up(N,g+Z,Qe(ne,!0,N.cells[g+Z].isLocked)),Z++}),f),eD=(f,g,_,x)=>{const N=Zi(f).rows;if(g>0&&g<N.length){const L=N[g-1].cells,Z=H1(L,_);lt(Z,ne=>{let de=ie.none();for(let _e=g;_e<N.length;_e++)for(let Le=0;Le<Fa(N[0]);Le++){const bt=N[_e],Zt=jr(bt,Le);_(Zt.element,ne.element)&&(de.isNone()&&(de=ie.some(x())),de.each(dt=>{up(bt,Le,Qe(dt,!0,Zt.isLocked))}))}})}return f},Kw=f=>{const g=L=>L(f),_=q(f),x=()=>N,N={tag:!0,inner:f,fold:(L,Z)=>Z(f),isValue:ye,isError:Ue,map:L=>G0.value(L(f)),mapError:x,bind:g,exists:g,forall:g,getOr:_,or:x,getOrThunk:_,orThunk:x,getOrDie:_,each:L=>{L(f)},toOptional:()=>ie.some(f)};return N},_h=f=>{const g=()=>_,_={tag:!1,inner:f,fold:(x,N)=>x(f),isValue:Ue,isError:ye,map:g,mapError:x=>G0.error(x(f)),bind:g,exists:Ue,forall:ye,getOr:ke,or:ke,getOrThunk:Ge,orThunk:Ge,getOrDie:Te(String(f)),each:Ee,toOptional:ie.none};return _},G0={value:Kw,error:_h,fromOption:(f,g)=>f.fold(()=>_h(g),Kw)},Ar=(f,g,_)=>{if(f.row>=g.length||f.column>Fa(g[0]))return G0.error("invalid start address out of table bounds, row: "+f.row+", column: "+f.column);const x=g.slice(f.row),N=x[0].cells.slice(f.column),L=Fa(_[0]),Z=_.length;return G0.value({rowDelta:x.length-Z,colDelta:N.length-L})},Y0=(f,g)=>{const _=Fa(f[0]),x=Fa(g[0]);return{rowDelta:0,colDelta:_-x}},wh=(f,g)=>{const _=f.length,x=g.length;return{rowDelta:_-x,colDelta:0}},Ch=(f,g,_,x)=>{const N=g.section==="colgroup"?_.col:_.cell;return Xn(f,L=>Qe(N(),!0,x(L)))},rm=(f,g,_,x)=>{const N=f[f.length-1];return f.concat(Xn(g,()=>{const L=N.section==="colgroup"?_.colgroup:_.row,Z=Dg(N,L,ke),ne=Ch(Z.cells.length,Z,_,de=>ds(x,de.toString()));return Ag(Z,ne)}))},la=(f,g,_,x)=>hn(f,N=>{const L=Ch(g,N,_,Ue);return oi(N,x,L)}),eu=(f,g,_)=>hn(f,x=>at(_,(N,L)=>{const Z=Ch(1,x,g,ye)[0];return S1(N,L,Z)},x)),xp=(f,g,_)=>{const x=g.colDelta<0?la:ke,N=g.rowDelta<0?rm:ke,L=kc(f),Z=Fa(f[0]),ne=ot(L,Le=>Le===Z-1),de=x(f,Math.abs(g.colDelta),_,ne?Z-1:Z),_e=kc(de);return N(de,Math.abs(g.rowDelta),_,je(_e,ye))},nb=(f,g,_,x)=>{const N=jr(f[g],_),L=We(x,N.element),Z=f[g];return f.length>1&&Fa(Z)>1&&(_>0&&L(aa(Z,_-1))||_<Z.cells.length-1&&L(aa(Z,_+1))||g>0&&L(aa(f[g-1],_))||g<f.length-1&&L(aa(f[g+1],_)))},ob=(f,g,_,x,N,L)=>{const Z=f.row,ne=f.column,de=_.length,_e=Fa(_[0]),Le=Z+de,bt=ne+_e+L.length,Zt=je(L,ye);for(let Ft=Z;Ft<Le;Ft++){let dt=0;for(let Vt=ne;Vt<bt;Vt++){if(Zt[Vt]){dt++;continue}nb(g,Ft,Vt,N)&&Zw(g,aa(g[Ft],Vt),N,x.cell);const ut=Vt-ne-dt,sn=jr(_[Ft-Z],ut),In=sn.element,ro=x.replace(In);up(g[Ft],Vt,Qe(ro,!0,sn.isLocked))}}return g},nD=(f,g,_)=>{const x=Fa(g[0]),N=Zi(g).cols.length+f.row,L=Xn(x-f.column,ne=>ne+f.column),Z=Y(L,ne=>we(_,de=>de!==ne)).getOr(x-1);return{row:N,column:Z}},F2=(f,g,_)=>so(_,x=>x>=f.column&&x<=Fa(g[0])+f.column),qw=(f,g,_,x,N)=>{const L=kc(g),Z=nD(f,g,L),ne=Zi(_).rows,de=F2(Z,ne,L);return Ar(Z,g,ne).map(Le=>{const bt={...Le,colDelta:Le.colDelta-de.length},Zt=xp(g,bt,x),Ft=kc(Zt),dt=F2(Z,ne,Ft);return ob(Z,Zt,ne,x,N,dt)})},im=(f,g,_,x,N)=>{QO(g,f,N,x.cell);const L=wh(_,g),Z=xp(_,L,x),ne=wh(g,Z),de=xp(g,ne,x);return hn(de,(_e,Le)=>oi(_e,f,Z[Le].cells))},X0=(f,g,_,x,N)=>{eD(g,f,N,x.cell);const L=kc(g),Z=Y0(g,_),ne={...Z,colDelta:Z.colDelta-L.length},de=xp(g,ne,x),{cols:_e,rows:Le}=Zi(de),bt=kc(de),Zt=Y0(_,g),Ft={...Zt,colDelta:Zt.colDelta+bt.length},dt=eu(_,x,bt),Vt=xp(dt,Ft,x);return[..._e,...Le.slice(0,f),...Vt,...Le.slice(f,Le.length)]},mr=(f,g,_,x)=>Dg(f,N=>x(N,_),g),xa=(f,g,_,x,N)=>{const{rows:L,cols:Z}=Zi(f),ne=L.slice(0,g),de=L.slice(g),_e=mr(L[_],(Le,bt)=>g>0&&g<L.length&&x(aa(L[g-1],bt),aa(L[g],bt))?jr(L[g],bt):Qe(N(Le.element,x),!0,Le.isLocked),x,N);return[...Z,...ne,_e,...de]},V1=(f,g,_,x,N,L,Z)=>{if(_==="colgroup"||!x){const ne=jr(f,N);return Qe(Z(ne.element,L),!0,!1)}else return jr(f,g)},H2=(f,g,_,x,N)=>hn(f,L=>{const Z=g>0&&g<Fa(L)&&x(aa(L,g-1),aa(L,g)),ne=V1(L,g,L.section,Z,_,x,N);return S1(L,g,ne)}),Gw=(f,g)=>Ho(f,_=>{const x=_.cells,N=Mo(g,(L,Z)=>Z>=0&&Z<L.length?L.slice(0,Z).concat(L.slice(Z+1)):L,x);return N.length>0?[At(_.element,N,_.section,_.isNew)]:[]}),oD=(f,g,_)=>{const{rows:x,cols:N}=Zi(f);return[...N,...x.slice(0,g),...x.slice(_+1)]},Tp=(f,g,_,x)=>aa(f[g],_)!==void 0&&g>0&&x(aa(f[g-1],_),aa(f[g],_)),Yw=(f,g,_)=>g>0&&_(aa(f,g-1),aa(f,g)),kp=(f,g,_,x)=>Tp(f,g,_,x)||Yw(f[g],_,x),J0=(f,g)=>we(g,ke)&&Z0(f.cells)?ye:(x,N,L)=>!(ws(x.element)==="th"&&g[L]),sD=(f,g)=>we(g,ke)&&Z0(f)?ye:(x,N,L)=>!(ws(x.element)==="th"&&g[N]),sb=(f,g,_,x)=>{const N=Z=>Z==="row"?Eu(g):Kc(g),L=Z=>N(Z)?`${Z}group`:Z;return f?bs(g)?L(_):null:x&&bs(g)?L(_==="row"?"col":"row"):null},rD=(f,g)=>(_,x,N)=>ie.some(sb(f,_.element,"col",g[N])),z1=(f,g)=>(_,x)=>ie.some(sb(f,_.element,"row",g[x])),Q0=(f,g,_)=>Qe(_(f.element,g),!0,f.isLocked),rb=(f,g,_,x,N,L,Z)=>{const ne=de=>ot(g,_e=>_(de.element,_e.element));return hn(f,(de,_e)=>Og(de,(Le,bt)=>{if(ne(Le)){const Zt=Z(Le,_e,bt)?N(Le,_,x):Le;return L(Zt,_e,bt).each(Ft=>{Vl(Zt.element,{scope:ie.from(Ft)})}),Zt}else return Le}))},W1=(f,g,_)=>Ho(f,(x,N)=>kp(f,N,g,_)?[]:[jr(x,g)]),ey=(f,g,_)=>{const x=f[g];return Ho(x.cells,(N,L)=>kp(f,g,L,_)?[]:[N])},ib=(f,g,_,x,N)=>{const L=Zi(f).rows,Z=Ho(g,Le=>W1(L,Le,x)),ne=hn(L,Le=>Z0(Le.cells)),de=sD(Z,ne),_e=z1(_,ne);return rb(f,Z,x,N,Q0,_e,de)},V2=(f,g,_,x,N,L,Z)=>{const{cols:ne,rows:de}=Zi(f),_e=de[g[0]],Le=Ho(g,ut=>ey(de,ut,N)),bt=hn(_e.cells,(ut,sn)=>Z0(W1(de,sn,N))),Zt=[...de];lt(g,ut=>{Zt[ut]=Z.transformRow(de[ut],_)});const Ft=[...ne,...Zt],dt=J0(_e,bt),Vt=rD(x,bt);return rb(Ft,Le,N,L,Z.transformCell,Vt,dt)},ty=(f,g,_,x)=>{const N=Zi(f).rows,L=hn(g,Z=>jr(N[Z.row],Z.column));return rb(f,L,_,x,Q0,ie.none,ye)},mf={generate:f=>{if(!R(f))throw new Error("cases must be an array");if(f.length===0)throw new Error("there must be at least one case");const g=[],_={};return lt(f,(x,N)=>{const L=st(x);if(L.length!==1)throw new Error("one and only one name per case");const Z=L[0],ne=x[Z];if(_[Z]!==void 0)throw new Error("duplicate key detected:"+Z);if(Z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!R(ne))throw new Error("case arguments must be an array");g.push(Z),_[Z]=(...de)=>{const _e=de.length;if(_e!==ne.length)throw new Error("Wrong number of arguments to case "+Z+". Expected "+ne.length+" ("+ne+"), got "+_e);return{fold:(...bt)=>{if(bt.length!==f.length)throw new Error("Wrong number of arguments to fold. Expected "+f.length+", got "+bt.length);return bt[N].apply(null,de)},match:bt=>{const Zt=st(bt);if(g.length!==Zt.length)throw new Error("Wrong number of arguments to match. Expected: "+g.join(",")+`
Actual: `+Zt.join(","));if(!we(g,dt=>ln(Zt,dt)))throw new Error("Not all branches were specified when using match. Specified: "+Zt.join(", ")+`
Required: `+g.join(", "));return bt[Z].apply(null,de)},log:bt=>{console.log(bt,{constructors:g,constructor:Z,params:de})}}}}),_}},Mc={...mf.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ho=(f,g)=>f.length===0?Mc.none():f.length===1?Mc.only(0):g===0?Mc.left(0,1):g===f.length-1?Mc.right(g-1,g):g>0&&g<f.length-1?Mc.middle(g-1,g,g+1):Mc.none(),tl=(f,g,_,x,N)=>{const L=f.slice(0),Z=ho(f,g),ne=q(hn(L,q(0))),de=Zt=>x.singleColumnWidth(L[Zt],_),_e=(Zt,Ft)=>N.calcLeftEdgeDeltas(L,Zt,Ft,_,x.minCellWidth(),x.isRelative),Le=(Zt,Ft,dt)=>N.calcMiddleDeltas(L,Zt,Ft,dt,_,x.minCellWidth(),x.isRelative),bt=(Zt,Ft)=>N.calcRightEdgeDeltas(L,Zt,Ft,_,x.minCellWidth(),x.isRelative);return Z.fold(ne,de,_e,Le,bt)},Je=(f,g,_)=>{let x=0;for(let N=f;N<g;N++)x+=_[N]!==void 0?_[N]:0;return x},ab=(f,g)=>{const _=fo.justCells(f);return hn(_,x=>{const N=Je(x.column,x.column+x.colspan,g);return{element:x.element,width:N,colspan:x.colspan}})},Zs=(f,g)=>{const _=fo.justColumns(f);return hn(_,(x,N)=>({element:x.element,width:g[N],colspan:x.colspan}))},z2=(f,g)=>{const _=fo.justCells(f);return hn(_,x=>{const N=Je(x.row,x.row+x.rowspan,g);return{element:x.element,height:N,rowspan:x.rowspan}})},ny=(f,g)=>hn(f.all,(_,x)=>({element:_.element,height:g[x]})),sr=f=>Mo(f,(g,_)=>g+_,0),am=(f,g)=>fo.hasColumns(f)?Zs(f,g):ab(f,g),oy=(f,g,_)=>{const x=am(f,g);lt(x,N=>{_.setElementWidth(N.element,N.width)})},Xw=(f,g,_,x,N)=>{const L=fo.fromTable(f),Z=N.getCellDelta(g),ne=N.getWidths(L,N),de=_===L.grid.columns-1,_e=x.clampTableDelta(ne,_,Z,N.minCellWidth(),de),Le=tl(ne,_,_e,N,x),bt=hn(Le,(Zt,Ft)=>Zt+ne[Ft]);oy(L,bt,N),x.resizeTable(N.adjustTableWidth,_e,de)},Jw=(f,g,_,x)=>{const N=fo.fromTable(f),L=Yi(N,f,x),Z=hn(L,(Le,bt)=>_===bt?Math.max(g+Le,zf()):Le),ne=z2(N,Z),de=ny(N,Z);lt(de,Le=>{Xs(Le.element,Le.height)}),lt(ne,Le=>{Xs(Le.element,Le.height)});const _e=sr(Z);Xs(f,_e)},sy=(f,g,_,x,N)=>{const L=fo.generate(g),Z=x.getWidths(L,x),ne=x.pixelWidth(),{newSizes:de,delta:_e}=N.calcRedestributedWidths(Z,ne,_.pixelDelta,x.isRelative);oy(L,de,x),x.adjustTableWidth(_e)},ry=(f,g,_,x)=>{const N=fo.generate(g),L=x.getWidths(N,x);oy(N,L,x)},Sh=f=>at(f,(_,x)=>ot(_,L=>L.column===x.column)?_:_.concat([x]),[]).sort((_,x)=>_.column-x.column),U1=$s("col"),Qw=$s("colgroup"),iy=f=>ws(f)==="tr"||Qw(f),W2=f=>{const g=ji(f,"colspan",1),_=ji(f,"rowspan",1);return{element:f,colspan:g,rowspan:_}},U2=(f,g=W2)=>{const _=ne=>U1(ne.element)?f.col(ne):f.cell(ne),x=ne=>Qw(ne.element)?f.colgroup(ne):f.row(ne),N=ne=>{if(iy(ne))return x({element:ne});{const de=ne,_e=_(g(de));return L=ie.some({item:de,replacement:_e}),_e}};let L=ie.none();return{getOrInit:(ne,de)=>L.fold(()=>N(ne),_e=>de(ne,_e.item)?_e.replacement:N(ne))}},Op=f=>g=>{const _=[],x=(Z,ne)=>Y(_,de=>ne(de.item,Z)),N=Z=>{const ne=f==="td"?{scope:null}:{},de=g.replace(Z,f,ne);return _.push({item:Z,sub:de}),de};return{replaceOrInit:(Z,ne)=>{if(iy(Z)||U1(Z))return Z;{const de=Z;return x(de,ne).fold(()=>N(de),_e=>ne(Z,_e.item)?_e.sub:N(de))}}}},Za=f=>va(f,"scope").map(g=>g.substr(0,3)),Ds={modification:U2,transform:Op,merging:f=>({unmerge:x=>{const N=Za(x);return N.each(L=>Ps(x,"scope",L)),()=>{const L=f.cell({element:x,colspan:1,rowspan:1});return Zc(L,"width"),Zc(x,"width"),N.each(Z=>Ps(L,"scope",Z)),L}},merge:x=>{const N=()=>{const L=Su(hn(x,Za));if(L.length===0)return ie.none();{const Z=L[0],ne=["row","col"];return ot(L,_e=>_e!==Z&&ln(ne,_e))?ie.none():ie.from(Z)}};return Zc(x[0],"width"),N().fold(()=>qs(x[0],"scope"),L=>Ps(x[0],"scope",L+"group")),q(x[0])}})},iD=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],hf=(f,g)=>{const _=f.property().name(g);return ln(["ol","ul"],_)},eC=(f,g)=>{const _=f.property().name(g);return ln(iD,_)},tC=(f,g)=>ln(["br","img","hr","input"],f.property().name(g)),j1=Zg(),Z1=f=>eC(j1,f),ay=f=>hf(j1,f),j2=f=>tC(j1,f),aD=f=>{const g=$s("br"),_=de=>we(de,_e=>g(_e)||ml(_e)&&An(_e).trim().length===0),x=de=>ws(de)==="li"||Uc(de,ay).isSome(),N=de=>bl(de).map(_e=>Z1(_e)?!0:j2(_e)?ws(_e)!=="img":!1).getOr(!1),L=de=>Gf(de).bind(_e=>{const Le=N(_e);return Wc(_e).map(bt=>Le===!0||x(bt)||g(_e)||Z1(bt)&&!ls(de,bt)?[]:[Ie.fromTag("br")])}).getOr([]),ne=(()=>{const de=Ho(f,_e=>{const Le=Xo(_e);return _(Le)?[]:Le.concat(L(_e))});return de.length===0?[Ie.fromTag("br")]:de})();Vi(f[0]),Qr(f[0],ne)},nC=f=>Ug(f,!0),$i=f=>{Ba(f).length===0&&cr(f)},gi=(f,g)=>({grid:f,cursor:g}),Ka=f=>Wt(f,g=>Wt(g.cells,_=>{const x=_.element;return rp(nC(x),x)})),lc=(f,g,_)=>{var x,N;const L=Zi(f).rows;return ie.from((N=(x=L[g])===null||x===void 0?void 0:x.cells[_])===null||N===void 0?void 0:N.element).filter(nC).orThunk(()=>Ka(L))},Bs=(f,g,_)=>{const x=lc(f,g,_);return gi(f,x)},ai=f=>at(f,(_,x)=>ot(_,L=>L.row===x.row)?_:_.concat([x]),[]).sort((_,x)=>_.row-x.row),qa=(f,g,_,x)=>{const N=g[0].row,L=ai(g),Z=Mo(L,(ne,de)=>({grid:xa(ne.grid,N,de.row+ne.delta,_,x.getOrInit),delta:ne.delta+1}),{grid:f,delta:0}).grid;return Bs(Z,N,g[0].column)},Z2=(f,g,_,x)=>{const N=ai(g),L=N[N.length-1],Z=L.row+L.rowspan,ne=Mo(N,(de,_e)=>xa(de,Z,_e.row,_,x.getOrInit),f);return Bs(ne,Z,g[0].column)},Sd=(f,g,_,x)=>{const N=g.details,L=Sh(N),Z=L[0].column,ne=Mo(L,(de,_e)=>({grid:H2(de.grid,Z,_e.column+de.delta,_,x.getOrInit),delta:de.delta+1}),{grid:f,delta:0}).grid;return Bs(ne,N[0].row,Z)},K2=(f,g,_,x)=>{const N=g.details,L=N[N.length-1],Z=L.column+L.colspan,ne=Sh(N),de=Mo(ne,(_e,Le)=>H2(_e,Z,Le.column,_,x.getOrInit),f);return Bs(de,N[0].row,Z)},q2=(f,g,_,x)=>{const N=Sh(g),L=hn(N,ne=>ne.column),Z=ib(f,L,!0,_,x.replaceOrInit);return Bs(Z,g[0].row,g[0].column)},G2=(f,g,_,x)=>{const N=ty(f,g,_,x.replaceOrInit);return Bs(N,g[0].row,g[0].column)},oC=(f,g,_,x)=>{const N=Sh(g),L=hn(N,ne=>ne.column),Z=ib(f,L,!1,_,x.replaceOrInit);return Bs(Z,g[0].row,g[0].column)},cy=(f,g,_,x)=>{const N=ty(f,g,_,x.replaceOrInit);return Bs(N,g[0].row,g[0].column)},ly=(f,g)=>(_,x,N,L,Z)=>{const ne=ai(x),de=hn(ne,Le=>Le.row),_e=V2(_,de,f,g,N,L.replaceOrInit,Z);return Bs(_e,x[0].row,x[0].column)},_P=ly("thead",!0),Y2=ly("tbody",!1),cD=ly("tfoot",!1),sC=(f,g,_,x)=>{const N=Sh(g.details),L=Gw(f,hn(N,ne=>ne.column)),Z=L.length>0?L[0].cells.length-1:0;return Bs(L,N[0].row,Math.min(N[0].column,Z))},rC=(f,g,_,x)=>{const N=ai(g),L=oD(f,N[0].row,N[N.length-1].row),Z=L.length>0?L.length-1:0;return Bs(L,Math.min(g[0].row,Z),g[0].column)},lD=(f,g,_,x)=>{const N=g.cells;aD(N);const L=JO(f,g.bounds,_,x.merge(N));return gi(L,ie.from(N[0]))},uD=(f,g,_,x)=>{const L=Mo(g,(Z,ne)=>Zw(Z,ne,_,x.unmerge(ne)),f);return gi(L,ie.from(g[0]))},X2=(f,g,_,x)=>{const L=((de,_e)=>{const Le=fo.fromTable(de);return om(Le,_e,!0)})(g.clipboard,g.generators),Z=Ec(g.row,g.column);return qw(Z,f,L,g.generators,_).fold(()=>gi(f,ie.some(g.element)),de=>Bs(de,g.row,g.column))},Yt=(f,g,_)=>{const x=Wf(f,_.section),N=fo.generate(x);return om(N,g,!0)},uy=(f,g,_,x)=>{const N=Zi(f).rows,L=g.cells[0].column,Z=N[g.cells[0].row],ne=Yt(g.clipboard,g.generators,Z),de=im(L,f,ne,g.generators,_);return Bs(de,g.cells[0].row,g.cells[0].column)},Dt=(f,g,_,x)=>{const N=Zi(f).rows,L=g.cells[g.cells.length-1].column+g.cells[g.cells.length-1].colspan,Z=N[g.cells[0].row],ne=Yt(g.clipboard,g.generators,Z),de=im(L,f,ne,g.generators,_);return Bs(de,g.cells[0].row,g.cells[0].column)},dD=(f,g,_,x)=>{const N=Zi(f).rows,L=g.cells[0].row,Z=N[L],ne=Yt(g.clipboard,g.generators,Z),de=X0(L,f,ne,g.generators,_);return Bs(de,g.cells[0].row,g.cells[0].column)},Qi=(f,g,_,x)=>{const N=Zi(f).rows,L=g.cells[g.cells.length-1].row+g.cells[g.cells.length-1].rowspan,Z=N[g.cells[0].row],ne=Yt(g.clipboard,g.generators,Z),de=X0(L,f,ne,g.generators,_);return Bs(de,g.cells[0].row,g.cells[0].column)},fD=(f,g)=>{const _=fo.fromTable(f);return sm(_,g).bind(N=>{const L=N[N.length-1],Z=N[0].column,ne=L.column+L.colspan,de=_o(hn(_.all,_e=>so(_e.cells,Le=>Le.column>=Z&&Le.column<ne)));return Qg(de)}).getOr("")},iC=(f,g)=>{const _=fo.fromTable(f);return sm(_,g).bind(Qg).getOr("")},mD=(f,g)=>{const _=fo.fromTable(f);return sm(_,g).bind(N=>{const L=N[N.length-1],Z=N[0].row,ne=L.row+L.rowspan,de=_.all.slice(Z,ne);return $2(de)}).getOr("")},uc=(f,g,_,x)=>ry(f,g,_,x.sizing),aC=(f,g,_,x)=>sy(f,g,_,x.sizing,x.resize),J2=(f,g)=>ot(g,_=>_.column===0&&_.isLocked),Sr=(f,g)=>ot(g,_=>_.column+_.colspan>=f.grid.columns&&_.isLocked),Eh=(f,g)=>{const _=Ng(f),x=Sh(g);return at(x,(N,L)=>{const ne=_[L.column].map(Hn).getOr(0);return N+ne},0)},cb=f=>(g,_)=>sm(g,_).filter(x=>!(f?J2:Sr)(g,x)).map(x=>({details:x,pixelDelta:Eh(g,x)})),pf=(f,g)=>Cd(f,g).map(_=>({details:_,pixelDelta:-Eh(f,_)})),Mu=f=>(g,_)=>yh(g,_).filter(x=>!(f?J2:Sr)(g,x.cells)),K1=Ds.transform("th"),nl=Ds.transform("td"),Q2=ii(qa,sm,Ee,Ee,Ds.modification),cC=ii(Z2,sm,Ee,Ee,Ds.modification),lC=ii(Sd,cb(!0),aC,Ee,Ds.modification),uC=ii(K2,cb(!1),aC,Ee,Ds.modification),ex=ii(sC,pf,aC,$i,Ds.modification),dC=ii(rC,sm,Ee,$i,Ds.modification),hD=ii(q2,Cd,Ee,Ee,K1),tx=ii(oC,Cd,Ee,Ee,nl),pD=ii(_P,Cd,Ee,Ee,K1),gD=ii(Y2,Cd,Ee,Ee,nl),fC=ii(cD,Cd,Ee,Ee,nl),nx=ii(G2,Cd,Ee,Ee,K1),bD=ii(cy,Cd,Ee,Ee,nl),dy=ii(lD,YO,uc,Ee,Ds.merging),vD=ii(uD,XO,uc,Ee,Ds.merging),ox=ii(X2,tb,uc,Ee,Ds.modification),yD=ii(uy,Mu(!0),Ee,Ee,Ds.modification),q1=ii(Dt,Mu(!1),Ee,Ee,Ds.modification),_D=ii(dD,yh,Ee,Ee,Ds.modification),wD=ii(Qi,yh,Ee,Ee,Ds.modification),sx=fD,CD=iC,SD=mD,G1=(f,g)=>f.dispatch("NewRow",{node:g}),rx=(f,g)=>f.dispatch("NewCell",{node:g}),dc=(f,g,_)=>{f.dispatch("TableModified",{..._,table:g})},Ks=(f,g,_,x,N)=>{f.dispatch("TableSelectionChange",{cells:g,start:_,finish:x,otherCells:N})},fy=f=>{f.dispatch("TableSelectionClear")},fc=(f,g,_,x,N)=>{f.dispatch("ObjectResizeStart",{target:g,width:_,height:x,origin:N})},Dp=(f,g,_,x,N)=>{f.dispatch("ObjectResized",{target:g,width:_,height:x,origin:N})},Y1={structure:!1,style:!0},Pi={structure:!0,style:!1},my={structure:!0,style:!0},ix=(f,g)=>zg(f)?rf.percentageSize(g):bd(f)?rf.pixelSize(g):rf.getTableSize(g),ED=(f,g,_)=>{const x=pc=>ws(yp(pc))==="table",N=pc=>!x(f)||Hw(pc).rows>1,L=pc=>!x(f)||Hw(pc).columns>1,Z=C2(f),ne=S2(f)?Ee:Lw,de=pc=>{switch(kw(f)){case"section":return q0.section();case"sectionCells":return q0.sectionCells();case"cells":return q0.cells();default:return q0.getTableSectionType(pc,"section")}},_e=(pc,iS)=>iS.cursor.fold(()=>{const Ev=Ba(pc);return Ae(Ev).filter(yr).map(au=>{_.clearSelectedCells(pc.dom);const da=f.dom.createRng();return da.selectNode(au.dom),f.selection.setRng(da),Ps(au,"data-mce-selected","1"),da})},Ev=>{const au=Ru(Ev),da=f.dom.createRng();return da.setStart(au.element.dom,au.offset),da.setEnd(au.element.dom,au.offset),f.selection.setRng(da),_.clearSelectedCells(pc.dom),ie.some(da)}),Le=(pc,iS,Ev,au)=>(da,aS,Gy=!1)=>{Rc(da);const iT=Ie.fromDom(f.getDoc()),MP=Mi(Ev,iT,Z),aT={sizing:ix(f,da),resize:S2(f)?U0():j0(),section:de(da)};return iS(da)?pc(da,aS,MP,aT).bind(cS=>{g.refresh(da.dom),lt(cS.newRows,gc=>{G1(f,gc.dom)}),lt(cS.newCells,gc=>{rx(f,gc.dom)});const DN=_e(da,cS);return yr(da)&&(Rc(da),Gy||dc(f,da.dom,au)),DN.map(gc=>({rng:gc,effect:au}))}):ie.none()},bt=Le(dC,N,Ee,Pi),Zt=Le(ex,L,Ee,Pi),Ft=Le(Q2,ye,Ee,Pi),dt=Le(cC,ye,Ee,Pi),Vt=Le(lC,ye,ne,Pi),ut=Le(uC,ye,ne,Pi),sn=Le(dy,ye,Ee,Pi),In=Le(vD,ye,Ee,Pi),ro=Le(yD,ye,Ee,Pi),Is=Le(q1,ye,Ee,Pi),ea=Le(_D,ye,Ee,Pi),Dr=Le(wD,ye,Ee,Pi),sl=Le(ox,ye,Ee,my),Od=Le(nx,ye,Ee,Pi),Sv=Le(bD,ye,Ee,Pi),qy=Le(hD,ye,Ee,Pi),Ob=Le(tx,ye,Ee,Pi),hs=Le(pD,ye,Ee,Pi),Ga=Le(gD,ye,Ee,Pi),hc=Le(fC,ye,Ee,Pi);return{deleteRow:bt,deleteColumn:Zt,insertRowsBefore:Ft,insertRowsAfter:dt,insertColumnsBefore:Vt,insertColumnsAfter:ut,mergeCells:sn,unmergeCells:In,pasteColsBefore:ro,pasteColsAfter:Is,pasteRowsBefore:ea,pasteRowsAfter:Dr,pasteCells:sl,makeCellsHeader:Od,unmakeCellsHeader:Sv,makeColumnsHeader:qy,unmakeColumnsHeader:Ob,makeRowsHeader:hs,makeRowsBody:Ga,makeRowsFooter:hc,getTableRowType:SD,getTableCellType:CD,getTableColType:sx}},hy=(f,g,_)=>{const x=ji(f,g,1);_===1||x<=1?qs(f,g):Ps(f,g,Math.min(_,x))},ax=(f,g)=>_=>{const x=_.column+_.colspan-1,N=_.column;return x>=f&&N<g},xD=(f,g,_)=>{if(fo.hasColumns(f)){const x=so(fo.justColumns(f),ax(g,_)),N=hn(x,Z=>{const ne=Ai(Z.element);return hy(ne,"span",_-g),ne}),L=Ie.fromTag("colgroup");return Qr(L,N),[L]}else return[]},TD=(f,g,_)=>hn(f.all,x=>{const N=so(x.cells,ax(g,_)),L=hn(N,ne=>{const de=Ai(ne.element);return hy(de,"colspan",_-g),de}),Z=Ie.fromTag("tr");return Qr(Z,L),Z}),kD=(f,g)=>{const _=fo.fromTable(f);return Cd(_,g).map(N=>{const L=N[N.length-1],Z=N[0].column,ne=L.column+L.colspan,de=xD(_,Z,ne),_e=TD(_,Z,ne);return[...de,..._e]})},AD=(f,g,_)=>{const x=fo.fromTable(f);return sm(x,g).bind(L=>{const Z=om(x,_,!1),de=Zi(Z).rows.slice(L[0].row,L[L.length-1].row+L[L.length-1].rowspan),_e=Ho(de,bt=>{const Zt=so(bt.cells,Ft=>!Ft.isLocked);return Zt.length>0?[{...bt,cells:Zt}]:[]}),Le=vh(_e);return rp(Le.length>0,Le)}).map(L=>Kr(L))},X1=mf.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),mC=(f,g,_)=>{const x=_.substring(0,_.length-f.length),N=parseFloat(x);return x===N.toString()?g(N):X1.invalid(_)},xh={...X1,from:f=>Ui(f,"%")?mC("%",X1.percent,f):Ui(f,"px")?mC("px",X1.pixels,f):X1.invalid(f)},py=(f,g)=>hn(f,_=>xh.from(_).fold(()=>_,N=>N/g*100+"%",N=>N+"%")),OD=(f,g,_)=>{const x=_/g;return hn(f,N=>xh.from(N).fold(()=>N,Z=>Z*x+"px",Z=>Z/100*_+"px"))},cx=(f,g)=>{const _=f.fold(()=>q(""),x=>{const N=x/g;return q(N+"px")},()=>{const x=100/g;return q(x+"%")});return Xn(g,_)},DD=(f,g,_)=>f.fold(()=>g,x=>OD(g,_,x),x=>py(g,_)),Np=(f,g,_)=>{const x=xh.from(_),N=we(f,L=>L==="0px")?cx(x,f.length):DD(x,f,g);return MD(N)},J1=(f,g)=>f.length===0?g:Mo(f,(_,x)=>xh.from(x).fold(q(0),ke,ke)+_,0),ND=(f,g)=>{const _=Math.floor(f);return{value:_+g,remainder:f-_}},RD=(f,g)=>xh.from(f).fold(q(f),_=>_+g+"px",_=>_+g+"%"),MD=f=>{if(f.length===0)return f;const g=Mo(f,(x,N)=>{const L=xh.from(N).fold(()=>({value:N,remainder:0}),Z=>ND(Z,"px"),Z=>({value:Z+"%",remainder:0}));return{output:[L.value].concat(x.output),remainder:x.remainder+L.remainder}},{output:[],remainder:0}),_=g.output;return _.slice(0,_.length-1).concat([RD(_[_.length-1],Math.round(g.remainder))])},cm=xh.from,gy=(f,g,_)=>{lt(g,x=>{const N=f.slice(x.column,x.colspan+x.column),L=J1(N,oc());gs(x.element,"width",L+_)})},by=(f,g,_)=>{lt(g,(x,N)=>{const L=J1([f[N]],oc());gs(x.element,"width",L+_)})},hC=(f,g,_,x)=>{lt(_,N=>{const L=f.slice(N.row,N.rowspan+N.row),Z=J1(L,zf());gs(N.element,"height",Z+x)}),lt(g,(N,L)=>{gs(N.element,"height",f[L])})},lx=f=>cm(f).fold(q("px"),q("px"),q("%")),tu=(f,g,_)=>{const x=fo.fromTable(f),N=x.all,L=fo.justCells(x),Z=fo.justColumns(x);g.each(ne=>{const de=lx(ne),_e=jn(f),Le=md(x,f),bt=Np(Le,_e,ne);fo.hasColumns(x)?by(bt,Z,de):gy(bt,L,de),gs(f,"width",ne)}),_.each(ne=>{const de=lx(ne),_e=Ou(f),Le=gp(x,f,Yc),bt=Np(Le,_e,ne);hC(bt,N,L,de),gs(f,"height",ne)})},vy=Bg,ux=Dc,lm=Tw,Rp=f=>{qs(f,"width")},Q1=f=>{const g=Sl(f);tu(f,ie.some(g),ie.none()),Rp(f)},pC=f=>{const g=Zr(f);tu(f,ie.some(g),ie.none()),Rp(f)},dx=f=>{Zc(f,"width");const g=cd(f),_=g.length>0?g:Ba(f);lt(_,x=>{Zc(x,"width"),Rp(x)}),Rp(f)},$D={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},fx=()=>Ie.fromTag("th"),PD=()=>Ie.fromTag("td"),BD=()=>Ie.fromTag("col"),mx=(f,g,_,x)=>{const N=Ie.fromTag("tr");for(let L=0;L<f;L++){const Z=x<g||L<_?fx():PD();L<_&&Ps(Z,"scope","row"),x<g&&Ps(Z,"scope","col"),Vs(Z,Ie.fromTag("br")),Vs(N,Z)}return N},hx=f=>{const g=Ie.fromTag("colgroup");return Xn(f,()=>Vs(g,BD())),g},gC=(f,g,_,x)=>Xn(f,N=>mx(g,_,x,N)),ID=(f,g,_,x,N,L=$D)=>{const Z=Ie.fromTag("table"),ne=N!=="cells";Ur(Z,L.styles),$r(Z,L.attributes),L.colGroups&&Vs(Z,hx(g));const de=Math.min(f,_);if(ne&&_>0){const Ft=Ie.fromTag("thead");Vs(Z,Ft);const Vt=gC(_,g,N==="sectionCells"?de:0,x);Qr(Ft,Vt)}const _e=Ie.fromTag("tbody");Vs(Z,_e);const Le=ne?f-de:f,Zt=gC(Le,g,ne?0:_,x);return Qr(_e,Zt),Z},LD=f=>f.dom.innerHTML,FD=f=>{const g=Ie.fromTag("div"),_=Ie.fromDom(f.dom.cloneNode(!0));return Vs(g,_),LD(g)},yy=(f,g)=>{f.selection.select(g.dom,!0),f.selection.collapse(!0)},bC=(f,g)=>{ad(g,"td,th").each(We(yy,f))},px=(f,g)=>{lt(xc(g,"tr"),_=>{G1(f,_.dom),lt(xc(_,"th,td"),x=>{rx(f,x.dom)})})},HD=f=>E(f)&&f.indexOf("%")!==-1,VD=(f,g,_,x,N)=>{const L=bp(f),Z={styles:L,attributes:ri(f),colGroups:Ow(f)};return f.undoManager.ignore(()=>{const ne=ID(_,g,N,x,kw(f),Z);Ps(ne,"data-mce-id","__mce");const de=FD(ne);f.insertContent(de),f.addVisual()}),ad(yp(f),'table[data-mce-id="__mce"]').map(ne=>(bd(f)?pC(ne):vd(f)?dx(ne):(zg(f)||HD(L.width))&&Q1(ne),Rc(ne),qs(ne,"data-mce-id"),px(f,ne),bC(f,ne),ne.dom)).getOrNull()},zD=(f,g,_,x={})=>{const N=L=>ve(L)&&L>0;if(N(g)&&N(_)){const L=x.headerRows||0,Z=x.headerColumns||0;return VD(f,_,g,Z,L)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var ev=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const WD="x-tinymce/dom-table-",tv=WD+"rows",nv=WD+"columns",gx=f=>{const g=ev.FakeClipboardItem(f);ev.write([g])},_y=f=>{var g;const _=(g=ev.read())!==null&&g!==void 0?g:[];return Wt(_,x=>ie.from(x.getType(f)))},vC=f=>{_y(f).isSome()&&ev.clear()},yC=f=>{f.fold(bx,g=>gx({[tv]:g}))},_C=()=>_y(tv),bx=()=>vC(tv),ov=f=>{f.fold(UD,g=>gx({[nv]:g}))},vx=()=>_y(nv),UD=()=>vC(nv),wC=f=>Iw(Qf(f),Jf(f)).filter(jg),jD=f=>L1(Qf(f),Jf(f)).filter(jg),Mp=(f,g)=>{const _=Jf(f),x=()=>wC(f).each(ut=>{sa(ut,_).filter(J(_)).each(sn=>{const In=Ie.fromText("");if(Ra(sn,In),cr(sn),f.dom.isEmpty(f.getBody()))f.setContent(""),f.selection.setCursorLocation();else{const ro=f.dom.createRng();ro.setStart(In.dom,0),ro.setEnd(In.dom,0),f.selection.setRng(ro),f.nodeChanged()}})}),N=ut=>wC(f).each(sn=>{vd(f)||bd(f)||zg(f)||sa(sn,_).each(ro=>{ut==="relative"&&!vy(ro)?Q1(ro):ut==="fixed"&&!ux(ro)?pC(ro):ut==="responsive"&&!lm(ro)&&dx(ro),Rc(ro),dc(f,ro.dom,Pi)})}),L=ut=>sa(ut,_),Z=ut=>jD(f).bind(sn=>L(sn).map(In=>ut(In,sn))),ne=(ut,sn)=>{Z(In=>{f.formatter.toggle("tableclass",{value:sn},In.dom),dc(f,In.dom,Y1)})},de=(ut,sn)=>{Z(In=>{const ro=df(f),ea=we(ro,Dr=>f.formatter.match("tablecellclass",{value:sn},Dr.dom))?f.formatter.remove:f.formatter.apply;lt(ro,Dr=>ea("tablecellclass",{value:sn},Dr.dom)),dc(f,In.dom,Y1)})},_e=()=>{wC(f).each(ut=>{sa(ut,_).each(sn=>{Cu(sn,"caption").fold(()=>{const In=Ie.fromTag("caption");Vs(In,Ie.fromText("Caption")),Ym(sn,In,0),f.selection.setCursorLocation(In.dom,0)},In=>{$s("caption")(ut)&&Ff("td",sn).each(ro=>f.selection.setCursorLocation(ro.dom,0)),cr(In)}),dc(f,sn.dom,Pi)})})},Le=ut=>{f.focus()},bt=(ut,sn=!1)=>Z((In,ro)=>{const Is=tm(df(f),In,ro);ut(In,Is,sn).each(Le)}),Zt=()=>Z((ut,sn)=>{const In=tm(df(f),ut,sn),ro=Mi(Ee,Ie.fromDom(f.getDoc()),ie.none());return AD(ut,In,ro)}),Ft=()=>Z((ut,sn)=>{const In=tm(df(f),ut,sn);return kD(ut,In)}),dt=(ut,sn)=>sn().each(In=>{const ro=hn(In,Is=>Ai(Is));Z((Is,ea)=>{const Dr=fr(Ie.fromDom(f.getDoc())),sl=_d(df(f),ea,ro,Dr);ut(Is,sl).each(Le)})}),Vt=ut=>(sn,In)=>mi(In,"type").each(ro=>{bt(ut(ro),In.no_events)});tn({mceTableSplitCells:()=>bt(g.unmergeCells),mceTableMergeCells:()=>bt(g.mergeCells),mceTableInsertRowBefore:()=>bt(g.insertRowsBefore),mceTableInsertRowAfter:()=>bt(g.insertRowsAfter),mceTableInsertColBefore:()=>bt(g.insertColumnsBefore),mceTableInsertColAfter:()=>bt(g.insertColumnsAfter),mceTableDeleteCol:()=>bt(g.deleteColumn),mceTableDeleteRow:()=>bt(g.deleteRow),mceTableCutCol:()=>Ft().each(ut=>{ov(ut),bt(g.deleteColumn)}),mceTableCutRow:()=>Zt().each(ut=>{yC(ut),bt(g.deleteRow)}),mceTableCopyCol:()=>Ft().each(ut=>ov(ut)),mceTableCopyRow:()=>Zt().each(ut=>yC(ut)),mceTablePasteColBefore:()=>dt(g.pasteColsBefore,vx),mceTablePasteColAfter:()=>dt(g.pasteColsAfter,vx),mceTablePasteRowBefore:()=>dt(g.pasteRowsBefore,_C),mceTablePasteRowAfter:()=>dt(g.pasteRowsAfter,_C),mceTableDelete:x,mceTableCellToggleClass:de,mceTableToggleClass:ne,mceTableToggleCaption:_e,mceTableSizingMode:(ut,sn)=>N(sn),mceTableCellType:Vt(ut=>ut==="th"?g.makeCellsHeader:g.unmakeCellsHeader),mceTableColType:Vt(ut=>ut==="th"?g.makeColumnsHeader:g.unmakeColumnsHeader),mceTableRowType:Vt(ut=>{switch(ut){case"header":return g.makeRowsHeader;case"footer":return g.makeRowsFooter;default:return g.makeRowsBody}})},(ut,sn)=>f.addCommand(sn,ut)),f.addCommand("mceInsertTable",(ut,sn)=>{zD(f,sn.rows,sn.columns,sn.options)}),f.addCommand("mceTableApplyCellStyle",(ut,sn)=>{const In=ea=>"tablecell"+ea.toLowerCase().replace("-","");if(!A(sn))return;const ro=so(df(f),jg);if(ro.length===0)return;const Is=vo(sn,(ea,Dr)=>f.formatter.has(In(Dr))&&E(ea));wc(Is)||(tn(Is,(ea,Dr)=>{const sl=In(Dr);lt(ro,Od=>{ea===""?f.formatter.remove(sl,{value:null},Od.dom,!0):f.formatter.apply(sl,{value:ea},Od.dom)})}),L(ro[0]).each(ea=>dc(f,ea.dom,Y1)))})},ZD=(f,g)=>{const _=Jf(f),x=N=>L1(Qf(f)).bind(L=>sa(L,_).map(Z=>{const ne=tm(df(f),Z,L);return N(Z,ne)})).getOr("");tn({mceTableRowType:()=>x(g.getTableRowType),mceTableCellType:()=>x(g.getTableCellType),mceTableColType:()=>x(g.getTableColType)},(N,L)=>f.addQueryValueHandler(L,N))},CC=mf.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sv=(f,g,_,x)=>f.fold(g,_,x),KD=f=>f.fold(ke,ke,ke),yx=CC.before,_x=CC.on,wx=CC.after,Ta={before:yx,on:_x,after:wx,cata:sv,getStart:KD},gf={create:(f,g)=>({selection:f,kill:g})},rv=(f,g)=>{const _=f.document.createRange();return _.selectNode(g.dom),_},Cy=(f,g)=>{const _=f.document.createRange();return qD(_,g),_},qD=(f,g)=>f.selectNodeContents(g.dom),Cx=(f,g)=>{g.fold(_=>{f.setStartBefore(_.dom)},(_,x)=>{f.setStart(_.dom,x)},_=>{f.setStartAfter(_.dom)})},Sx=(f,g)=>{g.fold(_=>{f.setEndBefore(_.dom)},(_,x)=>{f.setEnd(_.dom,x)},_=>{f.setEndAfter(_.dom)})},Sy=(f,g,_)=>{const x=f.document.createRange();return Cx(x,g),Sx(x,_),x},Ey=(f,g,_,x,N)=>{const L=f.document.createRange();return L.setStart(g.dom,_),L.setEnd(x.dom,N),L},mc=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom,width:f.width,height:f.height}),GD=f=>{const g=f.getClientRects(),_=g.length>0?g[0]:f.getBoundingClientRect();return _.width>0||_.height>0?ie.some(_).map(mc):ie.none()},bf=mf.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Th=(f,g,_)=>g(Ie.fromDom(_.startContainer),_.startOffset,Ie.fromDom(_.endContainer),_.endOffset),iv=(f,g)=>g.match({domRange:_=>({ltr:q(_),rtl:ie.none}),relative:(_,x)=>({ltr:xu(()=>Sy(f,_,x)),rtl:xu(()=>ie.some(Sy(f,x,_)))}),exact:(_,x,N,L)=>({ltr:xu(()=>Ey(f,_,x,N,L)),rtl:xu(()=>ie.some(Ey(f,N,L,_,x)))})}),av=(f,g)=>{const _=g.ltr();return _.collapsed?g.rtl().filter(N=>N.collapsed===!1).map(N=>bf.rtl(Ie.fromDom(N.endContainer),N.endOffset,Ie.fromDom(N.startContainer),N.startOffset)).getOrThunk(()=>Th(f,bf.ltr,_)):Th(f,bf.ltr,_)},Ex=(f,g)=>{const _=iv(f,g);return av(f,_)},Ed=(f,g)=>Ex(f,g).match({ltr:(x,N,L,Z)=>{const ne=f.document.createRange();return ne.setStart(x.dom,N),ne.setEnd(L.dom,Z),ne},rtl:(x,N,L,Z)=>{const ne=f.document.createRange();return ne.setStart(L.dom,Z),ne.setEnd(x.dom,N),ne}});bf.ltr,bf.rtl;const lb={create:(f,g,_,x)=>({start:f,soffset:g,finish:_,foffset:x})},xx={create:(f,g,_,x)=>({start:Ta.on(f,g),finish:Ta.on(_,x)})},ub=(f,g)=>{const _=Ed(f,g);return lb.create(Ie.fromDom(_.startContainer),_.startOffset,Ie.fromDom(_.endContainer),_.endOffset)},kh=xx.create,db=(f,g,_,x,N,L,Z)=>ls(_,N)&&x===L?ie.none():Br(_,"td,th",g).bind(ne=>Br(N,"td,th",g).bind(de=>fb(f,g,ne,de,Z))),fb=(f,g,_,x,N)=>ls(_,x)?ie.none():P1(_,x,g).bind(L=>{const Z=L.boxes.getOr([]);return Z.length>1?(N(f,Z,L.start,L.finish),ie.some(gf.create(ie.some(kh(_,0,_,Vo(_))),!0))):ie.none()}),SC=(f,g,_,x,N)=>{const L=Z=>(N.clearBeforeUpdate(_),N.selectRange(_,Z.boxes,Z.start,Z.finish),Z.boxes);return $w(x,f,g,N.firstSelectedSelector,N.lastSelectedSelector).map(L)},$p=(f,g)=>({item:f,mode:g}),cv=(f,g,_,x=dm)=>f.property().parent(g).map(N=>$p(N,x)),dm=(f,g,_,x=Ah)=>_.sibling(f,g).map(N=>$p(N,x)),Ah=(f,g,_,x=Ah)=>{const N=f.property().children(g);return _.first(N).map(Z=>$p(Z,x))},lv=[{current:cv,next:dm,fallback:ie.none()},{current:dm,next:Ah,fallback:ie.some(cv)},{current:Ah,next:Ah,fallback:ie.some(dm)}],bi=(f,g,_,x,N=lv)=>Y(N,Z=>Z.current===_).bind(Z=>Z.current(f,g,x,Z.next).orThunk(()=>Z.fallback.bind(ne=>bi(f,g,ne,x)))),xy={left:()=>({sibling:(_,x)=>_.query().prevSibling(x),first:_=>_.length>0?ie.some(_[_.length-1]):ie.none()}),right:()=>({sibling:(_,x)=>_.query().nextSibling(x),first:_=>_.length>0?ie.some(_[0]):ie.none()})},mb=(f,g,_,x,N,L)=>bi(f,g,x,N).bind(ne=>L(ne.item)?ie.none():_(ne.item)?ie.some(ne.item):mb(f,ne.item,_,ne.mode,N,L)),Pp=(f,g,_,x)=>mb(f,g,_,dm,xy.left(),x),EC=(f,g,_,x)=>mb(f,g,_,dm,xy.right(),x),hb=f=>g=>f.property().children(g).length===0,JD=(f,g,_)=>xC(f,g,hb(f),_),Tx=(f,g,_)=>kx(f,g,hb(f),_),xC=Pp,kx=EC,pb=Zg(),xd=(f,g)=>JD(pb,f,g),Ax=(f,g)=>Tx(pb,f,g),QD=(f,g,_)=>xC(pb,f,g,_),Ox=(f,g,_)=>kx(pb,f,g,_),Dx=(f,g,_)=>Uc(f,g,_).isSome(),gb=mf.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),CP=(f,g,_)=>{const x=f.getRect(g),N=f.getRect(_);return N.right>x.left&&N.left<x.right},SP=f=>Br(f,"tr"),Bp={...gb,verify:(f,g,_,x,N,L,Z)=>Br(x,"td,th",Z).bind(ne=>Br(g,"td,th",Z).map(de=>ls(ne,de)?ls(x,ne)&&Vo(ne)===N?L(de):gb.none("in same cell"):Wa(SP,[ne,de]).fold(()=>CP(f,de,ne)?gb.success():L(de),_e=>L(de)))).getOr(gb.none("default")),cata:(f,g,_,x,N)=>f.fold(g,_,x,N)},vi=(f,g,_,x)=>({parent:f,children:g,element:_,index:x}),ka=f=>Wc(f).bind(g=>{const _=Xo(g);return ua(_,f).map(x=>vi(g,_,f,x))}),ua=(f,g)=>vr(f,We(ls,g)),yi=$s("br"),ol=(f,g,_)=>g(f,_).bind(x=>ml(x)&&An(x).trim().length===0?ol(x,g,_):ie.some(x)),uv=(f,g,_)=>_.traverse(g).orThunk(()=>ol(g,_.gather,f)).map(_.relative),nu=(f,g)=>ki(f,g).filter(yi).orThunk(()=>ki(f,g-1).filter(yi)),Ip=(f,g,_,x)=>nu(g,_).bind(N=>x.traverse(N).fold(()=>ol(N,x.gather,f).map(x.relative),L=>ka(L).map(Z=>Ta.on(Z.parent,Z.index)))),eN=(f,g,_,x)=>(yi(g)?uv(f,g,x):Ip(f,g,_,x)).map(L=>({start:L,finish:L})),tN=f=>Bp.cata(f,g=>ie.none(),()=>ie.none(),g=>ie.some(ja(g,0)),g=>ie.some(ja(g,Vo(g)))),yf=(f,g)=>({left:f.left,top:f.top+g,right:f.right,bottom:f.bottom+g}),bb=(f,g)=>({left:f.left,top:f.top-g,right:f.right,bottom:f.bottom-g}),Ty=(f,g,_)=>({left:f.left+g,top:f.top+_,right:f.right+g,bottom:f.bottom+_}),Pu=f=>f.top,kC=f=>f.bottom,AC=(f,g,_)=>_>=0&&_<Vo(g)?f.getRangedRect(g,_,g,_+1):_>0?f.getRangedRect(g,_-1,g,_):ie.none(),Lp=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom}),OC=(f,g)=>ie.some(f.getRect(g)),Nx=(f,g,_)=>Xr(g)?OC(f,g).map(Lp):ml(g)?AC(f,g,_).map(Lp):ie.none(),ky=(f,g)=>Xr(g)?OC(f,g).map(Lp):ml(g)?f.getRangedRect(g,0,g,Vo(g)).map(Lp):ie.none(),fm=5,DC=100,Td=mf.generate([{none:[]},{retry:["caret"]}]),Rx=(f,g)=>f.left<g.left||Math.abs(g.right-f.left)<1||f.left>g.right,NC=(f,g,_)=>Pr(g,Z1).fold(Ue,x=>ky(f,x).exists(N=>Rx(_,N))),nN=(f,g,_,x,N)=>{const L=yf(N,fm);return Math.abs(_.bottom-x.bottom)<1||_.top>N.bottom?Td.retry(L):_.top===N.bottom?Td.retry(yf(N,1)):NC(f,g,N)?Td.retry(Ty(L,fm,0)):Td.none()},oN={point:Pu,adjuster:(f,g,_,x,N)=>{const L=bb(N,fm);return Math.abs(_.top-x.top)<1||_.bottom<N.top?Td.retry(L):_.bottom===N.top?Td.retry(bb(N,1)):NC(f,g,N)?Td.retry(Ty(L,fm,0)):Td.none()},move:bb,gather:xd},sN={point:kC,adjuster:nN,move:yf,gather:Ax},Tl=(f,g,_)=>f.elementFromPoint(g,_).filter(x=>ws(x)==="table").isSome(),xP=(f,g,_,x,N)=>Fp(f,g,_,g.move(x,fm),N),Fp=(f,g,_,x,N)=>N===0?ie.some(x):Tl(f,x.left,g.point(x))?xP(f,g,_,x,N-1):f.situsFromPoint(x.left,g.point(x)).bind(L=>L.start.fold(ie.none,Z=>ky(f,Z).bind(ne=>g.adjuster(f,Z,ne,_,x).fold(ie.none,de=>Fp(f,g,_,de,N-1))).orThunk(()=>ie.some(x)),ie.none)),vb=(f,g,_)=>f.point(g)>_.getInnerHeight()?ie.some(f.point(g)-_.getInnerHeight()):f.point(g)<0?ie.some(-f.point(g)):ie.none(),RC=(f,g,_)=>{const x=f.move(_,fm),N=Fp(g,f,_,x,DC).getOr(x);return vb(f,N,g).fold(()=>g.situsFromPoint(N.left,f.point(N)),L=>(g.scrollBy(0,L),g.situsFromPoint(N.left,f.point(N)-L)))},MC={tryUp:We(RC,oN),tryDown:We(RC,sN),getJumpSize:q(fm)},rN=20,Mx=(f,g,_)=>f.getSelection().bind(x=>eN(g,x.finish,x.foffset,_).fold(()=>ie.some(ja(x.finish,x.foffset)),N=>{const L=f.fromSitus(N),Z=Bp.verify(f,x.finish,x.foffset,L.finish,L.foffset,_.failure,g);return tN(Z)})),$C=(f,g,_,x,N,L)=>L===0?ie.none():Hp(f,g,_,x,N).bind(Z=>{const ne=f.fromSitus(Z),de=Bp.verify(f,_,x,ne.finish,ne.foffset,N.failure,g);return Bp.cata(de,()=>ie.none(),()=>ie.some(Z),_e=>ls(_,_e)&&x===0?To(f,_,x,bb,N):$C(f,g,_e,0,N,L-1),_e=>ls(_,_e)&&x===Vo(_e)?To(f,_,x,yf,N):$C(f,g,_e,Vo(_e),N,L-1))}),To=(f,g,_,x,N)=>Nx(f,g,_).bind(L=>mm(f,N,x(L,MC.getJumpSize()))),mm=(f,g,_)=>{const x=kg().browser;return x.isChromium()||x.isSafari()||x.isFirefox()?g.retry(f,_):ie.none()},Hp=(f,g,_,x,N)=>Nx(f,_,x).bind(L=>mm(f,N,L)),Ay=(f,g,_)=>Mx(f,g,_).bind(x=>$C(f,g,x.element,x.offset,_,rN).map(f.fromSitus)),iN=(f,g)=>Dx(f,_=>Wc(_).exists(x=>ls(x,g))),Vp=(f,g,_,x,N)=>Br(x,"td,th",g).bind(L=>Br(L,"table",g).bind(Z=>iN(N,Z)?Ay(f,g,_).bind(ne=>Br(ne.finish,"td,th",g).map(de=>({start:L,finish:de,range:ne}))):ie.none())),Oy=(f,g,_,x,N,L)=>L(x,g).orThunk(()=>Vp(f,g,_,x,N).map(Z=>{const ne=Z.range;return gf.create(ie.some(kh(ne.start,ne.soffset,ne.finish,ne.foffset)),!0)})),PC=(f,g)=>Br(f,"tr",g).bind(_=>Br(_,"table",g).bind(x=>{const N=xc(x,"tr");return ls(_,N[0])?QD(x,L=>Gf(L).isSome(),g).map(L=>{const Z=Vo(L);return gf.create(ie.some(kh(L,Z,L,Z)),!0)}):ie.none()})),BC=(f,g)=>Br(f,"tr",g).bind(_=>Br(_,"table",g).bind(x=>{const N=xc(x,"tr");return ls(_,N[N.length-1])?Ox(x,L=>za(L).isSome(),g).map(L=>gf.create(ie.some(kh(L,0,L,0)),!0)):ie.none()})),IC=(f,g,_,x,N,L,Z)=>Vp(f,_,x,N,L).bind(ne=>fb(g,_,ne.start,ne.finish,Z)),$x=f=>{let g=f;return{get:()=>g,set:N=>{g=N}}},aN=f=>{const g=$x(ie.none()),_=()=>g.get().each(f);return{clear:()=>{_(),g.set(ie.none())},isSet:()=>g.get().isSome(),get:()=>g.get(),set:ne=>{_(),g.set(ie.some(ne))}}},Oh=()=>{const f=aN(Ee);return{...f,on:_=>f.get().each(_)}},yb=(f,g)=>Br(f,"td,th",g),TP=f=>nc(f).exists(Ug),cN=(f,g,_,x)=>{const N=Oh(),L=N.clear,Z=Le=>{N.on(bt=>{x.clearBeforeUpdate(g),yb(Le.target,_).each(Zt=>{P1(bt,Zt,_).each(Ft=>{const dt=Ft.boxes.getOr([]);if(dt.length===1){const Vt=dt[0],ut=Dw(Vt)==="false",sn=Gs(vp(Le.target),Vt,ls);ut&&sn&&(x.selectRange(g,dt,Vt,Vt),f.selectContents(Vt))}else dt.length>1&&(x.selectRange(g,dt,Ft.start,Ft.finish),f.selectContents(Zt))})})})};return{clearstate:L,mousedown:Le=>{x.clear(g),yb(Le.target,_).filter(TP).each(N.set)},mouseover:Le=>{Z(Le)},mouseup:Le=>{Z(Le),L()}}},Dy={traverse:bl,gather:Ax,relative:Ta.before,retry:MC.tryDown,failure:Bp.failedDown},Ny={traverse:wu,gather:xd,relative:Ta.before,retry:MC.tryUp,failure:Bp.failedUp},hm=f=>g=>g===f,Ry=hm(38),zp=hm(40),pm=f=>f>=37&&f<=40,Px={isBackward:hm(37),isForward:hm(39)},dv={isBackward:hm(39),isForward:hm(37)},LC=f=>{const g=f!==void 0?f.dom:document,_=g.body.scrollLeft||g.documentElement.scrollLeft,x=g.body.scrollTop||g.documentElement.scrollTop;return dd(_,x)},lN=(f,g,_)=>{const N=(_!==void 0?_.dom:document).defaultView;N&&N.scrollBy(f,g)},_f=mf.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Bx=f=>_f.exact(f.start,f.soffset,f.finish,f.foffset),uN=f=>f.match({domRange:g=>Ie.fromDom(g.startContainer),relative:(g,_)=>Ta.getStart(g),exact:(g,_,x,N)=>g}),Ix=_f.domRange,FC=_f.relative,_b=_f.exact,HC=f=>{const g=uN(f);return us(g)},dN=lb.create,wb={domRange:Ix,relative:FC,exact:_b,exactFromRange:Bx,getWin:HC,range:dN},Lx=(f,g,_)=>{var x,N;return ie.from((N=(x=f.dom).caretPositionFromPoint)===null||N===void 0?void 0:N.call(x,g,_)).bind(L=>{if(L.offsetNode===null)return ie.none();const Z=f.dom.createRange();return Z.setStart(L.offsetNode,L.offset),Z.collapse(),ie.some(Z)})},zt=(f,g,_)=>{var x,N;return ie.from((N=(x=f.dom).caretRangeFromPoint)===null||N===void 0?void 0:N.call(x,g,_))},ci=(()=>document.caretPositionFromPoint?Lx:document.caretRangeFromPoint?zt:ie.none)(),Cb=(f,g,_)=>{const x=Ie.fromDom(f.document);return ci(x,g,_).map(N=>lb.create(Ie.fromDom(N.startContainer),N.startOffset,Ie.fromDom(N.endContainer),N.endOffset))},Or=(f,g)=>{const _=ws(f);return _==="input"?Ta.after(f):ln(["br","img"],_)?g===0?Ta.before(f):Ta.after(f):Ta.on(f,g)},ou=(f,g)=>{const _=f.fold(Ta.before,Or,Ta.after),x=g.fold(Ta.before,Or,Ta.after);return wb.relative(_,x)},fv=(f,g,_,x)=>{const N=Or(f,g),L=Or(_,x);return wb.relative(N,L)},Sb=(f,g,_,x)=>{const L=Cc(f).dom.createRange();return L.setStart(f.dom,g),L.setEnd(_.dom,x),L},VC=(f,g,_,x)=>{const N=Sb(f,g,_,x),L=ls(f,_)&&g===x;return N.collapsed&&!L},My=f=>ie.from(f.getSelection()),kd=(f,g)=>{My(f).each(_=>{_.removeAllRanges(),_.addRange(g)})},$y=(f,g,_,x,N)=>{const L=Ey(f,g,_,x,N);kd(f,L)},fN=(f,g,_,x,N,L)=>{g.collapse(_.dom,x),g.extend(N.dom,L)},kl=(f,g)=>Ex(f,g).match({ltr:(_,x,N,L)=>{$y(f,_,x,N,L)},rtl:(_,x,N,L)=>{My(f).each(Z=>{if(Z.setBaseAndExtent)Z.setBaseAndExtent(_.dom,x,N.dom,L);else if(Z.extend)try{fN(f,Z,_,x,N,L)}catch{$y(f,N,L,_,x)}else $y(f,N,L,_,x)})}}),_i=(f,g,_,x,N)=>{const L=fv(g,_,x,N);kl(f,L)},zC=(f,g,_)=>{const x=ou(g,_);kl(f,x)},Py=f=>{if(f.rangeCount>0){const g=f.getRangeAt(0),_=f.getRangeAt(f.rangeCount-1);return ie.some(lb.create(Ie.fromDom(g.startContainer),g.startOffset,Ie.fromDom(_.endContainer),_.endOffset))}else return ie.none()},Wp=f=>{if(f.anchorNode===null||f.focusNode===null)return Py(f);{const g=Ie.fromDom(f.anchorNode),_=Ie.fromDom(f.focusNode);return VC(g,f.anchorOffset,_,f.focusOffset)?ie.some(lb.create(g,f.anchorOffset,_,f.focusOffset)):Py(f)}},Eb=(f,g,_=!0)=>{const N=(_?Cy:rv)(f,g);kd(f,N)},mv=f=>My(f).filter(g=>g.rangeCount>0).bind(Wp),By=f=>mv(f).map(g=>wb.exact(g.start,g.soffset,g.finish,g.foffset)),Iy=(f,g)=>{const _=Ed(f,g);return GD(_)},Ly=(f,g,_)=>Cb(f,g,_),Fx=f=>{My(f).each(g=>g.removeAllRanges())},xb=f=>({elementFromPoint:(ut,sn)=>Ie.fromPoint(Ie.fromDom(f.document),ut,sn),getRect:ut=>ut.dom.getBoundingClientRect(),getRangedRect:(ut,sn,In,ro)=>{const Is=wb.exact(ut,sn,In,ro);return Iy(f,Is)},getSelection:()=>By(f).map(ut=>ub(f,ut)),fromSitus:ut=>{const sn=wb.relative(ut.start,ut.finish);return ub(f,sn)},situsFromPoint:(ut,sn)=>Ly(f,ut,sn).map(In=>xx.create(In.start,In.soffset,In.finish,In.foffset)),clearSelection:()=>{Fx(f)},collapseSelection:(ut=!1)=>{By(f).each(sn=>sn.fold(In=>In.collapse(ut),(In,ro)=>{const Is=ut?In:ro;zC(f,Is,Is)},(In,ro,Is,ea)=>{const Dr=ut?In:Is,sl=ut?ro:ea;_i(f,Dr,sl,Dr,sl)}))},setSelection:ut=>{_i(f,ut.start,ut.soffset,ut.finish,ut.foffset)},setRelativeSelection:(ut,sn)=>{zC(f,ut,sn)},selectNode:ut=>{Eb(f,ut,!1)},selectContents:ut=>{Eb(f,ut)},getInnerHeight:()=>f.innerHeight,getScrollY:()=>LC(Ie.fromDom(f.document)).top,scrollBy:(ut,sn)=>{lN(ut,sn,Ie.fromDom(f.document))}}),gm=(f,g)=>({rows:f,cols:g}),Hx=(f,g,_,x)=>{const N=xb(f),L=cN(N,g,_,x);return{clearstate:L.clearstate,mousedown:L.mousedown,mouseover:L.mouseover,mouseup:L.mouseup}},WC=f=>Pr(f,Dn).exists(Ug),Fy=(f,g)=>WC(f)||WC(g),Vx=(f,g,_,x)=>{const N=xb(f),L=()=>(x.clear(g),ie.none());return{keydown:(de,_e,Le,bt,Zt,Ft)=>{const dt=de.raw,Vt=dt.which,ut=dt.shiftKey===!0;return wp(g,x.selectedSelector).fold(()=>(pm(Vt)&&!ut&&x.clearBeforeUpdate(g),pm(Vt)&&ut&&!Fy(_e,bt)?ie.none:zp(Vt)&&ut?We(IC,N,g,_,Dy,bt,_e,x.selectRange):Ry(Vt)&&ut?We(IC,N,g,_,Ny,bt,_e,x.selectRange):zp(Vt)?We(Oy,N,_,Dy,bt,_e,BC):Ry(Vt)?We(Oy,N,_,Ny,bt,_e,PC):ie.none),In=>{const ro=Is=>()=>Wt(Is,Dr=>SC(Dr.rows,Dr.cols,g,In,x)).fold(()=>T2(g,x.firstSelectedSelector,x.lastSelectedSelector).map(Dr=>{const sl=zp(Vt)||Ft.isForward(Vt)?Ta.after:Ta.before;return N.setRelativeSelection(Ta.on(Dr.first,0),sl(Dr.table)),x.clear(g),gf.create(ie.none(),!0)}),Dr=>ie.some(gf.create(ie.none(),!0)));return pm(Vt)&&ut&&!Fy(_e,bt)?ie.none:zp(Vt)&&ut?ro([gm(1,0)]):Ry(Vt)&&ut?ro([gm(-1,0)]):Ft.isBackward(Vt)&&ut?ro([gm(0,-1),gm(-1,0)]):Ft.isForward(Vt)&&ut?ro([gm(0,1),gm(1,0)]):pm(Vt)&&!ut?L:ie.none})()},keyup:(de,_e,Le,bt,Zt)=>wp(g,x.selectedSelector).fold(()=>{const Ft=de.raw,dt=Ft.which;return Ft.shiftKey===!0&&pm(dt)&&Fy(_e,bt)?db(g,_,_e,Le,bt,Zt,x.selectRange):ie.none()},ie.none)}},hv=(f,g,_,x)=>{const N=xb(f);return(L,Z)=>{x.clearBeforeUpdate(g),P1(L,Z,_).each(ne=>{const de=ne.boxes.getOr([]);x.selectRange(g,de,ne.start,ne.finish),N.selectContents(Z),N.collapseSelection()})}},pv=(f,g)=>{const _=Jr(f,g);return _===void 0||_===""?[]:_.split(" ")},Up=(f,g,_)=>{const N=pv(f,g).concat([_]);return Ps(f,g,N.join(" ")),!0},Dh=(f,g,_)=>{const x=so(pv(f,g),N=>N!==_);return x.length>0?Ps(f,g,x.join(" ")):qs(f,g),!1},Bi=f=>f.dom.classList!==void 0,Bu=f=>pv(f,"class"),su=(f,g)=>Up(f,"class",g),Hy=(f,g)=>Dh(f,"class",g),Iu=(f,g)=>{Bi(f)?f.dom.classList.add(g):su(f,g)},mN=f=>{(Bi(f)?f.dom.classList:Bu(f)).length===0&&qs(f,"class")},Vy=(f,g)=>{Bi(f)?f.dom.classList.remove(g):Hy(f,g),mN(f)},UC=(f,g)=>Bi(f)&&f.dom.classList.contains(g),jC=(f,g)=>{lt(g,_=>{Vy(f,_)})},zx=f=>g=>{Iu(g,f)},jp=f=>g=>{jC(g,f)},ZC={byClass:f=>{const g=zx(f.selected),_=jp([f.selected,f.lastSelected,f.firstSelected]),x=L=>{const Z=xc(L,f.selectedSelector);lt(Z,_)};return{clearBeforeUpdate:x,clear:x,selectRange:(L,Z,ne,de)=>{x(L),lt(Z,g),Iu(ne,f.firstSelected),Iu(de,f.lastSelected)},selectedSelector:f.selectedSelector,firstSelectedSelector:f.firstSelectedSelector,lastSelectedSelector:f.lastSelectedSelector}},byAttr:(f,g,_)=>{const x=de=>{qs(de,f.selected),qs(de,f.firstSelected),qs(de,f.lastSelected)},N=de=>{Ps(de,f.selected,"1")},L=de=>{Z(de),_()},Z=de=>{const _e=xc(de,`${f.selectedSelector},${f.firstSelectedSelector},${f.lastSelectedSelector}`);lt(_e,x)};return{clearBeforeUpdate:Z,clear:L,selectRange:(de,_e,Le,bt)=>{L(de),lt(_e,N),Ps(Le,f.firstSelected,"1"),Ps(bt,f.lastSelected,"1"),g(_e,Le,bt)},selectedSelector:f.selectedSelector,firstSelectedSelector:f.firstSelectedSelector,lastSelectedSelector:f.lastSelectedSelector}}},KC=(f,g,_,x)=>{switch(f.tag){case"none":return g();case"single":return x(f.element);case"multiple":return _(f.elements)}},vs=()=>({tag:"none"}),Nh=f=>({tag:"multiple",elements:f}),Ux=f=>({tag:"single",element:f}),jx=(f,g,_)=>({get:()=>KO(f(),_).fold(()=>g().fold(vs,Ux),Nh)}),Zx=(f,g)=>{const _=f.slice(0,g[g.length-1].row+1),x=vh(_);return Ho(x,N=>{const L=N.cells.slice(0,g[g.length-1].column+1);return hn(L,Z=>Z.element)})},qC=(f,g)=>{const _=f.slice(g[0].row+g[0].rowspan-1,f.length),x=vh(_);return Ho(x,N=>{const L=N.cells.slice(g[0].column+g[0].colspan-1,N.cells.length);return hn(L,Z=>Z.element)})},Kx=(f,g,_)=>{const x=fo.fromTable(f);return sm(x,g).map(L=>{const Z=om(x,_,!1),{rows:ne}=Zi(Z),de=Zx(ne,L),_e=qC(ne,L);return{upOrLeftCells:de,downOrRightCells:_e}})},GC=(f,g,_,x,N,L,Z)=>({target:f,x:g,y:_,stop:x,prevent:N,kill:L,raw:Z}),YC=f=>{const g=Ie.fromDom(Oo(f).getOr(f.target)),_=()=>f.stopPropagation(),x=()=>f.preventDefault(),N=Me(x,_);return GC(g,f.clientX,f.clientY,_,x,N,f)},qx=(f,g)=>_=>{f(_)&&g(YC(_))},XC=(f,g,_,x,N)=>{const L=qx(_,x);return f.dom.addEventListener(g,L,N),{unbind:We(zy,f,g,L,N)}},pN=(f,g,_,x)=>XC(f,g,_,x,!1),zy=(f,g,_,x)=>{f.dom.removeEventListener(g,_,x)},gN=ye,Rh=(f,g,_)=>pN(f,g,gN,_),gv=YC,JC=f=>!UC(Ie.fromDom(f.target),"ephox-snooker-resizer-bar"),bN=(f,g)=>{const _=jx(()=>Ie.fromDom(f.getBody()),()=>L1(Qf(f),Jf(f)),Nu.selectedSelector),x=(de,_e,Le)=>{sa(_e).each(Zt=>{const Ft=C2(f),dt=Mi(Ee,Ie.fromDom(f.getDoc()),Ft),Vt=df(f),ut=Kx(Zt,{selection:Vt},dt);Ks(f,de,_e,Le,ut)})},N=()=>fy(f),L=ZC.byAttr(Nu,x,N);return f.on("init",de=>{const _e=f.getWin(),Le=yp(f),bt=Jf(f),Zt=()=>{const hs=f.selection,Ga=Ie.fromDom(hs.getStart()),hc=Ie.fromDom(hs.getEnd());Wa(sa,[Ga,hc]).fold(()=>L.clear(Le),Ee)},Ft=Hx(_e,Le,bt,L),dt=Vx(_e,Le,bt,L),Vt=hv(_e,Le,bt,L),ut=hs=>hs.raw.shiftKey===!0;f.on("TableSelectorChange",hs=>Vt(hs.start,hs.finish));const sn=(hs,Ga)=>{ut(hs)&&(Ga.kill&&hs.kill(),Ga.selection.each(hc=>{const iu=wb.relative(hc.start,hc.finish),Al=Ed(_e,iu);f.selection.setRng(Al)}))},In=hs=>{const Ga=gv(hs);if(Ga.raw.shiftKey&&pm(Ga.raw.which)){const hc=f.selection.getRng(),iu=Ie.fromDom(hc.startContainer),Al=Ie.fromDom(hc.endContainer);dt.keyup(Ga,iu,hc.startOffset,Al,hc.endOffset).each(Db=>{sn(Ga,Db)})}},ro=hs=>{const Ga=gv(hs);g.hide();const hc=f.selection.getRng(),iu=Ie.fromDom(hc.startContainer),Al=Ie.fromDom(hc.endContainer),Db=Mg(Px,dv)(Ie.fromDom(f.selection.getStart()));dt.keydown(Ga,iu,hc.startOffset,Al,hc.endOffset,Db).each(pc=>{sn(Ga,pc)}),g.show()},Is=hs=>hs.button===0,ea=hs=>hs.buttons===void 0?!0:(hs.buttons&1)!==0,Dr=hs=>{Ft.clearstate()},sl=hs=>{Is(hs)&&JC(hs)&&Ft.mousedown(gv(hs))},Od=hs=>{ea(hs)&&JC(hs)&&Ft.mouseover(gv(hs))},Sv=hs=>{Is(hs)&&JC(hs)&&Ft.mouseup(gv(hs))},Ob=(()=>{const hs=$x(Ie.fromDom(Le)),Ga=$x(0);return{touchEnd:iu=>{const Al=Ie.fromDom(iu.target);if($s("td")(Al)||$s("th")(Al)){const Db=hs.get(),pc=Ga.get();ls(Db,Al)&&iu.timeStamp-pc<300&&(iu.preventDefault(),Vt(Al,Al))}hs.set(Al),Ga.set(iu.timeStamp)}}})();f.on("dragstart",Dr),f.on("mousedown",sl),f.on("mouseover",Od),f.on("mouseup",Sv),f.on("touchend",Ob.touchEnd),f.on("keyup",In),f.on("keydown",ro),f.on("NodeChange",Zt)}),f.on("PreInit",()=>{f.serializer.addTempAttr(Nu.firstSelected),f.serializer.addTempAttr(Nu.lastSelected)}),{getSelectedCells:()=>KC(_.get(),q([]),de=>hn(de,_e=>_e.dom),de=>[de.dom]),clearSelectedCells:de=>L.clear(Ie.fromDom(de))}},qr=f=>{let g=[];return{bind:L=>{if(L===void 0)throw new Error("Event bind error: undefined handler");g.push(L)},unbind:L=>{g=so(g,Z=>Z!==L)},trigger:(...L)=>{const Z={};lt(f,(ne,de)=>{Z[ne]=L[de]}),lt(g,ne=>{ne(Z)})}}},li=f=>{const g=vn(f,x=>({bind:x.bind,unbind:x.unbind})),_=vn(f,x=>x.trigger);return{registry:g,trigger:_}},Zp=(f,g)=>{let _=null;const x=()=>{H(_)||(clearTimeout(_),_=null)};return{cancel:x,throttle:(...L)=>{x(),_=setTimeout(()=>{_=null,f.apply(null,L)},g)}}},Wy=f=>f.slice(0).sort(),en=(f,g)=>{throw new Error("All required keys ("+Wy(f).join(", ")+") were not specified. Specified keys were: "+Wy(g).join(", ")+".")},Kp=f=>{throw new Error("Unsupported keys for object: "+Wy(f).join(", "))},So=(f,g)=>{if(!R(g))throw new Error("The "+f+" fields must be an array. Was: "+g+".");lt(g,_=>{if(!E(_))throw new Error("The value "+_+" in the "+f+" fields was not a string.")})},Gx=(f,g)=>{throw new Error("All values need to be of type: "+g+". Keys ("+Wy(f).join(", ")+") were not.")},bv=f=>{const g=Wy(f);Y(g,(x,N)=>N<g.length-1&&x===g[N+1]).each(x=>{throw new Error("The field: "+x+" occurs more than once in the combined fields: ["+g.join(", ")+"].")})},vv=(f,g)=>vN(f,g,{validate:me,label:"function"}),vN=(f,g,_)=>{if(g.length===0)throw new Error("You must specify at least one required field.");return So("required",g),bv(g),x=>{const N=st(x);we(g,ne=>ln(N,ne))||en(g,N),f(g,N);const Z=so(g,ne=>!_.validate(x[ne],ne));return Z.length>0&&Gx(Z,_.label),x}},Yx=(f,g)=>{const _=so(g,x=>!ln(f,x));_.length>0&&Kp(_)},QC=f=>vv(Yx,f),yN=QC(["compare","extract","mutate","sink"]),Xx=QC(["element","start","stop","destroy"]),eS=QC(["forceDrop","drop","move","delayDrop"]),qp=()=>{let f=ie.none();const g=()=>{f=ie.none()},_=(L,Z)=>{const ne=f.map(de=>L.compare(de,Z));return f=ie.some(Z),ne},x=(L,Z)=>{Z.extract(L).each(de=>{_(Z,de).each(Le=>{N.trigger.move(Le)})})},N=li({move:qr(["info"])});return{onEvent:x,reset:g,events:N.registry}},Uy=()=>{const f=li({move:qr(["info"])});return{onEvent:Ee,reset:Ee,events:f.registry}},Jx=()=>{const f=Uy(),g=qp();let _=f;return{on:()=>{_.reset(),_=g},off:()=>{_.reset(),_=f},isOn:()=>_===g,onEvent:(ne,de)=>{_.onEvent(ne,de)},events:g.events}},kP=(f,g,_)=>{let x=!1;const N=li({start:qr([]),stop:qr([])}),L=Jx(),Z=()=>{dt.stop(),L.isOn()&&(L.off(),N.trigger.stop())},ne=Zp(Z,200),de=ut=>{dt.start(ut),L.on(),N.trigger.start()},_e=ut=>{ne.cancel(),L.onEvent(ut,g)};L.events.move.bind(ut=>{g.mutate(f,ut.info)});const Le=()=>{x=!0},bt=()=>{x=!1},Zt=()=>x,Ft=ut=>(...sn)=>{x&&ut.apply(null,sn)},dt=g.sink(eS({forceDrop:Z,drop:Ft(Z),move:Ft(_e),delayDrop:Ft(ne.throttle)}),_),Vt=()=>{dt.destroy()};return{element:dt.element,go:de,on:Le,off:bt,isActive:Zt,destroy:Vt,events:N.registry}},Qx=f=>{const g=f.replace(/\./g,"-");return{resolve:x=>g+"-"+x}},eT=Qx("ephox-dragster").resolve,_N=f=>{const g={layerClass:eT("blocker"),...f},_=Ie.fromTag("div");return Ps(_,"role","presentation"),Ur(_,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Iu(_,eT("blocker")),Iu(_,g.layerClass),{element:q(_),destroy:()=>{cr(_)}}};var CN=yN({compare:(f,g)=>dd(g.left-f.left,g.top-f.top),extract:f=>ie.some(dd(f.x,f.y)),sink:(f,g)=>{const _=_N(g),x=Rh(_.element(),"mousedown",f.forceDrop),N=Rh(_.element(),"mouseup",f.drop),L=Rh(_.element(),"mousemove",f.move),Z=Rh(_.element(),"mouseout",f.delayDrop),ne=()=>{_.destroy(),N.unbind(),L.unbind(),Z.unbind(),x.unbind()},de=Le=>{Vs(Le,_.element())},_e=()=>{cr(_.element())};return Xx({element:_.element,start:de,stop:_e,destroy:ne})},mutate:(f,g)=>{f.mutate(g.left,g.top)}});const yv=(f,g={})=>{var _;const x=(_=g.mode)!==null&&_!==void 0?_:CN;return kP(f,x,g)},jy=Qx("ephox-snooker").resolve,SN=()=>{const f=li({drag:qr(["xDelta","yDelta"])});return{mutate:(_,x)=>{f.trigger.drag(_,x)},events:f.registry}},bm=()=>{const f=li({drag:qr(["xDelta","yDelta","target"])});let g=ie.none();const _=SN();return _.events.drag.bind(L=>{g.each(Z=>{f.trigger.drag(L.xDelta,L.yDelta,Z)})}),{assign:L=>{g=ie.some(L)},get:()=>g,mutate:_.mutate,events:f.registry}},Tb=(f,g,_,x,N)=>{const L=Ie.fromTag("div");return Ur(L,{position:"absolute",left:g-x/2+"px",top:_+"px",height:N+"px",width:x+"px"}),$r(L,{"data-column":f,role:"presentation"}),L},EN=(f,g,_,x,N)=>{const L=Ie.fromTag("div");return Ur(L,{position:"absolute",left:g+"px",top:_-N/2+"px",height:N+"px",width:x+"px"}),$r(L,{"data-row":f,role:"presentation"}),L},tS=jy("resizer-bar"),nS=jy("resizer-rows"),oS=jy("resizer-cols"),sS=7,xN=(f,g)=>Ho(f.all,(_,x)=>g(_.element)?[x]:[]),TN=(f,g)=>{const _=[];return Xn(f.grid.columns,x=>{fo.getColumnAt(f,x).map(L=>L.element).forall(g)&&_.push(x)}),so(_,x=>{const N=fo.filterItems(f,L=>L.column===x);return we(N,L=>g(L.element))})},vm=f=>{const g=xc(f.parent(),"."+tS);lt(g,cr)},_v=(f,g,_)=>{const x=f.origin();lt(g,N=>{N.each(L=>{const Z=_(x,L);Iu(Z,tS),Vs(f.parent(),Z)})})},kN=(f,g,_,x)=>{_v(f,g,(N,L)=>{const Z=Tb(L.col,L.x-N.left,_.top-N.top,sS,x);return Iu(Z,oS),Z})},Lo=(f,g,_,x)=>{_v(f,g,(N,L)=>{const Z=EN(L.row,_.left-N.left,L.y-N.top,x,sS);return Iu(Z,nS),Z})},AN=(f,g,_,x,N)=>{const L=ef(_),Z=g.isResizable,ne=x.length>0?Yc.positions(x,_):[],de=ne.length>0?xN(f,Z):[],_e=so(ne,(Ft,dt)=>ot(de,Vt=>dt===Vt));Lo(g,_e,L,Hn(_));const Le=N.length>0?Oc.positions(N,_):[],bt=Le.length>0?TN(f,Z):[],Zt=so(Le,(Ft,dt)=>ot(bt,Vt=>dt===Vt));kN(g,Zt,L,Kf(_))},Lu=(f,g)=>{if(vm(f),f.isResizable(g)){const _=fo.fromTable(g),x=_w(_),N=Ng(_);AN(_,f,g,x,N)}},Ad=(f,g)=>{const _=xc(f.parent(),"."+tS);lt(_,g)},Zy=f=>{Ad(f,g=>{gs(g,"display","none")})},$c=f=>{Ad(f,g=>{gs(g,"display","block")})},kb=f=>UC(f,nS),wv=f=>UC(f,oS),Cv=jy("resizer-bar-dragging"),Ab=f=>{const g=bm(),_=yv(g,{});let x=ie.none();const N=(dt,Vt)=>ie.from(Jr(dt,Vt));g.events.drag.bind(dt=>{N(dt.target,"data-row").each(Vt=>{const ut=Go(dt.target,"top");gs(dt.target,"top",ut+dt.yDelta+"px")}),N(dt.target,"data-column").each(Vt=>{const ut=Go(dt.target,"left");gs(dt.target,"left",ut+dt.xDelta+"px")})});const L=(dt,Vt)=>{const ut=Go(dt,Vt),sn=ji(dt,"data-initial-"+Vt,0);return ut-sn};_.events.stop.bind(()=>{g.get().each(dt=>{x.each(Vt=>{N(dt,"data-row").each(ut=>{const sn=L(dt,"top");qs(dt,"data-initial-top"),Ft.trigger.adjustHeight(Vt,sn,parseInt(ut,10))}),N(dt,"data-column").each(ut=>{const sn=L(dt,"left");qs(dt,"data-initial-left"),Ft.trigger.adjustWidth(Vt,sn,parseInt(ut,10))}),Lu(f,Vt)})})});const Z=(dt,Vt)=>{Ft.trigger.startAdjust(),g.assign(dt),Ps(dt,"data-initial-"+Vt,Go(dt,Vt)),Iu(dt,Cv),gs(dt,"opacity","0.2"),_.go(f.parent())},ne=Rh(f.parent(),"mousedown",dt=>{kb(dt.target)&&Z(dt.target,"top"),wv(dt.target)&&Z(dt.target,"left")}),de=dt=>ls(dt,f.view()),_e=dt=>Br(dt,"table",de).filter(Ug),Le=Rh(f.view(),"mouseover",dt=>{_e(dt.target).fold(()=>{yr(dt.target)&&vm(f)},Vt=>{_.isActive()&&(x=ie.some(Vt),Lu(f,Vt))})}),bt=()=>{ne.unbind(),Le.unbind(),_.destroy(),vm(f)},Zt=dt=>{Lu(f,dt)},Ft=li({adjustHeight:qr(["table","delta","row"]),adjustWidth:qr(["table","delta","column"]),startAdjust:qr([])});return{destroy:bt,refresh:Zt,on:_.on,off:_.off,hideBars:We(Zy,f),showBars:We($c,f),events:Ft.registry}},nT={create:(f,g,_)=>{const x=Yc,N=Oc,L=Ab(f),Z=li({beforeResize:qr(["table","type"]),afterResize:qr(["table","type"]),startDrag:qr([])});return L.events.adjustHeight.bind(ne=>{const de=ne.table;Z.trigger.beforeResize(de,"row");const _e=x.delta(ne.delta,de);Jw(de,_e,ne.row,x),Z.trigger.afterResize(de,"row")}),L.events.startAdjust.bind(ne=>{Z.trigger.startDrag()}),L.events.adjustWidth.bind(ne=>{const de=ne.table;Z.trigger.beforeResize(de,"col");const _e=N.delta(ne.delta,de),Le=_(de);Xw(de,_e,ne.column,g,Le),Z.trigger.afterResize(de,"col")}),{on:L.on,off:L.off,refreshBars:L.refresh,hideBars:L.hideBars,showBars:L.showBars,destroy:L.destroy,events:Z.registry}}},ru={only:(f,g)=>{const _=Hc(f)?As(f):f;return{parent:q(_),view:q(f),origin:q(dd(0,0)),isResizable:g}},detached:(f,g,_)=>{const x=()=>ef(g);return{parent:q(g),view:q(f),origin:x,isResizable:_}},body:(f,g,_)=>({parent:q(g),view:q(f),origin:q(dd(0,0)),isResizable:_})},ym=()=>{const f=Ie.fromTag("div");return Ur(f,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Vs(Sg(),f),f},Ky=(f,g)=>f.inline?ru.body(Ie.fromDom(f.getBody()),ym(),g):ru.only(Ie.fromDom(f.getDoc()),g),Mh=(f,g)=>{f.inline&&cr(g.parent())},go=f=>pe(f)&&f.nodeName==="TABLE",oT="bar-",sT=f=>Jr(f,"data-mce-resize")!=="false",rS=f=>{const g=fo.fromTable(f);fo.hasColumns(g)||lt(Ba(f),_=>{const x=jc(_,"width");gs(_,"width",x),qs(_,"width")})},rT=f=>{const g=Oh(),_=Oh(),x=Oh();let N,L;const Z=dt=>ix(f,dt),ne=()=>Cr(f)?j0():U0(),de=dt=>Hw(dt).columns,_e=(dt,Vt,ut)=>{const sn=Ui(Vt,"e");if(L===""&&Q1(dt),ut!==N&&L!==""){gs(dt,"width",L);const In=ne(),ro=Z(dt),Is=Cr(f)||sn?de(dt)-1:0;Xw(dt,ut-N,Is,In,ro)}else if(R1(L)){const In=parseFloat(L.replace("%","")),ro=ut*In/N;gs(dt,"width",ro+"%")}R0(L)&&rS(dt)},Le=()=>{_.on(dt=>{dt.destroy()}),x.on(dt=>{Mh(f,dt)})};return f.on("init",()=>{const dt=Ky(f,sT);if(x.set(dt),D1(f)&&El(f)){const Vt=ne(),ut=nT.create(dt,Vt,Z);ut.on(),ut.events.startDrag.bind(sn=>{g.set(f.selection.getRng())}),ut.events.beforeResize.bind(sn=>{const In=sn.table.dom;fc(f,In,lf(In),Nw(In),oT+sn.type)}),ut.events.afterResize.bind(sn=>{const In=sn.table,ro=In.dom;Rc(In),g.on(Is=>{f.selection.setRng(Is),f.focus()}),Dp(f,ro,lf(ro),Nw(ro),oT+sn.type),f.undoManager.add()}),_.set(ut)}}),f.on("ObjectResizeStart",dt=>{const Vt=dt.target;if(go(Vt)){const ut=Ie.fromDom(Vt);lt(f.dom.select(".mce-clonedresizable"),sn=>{f.dom.addClass(sn,"mce-"+Aw(f)+"-columns")}),!ux(ut)&&bd(f)?pC(ut):!vy(ut)&&zg(f)&&Q1(ut),lm(ut)&&Pa(dt.origin,oT)&&Q1(ut),N=dt.width,L=vd(f)?"":N0(f,Vt).getOr("")}}),f.on("ObjectResized",dt=>{const Vt=dt.target;if(go(Vt)){const ut=Ie.fromDom(Vt),sn=dt.origin;Pa(sn,"corner-")&&_e(ut,sn,dt.width),Rc(ut),dc(f,ut.dom,Y1)}}),f.on("SwitchMode",()=>{_.on(dt=>{f.mode.isReadOnly()?dt.hideBars():dt.showBars()})}),f.on("dragstart dragend",dt=>{_.on(Vt=>{dt.type==="dragstart"?(Vt.hideBars(),Vt.off()):(Vt.on(),Vt.showBars())})}),f.on("remove",()=>{Le()}),{refresh:dt=>{_.on(Vt=>Vt.refreshBars(Ie.fromDom(dt)))},hide:()=>{_.on(dt=>dt.hideBars())},show:()=>{_.on(dt=>dt.showBars())}}},Gp=f=>{Ql(f);const g=rT(f),_=bN(f,g),x=ED(f,g,_);return Mp(f,x),ZD(f,x),Yg(f,x),{getSelectedCells:_.getSelectedCells,clearSelectedCells:_.clearSelectedCells}},Yp=f=>({table:Gp(f)});var ON=()=>{i.add("dom",Yp)};ON()})();const HJ=(()=>{const i={};let r=1;return{set(l,h,y){typeof l[h]>"u"&&(l[h]={key:h,id:r},r++),i[l[h].id]=y},get(l,h){if(!l||typeof l[h]>"u")return null;const y=l[h];return y.key===h?i[y.id]:null},delete(l,h){if(typeof l[h]>"u")return;const y=l[h];y.key===h&&(delete i[y.id],delete l[h])}}})(),bg={setData(i,r,l){HJ.set(i,r,l)},getData(i,r){return HJ.get(i,r)},removeData(i,r){HJ.delete(i,r)}},Yge=1e6,Xge=i=>i==null?`${i}`:{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),Jie=i=>{do i+=Math.floor(Math.random()*Yge);while(document.getElementById(i));return i},Qie=i=>{let r=i.getAttribute("data-te-target");if(!r||r==="#"){let l=i.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),r=l&&l!=="#"?l.trim():null}return r},Jge=i=>{const r=Qie(i);return r&&document.querySelector(r)?r:null},eae=i=>{const r=Qie(i);return r?document.querySelector(r):null},tae=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),CO=(i,r,l)=>{Object.keys(l).forEach(h=>{const y=l[h],w=r[h],E=w&&tae(w)?"element":Xge(w);if(!new RegExp(y).test(E))throw new Error(`${i.toUpperCase()}: Option "${h}" provided type "${E}" but expected type "${y}".`)})},GV=i=>{if(!i||i.getClientRects().length===0)return!1;if(i.style&&i.parentNode&&i.parentNode.style){const r=getComputedStyle(i),l=getComputedStyle(i.parentNode);return getComputedStyle(i).getPropertyValue("visibility")==="visible"||r.display!=="none"&&l.display!=="none"&&r.visibility!=="hidden"}return!1},Oee=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",nae=()=>{const{jQuery:i}=window;return i&&!document.body.hasAttribute("data-te-no-jquery")?i:null},VJ=[],oae=i=>{document.readyState==="loading"?(VJ.length||document.addEventListener("DOMContentLoaded",()=>{VJ.forEach(r=>r())}),VJ.push(i)):i()},Xu=()=>document.documentElement.dir==="rtl",Fi=i=>document.createElement(i),Qge=/[^.]*(?=\..*)\.|.*/,ebe=/\..*/,tbe=/::\d+$/,zJ={};let sse=1;const nbe={mouseenter:"mouseover",mouseleave:"mouseout"},obe=/^(mouseenter|mouseleave)/i,sae=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function rae(i,r){return r&&`${r}::${sse++}`||i.uidEvent||sse++}function iae(i){const r=rae(i);return i.uidEvent=r,zJ[r]=zJ[r]||{},zJ[r]}function sbe(i,r){return function l(h){return h.delegateTarget=i,l.oneOff&&Xt.off(i,h.type,r),r.apply(i,[h])}}function rbe(i,r,l){return function h(y){const w=i.querySelectorAll(r);for(let{target:E}=y;E&&E!==this;E=E.parentNode)for(let A=w.length;A--;"")if(w[A]===E)return y.delegateTarget=E,h.oneOff&&Xt.off(i,y.type,l),l.apply(E,[y]);return null}}function aae(i,r,l=null){const h=Object.keys(i);for(let y=0,w=h.length;y<w;y++){const E=i[h[y]];if(E.originalHandler===r&&E.delegationSelector===l)return E}return null}function cae(i,r,l){const h=typeof r=="string",y=h?l:r;let w=lae(i);return sae.has(w)||(w=i),[h,y,w]}function rse(i,r,l,h,y){if(typeof r!="string"||!i)return;if(l||(l=h,h=null),obe.test(r)){const pe=me=>function(ve){if(!ve.relatedTarget||ve.relatedTarget!==ve.delegateTarget&&!ve.delegateTarget.contains(ve.relatedTarget))return me.call(this,ve)};h?h=pe(h):l=pe(l)}const[w,E,A]=cae(r,l,h),R=iae(i),H=R[A]||(R[A]={}),j=aae(H,E,w?l:null);if(j){j.oneOff=j.oneOff&&y;return}const Q=rae(E,r.replace(Qge,"")),le=w?rbe(i,l,h):sbe(i,l);le.delegationSelector=w?l:null,le.originalHandler=E,le.oneOff=y,le.uidEvent=Q,H[Q]=le,i.addEventListener(A,le,w)}function xQ(i,r,l,h,y){const w=aae(r[l],h,y);w&&(i.removeEventListener(l,w,!!y),delete r[l][w.uidEvent])}function ibe(i,r,l,h){const y=r[l]||{};Object.keys(y).forEach(w=>{if(w.includes(h)){const E=y[w];xQ(i,r,l,E.originalHandler,E.delegationSelector)}})}function lae(i){return i=i.replace(ebe,""),nbe[i]||i}const Xt={on(i,r,l,h){rse(i,r,l,h,!1)},one(i,r,l,h){rse(i,r,l,h,!0)},off(i,r,l,h){if(typeof r!="string"||!i)return;const[y,w,E]=cae(r,l,h),A=E!==r,R=iae(i),H=r.startsWith(".");if(typeof w<"u"){if(!R||!R[E])return;xQ(i,R,E,w,y?l:null);return}H&&Object.keys(R).forEach(Q=>{ibe(i,R,Q,r.slice(1))});const j=R[E]||{};Object.keys(j).forEach(Q=>{const le=Q.replace(tbe,"");if(!A||r.includes(le)){const pe=j[Q];xQ(i,R,E,pe.originalHandler,pe.delegationSelector)}})},trigger(i,r,l){if(typeof r!="string"||!i)return null;const h=nae(),y=lae(r),w=r!==y,E=sae.has(y);let A,R=!0,H=!0,j=!1,Q=null;return w&&h&&(A=h.Event(r,l),h(i).trigger(A),R=!A.isPropagationStopped(),H=!A.isImmediatePropagationStopped(),j=A.isDefaultPrevented()),E?(Q=document.createEvent("HTMLEvents"),Q.initEvent(y,R,!0)):Q=new CustomEvent(r,{bubbles:R,cancelable:!0}),typeof l<"u"&&Object.keys(l).forEach(le=>{Object.defineProperty(Q,le,{get(){return l[le]}})}),j&&Q.preventDefault(),H&&i.dispatchEvent(Q),Q.defaultPrevented&&typeof A<"u"&&A.preventDefault(),Q}};var $f="top",Qh="bottom",ep="right",Pf="left",YV="auto",sP=[$f,Qh,ep,Pf],SO="start",I$="end",abe="clippingParents",uae="viewport",m$="popper",cbe="reference",ise=sP.reduce(function(i,r){return i.concat([r+"-"+SO,r+"-"+I$])},[]),dae=[].concat(sP,[YV]).reduce(function(i,r){return i.concat([r,r+"-"+SO,r+"-"+I$])},[]),lbe="beforeRead",ube="read",dbe="afterRead",fbe="beforeMain",mbe="main",hbe="afterMain",pbe="beforeWrite",gbe="write",bbe="afterWrite",TQ=[lbe,ube,dbe,fbe,mbe,hbe,pbe,gbe,bbe];function b1(i){return i?(i.nodeName||"").toLowerCase():null}function Km(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var r=i.ownerDocument;return r&&r.defaultView||window}return i}function a2(i){var r=Km(i).Element;return i instanceof r||i instanceof Element}function zm(i){var r=Km(i).HTMLElement;return i instanceof r||i instanceof HTMLElement}function Dee(i){if(typeof ShadowRoot>"u")return!1;var r=Km(i).ShadowRoot;return i instanceof r||i instanceof ShadowRoot}function vbe(i){var r=i.state;Object.keys(r.elements).forEach(function(l){var h=r.styles[l]||{},y=r.attributes[l]||{},w=r.elements[l];!zm(w)||!b1(w)||(Object.assign(w.style,h),Object.keys(y).forEach(function(E){var A=y[E];A===!1?w.removeAttribute(E):w.setAttribute(E,A===!0?"":A)}))})}function ybe(i){var r=i.state,l={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,l.popper),r.styles=l,r.elements.arrow&&Object.assign(r.elements.arrow.style,l.arrow),function(){Object.keys(r.elements).forEach(function(h){var y=r.elements[h],w=r.attributes[h]||{},E=Object.keys(r.styles.hasOwnProperty(h)?r.styles[h]:l[h]),A=E.reduce(function(R,H){return R[H]="",R},{});!zm(y)||!b1(y)||(Object.assign(y.style,A),Object.keys(w).forEach(function(R){y.removeAttribute(R)}))})}}const _be={name:"applyStyles",enabled:!0,phase:"write",fn:vbe,effect:ybe,requires:["computeStyles"]};function vg(i){return i.split("-")[0]}var JE=Math.max,gV=Math.min,EO=Math.round;function kQ(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function fae(){return!/^((?!chrome|android).)*safari/i.test(kQ())}function xO(i,r,l){r===void 0&&(r=!1),l===void 0&&(l=!1);var h=i.getBoundingClientRect(),y=1,w=1;r&&zm(i)&&(y=i.offsetWidth>0&&EO(h.width)/i.offsetWidth||1,w=i.offsetHeight>0&&EO(h.height)/i.offsetHeight||1);var E=a2(i)?Km(i):window,A=E.visualViewport,R=!fae()&&l,H=(h.left+(R&&A?A.offsetLeft:0))/y,j=(h.top+(R&&A?A.offsetTop:0))/w,Q=h.width/y,le=h.height/w;return{width:Q,height:le,top:j,right:H+Q,bottom:j+le,left:H,x:H,y:j}}function Nee(i){var r=xO(i),l=i.offsetWidth,h=i.offsetHeight;return Math.abs(r.width-l)<=1&&(l=r.width),Math.abs(r.height-h)<=1&&(h=r.height),{x:i.offsetLeft,y:i.offsetTop,width:l,height:h}}function mae(i,r){var l=r.getRootNode&&r.getRootNode();if(i.contains(r))return!0;if(l&&Dee(l)){var h=r;do{if(h&&i.isSameNode(h))return!0;h=h.parentNode||h.host}while(h)}return!1}function _g(i){return Km(i).getComputedStyle(i)}function wbe(i){return["table","td","th"].indexOf(b1(i))>=0}function bw(i){return((a2(i)?i.ownerDocument:i.document)||window.document).documentElement}function XV(i){return b1(i)==="html"?i:i.assignedSlot||i.parentNode||(Dee(i)?i.host:null)||bw(i)}function ase(i){return!zm(i)||_g(i).position==="fixed"?null:i.offsetParent}function Cbe(i){var r=/firefox/i.test(kQ()),l=/Trident/i.test(kQ());if(l&&zm(i)){var h=_g(i);if(h.position==="fixed")return null}var y=XV(i);for(Dee(y)&&(y=y.host);zm(y)&&["html","body"].indexOf(b1(y))<0;){var w=_g(y);if(w.transform!=="none"||w.perspective!=="none"||w.contain==="paint"||["transform","perspective"].indexOf(w.willChange)!==-1||r&&w.willChange==="filter"||r&&w.filter&&w.filter!=="none")return y;y=y.parentNode}return null}function rP(i){for(var r=Km(i),l=ase(i);l&&wbe(l)&&_g(l).position==="static";)l=ase(l);return l&&(b1(l)==="html"||b1(l)==="body"&&_g(l).position==="static")?r:l||Cbe(i)||r}function Ree(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function S$(i,r,l){return JE(i,gV(r,l))}function Sbe(i,r,l){var h=S$(i,r,l);return h>l?l:h}function hae(){return{top:0,right:0,bottom:0,left:0}}function pae(i){return Object.assign({},hae(),i)}function gae(i,r){return r.reduce(function(l,h){return l[h]=i,l},{})}var Ebe=function(i,r){return i=typeof i=="function"?i(Object.assign({},r.rects,{placement:r.placement})):i,pae(typeof i!="number"?i:gae(i,sP))};function xbe(i){var r,l=i.state,h=i.name,y=i.options,w=l.elements.arrow,E=l.modifiersData.popperOffsets,A=vg(l.placement),R=Ree(A),H=[Pf,ep].indexOf(A)>=0,j=H?"height":"width";if(!(!w||!E)){var Q=Ebe(y.padding,l),le=Nee(w),pe=R==="y"?$f:Pf,me=R==="y"?Qh:ep,ve=l.rects.reference[j]+l.rects.reference[R]-E[R]-l.rects.popper[j],Ee=E[R]-l.rects.reference[R],Me=rP(w),ce=Me?R==="y"?Me.clientHeight||0:Me.clientWidth||0:0,q=ve/2-Ee/2,ke=Q[pe],ze=ce-le[j]-Q[me],We=ce/2-le[j]/2+q,J=S$(ke,We,ze),Te=R;l.modifiersData[h]=(r={},r[Te]=J,r.centerOffset=J-We,r)}}function Tbe(i){var r=i.state,l=i.options,h=l.element,y=h===void 0?"[data-popper-arrow]":h;if(y!=null&&!(typeof y=="string"&&(y=r.elements.popper.querySelector(y),!y))){if({}.NODE_ENV!=="production"&&(zm(y)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),!mae(r.elements.popper,y)){({}).NODE_ENV!=="production"&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}r.elements.arrow=y}}const kbe={name:"arrow",enabled:!0,phase:"main",fn:xbe,effect:Tbe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function TO(i){return i.split("-")[1]}var Abe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Obe(i,r){var l=i.x,h=i.y,y=r.devicePixelRatio||1;return{x:EO(l*y)/y||0,y:EO(h*y)/y||0}}function cse(i){var r,l=i.popper,h=i.popperRect,y=i.placement,w=i.variation,E=i.offsets,A=i.position,R=i.gpuAcceleration,H=i.adaptive,j=i.roundOffsets,Q=i.isFixed,le=E.x,pe=le===void 0?0:le,me=E.y,ve=me===void 0?0:me,Ee=typeof j=="function"?j({x:pe,y:ve}):{x:pe,y:ve};pe=Ee.x,ve=Ee.y;var Me=E.hasOwnProperty("x"),ce=E.hasOwnProperty("y"),q=Pf,ke=$f,ze=window;if(H){var We=rP(l),J="clientHeight",Te="clientWidth";if(We===Km(l)&&(We=bw(l),_g(We).position!=="static"&&A==="absolute"&&(J="scrollHeight",Te="scrollWidth")),We=We,y===$f||(y===Pf||y===ep)&&w===I$){ke=Qh;var Ge=Q&&We===ze&&ze.visualViewport?ze.visualViewport.height:We[J];ve-=Ge-h.height,ve*=R?1:-1}if(y===Pf||(y===$f||y===Qh)&&w===I$){q=ep;var Ue=Q&&We===ze&&ze.visualViewport?ze.visualViewport.width:We[Te];pe-=Ue-h.width,pe*=R?1:-1}}var ye=Object.assign({position:A},H&&Abe),ie=j===!0?Obe({x:pe,y:ve},Km(l)):{x:pe,y:ve};if(pe=ie.x,ve=ie.y,R){var Tt;return Object.assign({},ye,(Tt={},Tt[ke]=ce?"0":"",Tt[q]=Me?"0":"",Tt.transform=(ze.devicePixelRatio||1)<=1?"translate("+pe+"px, "+ve+"px)":"translate3d("+pe+"px, "+ve+"px, 0)",Tt))}return Object.assign({},ye,(r={},r[ke]=ce?ve+"px":"",r[q]=Me?pe+"px":"",r.transform="",r))}function Dbe(i){var r=i.state,l=i.options,h=l.gpuAcceleration,y=h===void 0?!0:h,w=l.adaptive,E=w===void 0?!0:w,A=l.roundOffsets,R=A===void 0?!0:A;if({}.NODE_ENV!=="production"){var H=_g(r.elements.popper).transitionProperty||"";E&&["transform","top","right","bottom","left"].some(function(Q){return H.indexOf(Q)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var j={placement:vg(r.placement),variation:TO(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:y,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,cse(Object.assign({},j,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:E,roundOffsets:R})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,cse(Object.assign({},j,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:R})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const Nbe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dbe,data:{}};var E8={passive:!0};function Rbe(i){var r=i.state,l=i.instance,h=i.options,y=h.scroll,w=y===void 0?!0:y,E=h.resize,A=E===void 0?!0:E,R=Km(r.elements.popper),H=[].concat(r.scrollParents.reference,r.scrollParents.popper);return w&&H.forEach(function(j){j.addEventListener("scroll",l.update,E8)}),A&&R.addEventListener("resize",l.update,E8),function(){w&&H.forEach(function(j){j.removeEventListener("scroll",l.update,E8)}),A&&R.removeEventListener("resize",l.update,E8)}}const Mbe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Rbe,data:{}};var $be={left:"right",right:"left",bottom:"top",top:"bottom"};function J8(i){return i.replace(/left|right|bottom|top/g,function(r){return $be[r]})}var Pbe={start:"end",end:"start"};function lse(i){return i.replace(/start|end/g,function(r){return Pbe[r]})}function Mee(i){var r=Km(i),l=r.pageXOffset,h=r.pageYOffset;return{scrollLeft:l,scrollTop:h}}function $ee(i){return xO(bw(i)).left+Mee(i).scrollLeft}function Bbe(i,r){var l=Km(i),h=bw(i),y=l.visualViewport,w=h.clientWidth,E=h.clientHeight,A=0,R=0;if(y){w=y.width,E=y.height;var H=fae();(H||!H&&r==="fixed")&&(A=y.offsetLeft,R=y.offsetTop)}return{width:w,height:E,x:A+$ee(i),y:R}}function Ibe(i){var r,l=bw(i),h=Mee(i),y=(r=i.ownerDocument)==null?void 0:r.body,w=JE(l.scrollWidth,l.clientWidth,y?y.scrollWidth:0,y?y.clientWidth:0),E=JE(l.scrollHeight,l.clientHeight,y?y.scrollHeight:0,y?y.clientHeight:0),A=-h.scrollLeft+$ee(i),R=-h.scrollTop;return _g(y||l).direction==="rtl"&&(A+=JE(l.clientWidth,y?y.clientWidth:0)-w),{width:w,height:E,x:A,y:R}}function Pee(i){var r=_g(i),l=r.overflow,h=r.overflowX,y=r.overflowY;return/auto|scroll|overlay|hidden/.test(l+y+h)}function bae(i){return["html","body","#document"].indexOf(b1(i))>=0?i.ownerDocument.body:zm(i)&&Pee(i)?i:bae(XV(i))}function E$(i,r){var l;r===void 0&&(r=[]);var h=bae(i),y=h===((l=i.ownerDocument)==null?void 0:l.body),w=Km(h),E=y?[w].concat(w.visualViewport||[],Pee(h)?h:[]):h,A=r.concat(E);return y?A:A.concat(E$(XV(E)))}function AQ(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Lbe(i,r){var l=xO(i,!1,r==="fixed");return l.top=l.top+i.clientTop,l.left=l.left+i.clientLeft,l.bottom=l.top+i.clientHeight,l.right=l.left+i.clientWidth,l.width=i.clientWidth,l.height=i.clientHeight,l.x=l.left,l.y=l.top,l}function use(i,r,l){return r===uae?AQ(Bbe(i,l)):a2(r)?Lbe(r,l):AQ(Ibe(bw(i)))}function Fbe(i){var r=E$(XV(i)),l=["absolute","fixed"].indexOf(_g(i).position)>=0,h=l&&zm(i)?rP(i):i;return a2(h)?r.filter(function(y){return a2(y)&&mae(y,h)&&b1(y)!=="body"}):[]}function Hbe(i,r,l,h){var y=r==="clippingParents"?Fbe(i):[].concat(r),w=[].concat(y,[l]),E=w[0],A=w.reduce(function(R,H){var j=use(i,H,h);return R.top=JE(j.top,R.top),R.right=gV(j.right,R.right),R.bottom=gV(j.bottom,R.bottom),R.left=JE(j.left,R.left),R},use(i,E,h));return A.width=A.right-A.left,A.height=A.bottom-A.top,A.x=A.left,A.y=A.top,A}function vae(i){var r=i.reference,l=i.element,h=i.placement,y=h?vg(h):null,w=h?TO(h):null,E=r.x+r.width/2-l.width/2,A=r.y+r.height/2-l.height/2,R;switch(y){case $f:R={x:E,y:r.y-l.height};break;case Qh:R={x:E,y:r.y+r.height};break;case ep:R={x:r.x+r.width,y:A};break;case Pf:R={x:r.x-l.width,y:A};break;default:R={x:r.x,y:r.y}}var H=y?Ree(y):null;if(H!=null){var j=H==="y"?"height":"width";switch(w){case SO:R[H]=R[H]-(r[j]/2-l[j]/2);break;case I$:R[H]=R[H]+(r[j]/2-l[j]/2);break}}return R}function L$(i,r){r===void 0&&(r={});var l=r,h=l.placement,y=h===void 0?i.placement:h,w=l.strategy,E=w===void 0?i.strategy:w,A=l.boundary,R=A===void 0?abe:A,H=l.rootBoundary,j=H===void 0?uae:H,Q=l.elementContext,le=Q===void 0?m$:Q,pe=l.altBoundary,me=pe===void 0?!1:pe,ve=l.padding,Ee=ve===void 0?0:ve,Me=pae(typeof Ee!="number"?Ee:gae(Ee,sP)),ce=le===m$?cbe:m$,q=i.rects.popper,ke=i.elements[me?ce:le],ze=Hbe(a2(ke)?ke:ke.contextElement||bw(i.elements.popper),R,j,E),We=xO(i.elements.reference),J=vae({reference:We,element:q,strategy:"absolute",placement:y}),Te=AQ(Object.assign({},q,J)),Ge=le===m$?Te:We,Ue={top:ze.top-Ge.top+Me.top,bottom:Ge.bottom-ze.bottom+Me.bottom,left:ze.left-Ge.left+Me.left,right:Ge.right-ze.right+Me.right},ye=i.modifiersData.offset;if(le===m$&&ye){var ie=ye[y];Object.keys(Ue).forEach(function(Tt){var vt=[ep,Qh].indexOf(Tt)>=0?1:-1,xt=[$f,Qh].indexOf(Tt)>=0?"y":"x";Ue[Tt]+=ie[xt]*vt})}return Ue}function Vbe(i,r){r===void 0&&(r={});var l=r,h=l.placement,y=l.boundary,w=l.rootBoundary,E=l.padding,A=l.flipVariations,R=l.allowedAutoPlacements,H=R===void 0?dae:R,j=TO(h),Q=j?A?ise:ise.filter(function(me){return TO(me)===j}):sP,le=Q.filter(function(me){return H.indexOf(me)>=0});le.length===0&&(le=Q,{}.NODE_ENV!=="production"&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var pe=le.reduce(function(me,ve){return me[ve]=L$(i,{placement:ve,boundary:y,rootBoundary:w,padding:E})[vg(ve)],me},{});return Object.keys(pe).sort(function(me,ve){return pe[me]-pe[ve]})}function zbe(i){if(vg(i)===YV)return[];var r=J8(i);return[lse(i),r,lse(r)]}function Wbe(i){var r=i.state,l=i.options,h=i.name;if(!r.modifiersData[h]._skip){for(var y=l.mainAxis,w=y===void 0?!0:y,E=l.altAxis,A=E===void 0?!0:E,R=l.fallbackPlacements,H=l.padding,j=l.boundary,Q=l.rootBoundary,le=l.altBoundary,pe=l.flipVariations,me=pe===void 0?!0:pe,ve=l.allowedAutoPlacements,Ee=r.options.placement,Me=vg(Ee),ce=Me===Ee,q=R||(ce||!me?[J8(Ee)]:zbe(Ee)),ke=[Ee].concat(q).reduce(function(so,Mo){return so.concat(vg(Mo)===YV?Vbe(r,{placement:Mo,boundary:j,rootBoundary:Q,padding:H,flipVariations:me,allowedAutoPlacements:ve}):Mo)},[]),ze=r.rects.reference,We=r.rects.popper,J=new Map,Te=!0,Ge=ke[0],Ue=0;Ue<ke.length;Ue++){var ye=ke[Ue],ie=vg(ye),Tt=TO(ye)===SO,vt=[$f,Qh].indexOf(ie)>=0,xt=vt?"width":"height",I=L$(r,{placement:ye,boundary:j,rootBoundary:Q,altBoundary:le,padding:H}),ln=vt?Tt?ep:Pf:Tt?Qh:$f;ze[xt]>We[xt]&&(ln=J8(ln));var ot=J8(ln),Xn=[];if(w&&Xn.push(I[ie]<=0),A&&Xn.push(I[ln]<=0,I[ot]<=0),Xn.every(function(so){return so})){Ge=ye,Te=!1;break}J.set(ye,Xn)}if(Te)for(var hn=me?3:1,lt=function(so){var Mo=ke.find(function(at){var wt=J.get(at);if(wt)return wt.slice(0,so).every(function(Y){return Y})});if(Mo)return Ge=Mo,"break"},mo=hn;mo>0;mo--){var ks=lt(mo);if(ks==="break")break}r.placement!==Ge&&(r.modifiersData[h]._skip=!0,r.placement=Ge,r.reset=!0)}}const Ube={name:"flip",enabled:!0,phase:"main",fn:Wbe,requiresIfExists:["offset"],data:{_skip:!1}};function dse(i,r,l){return l===void 0&&(l={x:0,y:0}),{top:i.top-r.height-l.y,right:i.right-r.width+l.x,bottom:i.bottom-r.height+l.y,left:i.left-r.width-l.x}}function fse(i){return[$f,ep,Qh,Pf].some(function(r){return i[r]>=0})}function jbe(i){var r=i.state,l=i.name,h=r.rects.reference,y=r.rects.popper,w=r.modifiersData.preventOverflow,E=L$(r,{elementContext:"reference"}),A=L$(r,{altBoundary:!0}),R=dse(E,h),H=dse(A,y,w),j=fse(R),Q=fse(H);r.modifiersData[l]={referenceClippingOffsets:R,popperEscapeOffsets:H,isReferenceHidden:j,hasPopperEscaped:Q},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":Q})}const Zbe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jbe};function Kbe(i,r,l){var h=vg(i),y=[Pf,$f].indexOf(h)>=0?-1:1,w=typeof l=="function"?l(Object.assign({},r,{placement:i})):l,E=w[0],A=w[1];return E=E||0,A=(A||0)*y,[Pf,ep].indexOf(h)>=0?{x:A,y:E}:{x:E,y:A}}function qbe(i){var r=i.state,l=i.options,h=i.name,y=l.offset,w=y===void 0?[0,0]:y,E=dae.reduce(function(j,Q){return j[Q]=Kbe(Q,r.rects,w),j},{}),A=E[r.placement],R=A.x,H=A.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=R,r.modifiersData.popperOffsets.y+=H),r.modifiersData[h]=E}const Gbe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qbe};function Ybe(i){var r=i.state,l=i.name;r.modifiersData[l]=vae({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const Xbe={name:"popperOffsets",enabled:!0,phase:"read",fn:Ybe,data:{}};function Jbe(i){return i==="x"?"y":"x"}function Qbe(i){var r=i.state,l=i.options,h=i.name,y=l.mainAxis,w=y===void 0?!0:y,E=l.altAxis,A=E===void 0?!1:E,R=l.boundary,H=l.rootBoundary,j=l.altBoundary,Q=l.padding,le=l.tether,pe=le===void 0?!0:le,me=l.tetherOffset,ve=me===void 0?0:me,Ee=L$(r,{boundary:R,rootBoundary:H,padding:Q,altBoundary:j}),Me=vg(r.placement),ce=TO(r.placement),q=!ce,ke=Ree(Me),ze=Jbe(ke),We=r.modifiersData.popperOffsets,J=r.rects.reference,Te=r.rects.popper,Ge=typeof ve=="function"?ve(Object.assign({},r.rects,{placement:r.placement})):ve,Ue=typeof Ge=="number"?{mainAxis:Ge,altAxis:Ge}:Object.assign({mainAxis:0,altAxis:0},Ge),ye=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,ie={x:0,y:0};if(We){if(w){var Tt,vt=ke==="y"?$f:Pf,xt=ke==="y"?Qh:ep,I=ke==="y"?"height":"width",ln=We[ke],ot=ln+Ee[vt],Xn=ln-Ee[xt],hn=pe?-Te[I]/2:0,lt=ce===SO?J[I]:Te[I],mo=ce===SO?-Te[I]:-J[I],ks=r.elements.arrow,so=pe&&ks?Nee(ks):{width:0,height:0},Mo=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:hae(),at=Mo[vt],wt=Mo[xt],Y=S$(0,J[I],so[I]),vr=q?J[I]/2-hn-Y-at-Ue.mainAxis:lt-Y-at-Ue.mainAxis,_o=q?-J[I]/2+hn+Y+wt+Ue.mainAxis:mo+Y+wt+Ue.mainAxis,Ho=r.elements.arrow&&rP(r.elements.arrow),we=Ho?ke==="y"?Ho.clientTop||0:Ho.clientLeft||0:0,Ze=(Tt=ye==null?void 0:ye[ke])!=null?Tt:0,je=ln+vr-Ze-we,pt=ln+_o-Ze,Ye=S$(pe?gV(ot,je):ot,ln,pe?JE(Xn,pt):Xn);We[ke]=Ye,ie[ke]=Ye-ln}if(A){var Ae,Jt=ke==="x"?$f:Pf,Wt=ke==="x"?Qh:ep,st=We[ze],Bt=ze==="y"?"height":"width",tn=st+Ee[Jt],vn=st-Ee[Wt],nn=[$f,Pf].indexOf(Me)!==-1,kn=(Ae=ye==null?void 0:ye[ze])!=null?Ae:0,lo=nn?tn:st-J[Bt]-Te[Bt]-kn+Ue.altAxis,vo=nn?st+J[Bt]+Te[Bt]-kn-Ue.altAxis:vn,Qn=pe&&nn?Sbe(lo,st,vo):S$(pe?lo:tn,st,pe?vo:vn);We[ze]=Qn,ie[ze]=Qn-st}r.modifiersData[h]=ie}}const e1e={name:"preventOverflow",enabled:!0,phase:"main",fn:Qbe,requiresIfExists:["offset"]};function t1e(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function n1e(i){return i===Km(i)||!zm(i)?Mee(i):t1e(i)}function o1e(i){var r=i.getBoundingClientRect(),l=EO(r.width)/i.offsetWidth||1,h=EO(r.height)/i.offsetHeight||1;return l!==1||h!==1}function s1e(i,r,l){l===void 0&&(l=!1);var h=zm(r),y=zm(r)&&o1e(r),w=bw(r),E=xO(i,y,l),A={scrollLeft:0,scrollTop:0},R={x:0,y:0};return(h||!h&&!l)&&((b1(r)!=="body"||Pee(w))&&(A=n1e(r)),zm(r)?(R=xO(r,!0),R.x+=r.clientLeft,R.y+=r.clientTop):w&&(R.x=$ee(w))),{x:E.left+A.scrollLeft-R.x,y:E.top+A.scrollTop-R.y,width:E.width,height:E.height}}function r1e(i){var r=new Map,l=new Set,h=[];i.forEach(function(w){r.set(w.name,w)});function y(w){l.add(w.name);var E=[].concat(w.requires||[],w.requiresIfExists||[]);E.forEach(function(A){if(!l.has(A)){var R=r.get(A);R&&y(R)}}),h.push(w)}return i.forEach(function(w){l.has(w.name)||y(w)}),h}function i1e(i){var r=r1e(i);return TQ.reduce(function(l,h){return l.concat(r.filter(function(y){return y.phase===h}))},[])}function a1e(i){var r;return function(){return r||(r=new Promise(function(l){Promise.resolve().then(function(){r=void 0,l(i())})})),r}}function q_(i){for(var r=arguments.length,l=new Array(r>1?r-1:0),h=1;h<r;h++)l[h-1]=arguments[h];return[].concat(l).reduce(function(y,w){return y.replace(/%s/,w)},i)}var LE='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',c1e='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',mse=["name","enabled","phase","fn","effect","requires","options"];function l1e(i){i.forEach(function(r){[].concat(Object.keys(r),mse).filter(function(l,h,y){return y.indexOf(l)===h}).forEach(function(l){switch(l){case"name":typeof r.name!="string"&&console.error(q_(LE,String(r.name),'"name"','"string"','"'+String(r.name)+'"'));break;case"enabled":typeof r.enabled!="boolean"&&console.error(q_(LE,r.name,'"enabled"','"boolean"','"'+String(r.enabled)+'"'));break;case"phase":TQ.indexOf(r.phase)<0&&console.error(q_(LE,r.name,'"phase"',"either "+TQ.join(", "),'"'+String(r.phase)+'"'));break;case"fn":typeof r.fn!="function"&&console.error(q_(LE,r.name,'"fn"','"function"','"'+String(r.fn)+'"'));break;case"effect":r.effect!=null&&typeof r.effect!="function"&&console.error(q_(LE,r.name,'"effect"','"function"','"'+String(r.fn)+'"'));break;case"requires":r.requires!=null&&!Array.isArray(r.requires)&&console.error(q_(LE,r.name,'"requires"','"array"','"'+String(r.requires)+'"'));break;case"requiresIfExists":Array.isArray(r.requiresIfExists)||console.error(q_(LE,r.name,'"requiresIfExists"','"array"','"'+String(r.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+r.name+'" modifier, valid properties are '+mse.map(function(h){return'"'+h+'"'}).join(", ")+'; but "'+l+'" was provided.')}r.requires&&r.requires.forEach(function(h){i.find(function(y){return y.name===h})==null&&console.error(q_(c1e,String(r.name),h,h))})})})}function u1e(i,r){var l=new Set;return i.filter(function(h){var y=r(h);if(!l.has(y))return l.add(y),!0})}function d1e(i){var r=i.reduce(function(l,h){var y=l[h.name];return l[h.name]=y?Object.assign({},y,h,{options:Object.assign({},y.options,h.options),data:Object.assign({},y.data,h.data)}):h,l},{});return Object.keys(r).map(function(l){return r[l]})}var hse="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",f1e="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",pse={placement:"bottom",modifiers:[],strategy:"absolute"};function gse(){for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return!r.some(function(h){return!(h&&typeof h.getBoundingClientRect=="function")})}function m1e(i){i===void 0&&(i={});var r=i,l=r.defaultModifiers,h=l===void 0?[]:l,y=r.defaultOptions,w=y===void 0?pse:y;return function(E,A,R){R===void 0&&(R=w);var H={placement:"bottom",orderedModifiers:[],options:Object.assign({},pse,w),modifiersData:{},elements:{reference:E,popper:A},attributes:{},styles:{}},j=[],Q=!1,le={state:H,setOptions:function(ve){var Ee=typeof ve=="function"?ve(H.options):ve;me(),H.options=Object.assign({},w,H.options,Ee),H.scrollParents={reference:a2(E)?E$(E):E.contextElement?E$(E.contextElement):[],popper:E$(A)};var Me=i1e(d1e([].concat(h,H.options.modifiers)));if(H.orderedModifiers=Me.filter(function(Ge){return Ge.enabled}),{}.NODE_ENV!=="production"){var ce=u1e([].concat(Me,H.options.modifiers),function(Ge){var Ue=Ge.name;return Ue});if(l1e(ce),vg(H.options.placement)===YV){var q=H.orderedModifiers.find(function(Ge){var Ue=Ge.name;return Ue==="flip"});q||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var ke=_g(A),ze=ke.marginTop,We=ke.marginRight,J=ke.marginBottom,Te=ke.marginLeft;[ze,We,J,Te].some(function(Ge){return parseFloat(Ge)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return pe(),le.update()},forceUpdate:function(){if(!Q){var ve=H.elements,Ee=ve.reference,Me=ve.popper;if(!gse(Ee,Me)){({}).NODE_ENV!=="production"&&console.error(hse);return}H.rects={reference:s1e(Ee,rP(Me),H.options.strategy==="fixed"),popper:Nee(Me)},H.reset=!1,H.placement=H.options.placement,H.orderedModifiers.forEach(function(Ge){return H.modifiersData[Ge.name]=Object.assign({},Ge.data)});for(var ce=0,q=0;q<H.orderedModifiers.length;q++){if({}.NODE_ENV!=="production"&&(ce+=1,ce>100)){console.error(f1e);break}if(H.reset===!0){H.reset=!1,q=-1;continue}var ke=H.orderedModifiers[q],ze=ke.fn,We=ke.options,J=We===void 0?{}:We,Te=ke.name;typeof ze=="function"&&(H=ze({state:H,options:J,name:Te,instance:le})||H)}}},update:a1e(function(){return new Promise(function(ve){le.forceUpdate(),ve(H)})}),destroy:function(){me(),Q=!0}};if(!gse(E,A))return{}.NODE_ENV!=="production"&&console.error(hse),le;le.setOptions(R).then(function(ve){!Q&&R.onFirstUpdate&&R.onFirstUpdate(ve)});function pe(){H.orderedModifiers.forEach(function(ve){var Ee=ve.name,Me=ve.options,ce=Me===void 0?{}:Me,q=ve.effect;if(typeof q=="function"){var ke=q({state:H,name:Ee,instance:le,options:ce}),ze=function(){};j.push(ke||ze)}})}function me(){j.forEach(function(ve){return ve()}),j=[]}return le}}var h1e=[Mbe,Xbe,Nbe,_be,Gbe,Ube,e1e,kbe,Zbe],p1e=m1e({defaultModifiers:h1e});function WJ(i){return i==="true"?!0:i==="false"?!1:i===Number(i).toString()?Number(i):i===""||i==="null"?null:i}function UJ(i){return i.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const Tn={setDataAttribute(i,r,l){i.setAttribute(`data-te-${UJ(r)}`,l)},removeDataAttribute(i,r){i.removeAttribute(`data-te-${UJ(r)}`)},getDataAttributes(i){if(!i)return{};const r={};return Object.keys(i.dataset).filter(l=>l.startsWith("te")).forEach(l=>{if(l.startsWith("teClass"))return;let h=l.replace(/^te/,"");h=h.charAt(0).toLowerCase()+h.slice(1,h.length),r[h]=WJ(i.dataset[l])}),r},getDataClassAttributes(i){if(!i)return{};const r={...i.dataset};return Object.keys(r).filter(l=>l.startsWith("teClass")).forEach(l=>{let h=l.replace(/^teClass/,"");h=h.charAt(0).toLowerCase()+h.slice(1,h.length),r[h]=WJ(r[l])}),r},getDataAttribute(i,r){return WJ(i.getAttribute(`data-te-${UJ(r)}`))},offset(i){const r=i.getBoundingClientRect();return{top:r.top+document.body.scrollTop,left:r.left+document.body.scrollLeft}},position(i){return{top:i.offsetTop,left:i.offsetLeft}},style(i,r){Object.assign(i.style,r)},toggleClass(i,r){i&&jJ(r).forEach(l=>{i.classList.contains(l)?i.classList.remove(l):i.classList.add(l)})},addClass(i,r){jJ(r).forEach(l=>!i.classList.contains(l)&&i.classList.add(l))},addStyle(i,r){Object.keys(r).forEach(l=>{i.style[l]=r[l]})},removeClass(i,r){jJ(r).forEach(l=>i.classList.contains(l)&&i.classList.remove(l))},hasClass(i,r){return i.classList.contains(r)},maxOffset(i){const r=i.getBoundingClientRect();return{top:r.top+Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY),left:r.left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft,window.scrollX)}}};function jJ(i){return typeof i=="string"?i.split(" "):Array.isArray(i)?i:!1}const g1e=3,no={closest(i,r){return i.closest(r)},matches(i,r){return i.matches(r)},find(i,r=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(r,i))},findOne(i,r=document.documentElement){return Element.prototype.querySelector.call(r,i)},children(i,r){return[].concat(...i.children).filter(l=>l.matches(r))},parents(i,r){const l=[];let h=i.parentNode;for(;h&&h.nodeType===Node.ELEMENT_NODE&&h.nodeType!==g1e;)this.matches(h,r)&&l.push(h),h=h.parentNode;return l},prev(i,r){let l=i.previousElementSibling;for(;l;){if(l.matches(r))return[l];l=l.previousElementSibling}return[]},next(i,r){let l=i.nextElementSibling;for(;l;){if(this.matches(l,r))return[l];l=l.nextElementSibling}return[]},focusableChildren(i){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(", ");return this.find(r,i).filter(l=>!Oee(l)&&GV(l))}};Xu();Xu();Xu();Xu();Xu();Xu();const bse=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",vse=".sticky-top";class b1e{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",l=>l+r),this._setElementAttributes(bse,"paddingRight",l=>l+r),this._setElementAttributes(vse,"marginRight",l=>l-r)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,l,h){const y=this.getWidth(),w=E=>{if(E!==this._element&&window.innerWidth>E.clientWidth+y)return;this._saveInitialAttribute(E,l);const A=window.getComputedStyle(E)[l];E.style[l]=`${h(Number.parseFloat(A))}px`};this._applyManipulationCallback(r,w)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(bse,"paddingRight"),this._resetElementAttributes(vse,"marginRight")}_saveInitialAttribute(r,l){const h=r.style[l];h&&Tn.setDataAttribute(r,l,h)}_resetElementAttributes(r,l){const h=y=>{const w=Tn.getDataAttribute(y,l);typeof w>"u"?y.style.removeProperty(l):(Tn.removeDataAttribute(y,l),y.style[l]=w)};this._applyManipulationCallback(r,h)}_applyManipulationCallback(r,l){tae(r)?l(r):no.find(r,this._element).forEach(l)}isOverflowing(){return this.getWidth()>0}}class v1e{constructor(r,l={},h){this._element=r,this._toggler=h,this._event=l.event||"blur",this._condition=l.condition||(()=>!0),this._selector=l.selector||'button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])',this._onlyVisible=l.onlyVisible||!1,this._focusableElements=[],this._firstElement=null,this._lastElement=null,this.handler=y=>{this._condition(y)&&!y.shiftKey&&y.target===this._lastElement?(y.preventDefault(),this._firstElement.focus()):this._condition(y)&&y.shiftKey&&y.target===this._firstElement&&(y.preventDefault(),this._lastElement.focus())}}trap(){this._setElements(),this._init(),this._setFocusTrap()}disable(){this._focusableElements.forEach(r=>{r.removeEventListener(this._event,this.handler)}),this._toggler&&this._toggler.focus()}update(){this._setElements(),this._setFocusTrap()}_init(){const r=l=>{!this._firstElement||l.key!=="Tab"||this._focusableElements.includes(l.target)||(l.preventDefault(),this._firstElement.focus(),window.removeEventListener("keydown",r))};window.addEventListener("keydown",r)}_filterVisible(r){return r.filter(l=>{if(!GV(l))return!1;const h=no.parents(l,"*");for(let y=0;y<h.length;y++){const w=window.getComputedStyle(h[y]);if(w&&(w.display==="none"||w.visibility==="hidden"))return!1}return!0})}_setElements(){this._focusableElements=no.focusableChildren(this._element),this._onlyVisible&&(this._focusableElements=this._filterVisible(this._focusableElements)),this._firstElement=this._focusableElements[0],this._lastElement=this._focusableElements[this._focusableElements.length-1]}_setFocusTrap(){this._focusableElements.forEach((r,l)=>{l===this._focusableElements.length-1||l===0?r.addEventListener(this._event,this.handler):r.removeEventListener(this._event,this.handler)})}}Xu(),Xu();(()=>{var i={454:(h,y,w)=>{w.d(y,{Z:()=>R});var E=w(645),A=w.n(E)()(function(H){return H[1]});A.push([h.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const R=A},645:h=>{h.exports=function(y){var w=[];return w.toString=function(){return this.map(function(E){var A=y(E);return E[2]?"@media ".concat(E[2]," {").concat(A,"}"):A}).join("")},w.i=function(E,A,R){typeof E=="string"&&(E=[[null,E,""]]);var H={};if(R)for(var j=0;j<this.length;j++){var Q=this[j][0];Q!=null&&(H[Q]=!0)}for(var le=0;le<E.length;le++){var pe=[].concat(E[le]);R&&H[pe[0]]||(A&&(pe[2]?pe[2]="".concat(A," and ").concat(pe[2]):pe[2]=A),w.push(pe))}},w}},810:()=>{(function(){if(typeof window<"u")try{var h=new window.CustomEvent("test",{cancelable:!0});if(h.preventDefault(),h.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var y=function(w,E){var A,R;return(E=E||{}).bubbles=!!E.bubbles,E.cancelable=!!E.cancelable,(A=document.createEvent("CustomEvent")).initCustomEvent(w,E.bubbles,E.cancelable,E.detail),R=A.preventDefault,A.preventDefault=function(){R.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},A};y.prototype=window.Event.prototype,window.CustomEvent=y}})()},379:(h,y,w)=>{var E,A=function(){var q={};return function(ke){if(q[ke]===void 0){var ze=document.querySelector(ke);if(window.HTMLIFrameElement&&ze instanceof window.HTMLIFrameElement)try{ze=ze.contentDocument.head}catch{ze=null}q[ke]=ze}return q[ke]}}(),R=[];function H(q){for(var ke=-1,ze=0;ze<R.length;ze++)if(R[ze].identifier===q){ke=ze;break}return ke}function j(q,ke){for(var ze={},We=[],J=0;J<q.length;J++){var Te=q[J],Ge=ke.base?Te[0]+ke.base:Te[0],Ue=ze[Ge]||0,ye="".concat(Ge," ").concat(Ue);ze[Ge]=Ue+1;var ie=H(ye),Tt={css:Te[1],media:Te[2],sourceMap:Te[3]};ie!==-1?(R[ie].references++,R[ie].updater(Tt)):R.push({identifier:ye,updater:ce(Tt,ke),references:1}),We.push(ye)}return We}function Q(q){var ke=document.createElement("style"),ze=q.attributes||{};if(ze.nonce===void 0){var We=w.nc;We&&(ze.nonce=We)}if(Object.keys(ze).forEach(function(Te){ke.setAttribute(Te,ze[Te])}),typeof q.insert=="function")q.insert(ke);else{var J=A(q.insert||"head");if(!J)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");J.appendChild(ke)}return ke}var le,pe=(le=[],function(q,ke){return le[q]=ke,le.filter(Boolean).join(`
`)});function me(q,ke,ze,We){var J=ze?"":We.media?"@media ".concat(We.media," {").concat(We.css,"}"):We.css;if(q.styleSheet)q.styleSheet.cssText=pe(ke,J);else{var Te=document.createTextNode(J),Ge=q.childNodes;Ge[ke]&&q.removeChild(Ge[ke]),Ge.length?q.insertBefore(Te,Ge[ke]):q.appendChild(Te)}}function ve(q,ke,ze){var We=ze.css,J=ze.media,Te=ze.sourceMap;if(J?q.setAttribute("media",J):q.removeAttribute("media"),Te&&typeof btoa<"u"&&(We+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Te))))," */")),q.styleSheet)q.styleSheet.cssText=We;else{for(;q.firstChild;)q.removeChild(q.firstChild);q.appendChild(document.createTextNode(We))}}var Ee=null,Me=0;function ce(q,ke){var ze,We,J;if(ke.singleton){var Te=Me++;ze=Ee||(Ee=Q(ke)),We=me.bind(null,ze,Te,!1),J=me.bind(null,ze,Te,!0)}else ze=Q(ke),We=ve.bind(null,ze,ke),J=function(){(function(Ge){if(Ge.parentNode===null)return!1;Ge.parentNode.removeChild(Ge)})(ze)};return We(q),function(Ge){if(Ge){if(Ge.css===q.css&&Ge.media===q.media&&Ge.sourceMap===q.sourceMap)return;We(q=Ge)}else J()}}h.exports=function(q,ke){(ke=ke||{}).singleton||typeof ke.singleton=="boolean"||(ke.singleton=(E===void 0&&(E=!!(window&&document&&document.all&&!window.atob)),E));var ze=j(q=q||[],ke);return function(We){if(We=We||[],Object.prototype.toString.call(We)==="[object Array]"){for(var J=0;J<ze.length;J++){var Te=H(ze[J]);R[Te].references--}for(var Ge=j(We,ke),Ue=0;Ue<ze.length;Ue++){var ye=H(ze[Ue]);R[ye].references===0&&(R[ye].updater(),R.splice(ye,1))}ze=Ge}}}}},r={};function l(h){var y=r[h];if(y!==void 0)return y.exports;var w=r[h]={id:h,exports:{}};return i[h](w,w.exports,l),w.exports}l.n=h=>{var y=h&&h.__esModule?()=>h.default:()=>h;return l.d(y,{a:y}),y},l.d=(h,y)=>{for(var w in y)l.o(y,w)&&!l.o(h,w)&&Object.defineProperty(h,w,{enumerable:!0,get:y[w]})},l.o=(h,y)=>Object.prototype.hasOwnProperty.call(h,y),(()=>{var h=l(379),y=l.n(h),w=l(454);function E(R){if(!R.hasAttribute("autocompleted")){R.setAttribute("autocompleted","");var H=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});R.dispatchEvent(H)||(R.value="")}}function A(R){R.hasAttribute("autocompleted")&&(R.removeAttribute("autocompleted"),R.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}y()(w.Z,{insert:"head",singleton:!1}),w.Z.locals,l(810),document.addEventListener("animationstart",function(R){R.animationName==="onautofillstart"?E(R.target):A(R.target)},!0),document.addEventListener("input",function(R){R.inputType!=="insertReplacementText"&&"data"in R?A(R.target):E(R.target)},!0)})()})();const ZJ="input",x8="te.input",yae="data-te-input-wrapper-init",_ae="data-te-input-notch-ref",wae="data-te-input-notch-leading-ref",Cae="data-te-input-notch-middle-ref",y1e="data-te-input-notch-trailing-ref",_1e="data-te-input-helper-ref",w1e="data-te-input-placeholder-active",G_="data-te-input-state-active",yse="data-te-input-focused",_se="data-te-input-form-counter",FE=`[${yae}] input`,HE=`[${yae}] textarea`,YA=`[${_ae}]`,wse=`[${wae}]`,Cse=`[${Cae}]`,C1e=`[${_1e}]`,S1e={inputFormWhite:!1},E1e={inputFormWhite:"(boolean)"},x1e={notch:"group flex absolute left-0 top-0 w-full max-w-full h-full text-left pointer-events-none",notchLeading:"pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none left-0 top-0 h-full w-2 border-r-0 rounded-l-[0.25rem] group-data-[te-input-focused]:border-r-0 group-data-[te-input-state-active]:border-r-0",notchLeadingNormal:"border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[-1px_0_0_#3b71ca,_0_1px_0_0_#3b71ca,_0_-1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary",notchLeadingWhite:"border-neutral-200 group-data-[te-input-focused]:shadow-[-1px_0_0_#ffffff,_0_1px_0_0_#ffffff,_0_-1px_0_0_#ffffff] group-data-[te-input-focused]:border-white",notchMiddle:"pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow-0 shrink-0 basis-auto w-auto max-w-[calc(100%-1rem)] h-full border-r-0 border-l-0 group-data-[te-input-focused]:border-x-0 group-data-[te-input-state-active]:border-x-0 group-data-[te-input-focused]:border-t group-data-[te-input-state-active]:border-t group-data-[te-input-focused]:border-solid group-data-[te-input-state-active]:border-solid group-data-[te-input-focused]:border-t-transparent group-data-[te-input-state-active]:border-t-transparent",notchMiddleNormal:"border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[0_1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary",notchMiddleWhite:"border-neutral-200 group-data-[te-input-focused]:shadow-[0_1px_0_0_#ffffff] group-data-[te-input-focused]:border-white",notchTrailing:"pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow h-full border-l-0 rounded-r-[0.25rem] group-data-[te-input-focused]:border-l-0 group-data-[te-input-state-active]:border-l-0",notchTrailingNormal:"border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[1px_0_0_#3b71ca,_0_-1px_0_0_#3b71ca,_0_1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary",notchTrailingWhite:"border-neutral-200 group-data-[te-input-focused]:shadow-[1px_0_0_#ffffff,_0_-1px_0_0_#ffffff,_0_1px_0_0_#ffffff] group-data-[te-input-focused]:border-white",counter:"text-right leading-[1.6]"},T1e={notch:"string",notchLeading:"string",notchLeadingNormal:"string",notchLeadingWhite:"string",notchMiddle:"string",notchMiddleNormal:"string",notchMiddleWhite:"string",notchTrailing:"string",notchTrailingNormal:"string",notchTrailingWhite:"string",counter:"string"};class pa{constructor(r,l,h){this._config=this._getConfig(l,r),this._element=r,this._classes=this._getClasses(h),this._label=null,this._labelWidth=0,this._labelMarginLeft=0,this._notchLeading=null,this._notchMiddle=null,this._notchTrailing=null,this._initiated=!1,this._helper=null,this._counter=!1,this._counterElement=null,this._maxLength=0,this._leadingIcon=null,this._element&&(bg.setData(r,x8,this),this.init())}static get NAME(){return ZJ}get input(){return no.findOne("input",this._element)||no.findOne("textarea",this._element)}init(){this._initiated||(this._getLabelData(),this._applyDivs(),this._applyNotch(),this._activate(),this._getHelper(),this._getCounter(),this._getEvents(),this._initiated=!0)}update(){this._getLabelData(),this._getNotchData(),this._applyNotch(),this._activate(),this._getHelper(),this._getCounter()}forceActive(){this.input.setAttribute(G_,""),no.findOne(YA,this.input.parentNode).setAttribute(G_,"")}forceInactive(){this.input.removeAttribute(G_),no.findOne(YA,this.input.parentNode).removeAttribute(G_)}dispose(){this._removeBorder(),bg.removeData(this._element,x8),this._element=null}_getConfig(r,l){return r={...S1e,...Tn.getDataAttributes(l),...typeof r=="object"?r:{}},CO(ZJ,r,E1e),r}_getClasses(r){const l=Tn.getDataClassAttributes(this._element);return r={...x1e,...l,...r},CO(ZJ,r,T1e),r}_getLabelData(){this._label=no.findOne("label",this._element),this._label===null?this._showPlaceholder():(this._getLabelWidth(),this._getLabelPositionInInputGroup(),this._toggleDefaultDatePlaceholder())}_getHelper(){this._helper=no.findOne(C1e,this._element)}_getCounter(){this._counter=Tn.getDataAttribute(this.input,"inputShowcounter"),this._counter&&(this._maxLength=this.input.maxLength,this._showCounter())}_getEvents(){Xt.on(document,"focus",FE,pa.activate(new pa)),Xt.on(document,"input",FE,pa.activate(new pa)),Xt.on(document,"blur",FE,pa.deactivate(new pa)),Xt.on(document,"focus",HE,pa.activate(new pa)),Xt.on(document,"input",HE,pa.activate(new pa)),Xt.on(document,"blur",HE,pa.deactivate(new pa)),Xt.on(window,"shown.te.modal",r=>{no.find(FE,r.target).forEach(l=>{const h=pa.getInstance(l.parentNode);h&&h.update()}),no.find(HE,r.target).forEach(l=>{const h=pa.getInstance(l.parentNode);h&&h.update()})}),Xt.on(window,"shown.te.dropdown",r=>{const l=r.target.parentNode.querySelector("[data-te-dropdown-menu-ref]");l&&(no.find(FE,l).forEach(h=>{const y=pa.getInstance(h.parentNode);y&&y.update()}),no.find(HE,l).forEach(h=>{const y=pa.getInstance(h.parentNode);y&&y.update()}))}),Xt.on(window,"shown.te.tab",r=>{let l;r.target.href?l=r.target.href.split("#")[1]:l=Tn.getDataAttribute(r.target,"target").split("#")[1];const h=no.findOne(`#${l}`);no.find(FE,h).forEach(y=>{const w=pa.getInstance(y.parentNode);w&&w.update()}),no.find(HE,h).forEach(y=>{const w=pa.getInstance(y.parentNode);w&&w.update()})}),Xt.on(window,"reset",r=>{no.find(FE,r.target).forEach(l=>{const h=pa.getInstance(l.parentNode);h&&h.forceInactive()}),no.find(HE,r.target).forEach(l=>{const h=pa.getInstance(l.parentNode);h&&h.forceInactive()})}),Xt.on(window,"onautocomplete",r=>{const l=pa.getInstance(r.target.parentNode);!l||!r.cancelable||l.forceActive()})}_showCounter(){if(no.find(`[${_se}]`,this._element).length>0)return;this._counterElement=document.createElement("div"),Tn.addClass(this._counterElement,this._classes.counter),this._counterElement.setAttribute(_se,"");const r=this.input.value.length;this._counterElement.innerHTML=`${r} / ${this._maxLength}`,this._helper.appendChild(this._counterElement),this._bindCounter()}_bindCounter(){Xt.on(this.input,"input",()=>{const r=this.input.value.length;this._counterElement.innerHTML=`${r} / ${this._maxLength}`})}_toggleDefaultDatePlaceholder(r=this.input){r.getAttribute("type")==="date"&&(document.activeElement!==r&&!r.value?r.style.opacity=0:r.style.opacity=1)}_showPlaceholder(){this.input.setAttribute(w1e,"")}_getNotchData(){this._notchMiddle=no.findOne(Cse,this._element),this._notchLeading=no.findOne(wse,this._element)}_getLabelWidth(){this._labelWidth=this._label.clientWidth*.8+8}_getLabelPositionInInputGroup(){if(this._labelMarginLeft=0,!this._element.hasAttribute("data-te-input-group-ref"))return;const r=this.input,l=no.prev(r,"[data-te-input-group-text-ref]")[0];l===void 0?this._labelMarginLeft=0:this._labelMarginLeft=l.offsetWidth-1}_applyDivs(){const r=this._config.inputFormWhite?this._classes.notchLeadingWhite:this._classes.notchLeadingNormal,l=this._config.inputFormWhite?this._classes.notchMiddleWhite:this._classes.notchMiddleNormal,h=this._config.inputFormWhite?this._classes.notchTrailingWhite:this._classes.notchTrailingNormal,y=no.find(YA,this._element),w=Fi("div");Tn.addClass(w,this._classes.notch),w.setAttribute(_ae,""),this._notchLeading=Fi("div"),Tn.addClass(this._notchLeading,`${this._classes.notchLeading} ${r}`),this._notchLeading.setAttribute(wae,""),this._notchMiddle=Fi("div"),Tn.addClass(this._notchMiddle,`${this._classes.notchMiddle} ${l}`),this._notchMiddle.setAttribute(Cae,""),this._notchTrailing=Fi("div"),Tn.addClass(this._notchTrailing,`${this._classes.notchTrailing} ${h}`),this._notchTrailing.setAttribute(y1e,""),!(y.length>=1)&&(w.append(this._notchLeading),w.append(this._notchMiddle),w.append(this._notchTrailing),this._element.append(w))}_applyNotch(){this._notchMiddle.style.width=`${this._labelWidth}px`,this._notchLeading.style.width=`${this._labelMarginLeft+9}px`,this._label!==null&&(this._label.style.marginLeft=`${this._labelMarginLeft}px`)}_removeBorder(){const r=no.findOne(YA,this._element);r&&r.remove()}_activate(r){oae(()=>{this._getElements(r);const l=r?r.target:this.input,h=no.findOne(YA,this._element);r&&r.type==="focus"&&h&&h.setAttribute(yse,""),l.value!==""&&(l.setAttribute(G_,""),h&&h.setAttribute(G_,"")),this._toggleDefaultDatePlaceholder(l)})}_getElements(r){if(r&&(this._element=r.target.parentNode,this._label=no.findOne("label",this._element)),r&&this._label){const l=this._labelWidth;this._getLabelData(),l!==this._labelWidth&&(this._notchMiddle=no.findOne(Cse,r.target.parentNode),this._notchLeading=no.findOne(wse,r.target.parentNode),this._applyNotch())}}_deactivate(r){const l=r?r.target:this.input,h=no.findOne(YA,l.parentNode);h.removeAttribute(yse),l.value===""&&(l.removeAttribute(G_),h.removeAttribute(G_)),this._toggleDefaultDatePlaceholder(l)}static activate(r){return function(l){r._activate(l)}}static deactivate(r){return function(l){r._deactivate(l)}}static jQueryInterface(r,l){return this.each(function(){let h=bg.getData(this,x8);const y=typeof r=="object"&&r;if(!(!h&&/dispose/.test(r))&&(h||(h=new pa(this,y)),typeof r=="string")){if(typeof h[r]>"u")throw new TypeError(`No method named "${r}"`);h[r](l)}})}static getInstance(r){return bg.getData(r,x8)}static getOrCreateInstance(r,l={}){return this.getInstance(r)||new this(r,typeof l=="object"?l:null)}}function Bd(i){return i.getDate()}function Q8(i){return i.getDay()}function _c(i){return i.getMonth()}function Vr(i){return i.getFullYear()}function k1e(i,r,l){const h=l.startDay,y=h>0?7-h:0,w=new Date(i,r).getDay()+y;return w>=7?w-7:w}function OQ(i){return A1e(i).getDate()}function A1e(i){return p1(i.getFullYear(),i.getMonth()+1,0)}function aO(){return new Date}function Of(i,r){return Df(i,r*12)}function Df(i,r){const l=p1(i.getFullYear(),i.getMonth()+r,i.getDate()),h=Bd(i),y=Bd(l);return h!==y&&l.setDate(0),l}function XA(i,r){return p1(i.getFullYear(),i.getMonth(),i.getDate()+r)}function p1(i,r,l){const h=new Date(i,r,l);return i>=0&&i<100&&h.setFullYear(h.getFullYear()-1900),h}function Sse(i){const r=i.split("-"),l=r[0],h=r[1],y=r[2];return p1(l,h,y)}function O1e(i){return!Number.isNaN(i.getTime())}function rO(i,r){return Vr(i)-Vr(r)||_c(i)-_c(r)||Bd(i)-Bd(r)}function WE(i,r){return i.setHours(0,0,0,0),r.setHours(0,0,0,0),i.getTime()===r.getTime()}function eV(i,r){const l=Vr(i)-N1e();return D1e(l,r)}function D1e(i,r){return(i%r+r)%r}function N1e(i,r,l){let h=0;return l?h=Vr(l)-i+1:r&&(h=Vr(r)),h}function bV(i,r,l,h,y,w){const E=new Date;E.setHours(0,0,0,0);const A=r&&rO(i,r)<=-1,R=l&&rO(i,l)>=1,H=y&&rO(i,E)<=-1,j=w&&rO(i,E)>=1,Q=h&&h(i)===!1;return A||R||Q||H||j}function Sae(i,r,l,h,y,w){const E=new Date,A=h&&Vr(h),R=h&&_c(h),H=l&&Vr(l),j=l&&_c(l),Q=Vr(E),le=_c(E),pe=R&&A&&(r>A||r===A&&i>R),me=j&&H&&(r<H||r===H&&i<j),ve=y&&(r<Q||r===Q&&i<le),Ee=w&&(r>Q||r===Q&&i>le);return pe||me||ve||Ee}function DQ(i,r,l,h,y){const w=r&&Vr(r),E=l&&Vr(l),A=Vr(new Date),R=E&&i>E,H=w&&i<w,j=h&&i<A,Q=y&&i>A;return R||H||j||Q}function R1e(i,r,l,h,y,w,E,A){const R=new Date;return R.setHours(0,0,0,0),(i&&w&&rO(w,R)<0||i)&&(w=R),w&&x$(r,w,l,h,y,w,E,A)}function M1e(i,r,l,h,y,w,E,A){const R=new Date;return R.setHours(0,0,0,0),(i&&y&&rO(y,R)<0||i)&&(y=R),y&&x$(r,y,l,h,y,w,E,A)}function x$(i,r,l,h,y,w,E,A){return l==="days"?Vr(i)===Vr(r)&&_c(i)===_c(r):l==="months"?Vr(i)===Vr(r):l==="years"?Vr(r)>=A&&Vr(r)<=E:!1}const $1e="data-te-datepicker-modal-container-ref",P1e="data-te-datepicker-dropdown-container-ref",B1e="data-te-dropdown-backdrop-ref",I1e="data-te-datepicker-date-text-ref",Ese="data-te-datepicker-view-ref",L1e="data-te-datepicker-previous-button-ref",F1e="data-te-datepicker-next-button-ref",H1e="data-te-datepicker-ok-button-ref",V1e="data-te-datepicker-cancel-button-ref",z1e="data-te-datepicker-clear-button-ref",W1e="data-te-datepicker-view-change-button-ref";function U1e(i,r,l,h,y,w,E,A,R,H){const j=_c(i),Q=Vr(i),le=Bd(i),pe=Q8(i),me=Fi("div"),ve=`
        ${xse(i,j,Q,r,l,h,y,w,E,A,H)}
    `,Ee=`
      ${Z1e(le,pe,j,y,H)}
      ${xse(i,j,Q,r,l,h,y,w,E,A,H)}
    `;return y.inline?(Tn.addClass(me,H.datepickerDropdownContainer),me.setAttribute(P1e,R),me.innerHTML=ve):(Tn.addClass(me,H.modalContainer),me.setAttribute($1e,R),me.innerHTML=Ee),me}function j1e(i){const r=Fi("div");return Tn.addClass(r,i),r.setAttribute(B1e,""),r}function Z1e(i,r,l,h,y){return`
      <div class="${y.datepickerHeader}" data-te-datepicker-header>
        <div class="${y.datepickerTitle}">
          <span class="${y.datepickerTitleText}">${h.title}</span>
        </div>
        <div class="${y.datepickerDate}">
          <span class="${y.datepickerDateText}" ${I1e} >${h.weekdaysShort[r]}, ${h.monthsShort[l]} ${i}</span>
        </div>
      </div>
    `}function xse(i,r,l,h,y,w,E,A,R,H,j){let Q;return E.inline?Q=`
    <div class="${j.datepickerMain}">
      ${kse(r,l,E,j)}
      <div class="${j.datepickerView}" ${Ese} tabindex="0">
        ${Tse(i,l,h,y,w,E,A,R,H,j)}
      </div>
    </div>
  `:Q=`
    <div class="${j.datepickerMain}">
      ${kse(r,l,E,j)}
      <div class="${j.datepickerView}" ${Ese} tabindex="0">
        ${Tse(i,l,h,y,w,E,A,R,H,j)}
      </div>
      ${K1e(E,j)}
    </div>
  `,Q}function Tse(i,r,l,h,y,w,E,A,R,H){let j;return w.view==="days"?j=tV(i,l,w,H):w.view==="months"?j=nV(r,h,y,w,E,H):j=oV(i,h,w,A,R,H),j}function kse(i,r,l,h){return`
    <div class="${h.datepickerDateControls}">
      <button class="${h.datepickerViewChangeButton}" aria-label="${l.switchToMultiYearViewLabel}" ${W1e}>
        ${l.monthsFull[i]} ${r} ${l1(l,h)}
      </button>
      <div class="${h.datepickerArrowControls}">
        <button class="${h.datepickerPreviousButton}" aria-label="${l.prevMonthLabel}" ${L1e}>${l.changeMonthIconTemplate}</button>
        <button class="${h.datepickerNextButton}" aria-label="${l.nextMonthLabel}" ${F1e}>${l.changeMonthIconTemplate}</button>
      </div>
    </div>
    `}function l1(i,r){return`
  <span class="${r.datepickerViewChangeIcon}">
  ${i.viewChangeIconTemplate}
  </span>
  `}function K1e(i,r){const l=`<button class="${r.datepickerFooterBtn}" aria-label="${i.okBtnLabel}" ${H1e}>${i.okBtnText}</button>`,h=`<button class="${r.datepickerFooterBtn}" aria-label="${i.cancelBtnLabel}" ${V1e}>${i.cancelBtnText}</button>`,y=`<button class="${r.datepickerFooterBtn} ${r.datepickerClearBtn}" aria-label="${i.clearBtnLabel}" ${z1e}>${i.clearBtnText}</button>`;return`
        <div class="${r.datepickerFooter}">
          
        ${i.removeClearBtn?"":y}
        ${i.removeCancelBtn?"":h}
        ${i.removeOkBtn?"":l}
        </div>
      `}function tV(i,r,l,h){const y=q1e(i,r,l),w=`
      <tr>
        ${l.weekdaysNarrow.map((A,R)=>`<th class="${h.datepickerDayHeading}" scope="col" aria-label="${l.weekdaysFull[R]}">${A}</th>`).join("")}
      </tr>
    `,E=y.map(A=>`
        <tr>
          ${A.map(R=>`
              <td
              class="${h.datepickerCell} ${h.datepickerCellSmall}"
              data-te-date="${Vr(R.date)}-${_c(R.date)}-${Bd(R.date)}"
              aria-label="${R.date}"
              aria-selected="${R.isSelected}"
              ${R.isSelected?"data-te-datepicker-cell-selected":""}
              ${!R.currentMonth||R.disabled?"data-te-datepicker-cell-disabled":""}
              ${R.isToday?"data-te-datepicker-cell-current":""}
              >
                <div
                  class="${h.datepickerCellContent} ${h.datepickerCellContentSmall}"
                  style="${R.currentMonth?"display: block":"display: none"}"
                  >
                  ${R.dayNumber}
                  </div>
              </td>
            `).join("")}
        </tr>
      `).join("");return`
      <table class="${h.datepickerTable}">
        <thead>
          ${w}
        </thead>
        <tbody>
         ${E}
        </tbody>
      </table>
    `}function q1e(i,r,l){const h=[],y=_c(i),w=_c(Df(i,-1)),E=_c(Df(i,1)),A=Vr(i),R=k1e(A,y,l),H=OQ(i),j=OQ(Df(i,-1)),Q=7;let le=1,pe=!1;for(let me=1;me<Q;me++){const ve=[];if(me===1){const Ee=j-R+1;for(let ce=Ee;ce<=j;ce++){const q=p1(A,w,ce);ve.push({date:q,currentMonth:pe,isSelected:r&&WE(q,r),isToday:WE(q,aO()),dayNumber:Bd(q)})}pe=!0;const Me=Q-ve.length;for(let ce=0;ce<Me;ce++){const q=p1(A,y,le);ve.push({date:q,currentMonth:pe,isSelected:r&&WE(q,r),isToday:WE(q,aO()),dayNumber:Bd(q),disabled:bV(q,l.min,l.max,l.filter,l.disablePast,l.disableFuture)}),le++}}else for(let Ee=1;Ee<8;Ee++){le>H&&(le=1,pe=!1);const Me=p1(A,pe?y:E,le);ve.push({date:Me,currentMonth:pe,isSelected:r&&WE(Me,r),isToday:WE(Me,aO()),dayNumber:Bd(Me),disabled:bV(Me,l.min,l.max,l.filter,l.disablePast,l.disableFuture)}),le++}h.push(ve)}return h}function nV(i,r,l,h,y,w){const E=G1e(h,y),A=_c(aO()),R=Vr(aO()),H=`
      ${E.map(j=>`
          <tr>
            ${j.map(Q=>{const le=h.monthsShort.indexOf(Q);return`
                <td class="${w.datepickerCell} ${w.datepickerCellLarge}"
                ${Sae(le,i,h.min,h.max,h.disablePast,h.disableFuture)?"data-te-datepicker-cell-disabled":""}
                
                data-te-month="${le}" data-te-year="${i}" aria-label="${Q}, ${i}"
                ${le===l&&i===r?"data-te-datepicker-cell-selected":""}
                ${le===A&&i===R?"data-te-datepicker-cell-current":""}" data-te-month="${le}" data-te-year="${i}" aria-label="${Q}, ${i}">
                  <div class="${w.datepickerCellContent} ${w.datepickerCellContentLarge}">${Q}</div>
                </td>
              `}).join("")}
          </tr>
        `).join("")}
    `;return`
      <table class="${w.datepickerTable}">
        <tbody>
         ${H}
        </tbody>
      </table>
    `}function G1e(i,r){const l=[];let h=[];for(let y=0;y<i.monthsShort.length;y++)if(h.push(i.monthsShort[y]),h.length===r){const w=h;l.push(w),h=[]}return l}function oV(i,r,l,h,y,w){const E=Y1e(i,h,y),A=Vr(aO()),R=`
    ${E.map(H=>`
        <tr>
          ${H.map(j=>`
              <td class="${w.datepickerCell} ${w.datepickerCellLarge}"  aria-label="${j}" data-te-year="${j}"
              ${DQ(j,l.min,l.max,l.disablePast,l.disableFuture)?"data-te-datepicker-cell-disabled":""}
              ${j===r?"data-te-datepicker-cell-selected":""}
              ${j===A?"data-te-datepicker-cell-current":""}
              >
                <div class="${w.datepickerCellContent} ${w.datepickerCellContentLarge}">${j}</div>
              </td>
            `).join("")}
        </tr>
      `).join("")}
  `;return`
      <table class="${w.datepickerTable}">
        <tbody>
        ${R}
        </tbody>
      </table>
    `}function Y1e(i,r,l){const h=[],y=Vr(i),w=eV(i,r),E=y-w;let A=[];for(let R=0;R<r;R++)if(A.push(E+R),A.length===l){const H=A;h.push(H),A=[]}return h}function X1e(i,r){return`
    <button id="${i}" type="button" class="${r}" data-te-datepicker-toggle-button-ref data-te-datepicker-toggle-ref>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z" clip-rule="evenodd" />
      </svg>  
    </button>
  `}const KJ=37,qJ=38,GJ=39,YJ=40,XJ=36,JJ=35,QJ=33,eQ=34,T8=13,tQ=32,J1e=27,hg=24,k8=4,A8=4,nQ="datepicker",sV="te.datepicker",JV=`.${sV}`,Q1e=".data-api",eve=`close${JV}`,tve=`open${JV}`,nve=`dateChange${JV}`,O8=`click${JV}${Q1e}`,Eae="data-te-datepicker-modal-container-ref",xae="data-te-datepicker-dropdown-container-ref",D8="[data-te-datepicker-toggle-ref]",ove=`[${Eae}]`,sve=`[${xae}]`,rve="[data-te-datepicker-view-change-button-ref]",ive="[data-te-datepicker-previous-button-ref]",ave="[data-te-datepicker-next-button-ref]",cve="[data-te-datepicker-ok-button-ref]",lve="[data-te-datepicker-cancel-button-ref]",uve="[data-te-datepicker-clear-button-ref]",dve="[data-te-datepicker-view-ref]",fve="[data-te-datepicker-toggle-button-ref]",mve="[data-te-datepicker-date-text-ref]",hve="[data-te-dropdown-backdrop-ref]",pve="animate-[fade-in_0.3s_both] px-[auto] motion-reduce:transition-none motion-reduce:animate-none",gve="animate-[fade-out_0.3s_both] px-[auto] motion-reduce:transition-none motion-reduce:animate-none",bve="animate-[fade-in_0.15s_both] px-[auto] motion-reduce:transition-none motion-reduce:animate-none",vve="animate-[fade-out_0.15s_both] px-[auto] motion-reduce:transition-none motion-reduce:animate-none",yve="flex flex-col fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[328px] h-[512px] bg-white rounded-[0.6rem] shadow-lg z-[1066] xs:max-md:landscape:w-[475px] xs:max-md:landscape:h-[360px] xs:max-md:landscape:flex-row dark:bg-zinc-700",_ve="w-full h-full fixed top-0 right-0 left-0 bottom-0 bg-black/40 z-[1065]",wve="relative h-full",Cve="xs:max-md:landscape:h-full h-[120px] px-6 bg-primary flex flex-col rounded-t-lg dark:bg-zinc-800",Sve="h-8 flex flex-col justify-end",Eve="text-[10px] font-normal uppercase tracking-[1.7px] text-white",xve="xs:max-md:landscape:mt-24 h-[72px] flex flex-col justify-end",Tve="text-[34px] font-normal text-white",kve="outline-none px-3",Ave="px-3 pt-2.5 pb-0 flex justify-between text-black/[64]",Ove="flex items-center outline-none p-2.5 text-neutral-500 font-medium text-[0.9rem] rounded-xl shadow-none bg-transparent m-0 border-none hover:bg-neutral-200 focus:bg-neutral-200  dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10",Dve="mt-2.5",Nve="p-0 w-10 h-10 leading-10 border-none outline-none m-0 text-gray-600 bg-transparent mr-6 hover:bg-neutral-200 hover:rounded-[50%] focus:bg-neutral-200 focus:rounded-[50%] dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10 [&>svg]:w-4 [&>svg]:h-4 [&>svg]:mx-auto",Rve="p-0 w-10 h-10 leading-10 border-none outline-none m-0 text-gray-600 bg-transparent hover:bg-neutral-200 hover:rounded-[50%] focus:bg-neutral-200 focus:rounded-[50%] dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10 [&>svg]:w-4 [&>svg]:h-4 [&>svg]:rotate-180 [&>svg]:mx-auto",Mve="h-14 flex absolute w-full bottom-0 justify-end items-center px-3",$ve="outline-none bg-white text-primary border-none cursor-pointer py-0 px-2.5 uppercase text-[0.8rem] leading-10 font-medium h-10 tracking-[.1rem] rounded-[10px] mb-2.5 hover:bg-neutral-200 focus:bg-neutral-200 dark:bg-transparent dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10",Pve="mr-auto",Bve="w-10 h-10 text-center text-[12px] font-normal dark:text-white",Ive="text-center data-[te-datepicker-cell-disabled]:text-neutral-300 data-[te-datepicker-cell-disabled]:cursor-default data-[te-datepicker-cell-disabled]:pointer-events-none data-[te-datepicker-cell-disabled]:hover:cursor-default hover:cursor-pointer group",Lve="w-10 h-10 xs:max-md:landscape:w-8 xs:max-md:landscape:h-8",Fve="w-[76px] h-[42px]",Hve="mx-auto group-[:not([data-te-datepicker-cell-disabled]):not([data-te-datepicker-cell-selected]):hover]:bg-neutral-300 group-[[data-te-datepicker-cell-selected]]:bg-primary group-[[data-te-datepicker-cell-selected]]:text-white group-[:not([data-te-datepicker-cell-selected])[data-te-datepicker-cell-focused]]:bg-neutral-100 group-[[data-te-datepicker-cell-focused]]:data-[te-datepicker-cell-selected]:bg-primary group-[[data-te-datepicker-cell-current]]:border-solid group-[[data-te-datepicker-cell-current]]:border-black group-[[data-te-datepicker-cell-current]]:border dark:group-[:not([data-te-datepicker-cell-disabled]):not([data-te-datepicker-cell-selected]):hover]:bg-white/10 dark:group-[[data-te-datepicker-cell-current]]:border-white dark:text-white dark:group-[:not([data-te-datepicker-cell-selected])[data-te-datepicker-cell-focused]]:bg-white/10 dark:group-[[data-te-datepicker-cell-disabled]]:text-neutral-500",Vve="w-9 h-9 leading-9 rounded-[50%] text-[13px]",zve="w-[72px] h-10 leading-10 py-[1px] px-0.5 rounded-[999px]",Wve="mx-auto w-[304px]",Uve="flex items-center justify-content-center [&>svg]:w-5 [&>svg]:h-5 absolute outline-none border-none bg-transparent right-0.5 top-1/2 -translate-x-1/2 -translate-y-1/2 hover:text-primary focus:text-primary dark:hover:text-primary-400 dark:focus:text-primary-400 dark:text-neutral-200",jve="inline-block pointer-events-none ml-[3px] [&>svg]:w-4 [&>svg]:h-4 [&>svg]:fill-neutral-500 dark:[&>svg]:fill-white",Zve="w-[328px] h-[380px] bg-white rounded-lg shadow-[0px_2px_15px_-3px_rgba(0,0,0,.07),_0px_10px_20px_-2px_rgba(0,0,0,.04)] z-[1066] dark:bg-zinc-700",Kve={title:"Select date",container:"body",disablePast:!1,disableFuture:!1,monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysNarrow:["S","M","T","W","T","F","S"],okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel",okBtnLabel:"Confirm selection",clearBtnLabel:"Clear selection",cancelBtnLabel:"Cancel selection",nextMonthLabel:"Next month",prevMonthLabel:"Previous month",nextYearLabel:"Next year",prevYearLabel:"Previous year",changeMonthIconTemplate:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
  </svg>
  `,nextMultiYearLabel:"Next 24 years",prevMultiYearLabel:"Previous 24 years",switchToMultiYearViewLabel:"Choose year and month",switchToMonthViewLabel:"Choose date",switchToDayViewLabel:"Choose date",startDate:null,startDay:0,format:"dd/mm/yyyy",view:"days",viewChangeIconTemplate:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="0" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
  </svg>
  `,min:null,max:null,filter:null,inline:!1,toggleButton:!0,disableToggleButton:!1,disableInput:!1,animations:!0,confirmDateOnSelect:!1,removeOkBtn:!1,removeCancelBtn:!1,removeClearBtn:!1},qve={title:"string",container:"string",disablePast:"boolean",disableFuture:"boolean",monthsFull:"array",monthsShort:"array",weekdaysFull:"array",weekdaysShort:"array",weekdaysNarrow:"array",okBtnText:"string",clearBtnText:"string",cancelBtnText:"string",okBtnLabel:"string",clearBtnLabel:"string",cancelBtnLabel:"string",nextMonthLabel:"string",prevMonthLabel:"string",nextYearLabel:"string",prevYearLabel:"string",nextMultiYearLabel:"string",prevMultiYearLabel:"string",changeMonthIconTemplate:"string",switchToMultiYearViewLabel:"string",switchToMonthViewLabel:"string",switchToDayViewLabel:"string",startDate:"(null|string|date)",startDay:"number",format:"string",view:"string",viewChangeIconTemplate:"string",min:"(null|string|date)",max:"(null|string|date)",filter:"(null|function)",inline:"boolean",toggleButton:"boolean",disableToggleButton:"boolean",disableInput:"boolean",animations:"boolean",confirmDateOnSelect:"boolean",removeOkBtn:"boolean",removeCancelBtn:"boolean",removeClearBtn:"boolean"},Gve={fadeIn:pve,fadeOut:gve,fadeInShort:bve,fadeOutShort:vve,modalContainer:yve,datepickerBackdrop:_ve,datepickerMain:wve,datepickerHeader:Cve,datepickerTitle:Sve,datepickerTitleText:Eve,datepickerDate:xve,datepickerDateText:Tve,datepickerView:kve,datepickerDateControls:Ave,datepickerViewChangeButton:Ove,datepickerViewChangeIcon:jve,datepickerArrowControls:Dve,datepickerPreviousButton:Nve,datepickerNextButton:Rve,datepickerFooter:Mve,datepickerFooterBtn:$ve,datepickerClearBtn:Pve,datepickerDayHeading:Bve,datepickerCell:Ive,datepickerCellSmall:Lve,datepickerCellLarge:Fve,datepickerCellContent:Hve,datepickerCellContentSmall:Vve,datepickerCellContentLarge:zve,datepickerTable:Wve,datepickerToggleButton:Uve,datepickerDropdownContainer:Zve},Yve={fadeIn:"string",fadeOut:"string",fadeInShort:"string",fadeOutShort:"string",modalContainer:"string",datepickerBackdrop:"string",datepickerMain:"string",datepickerHeader:"string",datepickerTitle:"string",datepickerTitleText:"string",datepickerDate:"string",datepickerDateText:"string",datepickerView:"string",datepickerDateControls:"string",datepickerViewChangeButton:"string",datepickerArrowControls:"string",datepickerPreviousButton:"string",datepickerNextButton:"string",datepickerFooter:"string",datepickerFooterBtn:"string",datepickerClearBtn:"string",datepickerDayHeading:"string",datepickerCell:"string",datepickerCellSmall:"string",datepickerCellLarge:"string",datepickerCellContent:"string",datepickerCellContentSmall:"string",datepickerCellContentLarge:"string",datepickerTable:"string",datepickerToggleButton:"string",datepickerDropdownContainer:"string"};class Xve{constructor(r,l,h){this._element=r,this._input=no.findOne("input",this._element),this._options=this._getConfig(l),this._classes=this._getClasses(h),this._activeDate=new Date,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._headerDate=null,this._headerYear=null,this._headerMonth=null,this._view=this._options.view,this._popper=null,this._focusTrap=null,this._isOpen=!1,this._toggleButtonId=Jie("datepicker-toggle-"),this._animations=!window.matchMedia("(prefers-reduced-motion: reduce)").matches&&this._options.animations,this._scrollBar=new b1e,this._element&&bg.setData(r,sV,this),this._init(),this.toggleButton&&this._options.disableToggle&&(this.toggleButton.disabled="true"),this._options.disableInput&&(this._input.disabled="true")}static get NAME(){return nQ}get container(){return no.findOne(`[${Eae}='${this._toggleButtonId}']`)||no.findOne(`[${xae}='${this._toggleButtonId}']`)}get options(){return this._options}get activeCell(){let r;return this._view==="days"&&(r=this._getActiveDayCell()),this._view==="months"&&(r=this._getActiveMonthCell()),this._view==="years"&&(r=this._getActiveYearCell()),r}get activeDay(){return Bd(this._activeDate)}get activeMonth(){return _c(this._activeDate)}get activeYear(){return Vr(this._activeDate)}get firstYearInView(){return this.activeYear-eV(this._activeDate,hg)}get lastYearInView(){return this.firstYearInView+hg-1}get viewChangeButton(){return no.findOne(rve,this.container)}get previousButton(){return no.findOne(ive,this.container)}get nextButton(){return no.findOne(ave,this.container)}get okButton(){return no.findOne(cve,this.container)}get cancelButton(){return no.findOne(lve,this.container)}get clearButton(){return no.findOne(uve,this.container)}get datesContainer(){return no.findOne(dve,this.container)}get toggleButton(){return no.findOne(fve,this._element)}update(r={}){this._options=this._getConfig({...this._options,...r})}_getConfig(r){const l=Tn.getDataAttributes(this._element);if(r={...Kve,...l,...r},CO(nQ,r,qve),r.max&&typeof r.max=="string"&&(r.max=new Date(r.max)),r.min&&typeof r.min=="string"&&(r.min=new Date(r.min)),r.startDay&&r.startDay!==0){const h=this._getNewDaysOrderArray(r);r.weekdaysNarrow=h}return r}_getClasses(r){const l=Tn.getDataClassAttributes(this._element);return r={...Gve,...l,...r},CO(nQ,r,Yve),r}_getContainer(){return no.findOne(this._options.container)}_getNewDaysOrderArray(r){const l=r.startDay,h=r.weekdaysNarrow;return h.slice(l).concat(h.slice(0,l))}_init(){!this.toggleButton&&this._options.toggleButton&&(this._appendToggleButton(),(this._input.readOnly||this._input.disabled)&&(this.toggleButton.style.pointerEvents="none")),this._listenToUserInput(),this._listenToToggleClick(),this._listenToToggleKeydown()}_appendToggleButton(){const r=X1e(this._toggleButtonId,this._classes.datepickerToggleButton);this._element.insertAdjacentHTML("beforeend",r)}open(){if(this._input.readOnly||this._input.disabled)return;const r=Xt.trigger(this._element,tve);if(this._isOpen||r.defaultPrevented)return;this._setInitialDate();const l=j1e(this._classes.datepickerBackdrop),h=U1e(this._activeDate,this._selectedDate,this._selectedYear,this._selectedMonth,this._options,A8,hg,k8,this._toggleButtonId,this._classes);this._options.inline?this._openDropdown(h):(this._openModal(l,h),this._scrollBar.hide()),this._animations&&(Tn.addClass(this.container,this._classes.fadeIn),Tn.addClass(l,this._classes.fadeInShort)),this._setFocusTrap(this.container),this._listenToDateSelection(),this._addControlsListeners(),this._updateControlsDisabledState(),this._listenToEscapeClick(),this._listenToKeyboardNavigation(),this._listenToDatesContainerFocus(),this._listenToDatesContainerBlur(),this._asyncFocusDatesContainer(),this._updateViewControlsAndAttributes(this._view),this._isOpen=!0,setTimeout(()=>{this._listenToOutsideClick()},0)}_openDropdown(r){this._popper=p1e(this._input,r,{placement:"bottom-start"}),this._getContainer().appendChild(r)}_openModal(r,l){const h=this._getContainer();h.appendChild(r),h.appendChild(l)}_setFocusTrap(r){this._focusTrap=new v1e(r,{event:"keydown",condition:l=>l.key==="Tab"}),this._focusTrap.trap()}_listenToUserInput(){Xt.on(this._input,"input",r=>{this._handleUserInput(r.target.value)})}_listenToToggleClick(){Xt.on(this._element,O8,D8,r=>{r.preventDefault(),this.open()})}_listenToToggleKeydown(){Xt.on(this._element,"keydown",D8,r=>{r.keyCode===T8&&!this._isOpen&&this.open()})}_listenToDateSelection(){Xt.on(this.datesContainer,"click",r=>{this._handleDateSelection(r)})}_handleDateSelection(r){const l=r.target.nodeName==="DIV"?r.target.parentNode.dataset:r.target.dataset,h=r.target.nodeName==="DIV"?r.target.parentNode:r.target;if(l.teDate&&this._pickDay(l.teDate,h),l.teMonth&&l.teYear){const y=parseInt(l.teMonth,10),w=parseInt(l.teYear,10);this._pickMonth(y,w)}if(l.teYear&&!l.teMonth){const y=parseInt(l.teYear,10);this._pickYear(y)}this._options.inline||this._updateHeaderDate(this._activeDate,this._options.monthsShort,this._options.weekdaysShort)}_updateHeaderDate(r,l,h){const y=no.findOne(mve,this.container),w=_c(r),E=Bd(r),A=Q8(r);y.innerHTML=`${h[A]}, ${l[w]} ${E}`}_addControlsListeners(){Xt.on(this.nextButton,"click",()=>{this._view==="days"?this.nextMonth():this._view==="years"?this.nextYears():this.nextYear(),this._updateControlsDisabledState()}),Xt.on(this.previousButton,"click",()=>{this._view==="days"?this.previousMonth():this._view==="years"?this.previousYears():this.previousYear(),this._updateControlsDisabledState()}),Xt.on(this.viewChangeButton,"click",()=>{this._view==="days"?this._changeView("years"):(this._view==="years"||this._view==="months")&&this._changeView("days")}),this._options.inline||this._listenToFooterButtonsClick()}_listenToFooterButtonsClick(){Xt.on(this.okButton,"click",()=>this.handleOk()),Xt.on(this.cancelButton,"click",()=>this.handleCancel()),Xt.on(this.clearButton,"click",()=>this.handleClear())}_listenToOutsideClick(){Xt.on(document,O8,r=>{const l=r.target===this.container,h=this.container&&this.container.contains(r.target);!l&&!h&&this.close()})}_listenToEscapeClick(){Xt.on(document,"keydown",r=>{r.keyCode===J1e&&this._isOpen&&this.close()})}_listenToKeyboardNavigation(){Xt.on(this.datesContainer,"keydown",r=>{this._handleKeydown(r)})}_listenToDatesContainerFocus(){Xt.on(this.datesContainer,"focus",()=>{this._focusActiveCell(this.activeCell)})}_listenToDatesContainerBlur(){Xt.on(this.datesContainer,"blur",()=>{this._removeCurrentFocusStyles()})}_handleKeydown(r){this._view==="days"&&this._handleDaysViewKeydown(r),this._view==="months"&&this._handleMonthsViewKeydown(r),this._view==="years"&&this._handleYearsViewKeydown(r)}_handleDaysViewKeydown(r){const l=this._activeDate,h=this.activeCell;switch(r.keyCode){case KJ:this._activeDate=XA(this._activeDate,Xu()?1:-1);break;case GJ:this._activeDate=XA(this._activeDate,Xu()?-1:1);break;case qJ:this._activeDate=XA(this._activeDate,-7);break;case YJ:this._activeDate=XA(this._activeDate,7);break;case XJ:this._activeDate=XA(this._activeDate,1-Bd(this._activeDate));break;case JJ:this._activeDate=XA(this._activeDate,OQ(this._activeDate)-Bd(this._activeDate));break;case QJ:this._activeDate=Df(this._activeDate,-1);break;case eQ:this._activeDate=Df(this._activeDate,1);break;case T8:case tQ:this._selectDate(this._activeDate),this._handleDateSelection(r),r.preventDefault();return;default:return}x$(l,this._activeDate,this._view,hg,this._options.min,this._options.max)||this._changeView("days"),this._removeHighlightFromCell(h),this._focusActiveCell(this.activeCell),r.preventDefault()}_asyncFocusDatesContainer(){setTimeout(()=>{this.datesContainer.focus()},0)}_focusActiveCell(r){r&&r.setAttribute("data-te-datepicker-cell-focused","")}_removeHighlightFromCell(r){r&&r.removeAttribute("data-te-datepicker-cell-focused")}_getActiveDayCell(){const r=no.find("td",this.datesContainer);return Array.from(r).find(l=>{const h=Sse(l.dataset.teDate);return WE(h,this._activeDate)})}_handleMonthsViewKeydown(r){const l=this._activeDate,h=this.activeCell;switch(r.keyCode){case KJ:this._activeDate=Df(this._activeDate,Xu()?1:-1);break;case GJ:this._activeDate=Df(this._activeDate,Xu()?-1:1);break;case qJ:this._activeDate=Df(this._activeDate,-4);break;case YJ:this._activeDate=Df(this._activeDate,4);break;case XJ:this._activeDate=Df(this._activeDate,-this.activeMonth);break;case JJ:this._activeDate=Df(this._activeDate,11-this.activeMonth);break;case QJ:this._activeDate=Of(this._activeDate,-1);break;case eQ:this._activeDate=Of(this._activeDate,1);break;case T8:case tQ:this._selectMonth(this.activeMonth);return;default:return}x$(l,this._activeDate,this._view,hg,this._options.min,this._options.max)||this._changeView("months"),this._removeHighlightFromCell(h),this._focusActiveCell(this.activeCell),r.preventDefault()}_getActiveMonthCell(){const r=no.find("td",this.datesContainer);return Array.from(r).find(l=>{const h=parseInt(l.dataset.teYear,10),y=parseInt(l.dataset.teMonth,10);return h===this.activeYear&&y===this.activeMonth})}_handleYearsViewKeydown(r){const l=this._activeDate,h=this.activeCell,y=4,w=24;switch(r.keyCode){case KJ:this._activeDate=Of(this._activeDate,Xu()?1:-1);break;case GJ:this._activeDate=Of(this._activeDate,Xu()?-1:1);break;case qJ:this._activeDate=Of(this._activeDate,-y);break;case YJ:this._activeDate=Of(this._activeDate,y);break;case XJ:this._activeDate=Of(this._activeDate,-eV(this._activeDate,w));break;case JJ:this._activeDate=Of(this._activeDate,w-eV(this._activeDate,w)-1);break;case QJ:this._activeDate=Of(this._activeDate,-w);break;case eQ:this._activeDate=Of(this._activeDate,w);break;case T8:case tQ:this._selectYear(this.activeYear);return;default:return}x$(l,this._activeDate,this._view,hg,this._options.min,this._options.max)||this._changeView("years"),this._removeHighlightFromCell(h),this._focusActiveCell(this.activeCell),r.preventDefault()}_getActiveYearCell(){const r=no.find("td",this.datesContainer);return Array.from(r).find(l=>parseInt(l.dataset.teYear,10)===this.activeYear)}_setInitialDate(){this._input.value?this._handleUserInput(this._input.value):this._options.startDate?this._activeDate=new Date(this._options.startDate):this._activeDate=new Date}close(){const r=Xt.trigger(this._element,eve);!this._isOpen||r.defaultPrevented||(this._removeDatepickerListeners(),this._animations&&Tn.addClass(this.container,this._classes.fadeOut),this._options.inline?this._closeDropdown():this._closeModal(),this._isOpen=!1,this._view=this._options.view,this.toggleButton?this.toggleButton.focus():this._input.focus())}_closeDropdown(){const r=no.findOne(sve),l=this._getContainer();window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(r&&l.removeChild(r),this._popper&&this._popper.destroy()),r.addEventListener("animationend",()=>{r&&l.removeChild(r),this._popper&&this._popper.destroy()}),this._removeFocusTrap()}_closeModal(){const r=no.findOne(hve),l=no.findOne(ove);!l||!r||(this._animations?(Tn.addClass(r,this._classes.fadeOutShort),r.addEventListener("animationend",()=>{this._removePicker(r,l),this._scrollBar.reset()})):(this._removePicker(r,l),this._scrollBar.reset()))}_removePicker(r,l){const h=this._getContainer();h.removeChild(r),h.removeChild(l)}_removeFocusTrap(){this._focusTrap&&(this._focusTrap.disable(),this._focusTrap=null)}_removeDatepickerListeners(){Xt.off(this.nextButton,"click"),Xt.off(this.previousButton,"click"),Xt.off(this.viewChangeButton,"click"),Xt.off(this.okButton,"click"),Xt.off(this.cancelButton,"click"),Xt.off(this.clearButton,"click"),Xt.off(this.datesContainer,"click"),Xt.off(this.datesContainer,"keydown"),Xt.off(this.datesContainer,"focus"),Xt.off(this.datesContainer,"blur"),Xt.off(document,O8)}dispose(){this._isOpen&&this.close(),this._removeInputAndToggleListeners();const r=no.findOne(`#${this._toggleButtonId}`);r&&this._element.removeChild(r),bg.removeData(this._element,sV),this._element=null,this._input=null,this._options=null,this._activeDate=null,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._headerDate=null,this._headerYear=null,this._headerMonth=null,this._view=null,this._popper=null,this._focusTrap=null}_removeInputAndToggleListeners(){Xt.off(this._input,"input"),Xt.off(this._element,O8,D8),Xt.off(this._element,"keydown",D8)}handleOk(){this._confirmSelection(this._headerDate),this.close()}_selectDate(r,l=this.activeCell){const{min:h,max:y,filter:w,disablePast:E,disableFuture:A}=this._options;bV(r,h,y,w,E,A)||(this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(l),this._selectedDate=r,this._selectedYear=Vr(r),this._selectedMonth=_c(r),this._headerDate=r,(this._options.inline||this.options.confirmDateOnSelect)&&(this._confirmSelection(r),this.close()))}_selectYear(r,l=this.activeCell){this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(l),this._headerYear=r,this._asyncChangeView("months")}_selectMonth(r,l=this.activeCell){this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(l),this._headerMonth=r,this._asyncChangeView("days")}_removeSelectedStyles(r){r&&r.removeAttribute("data-te-datepicker-cell-selected")}_addSelectedStyles(r){r&&r.setAttribute("data-te-datepicker-cell-selected","")}_confirmSelection(r){if(r){const l=this.formatDate(r);this._input.value=l,Xt.trigger(this._element,nve,{date:r}),Xt.trigger(this._input,"input")}}handleCancel(){this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this.close()}handleClear(){this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null,this._headerDate=null,this._headerMonth=null,this._headerYear=null,this._removeCurrentSelectionStyles(),this._input.value="",this._setInitialDate(),this._changeView("days"),this._updateHeaderDate(this._activeDate,this._options.monthsShort,this._options.weekdaysShort)}_removeCurrentSelectionStyles(){const r=no.findOne("[data-te-datepicker-cell-selected]",this.container);r&&r.removeAttribute("data-te-datepicker-cell-selected")}_removeCurrentFocusStyles(){const r=no.findOne("[data-te-datepicker-cell-focused]",this.container);r&&r.removeAttribute("data-te-datepicker-cell-focused")}formatDate(r){const l=Bd(r),h=this._addLeadingZero(Bd(r)),y=this._options.weekdaysShort[Q8(r)],w=this._options.weekdaysFull[Q8(r)],E=_c(r)+1,A=this._addLeadingZero(_c(r)+1),R=this._options.monthsShort[_c(r)],H=this._options.monthsFull[_c(r)],j=Vr(r).toString().length===2?Vr(r):Vr(r).toString().slice(2,4),Q=Vr(r),le=this._options.format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);let pe="";return le.forEach(me=>{switch(me){case"dddd":me=me.replace(me,w);break;case"ddd":me=me.replace(me,y);break;case"dd":me=me.replace(me,h);break;case"d":me=me.replace(me,l);break;case"mmmm":me=me.replace(me,H);break;case"mmm":me=me.replace(me,R);break;case"mm":me=me.replace(me,A);break;case"m":me=me.replace(me,E);break;case"yyyy":me=me.replace(me,Q);break;case"yy":me=me.replace(me,j);break}pe+=me}),pe}_addLeadingZero(r){return parseInt(r,10)<10?`0${r}`:r}_pickDay(r,l){const h=Sse(r),{min:y,max:w,filter:E,disablePast:A,disableFuture:R}=this._options;bV(h,y,w,E,A,R)||(this._activeDate=h,this._selectDate(h,l))}_pickYear(r){const{min:l,max:h,disablePast:y,disableFuture:w}=this._options;if(DQ(r,l,h,y,w))return;const E=p1(r,this.activeMonth,this.activeDay);this._activeDate=E,this._selectedDate=E,this._selectYear(r)}_pickMonth(r,l){const{min:h,max:y,disablePast:w,disableFuture:E}=this._options;if(Sae(r,l,h,y,w,E)||DQ(l,h,y,w,E))return;const A=p1(l,r,this.activeDay);this._activeDate=A,this._selectMonth(r)}nextMonth(){const r=Df(this._activeDate,1),l=tV(r,this._headerDate,this._options,this._classes);this._activeDate=r,this.viewChangeButton.textContent=`${this._options.monthsFull[this.activeMonth]} ${this.activeYear}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes),this.datesContainer.innerHTML=l}previousMonth(){const r=Df(this._activeDate,-1);this._activeDate=r;const l=tV(r,this._headerDate,this._options,this._classes);this.viewChangeButton.textContent=`${this._options.monthsFull[this.activeMonth]} ${this.activeYear}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes),this.datesContainer.innerHTML=l}nextYear(){const r=Of(this._activeDate,1);this._activeDate=r,this.viewChangeButton.textContent=`${this.activeYear}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes);const l=nV(this.activeYear,this._selectedYear,this._selectedMonth,this._options,A8,this._classes);this.datesContainer.innerHTML=l}previousYear(){const r=Of(this._activeDate,-1);this._activeDate=r,this.viewChangeButton.textContent=`${this.activeYear}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes);const l=nV(this.activeYear,this._selectedYear,this._selectedMonth,this._options,A8,this._classes);this.datesContainer.innerHTML=l}nextYears(){const r=Of(this._activeDate,24);this._activeDate=r;const l=oV(r,this._selectedYear,this._options,hg,k8,this._classes);this.viewChangeButton.textContent=`${this.firstYearInView} - ${this.lastYearInView}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes),this.datesContainer.innerHTML=l}previousYears(){const r=Of(this._activeDate,-24);this._activeDate=r;const l=oV(r,this._selectedYear,this._options,hg,k8,this._classes);this.viewChangeButton.textContent=`${this.firstYearInView} - ${this.lastYearInView}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes),this.datesContainer.innerHTML=l}_asyncChangeView(r){setTimeout(()=>{this._changeView(r)},0)}_changeView(r){this._view=r,this.datesContainer.blur(),r==="days"&&(this.datesContainer.innerHTML=tV(this._activeDate,this._headerDate,this._options,this._classes)),r==="months"&&(this.datesContainer.innerHTML=nV(this.activeYear,this._selectedYear,this._selectedMonth,this._options,A8,this._classes)),r==="years"&&(this.datesContainer.innerHTML=oV(this._activeDate,this._selectedYear,this._options,hg,k8,this._classes)),this.datesContainer.focus(),this._updateViewControlsAndAttributes(r),this._updateControlsDisabledState()}_updateViewControlsAndAttributes(r){r==="days"&&(this.viewChangeButton.textContent=`${this._options.monthsFull[this.activeMonth]} ${this.activeYear}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMultiYearViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMonthLabel),this.nextButton.setAttribute("aria-label",this._options.nextMonthLabel)),r==="months"&&(this.viewChangeButton.textContent=`${this.activeYear}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes),this.viewChangeButton.setAttribute("aria-label",this._options.switchToDayViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextYearLabel)),r==="years"&&(this.viewChangeButton.textContent=`${this.firstYearInView} - ${this.lastYearInView}`,this.viewChangeButton.innerHTML+=l1(this._options,this._classes),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMonthViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMultiYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextMultiYearLabel))}_updateControlsDisabledState(){R1e(this._options.disableFuture,this._activeDate,this._view,hg,this._options.min,this._options.max,this.lastYearInView,this.firstYearInView)?this.nextButton.disabled=!0:this.nextButton.disabled=!1,M1e(this._options.disablePast,this._activeDate,this._view,hg,this._options.min,this._options.max,this.lastYearInView,this.firstYearInView)?this.previousButton.disabled=!0:this.previousButton.disabled=!1}_handleUserInput(r){const l=this._getDelimeters(this._options.format),h=this._parseDate(r,this._options.format,l);O1e(h)?(this._activeDate=h,this._selectedDate=h,this._selectedYear=Vr(h),this._selectedMonth=_c(h),this._headerDate=h):(this._activeDate=new Date,this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null,this._headerDate=null,this._headerMonth=null,this._headerYear=null)}_getDelimeters(r){return r.match(/[^(dmy)]{1,}/g)}_parseDate(r,l,h){let y;h[0]!==h[1]?y=h[0]+h[1]:y=h[0];const w=new RegExp(`[${y}]`),E=r.split(w),A=l.split(w),R=l.indexOf("mmm")!==-1,H=[];for(let me=0;me<A.length;me++)A[me].indexOf("yy")!==-1&&(H[0]={value:E[me],format:A[me]}),A[me].indexOf("m")!==-1&&(H[1]={value:E[me],format:A[me]}),A[me].indexOf("d")!==-1&&A[me].length<=2&&(H[2]={value:E[me],format:A[me]});let j;l.indexOf("mmmm")!==-1?j=this._options.monthsFull:j=this._options.monthsShort;const Q=Number(H[0].value),le=R?this.getMonthNumberByMonthName(H[1].value,j):Number(H[1].value)-1,pe=Number(H[2].value);return p1(Q,le,pe)}getMonthNumberByMonthName(r,l){return l.findIndex(h=>h===r)}static getInstance(r){return bg.getData(r,sV)}static getOrCreateInstance(r,l={}){return this.getInstance(r)||new this(r,typeof l=="object"?l:null)}}Xu();Xu();Jie("chips-input-");const Y_={plugins:{legend:{labels:{color:"rgb(102,102,102)"}}}},Jve={line:{options:{...Y_,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.0)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bar:{options:{...Y_,backgroundColor:"rgb(59, 112, 202)",borderWidth:0,responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!0,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},pie:{options:{...Y_,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},doughnut:{options:{...Y_,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},polarArea:{options:{...Y_,elements:{arc:{backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0}}},radar:{options:{...Y_,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},scatter:{options:{...Y_,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bubble:{options:{...Y_,elements:{point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},scales:{x:{grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}}};var QV=function(i){this.element=i,this.handlers={}},Tae={isEmpty:{configurable:!0}};QV.prototype.bind=function(i,r){typeof this.handlers[i]>"u"&&(this.handlers[i]=[]),this.handlers[i].push(r),this.element.addEventListener(i,r,!1)};QV.prototype.unbind=function(i,r){var l=this;this.handlers[i]=this.handlers[i].filter(function(h){return r&&h!==r?!0:(l.element.removeEventListener(i,h,!1),!1)})};QV.prototype.unbindAll=function(){for(var i in this.handlers)this.unbind(i)};Tae.isEmpty.get=function(){var i=this;return Object.keys(this.handlers).every(function(r){return i.handlers[r].length===0})};Object.defineProperties(QV.prototype,Tae);typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),typeof navigator<"u"&&navigator.msMaxTouchPoints,typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent);const oQ="lightbox",b$="te.lightbox",Qve=`.${b$}`,e0e=".data-api",JA=`click${Qve}${e0e}`,kae="[data-te-lightbox-init]",t0e=`${kae} img:not([data-te-lightbox-disabled])`,Ase="data-te-lightbox-caption",n0e="data-te-lightbox-disabled",c1="data-te-lightbox-active",o0e=`<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-4 h-4">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75" />
</svg>
`,s0e=`<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-4 h-4">
  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75" />
</svg>
`,r0e=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-4 h-4">
  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
</svg>
`,i0e=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-4 h-4">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25" />
</svg>
`,a0e=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-4 h-4">
  <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM10.5 7.5v6m3-3h-6" />
</svg>
`,c0e=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-4 h-4">
<path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6" />
</svg>
`,l0e=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-4 h-4">
  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
</svg>
`,u0e={container:"string",zoomLevel:"(number|string)",prevIconTemplate:"string",nextIconTemplate:"string",showFullscreenIconTemplate:"string",hideFullscreenIconTemplate:"string",zoomInIconTemplate:"string",closeIconTemplate:"string",zoomOutIconTemplate:"string",spinnerContent:"string"},d0e={container:"body",zoomLevel:1,prevIconTemplate:o0e,nextIconTemplate:s0e,showFullscreenIconTemplate:r0e,hideFullscreenIconTemplate:i0e,zoomInIconTemplate:a0e,zoomOutIconTemplate:c0e,closeIconTemplate:l0e,spinnerContent:"Loading..."},f0e={caption:"text-white text-ellipsis overflow-hidden whitespace-nowrap mx-[10px] text-center",captionWrapper:"fixed left-0 bottom-0 w-full h-[50px] flex justify-center items-center",closeBtn:"border-none bg-transparent w-[50px] h-[50px] px-4 text-[#b3b3b3] transition-colors duration-200 ease-in-out hover:text-white focus:text-white motion-reduce:transition-none outline-none",fullscreenBtn:"border-none bg-transparent w-[50px] h-[50px] px-4 text-[#b3b3b3] transition-colors duration-200 ease-in-out hover:text-white focus:text-white motion-reduce:transition-none outline-none",gallery:"invisible fixed left-0 top-0 w-full h-full z-[1100] pointer-events-none opacity-0 bg-[#000000e6] transition-all duration-[400ms] motion-reduce:transition-none",galleryContent:"fixed top-[50px] left-[50px] w-[calc(100%-100px)] h-[calc(100%-100px)]",galleryCounter:"flex justify-center items-center px-[10px] mb-0 h-full text-[#b3b3b3]",img:"absolute left-0 top-0 w-full max-h-full h-auto cursor-pointer pointer-events-auto",imgWrapper:"absolute top-0 left-0 w-full h-full opacity-0 transform scale-[0.25] transition-all duration-[400ms] ease-out pointer-events-none motion-reduce:transition-none motion-reduce:transform-none",leftTools:"float-left h-full",loader:"fixed left-0 top-0 z-[2] w-full h-full text-neutral-50 opacity-1 flex justify-center items-center pointer-events-none transition-opacity duration-[1000ms] motion-reduce:transition-none",nextBtn:"border-none bg-transparent w-full h-[50px] flex justify-center items-center text-[#b3b3b3] transition-colors duration-200 ease-in-out hover:text-white focus:text-white motion-reduce:transition-none outline-none",nextBtnWrapper:"fixed right-0 top-0 w-[50px] h-full flex justify-center items-center transition-opacity duration-[400ms] motion-reduce:transition-none",prevBtn:"border-none bg-transparent w-full h-[50px] flex justify-center items-center text-[#b3b3b3] transition-colors duration-200 ease-in-out hover:text-white focus:text-white motion-reduce:transition-none outline-none",prevBtnWrapper:"fixed left-0 top-0 w-[50px] h-full flex justify-center items-center transition-opacity duration-[400ms] motion-reduce:transition-none",rightTools:"float-right",spinner:"inline-block h-8 w-8 animate-[spinner-grow_0.75s_linear_infinite] rounded-full bg-current align-[-0.125em] motion-reduce:animate-[spinner-grow_1.5s_linear_infinite]",spinnerContent:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",toolbar:"absolute top-0 left-0 w-full h-[50px] z-20 transition-opacity duration-[400ms] motion-reduce:transition-none",vertical:"h-full max-h-full w-auto",zoomBtn:"border-none bg-transparent w-[50px] h-[50px] px-4 text-[#b3b3b3] transition-colors duration-200 ease-in-out hover:text-white focus:text-white motion-reduce:transition-none outline-none"},m0e={caption:"string",captionWrapper:"string",closeBtn:"string",fullscreenBtn:"string",gallery:"string",galleryContent:"string",galleryCounter:"string",img:"string",imgWrapper:"string",leftTools:"string",loader:"string",nextBtn:"string",nextBtnWrapper:"string",prevBtn:"string",prevBtnWrapper:"string",rightTools:"string",spinner:"string",spinnerContent:"string",toolbar:"string",vertical:"string",zoomBtn:"string"};class T${constructor(r,l={},h){this._element=r,this._options=l,this._classes=this._getClasses(h),this._getContainer(),this._id=`lightbox-${Math.random().toString(36).substr(2,9)}`,this._activeImg=0,this._images=[],this._zoom=1,this._gallery=null,this._galleryToolbar=null,this._galleryContent=null,this._loader=null,this._imgCounter=null,this._animating=!1,this._fullscreen=!1,this._zoomBtn=null,this._fullscreenBtn=null,this._toolsToggleTimer=0,this._mousedown=!1,this._mousedownPositionX=0,this._mousedownPositionY=0,this._originalPositionX=0,this._originalPositionY=0,this._positionX=0,this._positionY=0,this._zoomTimer=0,this._tapCounter=0,this._tapTime=0,this._rightArrow=null,this._leftArrowWrapper=null,this._rightArrowWrapper=null,this._initiated=!1,this._multitouch=!1,this._touchZoomPosition=[],this._element&&(bg.setData(r,b$,this),this.init())}static get NAME(){return oQ}get activeImg(){return this._activeImg}get currentImg(){return no.findOne(`[${c1}]`,this._galleryContent)}get options(){const r={...d0e,...Tn.getDataAttributes(this._element),...this._options};return CO(oQ,r,u0e),r}init(){this._initiated||(this._appendTemplate(),this._initiated=!0)}open(r=0){this._getImages(),this._setActiveImg(r),this._sortImages(),this._triggerEvents("open","opened"),this._loadImages().then(l=>{this._resizeImages(l),this._toggleTemplate(),this._addEvents(),this._focusFullscreenBtn()})}close(){this.reset(),this._removeEvents(),this._toggleTemplate(),this._triggerEvents("close","closed")}slide(r="right"){this._animating===!0||this._images.length<=1||(this._triggerEvents("slide","slided"),this._beforeSlideEvents(),r==="right"&&this._slideHorizontally(r),r==="left"&&this._slideHorizontally(r),r==="first"&&this._slideToTarget(r),r==="last"&&this._slideToTarget(r),this._afterSlideEvents())}zoomIn(){this._zoom>=3||(this._triggerEvents("zoomIn","zoomedIn"),this._zoom+=parseFloat(this.options.zoomLevel),Tn.style(this.currentImg.parentNode,{transform:`scale(${this._zoom})`}),this._updateZoomBtn())}zoomOut(){this._zoom<=1||(this._triggerEvents("zoomOut","zoomedOut"),this._zoom-=parseFloat(this.options.zoomLevel),Tn.style(this.currentImg.parentNode,{transform:`scale(${this._zoom})`}),this._updateZoomBtn(),this._updateImgPosition())}toggleFullscreen(){this._fullscreen===!1?(this._fullscreenBtn.setAttribute(c1,""),this._fullscreenBtn.innerHTML=this.options.hideFullscreenIconTemplate,this._gallery.requestFullscreen&&this._gallery.requestFullscreen(),this._fullscreen=!0):(this._fullscreenBtn.removeAttribute(c1),document.exitFullscreen&&document.exitFullscreen(),this._fullscreen=!1)}reset(){this._restoreDefaultFullscreen(),this._restoreDefaultPosition(),this._restoreDefaultZoom(),clearTimeout(this._toolsToggleTimer),clearTimeout(this._doubleTapTimer)}dispose(){Xt.off(document,JA,t0e,this.toggle),this._galleryContent&&this._removeEvents(),this._gallery&&this._gallery.remove(),bg.removeData(this._element,b$),this._element=null}_getClasses(r){const l=Tn.getDataClassAttributes(this._element);return r={...f0e,...l,...r},CO(oQ,r,m0e),r}_getImages(){const r=no.find("img",this._element).filter(l=>!l.hasAttribute(n0e));this._images=r}_getContainer(){this._container=no.findOne(this.options.container)}_setActiveImg(r){this._activeImg=typeof r=="number"?r:this._images.indexOf(r.target)}_appendTemplate(){this._gallery=Fi("div"),Tn.addClass(this._gallery,`${this._classes.gallery}`),this._element.dataset.id=this._id,this._gallery.id=this._id,this._appendLoader(),this._appendToolbar(),this._appendContent(),this._appendArrows(),this._appendCaption(),this._container.append(this._gallery)}_appendToolbar(){this._galleryToolbar=Fi("div"),this._imgCounter=Fi("p"),this._fullscreenBtn=Fi("button"),this._zoomBtn=Fi("button");const r=Fi("button"),l=Fi("div"),h=Fi("div");Tn.addClass(this._galleryToolbar,`${this._classes.toolbar}`),Tn.addClass(this._imgCounter,`${this._classes.galleryCounter}`),Tn.addClass(this._fullscreenBtn,`${this._classes.fullscreenBtn}`),Tn.addClass(this._zoomBtn,`${this._classes.zoomInBtn}`),Tn.addClass(this._zoomBtn,this._classes.zoomBtn),Tn.addClass(l,`${this._classes.leftTools}`),Tn.addClass(h,`${this._classes.rightTools}`),Tn.addClass(r,`${this._classes.closeBtn}`),this._fullscreenBtn.innerHTML=this.options.showFullscreenIconTemplate,r.innerHTML=this.options.closeIconTemplate,this._zoomBtn.innerHTML=this.options.zoomInIconTemplate,this._fullscreenBtn.setAttribute("aria-label","Toggle fullscreen"),this._zoomBtn.setAttribute("aria-label","Zoom in"),r.setAttribute("aria-label","Close"),Xt.on(this._fullscreenBtn,JA,()=>this.toggleFullscreen()),Xt.on(this._zoomBtn,JA,()=>this._toggleZoom()),Xt.on(r,JA,()=>this.close()),l.append(this._imgCounter),h.append(this._fullscreenBtn),h.append(this._zoomBtn),h.append(r),this._galleryToolbar.append(l),this._galleryToolbar.append(h),this._gallery.append(this._galleryToolbar)}_appendContent(){this._galleryContent=Fi("div"),Tn.addClass(this._galleryContent,`${this._classes.galleryContent}`),this._gallery.append(this._galleryContent)}_appendLoader(){this._loader=Fi("div");const r=Fi("div"),l=Fi("span");Tn.addClass(this._loader,`${this._classes.loader}`),Tn.addClass(r,`${this._classes.spinner}`),Tn.addClass(l,`${this._classes.spinnerContent}`),r.setAttribute("role","status"),l.innerHTML=this.options.spinnerContent,r.append(l),this._loader.append(r),this._gallery.append(this._loader)}_appendArrows(){this._leftArrowWrapper=Fi("div"),Tn.addClass(this._leftArrowWrapper,`${this._classes.prevBtnWrapper}`);const r=Fi("button");r.setAttribute("aria-label","Previous"),Tn.addClass(r,`${this._classes.prevBtn}`),Xt.on(r,JA,()=>this.slide("left")),this._leftArrowWrapper.append(r),this._rightArrowWrapper=Fi("div"),Tn.addClass(this._rightArrowWrapper,`${this._classes.nextBtnWrapper}`),this._rightArrow=Fi("button"),this._rightArrow.setAttribute("aria-label","Next"),Tn.addClass(this._rightArrow,`${this._classes.nextBtn}`),Xt.on(this._rightArrow,JA,()=>this.slide()),this._rightArrowWrapper.append(this._rightArrow),this._rightArrow.innerHTML=this.options.nextIconTemplate,r.innerHTML=this.options.prevIconTemplate,this._getImages(),!(this._images.length<=1)&&(this._gallery.append(this._leftArrowWrapper),this._gallery.append(this._rightArrowWrapper))}_appendCaption(){const r=Fi("div"),l=Fi("p");l.setAttribute(Ase,""),Tn.addClass(r,`${this._classes.captionWrapper}`),Tn.addClass(l,`${this._classes.caption}`),r.append(l),this._gallery.append(r)}_sortImages(){for(let r=0;r<this._activeImg;r++)this._images.push(this._images.shift())}async _loadImages(){const r=[],l=[];this._galleryContent.innerHTML="";let h=0;return this._images.forEach((y,w)=>{r.push(new Promise(E=>{const A=new Image,R=Fi("div");Tn.addClass(R,`${this._classes.imgWrapper}`),Tn.addClass(A,`${this._classes.img}`),this._addImgStyles(A,R,h,w,y),R.append(A),this._galleryContent.append(R),A.onload=E,A.src=y.dataset.teImg||y.src,l.push(A),h+=100}))}),await Promise.all(r),l}_addImgStyles(r,l,h,y,w){r.alt=w.alt,r.draggable=!1,Tn.style(l,{position:"absolute",left:`${h}%`,top:0}),(w.dataset.teCaption||w.dataset.teCaption==="")&&(r.dataset.caption=w.dataset.teCaption),h===0?(w.width<w.height&&Tn.addClass(r,`${this._classes.vertical}`),Tn.style(l,{opacity:1}),r.setAttribute(c1,"")):r.removeAttribute(c1),y===this._images.length-1&&this._images.length>1&&Tn.style(l,{left:"-100%"})}_resizeImages(r){r.forEach(l=>{this._calculateImgSize(l)})}_calculateImgSize(r){r.width>=r.height?(r.style.width="100%",r.style.maxWidth="100%",r.style.height="auto",r.style.top=`${(r.parentNode.offsetHeight-r.height)/2}px`,r.style.left=0):(r.style.height="100%",r.style.maxHeight="100%",r.style.width="auto",r.style.left=`${(r.parentNode.offsetWidth-r.width)/2}px`,r.style.top=0),r.width>=r.parentNode.offsetWidth&&(r.style.width=`${r.parentNode.offsetWidth}px`,r.style.height="auto",r.style.left=0,r.style.top=`${(r.parentNode.offsetHeight-r.height)/2}px`),r.height>=r.parentNode.offsetHeight&&(r.style.height=`${r.parentNode.offsetHeight}px`,r.style.width="auto",r.style.top=0,r.style.left=`${(r.parentNode.offsetWidth-r.width)/2}px`),this._positionX=parseFloat(r.style.left)||0,this._positionY=parseFloat(r.style.top)||0}_onResize(){this._images=no.find("img",this._galleryContent),this._images.forEach(r=>{this._calculateImgSize(r)})}_onFullscreenChange(){(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)===void 0&&(this._fullscreen=!1,this._fullscreenBtn.innerHTML=this.options.showFullscreenIconTemplate,this._fullscreenBtn.removeAttribute(c1))}_beforeSlideEvents(){this._animationStart(),this._restoreDefaultZoom(),this._restoreDefaultPosition(),this._resetDoubleTap()}_slideHorizontally(r){this._images=no.find("img",this._galleryContent),this._images.forEach(l=>{let h;r==="right"?(h=parseInt(l.parentNode.style.left,10)-100,h<-100&&(h=(this._images.length-2)*100)):(h=parseInt(l.parentNode.style.left,10)+100,h===(this._images.length-1)*100&&(h=-100)),this._slideImg(l,h)}),this._updateActiveImg(r)}_slideImg(r,l){l===0?(r.setAttribute(c1,""),Tn.style(r.parentNode,{opacity:1,transform:"scale(1)"})):(r.removeAttribute(c1),Tn.style(r.parentNode,{opacity:0,transform:"scale(0.25)"})),r.parentNode.style.left=`${l}%`}_slideToTarget(r){r==="first"&&this._activeImg===0||r==="last"&&this._activeImg===this._images.length-1||(this.reset(),this._removeEvents(),this._showLoader(),this._getImages(),this._activeImg=r==="first"?0:this._images.length-1,this._sortImages(),Tn.style(this.currentImg.parentNode,{transform:"scale(0.25)",opacity:0}),setTimeout(()=>{this._loadImages().then(l=>{this._resizeImages(l),this._addEvents(),this._updateCaption(),this._hideLoader(),setTimeout(()=>{Tn.style(this.currentImg.parentNode,{transform:"scale(1)",opacity:1})},10)})},400))}_updateActiveImg(r){r==="right"&&(this._activeImg===this._images.length-1?this._activeImg=0:this._activeImg++),r==="left"&&(this._activeImg===0?this._activeImg=this._images.length-1:this._activeImg--)}_afterSlideEvents(){this._updateCounter(),this._updateCaption()}_updateCounter(){this._images.length<=1||setTimeout(()=>{this._imgCounter.innerHTML=`${this._activeImg+1} / ${this._images.length}`},200)}_updateCaption(){setTimeout(()=>{let r=this.currentImg.alt;(this.currentImg.dataset.caption||this.currentImg.dataset.caption==="")&&(r=this.currentImg.dataset.caption),no.findOne(`[${Ase}]`,this._gallery).innerHTML=r},200)}_toggleTemplate(){this._gallery.style.visibility==="visible"?(Tn.style(this.currentImg.parentNode,{transform:"scale(0.25)"}),setTimeout(()=>{this._hideGallery(),this._enableScroll(),this._showLoader()},100)):(this._showGallery(),this._disableScroll(),this._updateCounter(),this._updateCaption(),this._setToolsToggleTimout(),this._hideLoader())}_showLoader(){Tn.style(this._loader,{opacity:1})}_hideLoader(){Tn.style(this._loader,{opacity:0})}_hideGallery(){Tn.style(this._gallery,{opacity:0,pointerEvents:"none",visibility:"hidden"})}_showGallery(){Tn.style(this._gallery,{opacity:1,pointerEvents:"initial",visibility:"visible"}),setTimeout(()=>{Tn.style(this.currentImg.parentNode,{transform:"scale(1)"})},50)}_toggleZoom(){this._zoom!==1?this.zoomOut():this.zoomIn()}_updateZoomBtn(){this._zoom>1?(this._zoomBtn.setAttribute(c1,""),this._zoomBtn.setAttribute("aria-label","Zoom out"),this._zoomBtn.innerHTML=this.options.zoomOutIconTemplate):(this._zoomBtn.removeAttribute(c1),this._zoomBtn.setAttribute("aria-label","Zoom in"),this._zoomBtn.innerHTML=this.options.zoomInIconTemplate)}_updateImgPosition(){this._zoom===1&&this._restoreDefaultPosition()}_addEvents(){const r=no.find("img",this._galleryContent);this._onWindowTouchmove=this._onWindowTouchmove.bind(this),this._onWindowTouchstart=this._onWindowTouchstart.bind(this),this._onImgMousedown=this._onMousedown.bind(this),this._onImgMousemove=this._onMousemove.bind(this),this._onImgWheel=this._onZoom.bind(this),this._onImgMouseup=this._onMouseup.bind(this),this._onImgTouchend=this._onTouchend.bind(this),this._onImgDoubleClick=this._onDoubleClick.bind(this),this._onWindowResize=this._onResize.bind(this),this._onWindowFullscreenChange=this._onFullscreenChange.bind(this),this._onAnyImgAction=this._resetToolsToggler.bind(this),this._onGalleryClick=this._onBackdropClick.bind(this),this._onKeyupEvent=this._onKeyup.bind(this),this._onRightArrowKeydownEvent=this._onRightArrowKeydown.bind(this),this._onFullscreenBtnKeydownEvent=this._onFullscreenBtnKeydown.bind(this),r.forEach(l=>{Xt.on(l,"mousedown",this._onImgMousedown,{passive:!0}),Xt.on(l,"touchstart",this._onImgMousedown,{passive:!0}),Xt.on(l,"mousemove",this._onImgMousemove,{passive:!0}),Xt.on(l,"touchmove",this._onImgMousemove,{passive:!0}),Xt.on(l,"wheel",this._onImgWheel,{passive:!0}),Xt.on(l,"dblclick",this._onImgDoubleClick,{passive:!0})}),document.addEventListener("touchmove",this._onWindowTouchmove,{passive:!1}),Xt.on(window,"touchstart",this._onWindowTouchstart),Xt.on(window,"mouseup",this._onImgMouseup),Xt.on(window,"touchend",this._onImgTouchend),Xt.on(window,"resize",this._onWindowResize),Xt.on(window,"orientationchange",this._onWindowResize),Xt.on(window,"keyup",this._onKeyupEvent),Xt.on(window,"fullscreenchange",this._onWindowFullscreenChange),Xt.on(this._gallery,"mousemove",this._onAnyImgAction),Xt.on(this._gallery,"click",this._onGalleryClick),Xt.on(this._rightArrow,"keydown",this._onRightArrowKeydownEvent),Xt.on(this._fullscreenBtn,"keydown",this._onFullscreenBtnKeydownEvent)}_removeEvents(){no.find("img",this._galleryContent).forEach(r=>{Xt.off(r,"mousedown",this._onImgMousedown),Xt.off(r,"touchstart",this._onImgMousedown),Xt.off(r,"mousemove",this._onImgMousemove),Xt.off(r,"touchmove",this._onImgMousemove),Xt.off(r,"wheel",this._onImgWheel),Xt.off(r,"dblclick",this._onImgDoubleClick)}),document.removeEventListener("touchmove",this._onWindowTouchmove,{passive:!1}),Xt.off(window,"touchstart",this._onWindowTouchstart),Xt.off(window,"mouseup",this._onImgMouseup),Xt.off(window,"touchend",this._onImgTouchend),Xt.off(window,"resize",this._onWindowResize),Xt.off(window,"orientationchange",this._onWindowResize),Xt.off(window,"keyup",this._onKeyupEvent),Xt.off(window,"fullscreenchange",this._onWindowFullscreenChange),Xt.off(this._gallery,"mousemove",this._onAnyImgAction),Xt.off(this._gallery,"click",this._onGalleryClick),Xt.off(this._rightArrow,"keydown",this._onRightArrowKeydownEvent),Xt.off(this._fullscreenBtn,"keydown",this._onFullscreenBtnKeydownEvent)}_onMousedown(r){const l=r.touches,h=l?l[0].clientX:r.clientX,y=l?l[0].clientY:r.clientY;this._originalPositionX=parseFloat(this.currentImg.style.left)||0,this._originalPositionY=parseFloat(this.currentImg.style.top)||0,this._positionX=this._originalPositionX,this._positionY=this._originalPositionY,this._mousedownPositionX=h*(1/this._zoom)-this._positionX,this._mousedownPositionY=y*(1/this._zoom)-this._positionY,this._mousedown=!0,r.type==="touchstart"&&r.touches.length>1&&(this._multitouch=!0,this._touchZoomPosition=r.touches)}_onMousemove(r){if(!this._mousedown)return;const l=r.touches,h=l?l[0].clientX:r.clientX,y=l?l[0].clientY:r.clientY;if(l&&this._resetToolsToggler(),!this._multitouch)if(this._zoom!==1)this._positionX=h*(1/this._zoom)-this._mousedownPositionX,this._positionY=y*(1/this._zoom)-this._mousedownPositionY,Tn.style(this.currentImg,{left:`${this._positionX}px`,top:`${this._positionY}px`});else{if(this._images.length<=1)return;this._positionX=h*(1/this._zoom)-this._mousedownPositionX,Tn.style(this.currentImg,{left:`${this._positionX}px`})}}_onMouseup(r){this._mousedown=!1,this._moveImg(r.target)}_onTouchend(r){this._mousedown=!1,this._multitouch?r.targetTouches.length===0&&(this._multitouch=!1,this._touchZoomPosition=[]):this._multitouch||(this._checkDoubleTap(r),this._moveImg(r.target))}_calculateTouchZoom(r){const l=Math.hypot(this._touchZoomPosition[1].pageX-this._touchZoomPosition[0].pageX,this._touchZoomPosition[1].pageY-this._touchZoomPosition[0].pageY),h=Math.hypot(r.touches[1].pageX-r.touches[0].pageX,r.touches[1].pageY-r.touches[0].pageY),y=Math.abs(l-h),w=r.view.screen.width;y>w*.03&&(l<=h?this.zoomIn():this.zoomOut(),this._touchZoomPosition=r.touches)}_onWindowTouchstart(r){r.touches.length>1&&(this._multitouch=!0,this._touchZoomPosition=r.touches)}_onWindowTouchmove(r){r.preventDefault(),r.type==="touchmove"&&r.targetTouches.length>1&&this._calculateTouchZoom(r)}_onRightArrowKeydown(r){switch(r.keyCode){case 9:if(r.shiftKey)break;r.preventDefault(),this._focusFullscreenBtn();break}}_onFullscreenBtnKeydown(r){switch(r.keyCode){case 9:if(!r.shiftKey)break;r.preventDefault(),this._focusRightArrow();break}}_onKeyup(r){switch(this._resetToolsToggler(),r.keyCode){case 39:this.slide();break;case 37:this.slide("left");break;case 27:this.close();break;case 36:this.slide("first");break;case 35:this.slide("last");break;case 38:this.zoomIn();break;case 40:this.zoomOut();break}}_focusFullscreenBtn(){setTimeout(()=>{this._fullscreenBtn.focus()},100)}_focusRightArrow(){this._rightArrow.focus()}_moveImg(r){if(this._multitouch||this._zoom!==1||r!==this.currentImg||this._images.length<=1)return;const l=this._positionX-this._originalPositionX;l>0?this.slide("left"):l<0&&this.slide()}_checkDoubleTap(r){clearTimeout(this._doubleTapTimer);const l=new Date().getTime()-this._tapTime;this._tapCounter>0&&l<500?(this._onDoubleClick(r),this._doubleTapTimer=setTimeout(()=>{this._tapTime=new Date().getTime(),this._tapCounter=0},300)):(this._tapCounter++,this._tapTime=new Date().getTime())}_resetDoubleTap(){this._tapTime=0,this._tapCounter=0,clearTimeout(this._doubleTapTimer)}_onDoubleClick(r){this._multitouch||(r.touches||this._setNewPositionOnZoomIn(r),this._zoom!==1?this._restoreDefaultZoom():this.zoomIn())}_onZoom(r){if(r.deltaY>0)this.zoomOut();else{if(this._zoom>=3)return;this._setNewPositionOnZoomIn(r),this.zoomIn()}}_onBackdropClick(r){this._resetToolsToggler(),r.target.tagName==="DIV"&&this.close()}_setNewPositionOnZoomIn(r){clearTimeout(this._zoomTimer),this._positionX=window.innerWidth/2-r.offsetX-50,this._positionY=window.innerHeight/2-r.offsetY-50,this.currentImg.style.transition="all 0.5s ease-out",this.currentImg.style.left=`${this._positionX}px`,this.currentImg.style.top=`${this._positionY}px`,this._zoomTimer=setTimeout(()=>{this.currentImg.style.transition="none"},500)}_resetToolsToggler(){this._showTools(),clearTimeout(this._toolsToggleTimer),this._setToolsToggleTimout()}_setToolsToggleTimout(){this._toolsToggleTimer=setTimeout(()=>{this._hideTools(),clearTimeout(this._toolsToggleTimer)},4e3)}_hideTools(){Tn.style(this._galleryToolbar,{opacity:0}),Tn.style(this._leftArrowWrapper,{opacity:0}),Tn.style(this._rightArrowWrapper,{opacity:0})}_showTools(){Tn.style(this._galleryToolbar,{opacity:1}),Tn.style(this._leftArrowWrapper,{opacity:1}),Tn.style(this._rightArrowWrapper,{opacity:1})}_disableScroll(){Tn.addClass(document.body,"overflow-y-hidden relative"),document.documentElement.scrollHeight>document.documentElement.clientHeight&&Tn.addClass(document.body,"md:pr-[17px]")}_enableScroll(){setTimeout(()=>{Tn.removeClass(document.body,"overflow-y-hidden relative"),Tn.removeClass(document.body,"md:pr-[17px]")},300)}_animationStart(){this._animating=!0,setTimeout(()=>{this._animating=!1},400)}_restoreDefaultZoom(){this._zoom!==1&&(this._zoom=1,Tn.style(this.currentImg.parentNode,{transform:`scale(${this._zoom})`}),this._updateZoomBtn(),this._updateImgPosition())}_restoreDefaultFullscreen(){this._fullscreen&&this.toggleFullscreen()}_restoreDefaultPosition(){clearTimeout(this._zoomTimer);const r=this.currentImg;Tn.style(this.currentImg.parentNode,{left:0,top:0}),Tn.style(this.currentImg,{transition:"all 0.5s ease-out",left:0,top:0}),this._calculateImgSize(r),setTimeout(()=>{Tn.style(this.currentImg,{transition:"none"})},500)}async _triggerEvents(r,l){Xt.trigger(this._element,`${r}.te.lightbox`),l&&await setTimeout(()=>{Xt.trigger(this._element,`${l}.te.lightbox`)},505)}static getInstance(r){return bg.getData(r,b$)}static getOrCreateInstance(r,l={}){return this.getInstance(r)||new this(r,typeof l=="object"?l:null)}static toggle(){return function(r){const l=no.closest(r.target,`${kae}`);(T$.getInstance(l)||new T$(l)).open(r)}}static jQueryInterface(r,l){return this.each(function(){let h=bg.getData(this,b$);const y=typeof r=="object"&&r;if(!(!h&&/dispose/.test(r))&&(h||(h=new T$(this,y)),typeof r=="string")){if(typeof h[r]>"u")throw new TypeError(`No method named "${r}"`);h[r](l)}})}}Fi("div");const h0e=i=>{oae(()=>{const r=nae();if(r){const l=i.NAME,h=r.fn[l];r.fn[l]=i.jQueryInterface,r.fn[l].Constructor=i,r.fn[l].noConflict=()=>(r.fn[l]=h,i.jQueryInterface)}})},p0e=(i,r)=>{Xt.on(document,`click.te.${i.NAME}`,r,function(l){l.preventDefault(),i.getOrCreateInstance(this).toggle()})},g0e=(i,r)=>{Xt.on(document,`click.te.${i.NAME}.data-api`,r,function(l){["A","AREA"].includes(this.tagName)&&l.preventDefault(),!Oee(this)&&i.getOrCreateInstance(this).show()})},b0e=(i,r)=>{Xt.on(document,`click.te.${i.NAME}.data-api`,r,function(l){const h=eae(this);if(["A","AREA"].includes(this.tagName)&&l.preventDefault(),Oee(this))return;Xt.one(h,i.EVENT_HIDDEN,()=>{GV(this)&&this.focus()});const y=no.findOne(i.OPEN_SELECTOR);y&&y!==h&&i.getInstance(y).hide(),i.getOrCreateInstance(h).toggle(this)})},v0e=(i,r)=>{Xt.on(document,`click.te.${i.NAME}`,r,l=>{l.preventDefault();const h=l.target.closest(r);i.getOrCreateInstance(h).toggle()})},y0e=(i,r)=>{Xt.on(document,`click.te.${i.NAME}`,r,function(l){const h=eae(this);["A","AREA"].includes(this.tagName)&&l.preventDefault(),Xt.one(h,i.EVENT_SHOW,w=>{w.defaultPrevented||Xt.one(h,i.EVENT_HIDDEN,()=>{GV(this)&&this.focus()})});const y=no.findOne(`[${i.OPEN_SELECTOR}="true"]`);y&&i.getInstance(y).hide(),i.getOrCreateInstance(h).toggle(this)})},_0e=(i,r)=>{Xt.one(document,"mousedown",r,i.autoInitial(new i))},w0e=(i,r)=>{Xt.on(document,`click.te.${i.NAME}.data-api`,r,function(l){(l.target.tagName==="A"||l.delegateTarget&&l.delegateTarget.tagName==="A")&&l.preventDefault();const h=Jge(this);no.find(h).forEach(y=>{i.getOrCreateInstance(y,{toggle:!1}).toggle()})})},C0e=(i,r)=>{[].slice.call(document.querySelectorAll(r)).map(function(l){return new i(l)})},S0e=(i,r)=>{[].slice.call(document.querySelectorAll(r)).map(function(l){return new i(l)})},E0e=(i,r)=>{no.find(r).forEach(l=>{new i(l)}),Xt.on(document,`click.te.${i.NAME}.data-api`,`${r} img:not([data-te-lightbox-disabled])`,i.toggle())},x0e=(i,r)=>{const l=w=>w[0]==="{"&&w[w.length-1]==="}"||w[0]==="["&&w[w.length-1]==="]",h=w=>typeof w!="string"?w:l(w)?JSON.parse(w.replace(/'/g,'"')):w,y=w=>{const E={};return Object.keys(w).forEach(A=>{if(A.match(/dataset.*/)){const R=A.slice(7,8).toLowerCase().concat(A.slice(8));E[R]=h(w[A])}}),E};no.find(r).forEach(w=>{if(Tn.getDataAttribute(w,"chart")!=="bubble"&&Tn.getDataAttribute(w,"chart")!=="scatter"){const E=Tn.getDataAttributes(w),A={data:{datasets:[y(E)]}};return E.chart&&(A.type=E.chart),E.labels&&(A.data.labels=JSON.parse(E.labels.replace(/'/g,'"'))),new i(w,{...A,...Jve[A.type]})}return null})};class T0e{constructor(){this.inits=[]}get initialized(){return this.inits}isInited(r){return this.inits.includes(r)}add(r){this.isInited(r)||this.inits.push(r)}}const NQ=new T0e,v$={alert:{name:"Alert",selector:"[data-te-alert-init]",isToggler:!1},animation:{name:"Animate",selector:"[data-te-animation-init]",isToggler:!1},carousel:{name:"Carousel",selector:"[data-te-carousel-init]",isToggler:!1},chips:{name:"ChipsInput",selector:"[data-te-chips-input-init]",isToggler:!1},chip:{name:"Chip",selector:"[data-te-chip-init]",isToggler:!1,onInit:"init"},datepicker:{name:"Datepicker",selector:"[data-te-datepicker-init]",isToggler:!1},datetimepicker:{name:"Datetimepicker",selector:"[data-te-date-timepicker-init]",isToggler:!1},input:{name:"Input",selector:"[data-te-input-wrapper-init]",isToggler:!1},perfectScrollbar:{name:"PerfectScrollbar",selector:"[data-te-perfect-scrollbar-init]",isToggler:!1},rating:{name:"Rating",selector:"[data-te-rating-init]",isToggler:!1},scrollspy:{name:"ScrollSpy",selector:"[data-te-spy='scroll']",isToggler:!1},select:{name:"Select",selector:"[data-te-select-init]",isToggler:!1},sidenav:{name:"Sidenav",selector:"[data-te-sidenav-init]",isToggler:!1},stepper:{name:"Stepper",selector:"[data-te-stepper-init]",isToggler:!1},timepicker:{name:"Timepicker",selector:"[data-te-timepicker-init]",isToggler:!1},toast:{name:"Toast",selector:"[data-te-toast-init]",isToggler:!1},datatable:{name:"Datatable",selector:"[data-te-datatable-init]"},popconfirm:{name:"Popconfirm",selector:"[data-te-toggle='popconfirm']"},validation:{name:"Validation",selector:"[data-te-validation-init]"},smoothScroll:{name:"SmoothScroll",selector:"a[data-te-smooth-scroll-init]"},lazyLoad:{name:"LazyLoad",selector:"[data-te-lazy-load-init]"},clipboard:{name:"Clipboard",selector:"[data-te-clipboard-init]"},infiniteScroll:{name:"InfiniteScroll",selector:"[data-te-infinite-scroll-init]"},loadingManagement:{name:"LoadingManagement",selector:"[data-te-loading-management-init]"},sticky:{name:"Sticky",selector:"[data-te-sticky-init]"},chart:{name:"Chart",selector:"[data-te-chart]",isToggler:!1,advanced:x0e},button:{name:"Button",selector:"[data-te-toggle='button']",isToggler:!0,callback:v0e},collapse:{name:"Collapse",selector:"[data-te-collapse-init]",isToggler:!0,callback:w0e},dropdown:{name:"Dropdown",selector:"[data-te-dropdown-toggle-ref]",isToggler:!0,callback:p0e},modal:{name:"Modal",selector:"[data-te-toggle='modal']",isToggler:!0,callback:y0e},ripple:{name:"Ripple",selector:"[data-te-ripple-init]",isToggler:!0,callback:_0e},offcanvas:{name:"Offcanvas",selector:"[data-te-offcanvas-toggle]",isToggler:!0,callback:b0e},tab:{name:"Tab",selector:"[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']",isToggler:!0,callback:g0e},tooltip:{name:"Tooltip",selector:"[data-te-toggle='tooltip']",isToggler:!1,callback:C0e},popover:{name:"Popover",selector:"[data-te-toggle='popover']",isToggler:!0,callback:S0e},lightbox:{name:"Lightbox",selector:"[data-te-lightbox-init]",isToggler:!0,callback:E0e},touch:{name:"Touch",selector:"[data-te-touch-init]"}},k0e=i=>v$[i.NAME]||null,A0e=(i,r)=>{if(!i||!r.allowReinits&&NQ.isInited(i.NAME))return;NQ.add(i.NAME);const l=k0e(i),h=(l==null?void 0:l.isToggler)||!1;if(h0e(i),l!=null&&l.advanced){l==null||l.advanced(i,l==null?void 0:l.selector);return}if(h){l==null||l.callback(i,l==null?void 0:l.selector);return}no.find(l==null?void 0:l.selector).forEach(y=>{let w=i.getInstance(y);w||(w=new i(y),l!=null&&l.onInit&&w[l.onInit]())})},O0e=(i,r)=>{i.forEach(l=>A0e(l,r))},D0e={allowReinits:!1,checkOtherImports:!1},N0e=(i,r={})=>{r={...D0e,...r};const l=Object.keys(v$).map(h=>{if(document.querySelector(v$[h].selector)){const y=i[v$[h].name];return!y&&!NQ.isInited(h)&&r.checkOtherImports&&console.warn(`Please import ${v$[h].name} from "tw-elements" package and add it to a object parameter inside "initTE" function`),y}});O0e(l,r)};function If(i,r){const l=Object.create(null),h=i.split(",");for(let y=0;y<h.length;y++)l[h[y]]=!0;return r?y=>!!l[y.toLowerCase()]:y=>!!l[y]}const R0e="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",M0e=If(R0e);function iP(i){if(Jn(i)){const r={};for(let l=0;l<i.length;l++){const h=i[l],y=ps(h)?Aae(h):iP(h);if(y)for(const w in y)r[w]=y[w]}return r}else{if(ps(i))return i;if(fi(i))return i}}const $0e=/;(?![^(]*\))/g,P0e=/:([^]+)/,B0e=/\/\*.*?\*\//gs;function Aae(i){const r={};return i.replace(B0e,"").split($0e).forEach(l=>{if(l){const h=l.split(P0e);h.length>1&&(r[h[0].trim()]=h[1].trim())}}),r}function aP(i){let r="";if(ps(i))r=i;else if(Jn(i))for(let l=0;l<i.length;l++){const h=aP(i[l]);h&&(r+=h+" ")}else if(fi(i))for(const l in i)i[l]&&(r+=l+" ");return r.trim()}function I0e(i){if(!i)return null;let{class:r,style:l}=i;return r&&!ps(r)&&(i.class=aP(r)),l&&(i.style=iP(l)),i}const L0e="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",F0e="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",H0e="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",V0e=If(L0e),z0e=If(F0e),W0e=If(H0e),U0e="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",j0e=If(U0e);function Oae(i){return!!i||i===""}function Z0e(i,r){if(i.length!==r.length)return!1;let l=!0;for(let h=0;l&&h<i.length;h++)l=cw(i[h],r[h]);return l}function cw(i,r){if(i===r)return!0;let l=Ose(i),h=Ose(r);if(l||h)return l&&h?i.getTime()===r.getTime():!1;if(l=lw(i),h=lw(r),l||h)return i===r;if(l=Jn(i),h=Jn(r),l||h)return l&&h?Z0e(i,r):!1;if(l=fi(i),h=fi(r),l||h){if(!l||!h)return!1;const y=Object.keys(i).length,w=Object.keys(r).length;if(y!==w)return!1;for(const E in i){const A=i.hasOwnProperty(E),R=r.hasOwnProperty(E);if(A&&!R||!A&&R||!cw(i[E],r[E]))return!1}}return String(i)===String(r)}function ez(i,r){return i.findIndex(l=>cw(l,r))}const Bee=i=>ps(i)?i:i==null?"":Jn(i)||fi(i)&&(i.toString===Nae||!rs(i.toString))?JSON.stringify(i,Dae,2):String(i),Dae=(i,r)=>r&&r.__v_isRef?Dae(i,r.value):lO(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((l,[h,y])=>(l[`${h} =>`]=y,l),{})}:g2(r)?{[`Set(${r.size})`]:[...r.values()]}:fi(r)&&!Jn(r)&&!Rae(r)?String(r):r,Yr={},cO=[],Fd=()=>{},rV=()=>!1,K0e=/^on[^a-z]/,p2=i=>K0e.test(i),Iee=i=>i.startsWith("onUpdate:"),Mr=Object.assign,Lee=(i,r)=>{const l=i.indexOf(r);l>-1&&i.splice(l,1)},q0e=Object.prototype.hasOwnProperty,gr=(i,r)=>q0e.call(i,r),Jn=Array.isArray,lO=i=>HO(i)==="[object Map]",g2=i=>HO(i)==="[object Set]",Ose=i=>HO(i)==="[object Date]",G0e=i=>HO(i)==="[object RegExp]",rs=i=>typeof i=="function",ps=i=>typeof i=="string",lw=i=>typeof i=="symbol",fi=i=>i!==null&&typeof i=="object",Fee=i=>fi(i)&&rs(i.then)&&rs(i.catch),Nae=Object.prototype.toString,HO=i=>Nae.call(i),Y0e=i=>HO(i).slice(8,-1),Rae=i=>HO(i)==="[object Object]",Hee=i=>ps(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,QE=If(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),X0e=If("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),tz=i=>{const r=Object.create(null);return l=>r[l]||(r[l]=i(l))},J0e=/-(\w)/g,Ll=tz(i=>i.replace(J0e,(r,l)=>l?l.toUpperCase():"")),Q0e=/\B([A-Z])/g,Vm=tz(i=>i.replace(Q0e,"-$1").toLowerCase()),b2=tz(i=>i.charAt(0).toUpperCase()+i.slice(1)),uO=tz(i=>i?`on${b2(i)}`:""),kO=(i,r)=>!Object.is(i,r),dO=(i,r)=>{for(let l=0;l<i.length;l++)i[l](r)},vV=(i,r,l)=>{Object.defineProperty(i,r,{configurable:!0,enumerable:!1,value:l})},yV=i=>{const r=parseFloat(i);return isNaN(r)?i:r},_V=i=>{const r=ps(i)?Number(i):NaN;return isNaN(r)?i:r};let Dse;const eye=()=>Dse||(Dse=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Fm;class Vee{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Fm,!r&&Fm&&(this.index=(Fm.scopes||(Fm.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const l=Fm;try{return Fm=this,r()}finally{Fm=l}}}on(){Fm=this}off(){Fm=this.parent}stop(r){if(this._active){let l,h;for(l=0,h=this.effects.length;l<h;l++)this.effects[l].stop();for(l=0,h=this.cleanups.length;l<h;l++)this.cleanups[l]();if(this.scopes)for(l=0,h=this.scopes.length;l<h;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!r){const y=this.parent.scopes.pop();y&&y!==this&&(this.parent.scopes[this.index]=y,y.index=this.index)}this.parent=void 0,this._active=!1}}}function tye(i){return new Vee(i)}function Mae(i,r=Fm){r&&r.active&&r.effects.push(i)}function $ae(){return Fm}function nye(i){Fm&&Fm.cleanups.push(i)}const zee=i=>{const r=new Set(i);return r.w=0,r.n=0,r},Pae=i=>(i.w&uw)>0,Bae=i=>(i.n&uw)>0,oye=({deps:i})=>{if(i.length)for(let r=0;r<i.length;r++)i[r].w|=uw},sye=i=>{const{deps:r}=i;if(r.length){let l=0;for(let h=0;h<r.length;h++){const y=r[h];Pae(y)&&!Bae(y)?y.delete(i):r[l++]=y,y.w&=~uw,y.n&=~uw}r.length=l}},wV=new WeakMap;let y$=0,uw=1;const RQ=30;let pg;const e2=Symbol(""),MQ=Symbol("");class cP{constructor(r,l=null,h){this.fn=r,this.scheduler=l,this.active=!0,this.deps=[],this.parent=void 0,Mae(this,h)}run(){if(!this.active)return this.fn();let r=pg,l=nw;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=pg,pg=this,nw=!0,uw=1<<++y$,y$<=RQ?oye(this):Nse(this),this.fn()}finally{y$<=RQ&&sye(this),uw=1<<--y$,pg=this.parent,nw=l,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pg===this?this.deferStop=!0:this.active&&(Nse(this),this.onStop&&this.onStop(),this.active=!1)}}function Nse(i){const{deps:r}=i;if(r.length){for(let l=0;l<r.length;l++)r[l].delete(i);r.length=0}}function rye(i,r){i.effect&&(i=i.effect.fn);const l=new cP(i);r&&(Mr(l,r),r.scope&&Mae(l,r.scope)),(!r||!r.lazy)&&l.run();const h=l.run.bind(l);return h.effect=l,h}function iye(i){i.effect.stop()}let nw=!0;const Iae=[];function VO(){Iae.push(nw),nw=!1}function zO(){const i=Iae.pop();nw=i===void 0?!0:i}function Bf(i,r,l){if(nw&&pg){let h=wV.get(i);h||wV.set(i,h=new Map);let y=h.get(l);y||h.set(l,y=zee()),Lae(y)}}function Lae(i,r){let l=!1;y$<=RQ?Bae(i)||(i.n|=uw,l=!Pae(i)):l=!i.has(pg),l&&(i.add(pg),pg.deps.push(i))}function C0(i,r,l,h,y,w){const E=wV.get(i);if(!E)return;let A=[];if(r==="clear")A=[...E.values()];else if(l==="length"&&Jn(i)){const R=Number(h);E.forEach((H,j)=>{(j==="length"||j>=R)&&A.push(H)})}else switch(l!==void 0&&A.push(E.get(l)),r){case"add":Jn(i)?Hee(l)&&A.push(E.get("length")):(A.push(E.get(e2)),lO(i)&&A.push(E.get(MQ)));break;case"delete":Jn(i)||(A.push(E.get(e2)),lO(i)&&A.push(E.get(MQ)));break;case"set":lO(i)&&A.push(E.get(e2));break}if(A.length===1)A[0]&&$Q(A[0]);else{const R=[];for(const H of A)H&&R.push(...H);$Q(zee(R))}}function $Q(i,r){const l=Jn(i)?i:[...i];for(const h of l)h.computed&&Rse(h);for(const h of l)h.computed||Rse(h)}function Rse(i,r){(i!==pg||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}function aye(i,r){var l;return(l=wV.get(i))===null||l===void 0?void 0:l.get(r)}const cye=If("__proto__,__v_isRef,__isVue"),Fae=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(lw)),lye=nz(),uye=nz(!1,!0),dye=nz(!0),fye=nz(!0,!0),Mse=mye();function mye(){const i={};return["includes","indexOf","lastIndexOf"].forEach(r=>{i[r]=function(...l){const h=or(this);for(let w=0,E=this.length;w<E;w++)Bf(h,"get",w+"");const y=h[r](...l);return y===-1||y===!1?h[r](...l.map(or)):y}}),["push","pop","shift","unshift","splice"].forEach(r=>{i[r]=function(...l){VO();const h=or(this)[r].apply(this,l);return zO(),h}}),i}function hye(i){const r=or(this);return Bf(r,"has",i),r.hasOwnProperty(i)}function nz(i=!1,r=!1){return function(h,y,w){if(y==="__v_isReactive")return!i;if(y==="__v_isReadonly")return i;if(y==="__v_isShallow")return r;if(y==="__v_raw"&&w===(i?r?Zae:jae:r?Uae:Wae).get(h))return h;const E=Jn(h);if(!i){if(E&&gr(Mse,y))return Reflect.get(Mse,y,w);if(y==="hasOwnProperty")return hye}const A=Reflect.get(h,y,w);return(lw(y)?Fae.has(y):cye(y))||(i||Bf(h,"get",y),r)?A:Il(A)?E&&Hee(y)?A:A.value:fi(A)?i?Uee(A):rz(A):A}}const pye=Hae(),gye=Hae(!0);function Hae(i=!1){return function(l,h,y,w){let E=l[h];if(c2(E)&&Il(E)&&!Il(y))return!1;if(!i&&(!F$(y)&&!c2(y)&&(E=or(E),y=or(y)),!Jn(l)&&Il(E)&&!Il(y)))return E.value=y,!0;const A=Jn(l)&&Hee(h)?Number(h)<l.length:gr(l,h),R=Reflect.set(l,h,y,w);return l===or(w)&&(A?kO(y,E)&&C0(l,"set",h,y):C0(l,"add",h,y)),R}}function bye(i,r){const l=gr(i,r);i[r];const h=Reflect.deleteProperty(i,r);return h&&l&&C0(i,"delete",r,void 0),h}function vye(i,r){const l=Reflect.has(i,r);return(!lw(r)||!Fae.has(r))&&Bf(i,"has",r),l}function yye(i){return Bf(i,"iterate",Jn(i)?"length":e2),Reflect.ownKeys(i)}const Vae={get:lye,set:pye,deleteProperty:bye,has:vye,ownKeys:yye},zae={get:dye,set(i,r){return!0},deleteProperty(i,r){return!0}},_ye=Mr({},Vae,{get:uye,set:gye}),wye=Mr({},zae,{get:fye}),Wee=i=>i,oz=i=>Reflect.getPrototypeOf(i);function N8(i,r,l=!1,h=!1){i=i.__v_raw;const y=or(i),w=or(r);l||(r!==w&&Bf(y,"get",r),Bf(y,"get",w));const{has:E}=oz(y),A=h?Wee:l?Kee:H$;if(E.call(y,r))return A(i.get(r));if(E.call(y,w))return A(i.get(w));i!==y&&i.get(r)}function R8(i,r=!1){const l=this.__v_raw,h=or(l),y=or(i);return r||(i!==y&&Bf(h,"has",i),Bf(h,"has",y)),i===y?l.has(i):l.has(i)||l.has(y)}function M8(i,r=!1){return i=i.__v_raw,!r&&Bf(or(i),"iterate",e2),Reflect.get(i,"size",i)}function $se(i){i=or(i);const r=or(this);return oz(r).has.call(r,i)||(r.add(i),C0(r,"add",i,i)),this}function Pse(i,r){r=or(r);const l=or(this),{has:h,get:y}=oz(l);let w=h.call(l,i);w||(i=or(i),w=h.call(l,i));const E=y.call(l,i);return l.set(i,r),w?kO(r,E)&&C0(l,"set",i,r):C0(l,"add",i,r),this}function Bse(i){const r=or(this),{has:l,get:h}=oz(r);let y=l.call(r,i);y||(i=or(i),y=l.call(r,i)),h&&h.call(r,i);const w=r.delete(i);return y&&C0(r,"delete",i,void 0),w}function Ise(){const i=or(this),r=i.size!==0,l=i.clear();return r&&C0(i,"clear",void 0,void 0),l}function $8(i,r){return function(h,y){const w=this,E=w.__v_raw,A=or(E),R=r?Wee:i?Kee:H$;return!i&&Bf(A,"iterate",e2),E.forEach((H,j)=>h.call(y,R(H),R(j),w))}}function P8(i,r,l){return function(...h){const y=this.__v_raw,w=or(y),E=lO(w),A=i==="entries"||i===Symbol.iterator&&E,R=i==="keys"&&E,H=y[i](...h),j=l?Wee:r?Kee:H$;return!r&&Bf(w,"iterate",R?MQ:e2),{next(){const{value:Q,done:le}=H.next();return le?{value:Q,done:le}:{value:A?[j(Q[0]),j(Q[1])]:j(Q),done:le}},[Symbol.iterator](){return this}}}}function X_(i){return function(...r){return i==="delete"?!1:this}}function Cye(){const i={get(w){return N8(this,w)},get size(){return M8(this)},has:R8,add:$se,set:Pse,delete:Bse,clear:Ise,forEach:$8(!1,!1)},r={get(w){return N8(this,w,!1,!0)},get size(){return M8(this)},has:R8,add:$se,set:Pse,delete:Bse,clear:Ise,forEach:$8(!1,!0)},l={get(w){return N8(this,w,!0)},get size(){return M8(this,!0)},has(w){return R8.call(this,w,!0)},add:X_("add"),set:X_("set"),delete:X_("delete"),clear:X_("clear"),forEach:$8(!0,!1)},h={get(w){return N8(this,w,!0,!0)},get size(){return M8(this,!0)},has(w){return R8.call(this,w,!0)},add:X_("add"),set:X_("set"),delete:X_("delete"),clear:X_("clear"),forEach:$8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(w=>{i[w]=P8(w,!1,!1),l[w]=P8(w,!0,!1),r[w]=P8(w,!1,!0),h[w]=P8(w,!0,!0)}),[i,l,r,h]}const[Sye,Eye,xye,Tye]=Cye();function sz(i,r){const l=r?i?Tye:xye:i?Eye:Sye;return(h,y,w)=>y==="__v_isReactive"?!i:y==="__v_isReadonly"?i:y==="__v_raw"?h:Reflect.get(gr(l,y)&&y in h?l:h,y,w)}const kye={get:sz(!1,!1)},Aye={get:sz(!1,!0)},Oye={get:sz(!0,!1)},Dye={get:sz(!0,!0)},Wae=new WeakMap,Uae=new WeakMap,jae=new WeakMap,Zae=new WeakMap;function Nye(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rye(i){return i.__v_skip||!Object.isExtensible(i)?0:Nye(Y0e(i))}function rz(i){return c2(i)?i:iz(i,!1,Vae,kye,Wae)}function Kae(i){return iz(i,!1,_ye,Aye,Uae)}function Uee(i){return iz(i,!0,zae,Oye,jae)}function Mye(i){return iz(i,!0,wye,Dye,Zae)}function iz(i,r,l,h,y){if(!fi(i)||i.__v_raw&&!(r&&i.__v_isReactive))return i;const w=y.get(i);if(w)return w;const E=Rye(i);if(E===0)return i;const A=new Proxy(i,E===2?h:l);return y.set(i,A),A}function t2(i){return c2(i)?t2(i.__v_raw):!!(i&&i.__v_isReactive)}function c2(i){return!!(i&&i.__v_isReadonly)}function F$(i){return!!(i&&i.__v_isShallow)}function jee(i){return t2(i)||c2(i)}function or(i){const r=i&&i.__v_raw;return r?or(r):i}function Zee(i){return vV(i,"__v_skip",!0),i}const H$=i=>fi(i)?rz(i):i,Kee=i=>fi(i)?Uee(i):i;function qee(i){nw&&pg&&(i=or(i),Lae(i.dep||(i.dep=zee())))}function az(i,r){i=or(i);const l=i.dep;l&&$Q(l)}function Il(i){return!!(i&&i.__v_isRef===!0)}function iV(i){return qae(i,!1)}function $ye(i){return qae(i,!0)}function qae(i,r){return Il(i)?i:new Pye(i,r)}class Pye{constructor(r,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?r:or(r),this._value=l?r:H$(r)}get value(){return qee(this),this._value}set value(r){const l=this.__v_isShallow||F$(r)||c2(r);r=l?r:or(r),kO(r,this._rawValue)&&(this._rawValue=r,this._value=l?r:H$(r),az(this))}}function Bye(i){az(i)}function Gae(i){return Il(i)?i.value:i}const Iye={get:(i,r,l)=>Gae(Reflect.get(i,r,l)),set:(i,r,l,h)=>{const y=i[r];return Il(y)&&!Il(l)?(y.value=l,!0):Reflect.set(i,r,l,h)}};function Gee(i){return t2(i)?i:new Proxy(i,Iye)}class Lye{constructor(r){this.dep=void 0,this.__v_isRef=!0;const{get:l,set:h}=r(()=>qee(this),()=>az(this));this._get=l,this._set=h}get value(){return this._get()}set value(r){this._set(r)}}function Fye(i){return new Lye(i)}function Hye(i){const r=Jn(i)?new Array(i.length):{};for(const l in i)r[l]=Yae(i,l);return r}class Vye{constructor(r,l,h){this._object=r,this._key=l,this._defaultValue=h,this.__v_isRef=!0}get value(){const r=this._object[this._key];return r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return aye(or(this._object),this._key)}}function Yae(i,r,l){const h=i[r];return Il(h)?h:new Vye(i,r,l)}var Xae;class zye{constructor(r,l,h,y){this._setter=l,this.dep=void 0,this.__v_isRef=!0,this[Xae]=!1,this._dirty=!0,this.effect=new cP(r,()=>{this._dirty||(this._dirty=!0,az(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!y,this.__v_isReadonly=h}get value(){const r=or(this);return qee(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}Xae="__v_isReadonly";function Wye(i,r,l=!1){let h,y;const w=rs(i);return w?(h=i,y=Fd):(h=i.get,y=i.set),new zye(h,y,w||!y,l)}function Uye(i,...r){}function jye(i,r){}function y0(i,r,l,h){let y;try{y=h?i(...h):i()}catch(w){v2(w,r,l)}return y}function Wm(i,r,l,h){if(rs(i)){const w=y0(i,r,l,h);return w&&Fee(w)&&w.catch(E=>{v2(E,r,l)}),w}const y=[];for(let w=0;w<i.length;w++)y.push(Wm(i[w],r,l,h));return y}function v2(i,r,l,h=!0){const y=r?r.vnode:null;if(r){let w=r.parent;const E=r.proxy,A=l;for(;w;){const H=w.ec;if(H){for(let j=0;j<H.length;j++)if(H[j](i,E,A)===!1)return}w=w.parent}const R=r.appContext.config.errorHandler;if(R){y0(R,null,10,[i,E,A]);return}}Zye(i,l,y,h)}function Zye(i,r,l,h=!0){console.error(i)}let V$=!1,PQ=!1;const Ju=[];let d1=0;const fO=[];let d0=null,jE=0;const Jae=Promise.resolve();let Yee=null;function Xee(i){const r=Yee||Jae;return i?r.then(this?i.bind(this):i):r}function Kye(i){let r=d1+1,l=Ju.length;for(;r<l;){const h=r+l>>>1;z$(Ju[h])<i?r=h+1:l=h}return r}function cz(i){(!Ju.length||!Ju.includes(i,V$&&i.allowRecurse?d1+1:d1))&&(i.id==null?Ju.push(i):Ju.splice(Kye(i.id),0,i),Qae())}function Qae(){!V$&&!PQ&&(PQ=!0,Yee=Jae.then(ece))}function qye(i){const r=Ju.indexOf(i);r>d1&&Ju.splice(r,1)}function Jee(i){Jn(i)?fO.push(...i):(!d0||!d0.includes(i,i.allowRecurse?jE+1:jE))&&fO.push(i),Qae()}function Lse(i,r=V$?d1+1:0){for(;r<Ju.length;r++){const l=Ju[r];l&&l.pre&&(Ju.splice(r,1),r--,l())}}function CV(i){if(fO.length){const r=[...new Set(fO)];if(fO.length=0,d0){d0.push(...r);return}for(d0=r,d0.sort((l,h)=>z$(l)-z$(h)),jE=0;jE<d0.length;jE++)d0[jE]();d0=null,jE=0}}const z$=i=>i.id==null?1/0:i.id,Gye=(i,r)=>{const l=z$(i)-z$(r);if(l===0){if(i.pre&&!r.pre)return-1;if(r.pre&&!i.pre)return 1}return l};function ece(i){PQ=!1,V$=!0,Ju.sort(Gye);const r=Fd;try{for(d1=0;d1<Ju.length;d1++){const l=Ju[d1];l&&l.active!==!1&&y0(l,null,14)}}finally{d1=0,Ju.length=0,CV(),V$=!1,Yee=null,(Ju.length||fO.length)&&ece()}}let oO,B8=[];function tce(i,r){var l,h;oO=i,oO?(oO.enabled=!0,B8.forEach(({event:y,args:w})=>oO.emit(y,...w)),B8=[]):typeof window<"u"&&window.HTMLElement&&!(!((h=(l=window.navigator)===null||l===void 0?void 0:l.userAgent)===null||h===void 0)&&h.includes("jsdom"))?((r.__VUE_DEVTOOLS_HOOK_REPLAY__=r.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(w=>{tce(w,r)}),setTimeout(()=>{oO||(r.__VUE_DEVTOOLS_HOOK_REPLAY__=null,B8=[])},3e3)):B8=[]}function Yye(i,r,...l){if(i.isUnmounted)return;const h=i.vnode.props||Yr;let y=l;const w=r.startsWith("update:"),E=w&&r.slice(7);if(E&&E in h){const j=`${E==="modelValue"?"model":E}Modifiers`,{number:Q,trim:le}=h[j]||Yr;le&&(y=l.map(pe=>ps(pe)?pe.trim():pe)),Q&&(y=l.map(yV))}let A,R=h[A=uO(r)]||h[A=uO(Ll(r))];!R&&w&&(R=h[A=uO(Vm(r))]),R&&Wm(R,i,6,y);const H=h[A+"Once"];if(H){if(!i.emitted)i.emitted={};else if(i.emitted[A])return;i.emitted[A]=!0,Wm(H,i,6,y)}}function nce(i,r,l=!1){const h=r.emitsCache,y=h.get(i);if(y!==void 0)return y;const w=i.emits;let E={},A=!1;if(!rs(i)){const R=H=>{const j=nce(H,r,!0);j&&(A=!0,Mr(E,j))};!l&&r.mixins.length&&r.mixins.forEach(R),i.extends&&R(i.extends),i.mixins&&i.mixins.forEach(R)}return!w&&!A?(fi(i)&&h.set(i,null),null):(Jn(w)?w.forEach(R=>E[R]=null):Mr(E,w),fi(i)&&h.set(i,E),E)}function lz(i,r){return!i||!p2(r)?!1:(r=r.slice(2).replace(/Once$/,""),gr(i,r[0].toLowerCase()+r.slice(1))||gr(i,Vm(r))||gr(i,r))}let vu=null,uz=null;function W$(i){const r=vu;return vu=i,uz=i&&i.type.__scopeId||null,r}function Xye(i){uz=i}function Jye(){uz=null}const Qye=i=>Qee;function Qee(i,r=vu,l){if(!r||i._n)return i;const h=(...y)=>{h._d&&zQ(-1);const w=W$(r);let E;try{E=i(...y)}finally{W$(w),h._d&&zQ(1)}return E};return h._n=!0,h._c=!0,h._d=!0,h}function aV(i){const{type:r,vnode:l,proxy:h,withProxy:y,props:w,propsOptions:[E],slots:A,attrs:R,emit:H,render:j,renderCache:Q,data:le,setupState:pe,ctx:me,inheritAttrs:ve}=i;let Ee,Me;const ce=W$(i);try{if(l.shapeFlag&4){const ke=y||h;Ee=Hm(j.call(ke,ke,Q,w,pe,le,me)),Me=R}else{const ke=r;Ee=Hm(ke.length>1?ke(w,{attrs:R,slots:A,emit:H}):ke(w,null)),Me=r.props?R:t_e(R)}}catch(ke){N$.length=0,v2(ke,i,1),Ee=na(ed)}let q=Ee;if(Me&&ve!==!1){const ke=Object.keys(Me),{shapeFlag:ze}=q;ke.length&&ze&7&&(E&&ke.some(Iee)&&(Me=n_e(Me,E)),q=v1(q,Me))}return l.dirs&&(q=v1(q),q.dirs=q.dirs?q.dirs.concat(l.dirs):l.dirs),l.transition&&(q.transition=l.transition),Ee=q,W$(ce),Ee}function e_e(i){let r;for(let l=0;l<i.length;l++){const h=i[l];if(dw(h)){if(h.type!==ed||h.children==="v-if"){if(r)return;r=h}}else return}return r}const t_e=i=>{let r;for(const l in i)(l==="class"||l==="style"||p2(l))&&((r||(r={}))[l]=i[l]);return r},n_e=(i,r)=>{const l={};for(const h in i)(!Iee(h)||!(h.slice(9)in r))&&(l[h]=i[h]);return l};function o_e(i,r,l){const{props:h,children:y,component:w}=i,{props:E,children:A,patchFlag:R}=r,H=w.emitsOptions;if(r.dirs||r.transition)return!0;if(l&&R>=0){if(R&1024)return!0;if(R&16)return h?Fse(h,E,H):!!E;if(R&8){const j=r.dynamicProps;for(let Q=0;Q<j.length;Q++){const le=j[Q];if(E[le]!==h[le]&&!lz(H,le))return!0}}}else return(y||A)&&(!A||!A.$stable)?!0:h===E?!1:h?E?Fse(h,E,H):!0:!!E;return!1}function Fse(i,r,l){const h=Object.keys(r);if(h.length!==Object.keys(i).length)return!0;for(let y=0;y<h.length;y++){const w=h[y];if(r[w]!==i[w]&&!lz(l,w))return!0}return!1}function ete({vnode:i,parent:r},l){for(;r&&r.subTree===i;)(i=r.vnode).el=l,r=r.parent}const oce=i=>i.__isSuspense,s_e={name:"Suspense",__isSuspense:!0,process(i,r,l,h,y,w,E,A,R,H){i==null?i_e(r,l,h,y,w,E,A,R,H):a_e(i,r,l,h,y,E,A,R,H)},hydrate:c_e,create:tte,normalize:l_e},r_e=s_e;function U$(i,r){const l=i.props&&i.props[r];rs(l)&&l()}function i_e(i,r,l,h,y,w,E,A,R){const{p:H,o:{createElement:j}}=R,Q=j("div"),le=i.suspense=tte(i,y,h,r,Q,l,w,E,A,R);H(null,le.pendingBranch=i.ssContent,Q,null,h,le,w,E),le.deps>0?(U$(i,"onPending"),U$(i,"onFallback"),H(null,i.ssFallback,r,l,h,null,w,E),mO(le,i.ssFallback)):le.resolve()}function a_e(i,r,l,h,y,w,E,A,{p:R,um:H,o:{createElement:j}}){const Q=r.suspense=i.suspense;Q.vnode=r,r.el=i.el;const le=r.ssContent,pe=r.ssFallback,{activeBranch:me,pendingBranch:ve,isInFallback:Ee,isHydrating:Me}=Q;if(ve)Q.pendingBranch=le,gg(le,ve)?(R(ve,le,Q.hiddenContainer,null,y,Q,w,E,A),Q.deps<=0?Q.resolve():Ee&&(R(me,pe,l,h,y,null,w,E,A),mO(Q,pe))):(Q.pendingId++,Me?(Q.isHydrating=!1,Q.activeBranch=ve):H(ve,y,Q),Q.deps=0,Q.effects.length=0,Q.hiddenContainer=j("div"),Ee?(R(null,le,Q.hiddenContainer,null,y,Q,w,E,A),Q.deps<=0?Q.resolve():(R(me,pe,l,h,y,null,w,E,A),mO(Q,pe))):me&&gg(le,me)?(R(me,le,l,h,y,Q,w,E,A),Q.resolve(!0)):(R(null,le,Q.hiddenContainer,null,y,Q,w,E,A),Q.deps<=0&&Q.resolve()));else if(me&&gg(le,me))R(me,le,l,h,y,Q,w,E,A),mO(Q,le);else if(U$(r,"onPending"),Q.pendingBranch=le,Q.pendingId++,R(null,le,Q.hiddenContainer,null,y,Q,w,E,A),Q.deps<=0)Q.resolve();else{const{timeout:ce,pendingId:q}=Q;ce>0?setTimeout(()=>{Q.pendingId===q&&Q.fallback(pe)},ce):ce===0&&Q.fallback(pe)}}function tte(i,r,l,h,y,w,E,A,R,H,j=!1){const{p:Q,m:le,um:pe,n:me,o:{parentNode:ve,remove:Ee}}=H,Me=i.props?_V(i.props.timeout):void 0,ce={vnode:i,parent:r,parentComponent:l,isSVG:E,container:h,hiddenContainer:y,anchor:w,deps:0,pendingId:0,timeout:typeof Me=="number"?Me:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:j,isUnmounted:!1,effects:[],resolve(q=!1){const{vnode:ke,activeBranch:ze,pendingBranch:We,pendingId:J,effects:Te,parentComponent:Ge,container:Ue}=ce;if(ce.isHydrating)ce.isHydrating=!1;else if(!q){const Tt=ze&&We.transition&&We.transition.mode==="out-in";Tt&&(ze.transition.afterLeave=()=>{J===ce.pendingId&&le(We,Ue,vt,0)});let{anchor:vt}=ce;ze&&(vt=me(ze),pe(ze,Ge,ce,!0)),Tt||le(We,Ue,vt,0)}mO(ce,We),ce.pendingBranch=null,ce.isInFallback=!1;let ye=ce.parent,ie=!1;for(;ye;){if(ye.pendingBranch){ye.effects.push(...Te),ie=!0;break}ye=ye.parent}ie||Jee(Te),ce.effects=[],U$(ke,"onResolve")},fallback(q){if(!ce.pendingBranch)return;const{vnode:ke,activeBranch:ze,parentComponent:We,container:J,isSVG:Te}=ce;U$(ke,"onFallback");const Ge=me(ze),Ue=()=>{ce.isInFallback&&(Q(null,q,J,Ge,We,null,Te,A,R),mO(ce,q))},ye=q.transition&&q.transition.mode==="out-in";ye&&(ze.transition.afterLeave=Ue),ce.isInFallback=!0,pe(ze,We,null,!0),ye||Ue()},move(q,ke,ze){ce.activeBranch&&le(ce.activeBranch,q,ke,ze),ce.container=q},next(){return ce.activeBranch&&me(ce.activeBranch)},registerDep(q,ke){const ze=!!ce.pendingBranch;ze&&ce.deps++;const We=q.vnode.el;q.asyncDep.catch(J=>{v2(J,q,0)}).then(J=>{if(q.isUnmounted||ce.isUnmounted||ce.pendingId!==q.suspenseId)return;q.asyncResolved=!0;const{vnode:Te}=q;WQ(q,J,!1),We&&(Te.el=We);const Ge=!We&&q.subTree.el;ke(q,Te,ve(We||q.subTree.el),We?null:me(q.subTree),ce,E,R),Ge&&Ee(Ge),ete(q,Te.el),ze&&--ce.deps===0&&ce.resolve()})},unmount(q,ke){ce.isUnmounted=!0,ce.activeBranch&&pe(ce.activeBranch,l,q,ke),ce.pendingBranch&&pe(ce.pendingBranch,l,q,ke)}};return ce}function c_e(i,r,l,h,y,w,E,A,R){const H=r.suspense=tte(r,h,l,i.parentNode,document.createElement("div"),null,y,w,E,A,!0),j=R(i,H.pendingBranch=r.ssContent,l,H,w,E);return H.deps===0&&H.resolve(),j}function l_e(i){const{shapeFlag:r,children:l}=i,h=r&32;i.ssContent=Hse(h?l.default:l),i.ssFallback=h?Hse(l.fallback):na(ed)}function Hse(i){let r;if(rs(i)){const l=d2&&i._c;l&&(i._d=!1,qh()),i=i(),l&&(i._d=!0,r=Rf,Rce())}return Jn(i)&&(i=e_e(i)),i=Hm(i),r&&!i.dynamicChildren&&(i.dynamicChildren=r.filter(l=>l!==i)),i}function sce(i,r){r&&r.pendingBranch?Jn(i)?r.effects.push(...i):r.effects.push(i):Jee(i)}function mO(i,r){i.activeBranch=r;const{vnode:l,parentComponent:h}=i,y=l.el=r.el;h&&h.subTree===l&&(h.vnode.el=y,ete(h,y))}function rce(i,r){if(ec){let l=ec.provides;const h=ec.parent&&ec.parent.provides;h===l&&(l=ec.provides=Object.create(h)),l[i]=r}}function k$(i,r,l=!1){const h=ec||vu;if(h){const y=h.parent==null?h.vnode.appContext&&h.vnode.appContext.provides:h.parent.provides;if(y&&i in y)return y[i];if(arguments.length>1)return l&&rs(r)?r.call(h.proxy):r}}function u_e(i,r){return lP(i,null,r)}function ice(i,r){return lP(i,null,{flush:"post"})}function d_e(i,r){return lP(i,null,{flush:"sync"})}const I8={};function A$(i,r,l){return lP(i,r,l)}function lP(i,r,{immediate:l,deep:h,flush:y,onTrack:w,onTrigger:E}=Yr){const A=$ae()===(ec==null?void 0:ec.scope)?ec:null;let R,H=!1,j=!1;if(Il(i)?(R=()=>i.value,H=F$(i)):t2(i)?(R=()=>i,h=!0):Jn(i)?(j=!0,H=i.some(q=>t2(q)||F$(q)),R=()=>i.map(q=>{if(Il(q))return q.value;if(t2(q))return GE(q);if(rs(q))return y0(q,A,2)})):rs(i)?r?R=()=>y0(i,A,2):R=()=>{if(!(A&&A.isUnmounted))return Q&&Q(),Wm(i,A,3,[le])}:R=Fd,r&&h){const q=R;R=()=>GE(q())}let Q,le=q=>{Q=Me.onStop=()=>{y0(q,A,4)}},pe;if(OO)if(le=Fd,r?l&&Wm(r,A,3,[R(),j?[]:void 0,le]):R(),y==="sync"){const q=Gce();pe=q.__watcherHandles||(q.__watcherHandles=[])}else return Fd;let me=j?new Array(i.length).fill(I8):I8;const ve=()=>{if(Me.active)if(r){const q=Me.run();(h||H||(j?q.some((ke,ze)=>kO(ke,me[ze])):kO(q,me)))&&(Q&&Q(),Wm(r,A,3,[q,me===I8?void 0:j&&me[0]===I8?[]:me,le]),me=q)}else Me.run()};ve.allowRecurse=!!r;let Ee;y==="sync"?Ee=ve:y==="post"?Ee=()=>gu(ve,A&&A.suspense):(ve.pre=!0,A&&(ve.id=A.uid),Ee=()=>cz(ve));const Me=new cP(R,Ee);r?l?ve():me=Me.run():y==="post"?gu(Me.run.bind(Me),A&&A.suspense):Me.run();const ce=()=>{Me.stop(),A&&A.scope&&Lee(A.scope.effects,Me)};return pe&&pe.push(ce),ce}function f_e(i,r,l){const h=this.proxy,y=ps(i)?i.includes(".")?ace(h,i):()=>h[i]:i.bind(h,h);let w;rs(r)?w=r:(w=r.handler,l=r);const E=ec;fw(this);const A=lP(y,w.bind(h),l);return E?fw(E):ow(),A}function ace(i,r){const l=r.split(".");return()=>{let h=i;for(let y=0;y<l.length&&h;y++)h=h[l[y]];return h}}function GE(i,r){if(!fi(i)||i.__v_skip||(r=r||new Set,r.has(i)))return i;if(r.add(i),Il(i))GE(i.value,r);else if(Jn(i))for(let l=0;l<i.length;l++)GE(i[l],r);else if(g2(i)||lO(i))i.forEach(l=>{GE(l,r)});else if(Rae(i))for(const l in i)GE(i[l],r);return i}function nte(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dP(()=>{i.isMounted=!0}),hz(()=>{i.isUnmounting=!0}),i}const Zh=[Function,Array],m_e={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zh,onEnter:Zh,onAfterEnter:Zh,onEnterCancelled:Zh,onBeforeLeave:Zh,onLeave:Zh,onAfterLeave:Zh,onLeaveCancelled:Zh,onBeforeAppear:Zh,onAppear:Zh,onAfterAppear:Zh,onAppearCancelled:Zh},setup(i,{slots:r}){const l=vw(),h=nte();let y;return()=>{const w=r.default&&dz(r.default(),!0);if(!w||!w.length)return;let E=w[0];if(w.length>1){for(const ve of w)if(ve.type!==ed){E=ve;break}}const A=or(i),{mode:R}=A;if(h.isLeaving)return sQ(E);const H=Vse(E);if(!H)return sQ(E);const j=AO(H,A,h,l);l2(H,j);const Q=l.subTree,le=Q&&Vse(Q);let pe=!1;const{getTransitionKey:me}=H.type;if(me){const ve=me();y===void 0?y=ve:ve!==y&&(y=ve,pe=!0)}if(le&&le.type!==ed&&(!gg(H,le)||pe)){const ve=AO(le,A,h,l);if(l2(le,ve),R==="out-in")return h.isLeaving=!0,ve.afterLeave=()=>{h.isLeaving=!1,l.update.active!==!1&&l.update()},sQ(E);R==="in-out"&&H.type!==ed&&(ve.delayLeave=(Ee,Me,ce)=>{const q=cce(h,le);q[String(le.key)]=le,Ee._leaveCb=()=>{Me(),Ee._leaveCb=void 0,delete j.delayedLeave},j.delayedLeave=ce})}return E}}},ote=m_e;function cce(i,r){const{leavingVNodes:l}=i;let h=l.get(r.type);return h||(h=Object.create(null),l.set(r.type,h)),h}function AO(i,r,l,h){const{appear:y,mode:w,persisted:E=!1,onBeforeEnter:A,onEnter:R,onAfterEnter:H,onEnterCancelled:j,onBeforeLeave:Q,onLeave:le,onAfterLeave:pe,onLeaveCancelled:me,onBeforeAppear:ve,onAppear:Ee,onAfterAppear:Me,onAppearCancelled:ce}=r,q=String(i.key),ke=cce(l,i),ze=(Te,Ge)=>{Te&&Wm(Te,h,9,Ge)},We=(Te,Ge)=>{const Ue=Ge[1];ze(Te,Ge),Jn(Te)?Te.every(ye=>ye.length<=1)&&Ue():Te.length<=1&&Ue()},J={mode:w,persisted:E,beforeEnter(Te){let Ge=A;if(!l.isMounted)if(y)Ge=ve||A;else return;Te._leaveCb&&Te._leaveCb(!0);const Ue=ke[q];Ue&&gg(i,Ue)&&Ue.el._leaveCb&&Ue.el._leaveCb(),ze(Ge,[Te])},enter(Te){let Ge=R,Ue=H,ye=j;if(!l.isMounted)if(y)Ge=Ee||R,Ue=Me||H,ye=ce||j;else return;let ie=!1;const Tt=Te._enterCb=vt=>{ie||(ie=!0,vt?ze(ye,[Te]):ze(Ue,[Te]),J.delayedLeave&&J.delayedLeave(),Te._enterCb=void 0)};Ge?We(Ge,[Te,Tt]):Tt()},leave(Te,Ge){const Ue=String(i.key);if(Te._enterCb&&Te._enterCb(!0),l.isUnmounting)return Ge();ze(Q,[Te]);let ye=!1;const ie=Te._leaveCb=Tt=>{ye||(ye=!0,Ge(),Tt?ze(me,[Te]):ze(pe,[Te]),Te._leaveCb=void 0,ke[Ue]===i&&delete ke[Ue])};ke[Ue]=i,le?We(le,[Te,ie]):ie()},clone(Te){return AO(Te,r,l,h)}};return J}function sQ(i){if(uP(i))return i=v1(i),i.children=null,i}function Vse(i){return uP(i)?i.children?i.children[0]:void 0:i}function l2(i,r){i.shapeFlag&6&&i.component?l2(i.component.subTree,r):i.shapeFlag&128?(i.ssContent.transition=r.clone(i.ssContent),i.ssFallback.transition=r.clone(i.ssFallback)):i.transition=r}function dz(i,r=!1,l){let h=[],y=0;for(let w=0;w<i.length;w++){let E=i[w];const A=l==null?E.key:String(l)+String(E.key!=null?E.key:w);E.type===ul?(E.patchFlag&128&&y++,h=h.concat(dz(E.children,r,A))):(r||E.type!==ed)&&h.push(A!=null?v1(E,{key:A}):E)}if(y>1)for(let w=0;w<h.length;w++)h[w].patchFlag=-2;return h}function ste(i){return rs(i)?{setup:i,name:i.name}:i}const n2=i=>!!i.type.__asyncLoader;function h_e(i){rs(i)&&(i={loader:i});const{loader:r,loadingComponent:l,errorComponent:h,delay:y=200,timeout:w,suspensible:E=!0,onError:A}=i;let R=null,H,j=0;const Q=()=>(j++,R=null,le()),le=()=>{let pe;return R||(pe=R=r().catch(me=>{if(me=me instanceof Error?me:new Error(String(me)),A)return new Promise((ve,Ee)=>{A(me,()=>ve(Q()),()=>Ee(me),j+1)});throw me}).then(me=>pe!==R&&R?R:(me&&(me.__esModule||me[Symbol.toStringTag]==="Module")&&(me=me.default),H=me,me)))};return ste({name:"AsyncComponentWrapper",__asyncLoader:le,get __asyncResolved(){return H},setup(){const pe=ec;if(H)return()=>rQ(H,pe);const me=ce=>{R=null,v2(ce,pe,13,!h)};if(E&&pe.suspense||OO)return le().then(ce=>()=>rQ(ce,pe)).catch(ce=>(me(ce),()=>h?na(h,{error:ce}):null));const ve=iV(!1),Ee=iV(),Me=iV(!!y);return y&&setTimeout(()=>{Me.value=!1},y),w!=null&&setTimeout(()=>{if(!ve.value&&!Ee.value){const ce=new Error(`Async component timed out after ${w}ms.`);me(ce),Ee.value=ce}},w),le().then(()=>{ve.value=!0,pe.parent&&uP(pe.parent.vnode)&&cz(pe.parent.update)}).catch(ce=>{me(ce),Ee.value=ce}),()=>{if(ve.value&&H)return rQ(H,pe);if(Ee.value&&h)return na(h,{error:Ee.value});if(l&&!Me.value)return na(l)}}})}function rQ(i,r){const{ref:l,props:h,children:y,ce:w}=r.vnode,E=na(i,h,y);return E.ref=l,E.ce=w,delete r.vnode.ce,E}const uP=i=>i.type.__isKeepAlive,p_e={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(i,{slots:r}){const l=vw(),h=l.ctx;if(!h.renderer)return()=>{const ce=r.default&&r.default();return ce&&ce.length===1?ce[0]:ce};const y=new Map,w=new Set;let E=null;const A=l.suspense,{renderer:{p:R,m:H,um:j,o:{createElement:Q}}}=h,le=Q("div");h.activate=(ce,q,ke,ze,We)=>{const J=ce.component;H(ce,q,ke,0,A),R(J.vnode,ce,q,ke,J,A,ze,ce.slotScopeIds,We),gu(()=>{J.isDeactivated=!1,J.a&&dO(J.a);const Te=ce.props&&ce.props.onVnodeMounted;Te&&Nf(Te,J.parent,ce)},A)},h.deactivate=ce=>{const q=ce.component;H(ce,le,null,1,A),gu(()=>{q.da&&dO(q.da);const ke=ce.props&&ce.props.onVnodeUnmounted;ke&&Nf(ke,q.parent,ce),q.isDeactivated=!0},A)};function pe(ce){iQ(ce),j(ce,l,A,!0)}function me(ce){y.forEach((q,ke)=>{const ze=jQ(q.type);ze&&(!ce||!ce(ze))&&ve(ke)})}function ve(ce){const q=y.get(ce);!E||!gg(q,E)?pe(q):E&&iQ(E),y.delete(ce),w.delete(ce)}A$(()=>[i.include,i.exclude],([ce,q])=>{ce&&me(ke=>_$(ce,ke)),q&&me(ke=>!_$(q,ke))},{flush:"post",deep:!0});let Ee=null;const Me=()=>{Ee!=null&&y.set(Ee,aQ(l.subTree))};return dP(Me),mz(Me),hz(()=>{y.forEach(ce=>{const{subTree:q,suspense:ke}=l,ze=aQ(q);if(ce.type===ze.type&&ce.key===ze.key){iQ(ze);const We=ze.component.da;We&&gu(We,ke);return}pe(ce)})}),()=>{if(Ee=null,!r.default)return null;const ce=r.default(),q=ce[0];if(ce.length>1)return E=null,ce;if(!dw(q)||!(q.shapeFlag&4)&&!(q.shapeFlag&128))return E=null,q;let ke=aQ(q);const ze=ke.type,We=jQ(n2(ke)?ke.type.__asyncResolved||{}:ze),{include:J,exclude:Te,max:Ge}=i;if(J&&(!We||!_$(J,We))||Te&&We&&_$(Te,We))return E=ke,q;const Ue=ke.key==null?ze:ke.key,ye=y.get(Ue);return ke.el&&(ke=v1(ke),q.shapeFlag&128&&(q.ssContent=ke)),Ee=Ue,ye?(ke.el=ye.el,ke.component=ye.component,ke.transition&&l2(ke,ke.transition),ke.shapeFlag|=512,w.delete(Ue),w.add(Ue)):(w.add(Ue),Ge&&w.size>parseInt(Ge,10)&&ve(w.values().next().value)),ke.shapeFlag|=256,E=ke,oce(q.type)?q:ke}}},g_e=p_e;function _$(i,r){return Jn(i)?i.some(l=>_$(l,r)):ps(i)?i.split(",").includes(r):G0e(i)?i.test(r):!1}function lce(i,r){dce(i,"a",r)}function uce(i,r){dce(i,"da",r)}function dce(i,r,l=ec){const h=i.__wdc||(i.__wdc=()=>{let y=l;for(;y;){if(y.isDeactivated)return;y=y.parent}return i()});if(fz(r,h,l),l){let y=l.parent;for(;y&&y.parent;)uP(y.parent.vnode)&&b_e(h,r,l,y),y=y.parent}}function b_e(i,r,l,h){const y=fz(r,i,h,!0);pz(()=>{Lee(h[r],y)},l)}function iQ(i){i.shapeFlag&=-257,i.shapeFlag&=-513}function aQ(i){return i.shapeFlag&128?i.ssContent:i}function fz(i,r,l=ec,h=!1){if(l){const y=l[i]||(l[i]=[]),w=r.__weh||(r.__weh=(...E)=>{if(l.isUnmounted)return;VO(),fw(l);const A=Wm(r,l,i,E);return ow(),zO(),A});return h?y.unshift(w):y.push(w),w}}const x0=i=>(r,l=ec)=>(!OO||i==="sp")&&fz(i,(...h)=>r(...h),l),fce=x0("bm"),dP=x0("m"),mce=x0("bu"),mz=x0("u"),hz=x0("bum"),pz=x0("um"),hce=x0("sp"),pce=x0("rtg"),gce=x0("rtc");function bce(i,r=ec){fz("ec",i,r)}function vce(i,r){const l=vu;if(l===null)return i;const h=vz(l)||l.proxy,y=i.dirs||(i.dirs=[]);for(let w=0;w<r.length;w++){let[E,A,R,H=Yr]=r[w];E&&(rs(E)&&(E={mounted:E,updated:E}),E.deep&&GE(A),y.push({dir:E,instance:h,value:A,oldValue:void 0,arg:R,modifiers:H}))}return i}function u1(i,r,l,h){const y=i.dirs,w=r&&r.dirs;for(let E=0;E<y.length;E++){const A=y[E];w&&(A.oldValue=w[E].value);let R=A.dir[h];R&&(VO(),Wm(R,l,8,[i.el,A,i,r]),zO())}}const rte="components",v_e="directives";function y_e(i,r){return ite(rte,i,!0,r)||i}const yce=Symbol();function __e(i){return ps(i)?ite(rte,i,!1)||i:i||yce}function w_e(i){return ite(v_e,i)}function ite(i,r,l=!0,h=!1){const y=vu||ec;if(y){const w=y.type;if(i===rte){const A=jQ(w,!1);if(A&&(A===r||A===Ll(r)||A===b2(Ll(r))))return w}const E=zse(y[i]||w[i],r)||zse(y.appContext[i],r);return!E&&h?w:E}}function zse(i,r){return i&&(i[r]||i[Ll(r)]||i[b2(Ll(r))])}function ate(i,r,l,h){let y;const w=l&&l[h];if(Jn(i)||ps(i)){y=new Array(i.length);for(let E=0,A=i.length;E<A;E++)y[E]=r(i[E],E,void 0,w&&w[E])}else if(typeof i=="number"){y=new Array(i);for(let E=0;E<i;E++)y[E]=r(E+1,E,void 0,w&&w[E])}else if(fi(i))if(i[Symbol.iterator])y=Array.from(i,(E,A)=>r(E,A,void 0,w&&w[A]));else{const E=Object.keys(i);y=new Array(E.length);for(let A=0,R=E.length;A<R;A++){const H=E[A];y[A]=r(i[H],H,A,w&&w[A])}}else y=[];return l&&(l[h]=y),y}function C_e(i,r){for(let l=0;l<r.length;l++){const h=r[l];if(Jn(h))for(let y=0;y<h.length;y++)i[h[y].name]=h[y].fn;else h&&(i[h.name]=h.key?(...y)=>{const w=h.fn(...y);return w&&(w.key=h.key),w}:h.fn)}return i}function S_e(i,r,l={},h,y){if(vu.isCE||vu.parent&&n2(vu.parent)&&vu.parent.isCE)return r!=="default"&&(l.name=r),na("slot",l,h&&h());let w=i[r];w&&w._c&&(w._d=!1),qh();const E=w&&_ce(w(l)),A=dte(ul,{key:l.key||E&&E.key||`_${r}`},E||(h?h():[]),E&&i._===1?64:-2);return!y&&A.scopeId&&(A.slotScopeIds=[A.scopeId+"-s"]),w&&w._c&&(w._d=!0),A}function _ce(i){return i.some(r=>dw(r)?!(r.type===ed||r.type===ul&&!_ce(r.children)):!0)?i:null}function E_e(i,r){const l={};for(const h in i)l[r&&/[A-Z]/.test(h)?`on:${h}`:uO(h)]=i[h];return l}const BQ=i=>i?Hce(i)?vz(i)||i.proxy:BQ(i.parent):null,O$=Mr(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>BQ(i.parent),$root:i=>BQ(i.root),$emit:i=>i.emit,$options:i=>cte(i),$forceUpdate:i=>i.f||(i.f=()=>cz(i.update)),$nextTick:i=>i.n||(i.n=Xee.bind(i.proxy)),$watch:i=>f_e.bind(i)}),cQ=(i,r)=>i!==Yr&&!i.__isScriptSetup&&gr(i,r),IQ={get({_:i},r){const{ctx:l,setupState:h,data:y,props:w,accessCache:E,type:A,appContext:R}=i;let H;if(r[0]!=="$"){const pe=E[r];if(pe!==void 0)switch(pe){case 1:return h[r];case 2:return y[r];case 4:return l[r];case 3:return w[r]}else{if(cQ(h,r))return E[r]=1,h[r];if(y!==Yr&&gr(y,r))return E[r]=2,y[r];if((H=i.propsOptions[0])&&gr(H,r))return E[r]=3,w[r];if(l!==Yr&&gr(l,r))return E[r]=4,l[r];LQ&&(E[r]=0)}}const j=O$[r];let Q,le;if(j)return r==="$attrs"&&Bf(i,"get",r),j(i);if((Q=A.__cssModules)&&(Q=Q[r]))return Q;if(l!==Yr&&gr(l,r))return E[r]=4,l[r];if(le=R.config.globalProperties,gr(le,r))return le[r]},set({_:i},r,l){const{data:h,setupState:y,ctx:w}=i;return cQ(y,r)?(y[r]=l,!0):h!==Yr&&gr(h,r)?(h[r]=l,!0):gr(i.props,r)||r[0]==="$"&&r.slice(1)in i?!1:(w[r]=l,!0)},has({_:{data:i,setupState:r,accessCache:l,ctx:h,appContext:y,propsOptions:w}},E){let A;return!!l[E]||i!==Yr&&gr(i,E)||cQ(r,E)||(A=w[0])&&gr(A,E)||gr(h,E)||gr(O$,E)||gr(y.config.globalProperties,E)},defineProperty(i,r,l){return l.get!=null?i._.accessCache[r]=0:gr(l,"value")&&this.set(i,r,l.value,null),Reflect.defineProperty(i,r,l)}},x_e=Mr({},IQ,{get(i,r){if(r!==Symbol.unscopables)return IQ.get(i,r,i)},has(i,r){return r[0]!=="_"&&!M0e(r)}});let LQ=!0;function T_e(i){const r=cte(i),l=i.proxy,h=i.ctx;LQ=!1,r.beforeCreate&&Wse(r.beforeCreate,i,"bc");const{data:y,computed:w,methods:E,watch:A,provide:R,inject:H,created:j,beforeMount:Q,mounted:le,beforeUpdate:pe,updated:me,activated:ve,deactivated:Ee,beforeDestroy:Me,beforeUnmount:ce,destroyed:q,unmounted:ke,render:ze,renderTracked:We,renderTriggered:J,errorCaptured:Te,serverPrefetch:Ge,expose:Ue,inheritAttrs:ye,components:ie,directives:Tt,filters:vt}=r;if(H&&k_e(H,h,null,i.appContext.config.unwrapInjectedRef),E)for(const ln in E){const ot=E[ln];rs(ot)&&(h[ln]=ot.bind(l))}if(y){const ln=y.call(l,l);fi(ln)&&(i.data=rz(ln))}if(LQ=!0,w)for(const ln in w){const ot=w[ln],Xn=rs(ot)?ot.bind(l,l):rs(ot.get)?ot.get.bind(l,l):Fd,hn=!rs(ot)&&rs(ot.set)?ot.set.bind(l):Fd,lt=jce({get:Xn,set:hn});Object.defineProperty(h,ln,{enumerable:!0,configurable:!0,get:()=>lt.value,set:mo=>lt.value=mo})}if(A)for(const ln in A)wce(A[ln],h,l,ln);if(R){const ln=rs(R)?R.call(l):R;Reflect.ownKeys(ln).forEach(ot=>{rce(ot,ln[ot])})}j&&Wse(j,i,"c");function I(ln,ot){Jn(ot)?ot.forEach(Xn=>ln(Xn.bind(l))):ot&&ln(ot.bind(l))}if(I(fce,Q),I(dP,le),I(mce,pe),I(mz,me),I(lce,ve),I(uce,Ee),I(bce,Te),I(gce,We),I(pce,J),I(hz,ce),I(pz,ke),I(hce,Ge),Jn(Ue))if(Ue.length){const ln=i.exposed||(i.exposed={});Ue.forEach(ot=>{Object.defineProperty(ln,ot,{get:()=>l[ot],set:Xn=>l[ot]=Xn})})}else i.exposed||(i.exposed={});ze&&i.render===Fd&&(i.render=ze),ye!=null&&(i.inheritAttrs=ye),ie&&(i.components=ie),Tt&&(i.directives=Tt)}function k_e(i,r,l=Fd,h=!1){Jn(i)&&(i=FQ(i));for(const y in i){const w=i[y];let E;fi(w)?"default"in w?E=k$(w.from||y,w.default,!0):E=k$(w.from||y):E=k$(w),Il(E)&&h?Object.defineProperty(r,y,{enumerable:!0,configurable:!0,get:()=>E.value,set:A=>E.value=A}):r[y]=E}}function Wse(i,r,l){Wm(Jn(i)?i.map(h=>h.bind(r.proxy)):i.bind(r.proxy),r,l)}function wce(i,r,l,h){const y=h.includes(".")?ace(l,h):()=>l[h];if(ps(i)){const w=r[i];rs(w)&&A$(y,w)}else if(rs(i))A$(y,i.bind(l));else if(fi(i))if(Jn(i))i.forEach(w=>wce(w,r,l,h));else{const w=rs(i.handler)?i.handler.bind(l):r[i.handler];rs(w)&&A$(y,w,i)}}function cte(i){const r=i.type,{mixins:l,extends:h}=r,{mixins:y,optionsCache:w,config:{optionMergeStrategies:E}}=i.appContext,A=w.get(r);let R;return A?R=A:!y.length&&!l&&!h?R=r:(R={},y.length&&y.forEach(H=>SV(R,H,E,!0)),SV(R,r,E)),fi(r)&&w.set(r,R),R}function SV(i,r,l,h=!1){const{mixins:y,extends:w}=r;w&&SV(i,w,l,!0),y&&y.forEach(E=>SV(i,E,l,!0));for(const E in r)if(!(h&&E==="expose")){const A=A_e[E]||l&&l[E];i[E]=A?A(i[E],r[E]):r[E]}return i}const A_e={data:Use,props:UE,emits:UE,methods:UE,computed:UE,beforeCreate:Pd,created:Pd,beforeMount:Pd,mounted:Pd,beforeUpdate:Pd,updated:Pd,beforeDestroy:Pd,beforeUnmount:Pd,destroyed:Pd,unmounted:Pd,activated:Pd,deactivated:Pd,errorCaptured:Pd,serverPrefetch:Pd,components:UE,directives:UE,watch:D_e,provide:Use,inject:O_e};function Use(i,r){return r?i?function(){return Mr(rs(i)?i.call(this,this):i,rs(r)?r.call(this,this):r)}:r:i}function O_e(i,r){return UE(FQ(i),FQ(r))}function FQ(i){if(Jn(i)){const r={};for(let l=0;l<i.length;l++)r[i[l]]=i[l];return r}return i}function Pd(i,r){return i?[...new Set([].concat(i,r))]:r}function UE(i,r){return i?Mr(Mr(Object.create(null),i),r):r}function D_e(i,r){if(!i)return r;if(!r)return i;const l=Mr(Object.create(null),i);for(const h in r)l[h]=Pd(i[h],r[h]);return l}function N_e(i,r,l,h=!1){const y={},w={};vV(w,gz,1),i.propsDefaults=Object.create(null),Cce(i,r,y,w);for(const E in i.propsOptions[0])E in y||(y[E]=void 0);l?i.props=h?y:Kae(y):i.type.props?i.props=y:i.props=w,i.attrs=w}function R_e(i,r,l,h){const{props:y,attrs:w,vnode:{patchFlag:E}}=i,A=or(y),[R]=i.propsOptions;let H=!1;if((h||E>0)&&!(E&16)){if(E&8){const j=i.vnode.dynamicProps;for(let Q=0;Q<j.length;Q++){let le=j[Q];if(lz(i.emitsOptions,le))continue;const pe=r[le];if(R)if(gr(w,le))pe!==w[le]&&(w[le]=pe,H=!0);else{const me=Ll(le);y[me]=HQ(R,A,me,pe,i,!1)}else pe!==w[le]&&(w[le]=pe,H=!0)}}}else{Cce(i,r,y,w)&&(H=!0);let j;for(const Q in A)(!r||!gr(r,Q)&&((j=Vm(Q))===Q||!gr(r,j)))&&(R?l&&(l[Q]!==void 0||l[j]!==void 0)&&(y[Q]=HQ(R,A,Q,void 0,i,!0)):delete y[Q]);if(w!==A)for(const Q in w)(!r||!gr(r,Q))&&(delete w[Q],H=!0)}H&&C0(i,"set","$attrs")}function Cce(i,r,l,h){const[y,w]=i.propsOptions;let E=!1,A;if(r)for(let R in r){if(QE(R))continue;const H=r[R];let j;y&&gr(y,j=Ll(R))?!w||!w.includes(j)?l[j]=H:(A||(A={}))[j]=H:lz(i.emitsOptions,R)||(!(R in h)||H!==h[R])&&(h[R]=H,E=!0)}if(w){const R=or(l),H=A||Yr;for(let j=0;j<w.length;j++){const Q=w[j];l[Q]=HQ(y,R,Q,H[Q],i,!gr(H,Q))}}return E}function HQ(i,r,l,h,y,w){const E=i[l];if(E!=null){const A=gr(E,"default");if(A&&h===void 0){const R=E.default;if(E.type!==Function&&rs(R)){const{propsDefaults:H}=y;l in H?h=H[l]:(fw(y),h=H[l]=R.call(null,r),ow())}else h=R}E[0]&&(w&&!A?h=!1:E[1]&&(h===""||h===Vm(l))&&(h=!0))}return h}function Sce(i,r,l=!1){const h=r.propsCache,y=h.get(i);if(y)return y;const w=i.props,E={},A=[];let R=!1;if(!rs(i)){const j=Q=>{R=!0;const[le,pe]=Sce(Q,r,!0);Mr(E,le),pe&&A.push(...pe)};!l&&r.mixins.length&&r.mixins.forEach(j),i.extends&&j(i.extends),i.mixins&&i.mixins.forEach(j)}if(!w&&!R)return fi(i)&&h.set(i,cO),cO;if(Jn(w))for(let j=0;j<w.length;j++){const Q=Ll(w[j]);jse(Q)&&(E[Q]=Yr)}else if(w)for(const j in w){const Q=Ll(j);if(jse(Q)){const le=w[j],pe=E[Q]=Jn(le)||rs(le)?{type:le}:Object.assign({},le);if(pe){const me=qse(Boolean,pe.type),ve=qse(String,pe.type);pe[0]=me>-1,pe[1]=ve<0||me<ve,(me>-1||gr(pe,"default"))&&A.push(Q)}}}const H=[E,A];return fi(i)&&h.set(i,H),H}function jse(i){return i[0]!=="$"}function Zse(i){const r=i&&i.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:i===null?"null":""}function Kse(i,r){return Zse(i)===Zse(r)}function qse(i,r){return Jn(r)?r.findIndex(l=>Kse(l,i)):rs(r)&&Kse(r,i)?0:-1}const Ece=i=>i[0]==="_"||i==="$stable",lte=i=>Jn(i)?i.map(Hm):[Hm(i)],M_e=(i,r,l)=>{if(r._n)return r;const h=Qee((...y)=>lte(r(...y)),l);return h._c=!1,h},xce=(i,r,l)=>{const h=i._ctx;for(const y in i){if(Ece(y))continue;const w=i[y];if(rs(w))r[y]=M_e(y,w,h);else if(w!=null){const E=lte(w);r[y]=()=>E}}},Tce=(i,r)=>{const l=lte(r);i.slots.default=()=>l},$_e=(i,r)=>{if(i.vnode.shapeFlag&32){const l=r._;l?(i.slots=or(r),vV(r,"_",l)):xce(r,i.slots={})}else i.slots={},r&&Tce(i,r);vV(i.slots,gz,1)},P_e=(i,r,l)=>{const{vnode:h,slots:y}=i;let w=!0,E=Yr;if(h.shapeFlag&32){const A=r._;A?l&&A===1?w=!1:(Mr(y,r),!l&&A===1&&delete y._):(w=!r.$stable,xce(r,y)),E=r}else r&&(Tce(i,r),E={default:1});if(w)for(const A in y)!Ece(A)&&!(A in E)&&delete y[A]};function kce(){return{app:null,config:{isNativeTag:rV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let B_e=0;function I_e(i,r){return function(h,y=null){rs(h)||(h=Object.assign({},h)),y!=null&&!fi(y)&&(y=null);const w=kce(),E=new Set;let A=!1;const R=w.app={_uid:B_e++,_component:h,_props:y,_container:null,_context:w,_instance:null,version:Xce,get config(){return w.config},set config(H){},use(H,...j){return E.has(H)||(H&&rs(H.install)?(E.add(H),H.install(R,...j)):rs(H)&&(E.add(H),H(R,...j))),R},mixin(H){return w.mixins.includes(H)||w.mixins.push(H),R},component(H,j){return j?(w.components[H]=j,R):w.components[H]},directive(H,j){return j?(w.directives[H]=j,R):w.directives[H]},mount(H,j,Q){if(!A){const le=na(h,y);return le.appContext=w,j&&r?r(le,H):i(le,H,Q),A=!0,R._container=H,H.__vue_app__=R,vz(le.component)||le.component.proxy}},unmount(){A&&(i(null,R._container),delete R._container.__vue_app__)},provide(H,j){return w.provides[H]=j,R}};return R}}function EV(i,r,l,h,y=!1){if(Jn(i)){i.forEach((le,pe)=>EV(le,r&&(Jn(r)?r[pe]:r),l,h,y));return}if(n2(h)&&!y)return;const w=h.shapeFlag&4?vz(h.component)||h.component.proxy:h.el,E=y?null:w,{i:A,r:R}=i,H=r&&r.r,j=A.refs===Yr?A.refs={}:A.refs,Q=A.setupState;if(H!=null&&H!==R&&(ps(H)?(j[H]=null,gr(Q,H)&&(Q[H]=null)):Il(H)&&(H.value=null)),rs(R))y0(R,A,12,[E,j]);else{const le=ps(R),pe=Il(R);if(le||pe){const me=()=>{if(i.f){const ve=le?gr(Q,R)?Q[R]:j[R]:R.value;y?Jn(ve)&&Lee(ve,w):Jn(ve)?ve.includes(w)||ve.push(w):le?(j[R]=[w],gr(Q,R)&&(Q[R]=j[R])):(R.value=[w],i.k&&(j[i.k]=R.value))}else le?(j[R]=E,gr(Q,R)&&(Q[R]=E)):pe&&(R.value=E,i.k&&(j[i.k]=E))};E?(me.id=-1,gu(me,l)):me()}}}let J_=!1;const L8=i=>/svg/.test(i.namespaceURI)&&i.tagName!=="foreignObject",F8=i=>i.nodeType===8;function L_e(i){const{mt:r,p:l,o:{patchProp:h,createText:y,nextSibling:w,parentNode:E,remove:A,insert:R,createComment:H}}=i,j=(Me,ce)=>{if(!ce.hasChildNodes()){l(null,Me,ce),CV(),ce._vnode=Me;return}J_=!1,Q(ce.firstChild,Me,null,null,null),CV(),ce._vnode=Me,J_&&console.error("Hydration completed but contains mismatches.")},Q=(Me,ce,q,ke,ze,We=!1)=>{const J=F8(Me)&&Me.data==="[",Te=()=>ve(Me,ce,q,ke,ze,J),{type:Ge,ref:Ue,shapeFlag:ye,patchFlag:ie}=ce;let Tt=Me.nodeType;ce.el=Me,ie===-2&&(We=!1,ce.dynamicChildren=null);let vt=null;switch(Ge){case u2:Tt!==3?ce.children===""?(R(ce.el=y(""),E(Me),Me),vt=Me):vt=Te():(Me.data!==ce.children&&(J_=!0,Me.data=ce.children),vt=w(Me));break;case ed:Tt!==8||J?vt=Te():vt=w(Me);break;case o2:if(J&&(Me=w(Me),Tt=Me.nodeType),Tt===1||Tt===3){vt=Me;const xt=!ce.children.length;for(let I=0;I<ce.staticCount;I++)xt&&(ce.children+=vt.nodeType===1?vt.outerHTML:vt.data),I===ce.staticCount-1&&(ce.anchor=vt),vt=w(vt);return J?w(vt):vt}else Te();break;case ul:J?vt=me(Me,ce,q,ke,ze,We):vt=Te();break;default:if(ye&1)Tt!==1||ce.type.toLowerCase()!==Me.tagName.toLowerCase()?vt=Te():vt=le(Me,ce,q,ke,ze,We);else if(ye&6){ce.slotScopeIds=ze;const xt=E(Me);if(r(ce,xt,null,q,ke,L8(xt),We),vt=J?Ee(Me):w(Me),vt&&F8(vt)&&vt.data==="teleport end"&&(vt=w(vt)),n2(ce)){let I;J?(I=na(ul),I.anchor=vt?vt.previousSibling:xt.lastChild):I=Me.nodeType===3?bz(""):na("div"),I.el=Me,ce.component.subTree=I}}else ye&64?Tt!==8?vt=Te():vt=ce.type.hydrate(Me,ce,q,ke,ze,We,i,pe):ye&128&&(vt=ce.type.hydrate(Me,ce,q,ke,L8(E(Me)),ze,We,i,Q))}return Ue!=null&&EV(Ue,null,ke,ce),vt},le=(Me,ce,q,ke,ze,We)=>{We=We||!!ce.dynamicChildren;const{type:J,props:Te,patchFlag:Ge,shapeFlag:Ue,dirs:ye}=ce,ie=J==="input"&&ye||J==="option";if(ie||Ge!==-1){if(ye&&u1(ce,null,q,"created"),Te)if(ie||!We||Ge&48)for(const vt in Te)(ie&&vt.endsWith("value")||p2(vt)&&!QE(vt))&&h(Me,vt,null,Te[vt],!1,void 0,q);else Te.onClick&&h(Me,"onClick",null,Te.onClick,!1,void 0,q);let Tt;if((Tt=Te&&Te.onVnodeBeforeMount)&&Nf(Tt,q,ce),ye&&u1(ce,null,q,"beforeMount"),((Tt=Te&&Te.onVnodeMounted)||ye)&&sce(()=>{Tt&&Nf(Tt,q,ce),ye&&u1(ce,null,q,"mounted")},ke),Ue&16&&!(Te&&(Te.innerHTML||Te.textContent))){let vt=pe(Me.firstChild,ce,Me,q,ke,ze,We);for(;vt;){J_=!0;const xt=vt;vt=vt.nextSibling,A(xt)}}else Ue&8&&Me.textContent!==ce.children&&(J_=!0,Me.textContent=ce.children)}return Me.nextSibling},pe=(Me,ce,q,ke,ze,We,J)=>{J=J||!!ce.dynamicChildren;const Te=ce.children,Ge=Te.length;for(let Ue=0;Ue<Ge;Ue++){const ye=J?Te[Ue]:Te[Ue]=Hm(Te[Ue]);if(Me)Me=Q(Me,ye,ke,ze,We,J);else{if(ye.type===u2&&!ye.children)continue;J_=!0,l(null,ye,q,null,ke,ze,L8(q),We)}}return Me},me=(Me,ce,q,ke,ze,We)=>{const{slotScopeIds:J}=ce;J&&(ze=ze?ze.concat(J):J);const Te=E(Me),Ge=pe(w(Me),ce,Te,q,ke,ze,We);return Ge&&F8(Ge)&&Ge.data==="]"?w(ce.anchor=Ge):(J_=!0,R(ce.anchor=H("]"),Te,Ge),Ge)},ve=(Me,ce,q,ke,ze,We)=>{if(J_=!0,ce.el=null,We){const Ge=Ee(Me);for(;;){const Ue=w(Me);if(Ue&&Ue!==Ge)A(Ue);else break}}const J=w(Me),Te=E(Me);return A(Me),l(null,ce,Te,J,q,ke,L8(Te),ze),J},Ee=Me=>{let ce=0;for(;Me;)if(Me=w(Me),Me&&F8(Me)&&(Me.data==="["&&ce++,Me.data==="]")){if(ce===0)return w(Me);ce--}return Me};return[j,Q]}const gu=sce;function Ace(i){return Dce(i)}function Oce(i){return Dce(i,L_e)}function Dce(i,r){const l=eye();l.__VUE__=!0;const{insert:h,remove:y,patchProp:w,createElement:E,createText:A,createComment:R,setText:H,setElementText:j,parentNode:Q,nextSibling:le,setScopeId:pe=Fd,insertStaticContent:me}=i,ve=(we,Ze,je,pt=null,Ye=null,Ae=null,Jt=!1,Wt=null,st=!!Ze.dynamicChildren)=>{if(we===Ze)return;we&&!gg(we,Ze)&&(pt=wt(we),mo(we,Ye,Ae,!0),we=null),Ze.patchFlag===-2&&(st=!1,Ze.dynamicChildren=null);const{type:Bt,ref:tn,shapeFlag:vn}=Ze;switch(Bt){case u2:Ee(we,Ze,je,pt);break;case ed:Me(we,Ze,je,pt);break;case o2:we==null&&ce(Ze,je,pt,Jt);break;case ul:ie(we,Ze,je,pt,Ye,Ae,Jt,Wt,st);break;default:vn&1?ze(we,Ze,je,pt,Ye,Ae,Jt,Wt,st):vn&6?Tt(we,Ze,je,pt,Ye,Ae,Jt,Wt,st):(vn&64||vn&128)&&Bt.process(we,Ze,je,pt,Ye,Ae,Jt,Wt,st,vr)}tn!=null&&Ye&&EV(tn,we&&we.ref,Ae,Ze||we,!Ze)},Ee=(we,Ze,je,pt)=>{if(we==null)h(Ze.el=A(Ze.children),je,pt);else{const Ye=Ze.el=we.el;Ze.children!==we.children&&H(Ye,Ze.children)}},Me=(we,Ze,je,pt)=>{we==null?h(Ze.el=R(Ze.children||""),je,pt):Ze.el=we.el},ce=(we,Ze,je,pt)=>{[we.el,we.anchor]=me(we.children,Ze,je,pt,we.el,we.anchor)},q=({el:we,anchor:Ze},je,pt)=>{let Ye;for(;we&&we!==Ze;)Ye=le(we),h(we,je,pt),we=Ye;h(Ze,je,pt)},ke=({el:we,anchor:Ze})=>{let je;for(;we&&we!==Ze;)je=le(we),y(we),we=je;y(Ze)},ze=(we,Ze,je,pt,Ye,Ae,Jt,Wt,st)=>{Jt=Jt||Ze.type==="svg",we==null?We(Ze,je,pt,Ye,Ae,Jt,Wt,st):Ge(we,Ze,Ye,Ae,Jt,Wt,st)},We=(we,Ze,je,pt,Ye,Ae,Jt,Wt)=>{let st,Bt;const{type:tn,props:vn,shapeFlag:nn,transition:kn,dirs:lo}=we;if(st=we.el=E(we.type,Ae,vn&&vn.is,vn),nn&8?j(st,we.children):nn&16&&Te(we.children,st,null,pt,Ye,Ae&&tn!=="foreignObject",Jt,Wt),lo&&u1(we,null,pt,"created"),J(st,we,we.scopeId,Jt,pt),vn){for(const Qn in vn)Qn!=="value"&&!QE(Qn)&&w(st,Qn,null,vn[Qn],Ae,we.children,pt,Ye,at);"value"in vn&&w(st,"value",null,vn.value),(Bt=vn.onVnodeBeforeMount)&&Nf(Bt,pt,we)}lo&&u1(we,null,pt,"beforeMount");const vo=(!Ye||Ye&&!Ye.pendingBranch)&&kn&&!kn.persisted;vo&&kn.beforeEnter(st),h(st,Ze,je),((Bt=vn&&vn.onVnodeMounted)||vo||lo)&&gu(()=>{Bt&&Nf(Bt,pt,we),vo&&kn.enter(st),lo&&u1(we,null,pt,"mounted")},Ye)},J=(we,Ze,je,pt,Ye)=>{if(je&&pe(we,je),pt)for(let Ae=0;Ae<pt.length;Ae++)pe(we,pt[Ae]);if(Ye){let Ae=Ye.subTree;if(Ze===Ae){const Jt=Ye.vnode;J(we,Jt,Jt.scopeId,Jt.slotScopeIds,Ye.parent)}}},Te=(we,Ze,je,pt,Ye,Ae,Jt,Wt,st=0)=>{for(let Bt=st;Bt<we.length;Bt++){const tn=we[Bt]=Wt?tw(we[Bt]):Hm(we[Bt]);ve(null,tn,Ze,je,pt,Ye,Ae,Jt,Wt)}},Ge=(we,Ze,je,pt,Ye,Ae,Jt)=>{const Wt=Ze.el=we.el;let{patchFlag:st,dynamicChildren:Bt,dirs:tn}=Ze;st|=we.patchFlag&16;const vn=we.props||Yr,nn=Ze.props||Yr;let kn;je&&VE(je,!1),(kn=nn.onVnodeBeforeUpdate)&&Nf(kn,je,Ze,we),tn&&u1(Ze,we,je,"beforeUpdate"),je&&VE(je,!0);const lo=Ye&&Ze.type!=="foreignObject";if(Bt?Ue(we.dynamicChildren,Bt,Wt,je,pt,lo,Ae):Jt||ot(we,Ze,Wt,null,je,pt,lo,Ae,!1),st>0){if(st&16)ye(Wt,Ze,vn,nn,je,pt,Ye);else if(st&2&&vn.class!==nn.class&&w(Wt,"class",null,nn.class,Ye),st&4&&w(Wt,"style",vn.style,nn.style,Ye),st&8){const vo=Ze.dynamicProps;for(let Qn=0;Qn<vo.length;Qn++){const uo=vo[Qn],mi=vn[uo],ds=nn[uo];(ds!==mi||uo==="value")&&w(Wt,uo,mi,ds,Ye,we.children,je,pt,at)}}st&1&&we.children!==Ze.children&&j(Wt,Ze.children)}else!Jt&&Bt==null&&ye(Wt,Ze,vn,nn,je,pt,Ye);((kn=nn.onVnodeUpdated)||tn)&&gu(()=>{kn&&Nf(kn,je,Ze,we),tn&&u1(Ze,we,je,"updated")},pt)},Ue=(we,Ze,je,pt,Ye,Ae,Jt)=>{for(let Wt=0;Wt<Ze.length;Wt++){const st=we[Wt],Bt=Ze[Wt],tn=st.el&&(st.type===ul||!gg(st,Bt)||st.shapeFlag&70)?Q(st.el):je;ve(st,Bt,tn,null,pt,Ye,Ae,Jt,!0)}},ye=(we,Ze,je,pt,Ye,Ae,Jt)=>{if(je!==pt){if(je!==Yr)for(const Wt in je)!QE(Wt)&&!(Wt in pt)&&w(we,Wt,je[Wt],null,Jt,Ze.children,Ye,Ae,at);for(const Wt in pt){if(QE(Wt))continue;const st=pt[Wt],Bt=je[Wt];st!==Bt&&Wt!=="value"&&w(we,Wt,Bt,st,Jt,Ze.children,Ye,Ae,at)}"value"in pt&&w(we,"value",je.value,pt.value)}},ie=(we,Ze,je,pt,Ye,Ae,Jt,Wt,st)=>{const Bt=Ze.el=we?we.el:A(""),tn=Ze.anchor=we?we.anchor:A("");let{patchFlag:vn,dynamicChildren:nn,slotScopeIds:kn}=Ze;kn&&(Wt=Wt?Wt.concat(kn):kn),we==null?(h(Bt,je,pt),h(tn,je,pt),Te(Ze.children,je,tn,Ye,Ae,Jt,Wt,st)):vn>0&&vn&64&&nn&&we.dynamicChildren?(Ue(we.dynamicChildren,nn,je,Ye,Ae,Jt,Wt),(Ze.key!=null||Ye&&Ze===Ye.subTree)&&ute(we,Ze,!0)):ot(we,Ze,je,tn,Ye,Ae,Jt,Wt,st)},Tt=(we,Ze,je,pt,Ye,Ae,Jt,Wt,st)=>{Ze.slotScopeIds=Wt,we==null?Ze.shapeFlag&512?Ye.ctx.activate(Ze,je,pt,Jt,st):vt(Ze,je,pt,Ye,Ae,Jt,st):xt(we,Ze,st)},vt=(we,Ze,je,pt,Ye,Ae,Jt)=>{const Wt=we.component=Fce(we,pt,Ye);if(uP(we)&&(Wt.ctx.renderer=vr),Vce(Wt),Wt.asyncDep){if(Ye&&Ye.registerDep(Wt,I),!we.el){const st=Wt.subTree=na(ed);Me(null,st,Ze,je)}return}I(Wt,we,Ze,je,Ye,Ae,Jt)},xt=(we,Ze,je)=>{const pt=Ze.component=we.component;if(o_e(we,Ze,je))if(pt.asyncDep&&!pt.asyncResolved){ln(pt,Ze,je);return}else pt.next=Ze,qye(pt.update),pt.update();else Ze.el=we.el,pt.vnode=Ze},I=(we,Ze,je,pt,Ye,Ae,Jt)=>{const Wt=()=>{if(we.isMounted){let{next:tn,bu:vn,u:nn,parent:kn,vnode:lo}=we,vo=tn,Qn;VE(we,!1),tn?(tn.el=lo.el,ln(we,tn,Jt)):tn=lo,vn&&dO(vn),(Qn=tn.props&&tn.props.onVnodeBeforeUpdate)&&Nf(Qn,kn,tn,lo),VE(we,!0);const uo=aV(we),mi=we.subTree;we.subTree=uo,ve(mi,uo,Q(mi.el),wt(mi),we,Ye,Ae),tn.el=uo.el,vo===null&&ete(we,uo.el),nn&&gu(nn,Ye),(Qn=tn.props&&tn.props.onVnodeUpdated)&&gu(()=>Nf(Qn,kn,tn,lo),Ye)}else{let tn;const{el:vn,props:nn}=Ze,{bm:kn,m:lo,parent:vo}=we,Qn=n2(Ze);if(VE(we,!1),kn&&dO(kn),!Qn&&(tn=nn&&nn.onVnodeBeforeMount)&&Nf(tn,vo,Ze),VE(we,!0),vn&&Ho){const uo=()=>{we.subTree=aV(we),Ho(vn,we.subTree,we,Ye,null)};Qn?Ze.type.__asyncLoader().then(()=>!we.isUnmounted&&uo()):uo()}else{const uo=we.subTree=aV(we);ve(null,uo,je,pt,we,Ye,Ae),Ze.el=uo.el}if(lo&&gu(lo,Ye),!Qn&&(tn=nn&&nn.onVnodeMounted)){const uo=Ze;gu(()=>Nf(tn,vo,uo),Ye)}(Ze.shapeFlag&256||vo&&n2(vo.vnode)&&vo.vnode.shapeFlag&256)&&we.a&&gu(we.a,Ye),we.isMounted=!0,Ze=je=pt=null}},st=we.effect=new cP(Wt,()=>cz(Bt),we.scope),Bt=we.update=()=>st.run();Bt.id=we.uid,VE(we,!0),Bt()},ln=(we,Ze,je)=>{Ze.component=we;const pt=we.vnode.props;we.vnode=Ze,we.next=null,R_e(we,Ze.props,pt,je),P_e(we,Ze.children,je),VO(),Lse(),zO()},ot=(we,Ze,je,pt,Ye,Ae,Jt,Wt,st=!1)=>{const Bt=we&&we.children,tn=we?we.shapeFlag:0,vn=Ze.children,{patchFlag:nn,shapeFlag:kn}=Ze;if(nn>0){if(nn&128){hn(Bt,vn,je,pt,Ye,Ae,Jt,Wt,st);return}else if(nn&256){Xn(Bt,vn,je,pt,Ye,Ae,Jt,Wt,st);return}}kn&8?(tn&16&&at(Bt,Ye,Ae),vn!==Bt&&j(je,vn)):tn&16?kn&16?hn(Bt,vn,je,pt,Ye,Ae,Jt,Wt,st):at(Bt,Ye,Ae,!0):(tn&8&&j(je,""),kn&16&&Te(vn,je,pt,Ye,Ae,Jt,Wt,st))},Xn=(we,Ze,je,pt,Ye,Ae,Jt,Wt,st)=>{we=we||cO,Ze=Ze||cO;const Bt=we.length,tn=Ze.length,vn=Math.min(Bt,tn);let nn;for(nn=0;nn<vn;nn++){const kn=Ze[nn]=st?tw(Ze[nn]):Hm(Ze[nn]);ve(we[nn],kn,je,null,Ye,Ae,Jt,Wt,st)}Bt>tn?at(we,Ye,Ae,!0,!1,vn):Te(Ze,je,pt,Ye,Ae,Jt,Wt,st,vn)},hn=(we,Ze,je,pt,Ye,Ae,Jt,Wt,st)=>{let Bt=0;const tn=Ze.length;let vn=we.length-1,nn=tn-1;for(;Bt<=vn&&Bt<=nn;){const kn=we[Bt],lo=Ze[Bt]=st?tw(Ze[Bt]):Hm(Ze[Bt]);if(gg(kn,lo))ve(kn,lo,je,null,Ye,Ae,Jt,Wt,st);else break;Bt++}for(;Bt<=vn&&Bt<=nn;){const kn=we[vn],lo=Ze[nn]=st?tw(Ze[nn]):Hm(Ze[nn]);if(gg(kn,lo))ve(kn,lo,je,null,Ye,Ae,Jt,Wt,st);else break;vn--,nn--}if(Bt>vn){if(Bt<=nn){const kn=nn+1,lo=kn<tn?Ze[kn].el:pt;for(;Bt<=nn;)ve(null,Ze[Bt]=st?tw(Ze[Bt]):Hm(Ze[Bt]),je,lo,Ye,Ae,Jt,Wt,st),Bt++}}else if(Bt>nn)for(;Bt<=vn;)mo(we[Bt],Ye,Ae,!0),Bt++;else{const kn=Bt,lo=Bt,vo=new Map;for(Bt=lo;Bt<=nn;Bt++){const fs=Ze[Bt]=st?tw(Ze[Bt]):Hm(Ze[Bt]);fs.key!=null&&vo.set(fs.key,Bt)}let Qn,uo=0;const mi=nn-lo+1;let ds=!1,qo=0;const wc=new Array(mi);for(Bt=0;Bt<mi;Bt++)wc[Bt]=0;for(Bt=kn;Bt<=vn;Bt++){const fs=we[Bt];if(uo>=mi){mo(fs,Ye,Ae,!0);continue}let ms;if(fs.key!=null)ms=vo.get(fs.key);else for(Qn=lo;Qn<=nn;Qn++)if(wc[Qn-lo]===0&&gg(fs,Ze[Qn])){ms=Qn;break}ms===void 0?mo(fs,Ye,Ae,!0):(wc[ms-lo]=Bt+1,ms>=qo?qo=ms:ds=!0,ve(fs,Ze[ms],je,null,Ye,Ae,Jt,Wt,st),uo++)}const oo=ds?F_e(wc):cO;for(Qn=oo.length-1,Bt=mi-1;Bt>=0;Bt--){const fs=lo+Bt,ms=Ze[fs],ba=fs+1<tn?Ze[fs+1].el:pt;wc[Bt]===0?ve(null,ms,je,ba,Ye,Ae,Jt,Wt,st):ds&&(Qn<0||Bt!==oo[Qn]?lt(ms,je,ba,2):Qn--)}}},lt=(we,Ze,je,pt,Ye=null)=>{const{el:Ae,type:Jt,transition:Wt,children:st,shapeFlag:Bt}=we;if(Bt&6){lt(we.component.subTree,Ze,je,pt);return}if(Bt&128){we.suspense.move(Ze,je,pt);return}if(Bt&64){Jt.move(we,Ze,je,vr);return}if(Jt===ul){h(Ae,Ze,je);for(let vn=0;vn<st.length;vn++)lt(st[vn],Ze,je,pt);h(we.anchor,Ze,je);return}if(Jt===o2){q(we,Ze,je);return}if(pt!==2&&Bt&1&&Wt)if(pt===0)Wt.beforeEnter(Ae),h(Ae,Ze,je),gu(()=>Wt.enter(Ae),Ye);else{const{leave:vn,delayLeave:nn,afterLeave:kn}=Wt,lo=()=>h(Ae,Ze,je),vo=()=>{vn(Ae,()=>{lo(),kn&&kn()})};nn?nn(Ae,lo,vo):vo()}else h(Ae,Ze,je)},mo=(we,Ze,je,pt=!1,Ye=!1)=>{const{type:Ae,props:Jt,ref:Wt,children:st,dynamicChildren:Bt,shapeFlag:tn,patchFlag:vn,dirs:nn}=we;if(Wt!=null&&EV(Wt,null,je,we,!0),tn&256){Ze.ctx.deactivate(we);return}const kn=tn&1&&nn,lo=!n2(we);let vo;if(lo&&(vo=Jt&&Jt.onVnodeBeforeUnmount)&&Nf(vo,Ze,we),tn&6)Mo(we.component,je,pt);else{if(tn&128){we.suspense.unmount(je,pt);return}kn&&u1(we,null,Ze,"beforeUnmount"),tn&64?we.type.remove(we,Ze,je,Ye,vr,pt):Bt&&(Ae!==ul||vn>0&&vn&64)?at(Bt,Ze,je,!1,!0):(Ae===ul&&vn&384||!Ye&&tn&16)&&at(st,Ze,je),pt&&ks(we)}(lo&&(vo=Jt&&Jt.onVnodeUnmounted)||kn)&&gu(()=>{vo&&Nf(vo,Ze,we),kn&&u1(we,null,Ze,"unmounted")},je)},ks=we=>{const{type:Ze,el:je,anchor:pt,transition:Ye}=we;if(Ze===ul){so(je,pt);return}if(Ze===o2){ke(we);return}const Ae=()=>{y(je),Ye&&!Ye.persisted&&Ye.afterLeave&&Ye.afterLeave()};if(we.shapeFlag&1&&Ye&&!Ye.persisted){const{leave:Jt,delayLeave:Wt}=Ye,st=()=>Jt(je,Ae);Wt?Wt(we.el,Ae,st):st()}else Ae()},so=(we,Ze)=>{let je;for(;we!==Ze;)je=le(we),y(we),we=je;y(Ze)},Mo=(we,Ze,je)=>{const{bum:pt,scope:Ye,update:Ae,subTree:Jt,um:Wt}=we;pt&&dO(pt),Ye.stop(),Ae&&(Ae.active=!1,mo(Jt,we,Ze,je)),Wt&&gu(Wt,Ze),gu(()=>{we.isUnmounted=!0},Ze),Ze&&Ze.pendingBranch&&!Ze.isUnmounted&&we.asyncDep&&!we.asyncResolved&&we.suspenseId===Ze.pendingId&&(Ze.deps--,Ze.deps===0&&Ze.resolve())},at=(we,Ze,je,pt=!1,Ye=!1,Ae=0)=>{for(let Jt=Ae;Jt<we.length;Jt++)mo(we[Jt],Ze,je,pt,Ye)},wt=we=>we.shapeFlag&6?wt(we.component.subTree):we.shapeFlag&128?we.suspense.next():le(we.anchor||we.el),Y=(we,Ze,je)=>{we==null?Ze._vnode&&mo(Ze._vnode,null,null,!0):ve(Ze._vnode||null,we,Ze,null,null,null,je),Lse(),CV(),Ze._vnode=we},vr={p:ve,um:mo,m:lt,r:ks,mt:vt,mc:Te,pc:ot,pbc:Ue,n:wt,o:i};let _o,Ho;return r&&([_o,Ho]=r(vr)),{render:Y,hydrate:_o,createApp:I_e(Y,_o)}}function VE({effect:i,update:r},l){i.allowRecurse=r.allowRecurse=l}function ute(i,r,l=!1){const h=i.children,y=r.children;if(Jn(h)&&Jn(y))for(let w=0;w<h.length;w++){const E=h[w];let A=y[w];A.shapeFlag&1&&!A.dynamicChildren&&((A.patchFlag<=0||A.patchFlag===32)&&(A=y[w]=tw(y[w]),A.el=E.el),l||ute(E,A)),A.type===u2&&(A.el=E.el)}}function F_e(i){const r=i.slice(),l=[0];let h,y,w,E,A;const R=i.length;for(h=0;h<R;h++){const H=i[h];if(H!==0){if(y=l[l.length-1],i[y]<H){r[h]=y,l.push(h);continue}for(w=0,E=l.length-1;w<E;)A=w+E>>1,i[l[A]]<H?w=A+1:E=A;H<i[l[w]]&&(w>0&&(r[h]=l[w-1]),l[w]=h)}}for(w=l.length,E=l[w-1];w-- >0;)l[w]=E,E=r[E];return l}const H_e=i=>i.__isTeleport,D$=i=>i&&(i.disabled||i.disabled===""),Gse=i=>typeof SVGElement<"u"&&i instanceof SVGElement,VQ=(i,r)=>{const l=i&&i.to;return ps(l)?r?r(l):null:l},V_e={__isTeleport:!0,process(i,r,l,h,y,w,E,A,R,H){const{mc:j,pc:Q,pbc:le,o:{insert:pe,querySelector:me,createText:ve,createComment:Ee}}=H,Me=D$(r.props);let{shapeFlag:ce,children:q,dynamicChildren:ke}=r;if(i==null){const ze=r.el=ve(""),We=r.anchor=ve("");pe(ze,l,h),pe(We,l,h);const J=r.target=VQ(r.props,me),Te=r.targetAnchor=ve("");J&&(pe(Te,J),E=E||Gse(J));const Ge=(Ue,ye)=>{ce&16&&j(q,Ue,ye,y,w,E,A,R)};Me?Ge(l,We):J&&Ge(J,Te)}else{r.el=i.el;const ze=r.anchor=i.anchor,We=r.target=i.target,J=r.targetAnchor=i.targetAnchor,Te=D$(i.props),Ge=Te?l:We,Ue=Te?ze:J;if(E=E||Gse(We),ke?(le(i.dynamicChildren,ke,Ge,y,w,E,A),ute(i,r,!0)):R||Q(i,r,Ge,Ue,y,w,E,A,!1),Me)Te||H8(r,l,ze,H,1);else if((r.props&&r.props.to)!==(i.props&&i.props.to)){const ye=r.target=VQ(r.props,me);ye&&H8(r,ye,null,H,0)}else Te&&H8(r,We,J,H,1)}Nce(r)},remove(i,r,l,h,{um:y,o:{remove:w}},E){const{shapeFlag:A,children:R,anchor:H,targetAnchor:j,target:Q,props:le}=i;if(Q&&w(j),(E||!D$(le))&&(w(H),A&16))for(let pe=0;pe<R.length;pe++){const me=R[pe];y(me,r,l,!0,!!me.dynamicChildren)}},move:H8,hydrate:z_e};function H8(i,r,l,{o:{insert:h},m:y},w=2){w===0&&h(i.targetAnchor,r,l);const{el:E,anchor:A,shapeFlag:R,children:H,props:j}=i,Q=w===2;if(Q&&h(E,r,l),(!Q||D$(j))&&R&16)for(let le=0;le<H.length;le++)y(H[le],r,l,2);Q&&h(A,r,l)}function z_e(i,r,l,h,y,w,{o:{nextSibling:E,parentNode:A,querySelector:R}},H){const j=r.target=VQ(r.props,R);if(j){const Q=j._lpa||j.firstChild;if(r.shapeFlag&16)if(D$(r.props))r.anchor=H(E(i),r,A(i),l,h,y,w),r.targetAnchor=Q;else{r.anchor=E(i);let le=Q;for(;le;)if(le=E(le),le&&le.nodeType===8&&le.data==="teleport anchor"){r.targetAnchor=le,j._lpa=r.targetAnchor&&E(r.targetAnchor);break}H(Q,r,j,l,h,y,w)}Nce(r)}return r.anchor&&E(r.anchor)}const W_e=V_e;function Nce(i){const r=i.ctx;if(r&&r.ut){let l=i.children[0].el;for(;l!==i.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",r.uid),l=l.nextSibling;r.ut()}}const ul=Symbol(void 0),u2=Symbol(void 0),ed=Symbol(void 0),o2=Symbol(void 0),N$=[];let Rf=null;function qh(i=!1){N$.push(Rf=i?null:[])}function Rce(){N$.pop(),Rf=N$[N$.length-1]||null}let d2=1;function zQ(i){d2+=i}function Mce(i){return i.dynamicChildren=d2>0?Rf||cO:null,Rce(),d2>0&&Rf&&Rf.push(i),i}function h0(i,r,l,h,y,w){return Mce(bu(i,r,l,h,y,w,!0))}function dte(i,r,l,h,y){return Mce(na(i,r,l,h,y,!0))}function dw(i){return i?i.__v_isVNode===!0:!1}function gg(i,r){return i.type===r.type&&i.key===r.key}function U_e(i){}const gz="__vInternal",$ce=({key:i})=>i??null,cV=({ref:i,ref_key:r,ref_for:l})=>i!=null?ps(i)||Il(i)||rs(i)?{i:vu,r:i,k:r,f:!!l}:i:null;function bu(i,r=null,l=null,h=0,y=null,w=i===ul?0:1,E=!1,A=!1){const R={__v_isVNode:!0,__v_skip:!0,type:i,props:r,key:r&&$ce(r),ref:r&&cV(r),scopeId:uz,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:w,patchFlag:h,dynamicProps:y,dynamicChildren:null,appContext:null,ctx:vu};return A?(fte(R,l),w&128&&i.normalize(R)):l&&(R.shapeFlag|=ps(l)?8:16),d2>0&&!E&&Rf&&(R.patchFlag>0||w&6)&&R.patchFlag!==32&&Rf.push(R),R}const na=j_e;function j_e(i,r=null,l=null,h=0,y=null,w=!1){if((!i||i===yce)&&(i=ed),dw(i)){const A=v1(i,r,!0);return l&&fte(A,l),d2>0&&!w&&Rf&&(A.shapeFlag&6?Rf[Rf.indexOf(i)]=A:Rf.push(A)),A.patchFlag|=-2,A}if(X_e(i)&&(i=i.__vccOpts),r){r=Pce(r);let{class:A,style:R}=r;A&&!ps(A)&&(r.class=aP(A)),fi(R)&&(jee(R)&&!Jn(R)&&(R=Mr({},R)),r.style=iP(R))}const E=ps(i)?1:oce(i)?128:H_e(i)?64:fi(i)?4:rs(i)?2:0;return bu(i,r,l,h,y,E,w,!0)}function Pce(i){return i?jee(i)||gz in i?Mr({},i):i:null}function v1(i,r,l=!1){const{props:h,ref:y,patchFlag:w,children:E}=i,A=r?Lce(h||{},r):h;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:A,key:A&&$ce(A),ref:r&&r.ref?l&&y?Jn(y)?y.concat(cV(r)):[y,cV(r)]:cV(r):y,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:E,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:r&&i.type!==ul?w===-1?16:w|16:w,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&v1(i.ssContent),ssFallback:i.ssFallback&&v1(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function bz(i=" ",r=0){return na(u2,null,i,r)}function Bce(i,r){const l=na(o2,null,i);return l.staticCount=r,l}function Ice(i="",r=!1){return r?(qh(),dte(ed,null,i)):na(ed,null,i)}function Hm(i){return i==null||typeof i=="boolean"?na(ed):Jn(i)?na(ul,null,i.slice()):typeof i=="object"?tw(i):na(u2,null,String(i))}function tw(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:v1(i)}function fte(i,r){let l=0;const{shapeFlag:h}=i;if(r==null)r=null;else if(Jn(r))l=16;else if(typeof r=="object")if(h&65){const y=r.default;y&&(y._c&&(y._d=!1),fte(i,y()),y._c&&(y._d=!0));return}else{l=32;const y=r._;!y&&!(gz in r)?r._ctx=vu:y===3&&vu&&(vu.slots._===1?r._=1:(r._=2,i.patchFlag|=1024))}else rs(r)?(r={default:r,_ctx:vu},l=32):(r=String(r),h&64?(l=16,r=[bz(r)]):l=8);i.children=r,i.shapeFlag|=l}function Lce(...i){const r={};for(let l=0;l<i.length;l++){const h=i[l];for(const y in h)if(y==="class")r.class!==h.class&&(r.class=aP([r.class,h.class]));else if(y==="style")r.style=iP([r.style,h.style]);else if(p2(y)){const w=r[y],E=h[y];E&&w!==E&&!(Jn(w)&&w.includes(E))&&(r[y]=w?[].concat(w,E):E)}else y!==""&&(r[y]=h[y])}return r}function Nf(i,r,l,h=null){Wm(i,r,7,[l,h])}const Z_e=kce();let K_e=0;function Fce(i,r,l){const h=i.type,y=(r?r.appContext:i.appContext)||Z_e,w={uid:K_e++,vnode:i,type:h,parent:r,appContext:y,root:null,next:null,subTree:null,effect:null,update:null,scope:new Vee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(y.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sce(h,y),emitsOptions:nce(h,y),emit:null,emitted:null,propsDefaults:Yr,inheritAttrs:h.inheritAttrs,ctx:Yr,data:Yr,props:Yr,attrs:Yr,slots:Yr,refs:Yr,setupState:Yr,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return w.ctx={_:w},w.root=r?r.root:w,w.emit=Yye.bind(null,w),i.ce&&i.ce(w),w}let ec=null;const vw=()=>ec||vu,fw=i=>{ec=i,i.scope.on()},ow=()=>{ec&&ec.scope.off(),ec=null};function Hce(i){return i.vnode.shapeFlag&4}let OO=!1;function Vce(i,r=!1){OO=r;const{props:l,children:h}=i.vnode,y=Hce(i);N_e(i,l,y,r),$_e(i,h);const w=y?q_e(i,r):void 0;return OO=!1,w}function q_e(i,r){const l=i.type;i.accessCache=Object.create(null),i.proxy=Zee(new Proxy(i.ctx,IQ));const{setup:h}=l;if(h){const y=i.setupContext=h.length>1?Uce(i):null;fw(i),VO();const w=y0(h,i,0,[i.props,y]);if(zO(),ow(),Fee(w)){if(w.then(ow,ow),r)return w.then(E=>{WQ(i,E,r)}).catch(E=>{v2(E,i,0)});i.asyncDep=w}else WQ(i,w,r)}else Wce(i,r)}function WQ(i,r,l){rs(r)?i.type.__ssrInlineRender?i.ssrRender=r:i.render=r:fi(r)&&(i.setupState=Gee(r)),Wce(i,l)}let xV,UQ;function zce(i){xV=i,UQ=r=>{r.render._rc&&(r.withProxy=new Proxy(r.ctx,x_e))}}const G_e=()=>!xV;function Wce(i,r,l){const h=i.type;if(!i.render){if(!r&&xV&&!h.render){const y=h.template||cte(i).template;if(y){const{isCustomElement:w,compilerOptions:E}=i.appContext.config,{delimiters:A,compilerOptions:R}=h,H=Mr(Mr({isCustomElement:w,delimiters:A},E),R);h.render=xV(y,H)}}i.render=h.render||Fd,UQ&&UQ(i)}fw(i),VO(),T_e(i),zO(),ow()}function Y_e(i){return new Proxy(i.attrs,{get(r,l){return Bf(i,"get","$attrs"),r[l]}})}function Uce(i){const r=h=>{i.exposed=h||{}};let l;return{get attrs(){return l||(l=Y_e(i))},slots:i.slots,emit:i.emit,expose:r}}function vz(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Gee(Zee(i.exposed)),{get(r,l){if(l in r)return r[l];if(l in O$)return O$[l](i)},has(r,l){return l in r||l in O$}}))}function jQ(i,r=!0){return rs(i)?i.displayName||i.name:i.name||r&&i.__name}function X_e(i){return rs(i)&&"__vccOpts"in i}const jce=(i,r)=>Wye(i,r,OO);function J_e(){return null}function Q_e(){return null}function ewe(i){}function twe(i,r){return null}function nwe(){return Zce().slots}function owe(){return Zce().attrs}function Zce(){const i=vw();return i.setupContext||(i.setupContext=Uce(i))}function swe(i,r){const l=Jn(i)?i.reduce((h,y)=>(h[y]={},h),{}):i;for(const h in r){const y=l[h];y?Jn(y)||rs(y)?l[h]={type:y,default:r[h]}:y.default=r[h]:y===null&&(l[h]={default:r[h]})}return l}function rwe(i,r){const l={};for(const h in i)r.includes(h)||Object.defineProperty(l,h,{enumerable:!0,get:()=>i[h]});return l}function iwe(i){const r=vw();let l=i();return ow(),Fee(l)&&(l=l.catch(h=>{throw fw(r),h})),[l,()=>fw(r)]}function Kce(i,r,l){const h=arguments.length;return h===2?fi(r)&&!Jn(r)?dw(r)?na(i,null,[r]):na(i,r):na(i,null,r):(h>3?l=Array.prototype.slice.call(arguments,2):h===3&&dw(l)&&(l=[l]),na(i,r,l))}const qce=Symbol(""),Gce=()=>k$(qce);function awe(){}function cwe(i,r,l,h){const y=l[h];if(y&&Yce(y,i))return y;const w=r();return w.memo=i.slice(),l[h]=w}function Yce(i,r){const l=i.memo;if(l.length!=r.length)return!1;for(let h=0;h<l.length;h++)if(kO(l[h],r[h]))return!1;return d2>0&&Rf&&Rf.push(i),!0}const Xce="3.2.47",lwe={createComponentInstance:Fce,setupComponent:Vce,renderComponentRoot:aV,setCurrentRenderingInstance:W$,isVNode:dw,normalizeVNode:Hm},uwe=lwe,dwe=null,fwe=null,mwe="http://www.w3.org/2000/svg",ZE=typeof document<"u"?document:null,Yse=ZE&&ZE.createElement("template"),hwe={insert:(i,r,l)=>{r.insertBefore(i,l||null)},remove:i=>{const r=i.parentNode;r&&r.removeChild(i)},createElement:(i,r,l,h)=>{const y=r?ZE.createElementNS(mwe,i):ZE.createElement(i,l?{is:l}:void 0);return i==="select"&&h&&h.multiple!=null&&y.setAttribute("multiple",h.multiple),y},createText:i=>ZE.createTextNode(i),createComment:i=>ZE.createComment(i),setText:(i,r)=>{i.nodeValue=r},setElementText:(i,r)=>{i.textContent=r},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>ZE.querySelector(i),setScopeId(i,r){i.setAttribute(r,"")},insertStaticContent(i,r,l,h,y,w){const E=l?l.previousSibling:r.lastChild;if(y&&(y===w||y.nextSibling))for(;r.insertBefore(y.cloneNode(!0),l),!(y===w||!(y=y.nextSibling)););else{Yse.innerHTML=h?`<svg>${i}</svg>`:i;const A=Yse.content;if(h){const R=A.firstChild;for(;R.firstChild;)A.appendChild(R.firstChild);A.removeChild(R)}r.insertBefore(A,l)}return[E?E.nextSibling:r.firstChild,l?l.previousSibling:r.lastChild]}};function pwe(i,r,l){const h=i._vtc;h&&(r=(r?[r,...h]:[...h]).join(" ")),r==null?i.removeAttribute("class"):l?i.setAttribute("class",r):i.className=r}function gwe(i,r,l){const h=i.style,y=ps(l);if(l&&!y){if(r&&!ps(r))for(const w in r)l[w]==null&&ZQ(h,w,"");for(const w in l)ZQ(h,w,l[w])}else{const w=h.display;y?r!==l&&(h.cssText=l):r&&i.removeAttribute("style"),"_vod"in i&&(h.display=w)}}const Xse=/\s*!important$/;function ZQ(i,r,l){if(Jn(l))l.forEach(h=>ZQ(i,r,h));else if(l==null&&(l=""),r.startsWith("--"))i.setProperty(r,l);else{const h=bwe(i,r);Xse.test(l)?i.setProperty(Vm(h),l.replace(Xse,""),"important"):i[h]=l}}const Jse=["Webkit","Moz","ms"],lQ={};function bwe(i,r){const l=lQ[r];if(l)return l;let h=Ll(r);if(h!=="filter"&&h in i)return lQ[r]=h;h=b2(h);for(let y=0;y<Jse.length;y++){const w=Jse[y]+h;if(w in i)return lQ[r]=w}return r}const Qse="http://www.w3.org/1999/xlink";function vwe(i,r,l,h,y){if(h&&r.startsWith("xlink:"))l==null?i.removeAttributeNS(Qse,r.slice(6,r.length)):i.setAttributeNS(Qse,r,l);else{const w=j0e(r);l==null||w&&!Oae(l)?i.removeAttribute(r):i.setAttribute(r,w?"":l)}}function ywe(i,r,l,h,y,w,E){if(r==="innerHTML"||r==="textContent"){h&&E(h,y,w),i[r]=l??"";return}if(r==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=l;const R=l??"";(i.value!==R||i.tagName==="OPTION")&&(i.value=R),l==null&&i.removeAttribute(r);return}let A=!1;if(l===""||l==null){const R=typeof i[r];R==="boolean"?l=Oae(l):l==null&&R==="string"?(l="",A=!0):R==="number"&&(l=0,A=!0)}try{i[r]=l}catch{}A&&i.removeAttribute(r)}function m0(i,r,l,h){i.addEventListener(r,l,h)}function _we(i,r,l,h){i.removeEventListener(r,l,h)}function wwe(i,r,l,h,y=null){const w=i._vei||(i._vei={}),E=w[r];if(h&&E)E.value=h;else{const[A,R]=Cwe(r);if(h){const H=w[r]=xwe(h,y);m0(i,A,H,R)}else E&&(_we(i,A,E,R),w[r]=void 0)}}const ere=/(?:Once|Passive|Capture)$/;function Cwe(i){let r;if(ere.test(i)){r={};let h;for(;h=i.match(ere);)i=i.slice(0,i.length-h[0].length),r[h[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Vm(i.slice(2)),r]}let uQ=0;const Swe=Promise.resolve(),Ewe=()=>uQ||(Swe.then(()=>uQ=0),uQ=Date.now());function xwe(i,r){const l=h=>{if(!h._vts)h._vts=Date.now();else if(h._vts<=l.attached)return;Wm(Twe(h,l.value),r,5,[h])};return l.value=i,l.attached=Ewe(),l}function Twe(i,r){if(Jn(r)){const l=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{l.call(i),i._stopped=!0},r.map(h=>y=>!y._stopped&&h&&h(y))}else return r}const tre=/^on[a-z]/,kwe=(i,r,l,h,y=!1,w,E,A,R)=>{r==="class"?pwe(i,h,y):r==="style"?gwe(i,l,h):p2(r)?Iee(r)||wwe(i,r,l,h,E):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Awe(i,r,h,y))?ywe(i,r,h,w,E,A,R):(r==="true-value"?i._trueValue=h:r==="false-value"&&(i._falseValue=h),vwe(i,r,h,y))};function Awe(i,r,l,h){return h?!!(r==="innerHTML"||r==="textContent"||r in i&&tre.test(r)&&rs(l)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&i.tagName==="INPUT"||r==="type"&&i.tagName==="TEXTAREA"||tre.test(r)&&ps(l)?!1:r in i}function Jce(i,r){const l=ste(i);class h extends yz{constructor(w){super(l,w,r)}}return h.def=l,h}const Owe=i=>Jce(i,hle),Dwe=typeof HTMLElement<"u"?HTMLElement:class{};class yz extends Dwe{constructor(r,l={},h){super(),this._def=r,this._props=l,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&h?h(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Xee(()=>{this._connected||(GQ(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let h=0;h<this.attributes.length;h++)this._setAttr(this.attributes[h].name);new MutationObserver(h=>{for(const y of h)this._setAttr(y.attributeName)}).observe(this,{attributes:!0});const r=(h,y=!1)=>{const{props:w,styles:E}=h;let A;if(w&&!Jn(w))for(const R in w){const H=w[R];(H===Number||H&&H.type===Number)&&(R in this._props&&(this._props[R]=_V(this._props[R])),(A||(A=Object.create(null)))[Ll(R)]=!0)}this._numberProps=A,y&&this._resolveProps(h),this._applyStyles(E),this._update()},l=this._def.__asyncLoader;l?l().then(h=>r(h,!0)):r(this._def)}_resolveProps(r){const{props:l}=r,h=Jn(l)?l:Object.keys(l||{});for(const y of Object.keys(this))y[0]!=="_"&&h.includes(y)&&this._setProp(y,this[y],!0,!1);for(const y of h.map(Ll))Object.defineProperty(this,y,{get(){return this._getProp(y)},set(w){this._setProp(y,w)}})}_setAttr(r){let l=this.getAttribute(r);const h=Ll(r);this._numberProps&&this._numberProps[h]&&(l=_V(l)),this._setProp(h,l,!1)}_getProp(r){return this._props[r]}_setProp(r,l,h=!0,y=!0){l!==this._props[r]&&(this._props[r]=l,y&&this._instance&&this._update(),h&&(l===!0?this.setAttribute(Vm(r),""):typeof l=="string"||typeof l=="number"?this.setAttribute(Vm(r),l+""):l||this.removeAttribute(Vm(r))))}_update(){GQ(this._createVNode(),this.shadowRoot)}_createVNode(){const r=na(this._def,Mr({},this._props));return this._instance||(r.ce=l=>{this._instance=l,l.isCE=!0;const h=(w,E)=>{this.dispatchEvent(new CustomEvent(w,{detail:E}))};l.emit=(w,...E)=>{h(w,E),Vm(w)!==w&&h(Vm(w),E)};let y=this;for(;y=y&&(y.parentNode||y.host);)if(y instanceof yz){l.parent=y._instance,l.provides=y._instance.provides;break}}),r}_applyStyles(r){r&&r.forEach(l=>{const h=document.createElement("style");h.textContent=l,this.shadowRoot.appendChild(h)})}}function Nwe(i="$style"){{const r=vw();if(!r)return Yr;const l=r.type.__cssModules;if(!l)return Yr;const h=l[i];return h||Yr}}function Rwe(i){const r=vw();if(!r)return;const l=r.ut=(y=i(r.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${r.uid}"]`)).forEach(w=>qQ(w,y))},h=()=>{const y=i(r.proxy);KQ(r.subTree,y),l(y)};ice(h),dP(()=>{const y=new MutationObserver(h);y.observe(r.subTree.el.parentNode,{childList:!0}),pz(()=>y.disconnect())})}function KQ(i,r){if(i.shapeFlag&128){const l=i.suspense;i=l.activeBranch,l.pendingBranch&&!l.isHydrating&&l.effects.push(()=>{KQ(l.activeBranch,r)})}for(;i.component;)i=i.component.subTree;if(i.shapeFlag&1&&i.el)qQ(i.el,r);else if(i.type===ul)i.children.forEach(l=>KQ(l,r));else if(i.type===o2){let{el:l,anchor:h}=i;for(;l&&(qQ(l,r),l!==h);)l=l.nextSibling}}function qQ(i,r){if(i.nodeType===1){const l=i.style;for(const h in r)l.setProperty(`--${h}`,r[h])}}const Q_="transition",h$="animation",mte=(i,{slots:r})=>Kce(ote,ele(i),r);mte.displayName="Transition";const Qce={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mwe=mte.props=Mr({},ote.props,Qce),zE=(i,r=[])=>{Jn(i)?i.forEach(l=>l(...r)):i&&i(...r)},nre=i=>i?Jn(i)?i.some(r=>r.length>1):i.length>1:!1;function ele(i){const r={};for(const ie in i)ie in Qce||(r[ie]=i[ie]);if(i.css===!1)return r;const{name:l="v",type:h,duration:y,enterFromClass:w=`${l}-enter-from`,enterActiveClass:E=`${l}-enter-active`,enterToClass:A=`${l}-enter-to`,appearFromClass:R=w,appearActiveClass:H=E,appearToClass:j=A,leaveFromClass:Q=`${l}-leave-from`,leaveActiveClass:le=`${l}-leave-active`,leaveToClass:pe=`${l}-leave-to`}=i,me=$we(y),ve=me&&me[0],Ee=me&&me[1],{onBeforeEnter:Me,onEnter:ce,onEnterCancelled:q,onLeave:ke,onLeaveCancelled:ze,onBeforeAppear:We=Me,onAppear:J=ce,onAppearCancelled:Te=q}=r,Ge=(ie,Tt,vt)=>{ew(ie,Tt?j:A),ew(ie,Tt?H:E),vt&&vt()},Ue=(ie,Tt)=>{ie._isLeaving=!1,ew(ie,Q),ew(ie,pe),ew(ie,le),Tt&&Tt()},ye=ie=>(Tt,vt)=>{const xt=ie?J:ce,I=()=>Ge(Tt,ie,vt);zE(xt,[Tt,I]),ore(()=>{ew(Tt,ie?R:w),u0(Tt,ie?j:A),nre(xt)||sre(Tt,h,ve,I)})};return Mr(r,{onBeforeEnter(ie){zE(Me,[ie]),u0(ie,w),u0(ie,E)},onBeforeAppear(ie){zE(We,[ie]),u0(ie,R),u0(ie,H)},onEnter:ye(!1),onAppear:ye(!0),onLeave(ie,Tt){ie._isLeaving=!0;const vt=()=>Ue(ie,Tt);u0(ie,Q),nle(),u0(ie,le),ore(()=>{ie._isLeaving&&(ew(ie,Q),u0(ie,pe),nre(ke)||sre(ie,h,Ee,vt))}),zE(ke,[ie,vt])},onEnterCancelled(ie){Ge(ie,!1),zE(q,[ie])},onAppearCancelled(ie){Ge(ie,!0),zE(Te,[ie])},onLeaveCancelled(ie){Ue(ie),zE(ze,[ie])}})}function $we(i){if(i==null)return null;if(fi(i))return[dQ(i.enter),dQ(i.leave)];{const r=dQ(i);return[r,r]}}function dQ(i){return _V(i)}function u0(i,r){r.split(/\s+/).forEach(l=>l&&i.classList.add(l)),(i._vtc||(i._vtc=new Set)).add(r)}function ew(i,r){r.split(/\s+/).forEach(h=>h&&i.classList.remove(h));const{_vtc:l}=i;l&&(l.delete(r),l.size||(i._vtc=void 0))}function ore(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let Pwe=0;function sre(i,r,l,h){const y=i._endId=++Pwe,w=()=>{y===i._endId&&h()};if(l)return setTimeout(w,l);const{type:E,timeout:A,propCount:R}=tle(i,r);if(!E)return h();const H=E+"end";let j=0;const Q=()=>{i.removeEventListener(H,le),w()},le=pe=>{pe.target===i&&++j>=R&&Q()};setTimeout(()=>{j<R&&Q()},A+1),i.addEventListener(H,le)}function tle(i,r){const l=window.getComputedStyle(i),h=me=>(l[me]||"").split(", "),y=h(`${Q_}Delay`),w=h(`${Q_}Duration`),E=rre(y,w),A=h(`${h$}Delay`),R=h(`${h$}Duration`),H=rre(A,R);let j=null,Q=0,le=0;r===Q_?E>0&&(j=Q_,Q=E,le=w.length):r===h$?H>0&&(j=h$,Q=H,le=R.length):(Q=Math.max(E,H),j=Q>0?E>H?Q_:h$:null,le=j?j===Q_?w.length:R.length:0);const pe=j===Q_&&/\b(transform|all)(,|$)/.test(h(`${Q_}Property`).toString());return{type:j,timeout:Q,propCount:le,hasTransform:pe}}function rre(i,r){for(;i.length<r.length;)i=i.concat(i);return Math.max(...r.map((l,h)=>ire(l)+ire(i[h])))}function ire(i){return Number(i.slice(0,-1).replace(",","."))*1e3}function nle(){return document.body.offsetHeight}const ole=new WeakMap,sle=new WeakMap,rle={name:"TransitionGroup",props:Mr({},Mwe,{tag:String,moveClass:String}),setup(i,{slots:r}){const l=vw(),h=nte();let y,w;return mz(()=>{if(!y.length)return;const E=i.moveClass||`${i.name||"v"}-move`;if(!Vwe(y[0].el,l.vnode.el,E))return;y.forEach(Lwe),y.forEach(Fwe);const A=y.filter(Hwe);nle(),A.forEach(R=>{const H=R.el,j=H.style;u0(H,E),j.transform=j.webkitTransform=j.transitionDuration="";const Q=H._moveCb=le=>{le&&le.target!==H||(!le||/transform$/.test(le.propertyName))&&(H.removeEventListener("transitionend",Q),H._moveCb=null,ew(H,E))};H.addEventListener("transitionend",Q)})}),()=>{const E=or(i),A=ele(E);let R=E.tag||ul;y=w,w=r.default?dz(r.default()):[];for(let H=0;H<w.length;H++){const j=w[H];j.key!=null&&l2(j,AO(j,A,h,l))}if(y)for(let H=0;H<y.length;H++){const j=y[H];l2(j,AO(j,A,h,l)),ole.set(j,j.el.getBoundingClientRect())}return na(R,null,w)}}},Bwe=i=>delete i.mode;rle.props;const Iwe=rle;function Lwe(i){const r=i.el;r._moveCb&&r._moveCb(),r._enterCb&&r._enterCb()}function Fwe(i){sle.set(i,i.el.getBoundingClientRect())}function Hwe(i){const r=ole.get(i),l=sle.get(i),h=r.left-l.left,y=r.top-l.top;if(h||y){const w=i.el.style;return w.transform=w.webkitTransform=`translate(${h}px,${y}px)`,w.transitionDuration="0s",i}}function Vwe(i,r,l){const h=i.cloneNode();i._vtc&&i._vtc.forEach(E=>{E.split(/\s+/).forEach(A=>A&&h.classList.remove(A))}),l.split(/\s+/).forEach(E=>E&&h.classList.add(E)),h.style.display="none";const y=r.nodeType===1?r:r.parentNode;y.appendChild(h);const{hasTransform:w}=tle(h);return y.removeChild(h),w}const mw=i=>{const r=i.props["onUpdate:modelValue"]||!1;return Jn(r)?l=>dO(r,l):r};function zwe(i){i.target.composing=!0}function are(i){const r=i.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const TV={created(i,{modifiers:{lazy:r,trim:l,number:h}},y){i._assign=mw(y);const w=h||y.props&&y.props.type==="number";m0(i,r?"change":"input",E=>{if(E.target.composing)return;let A=i.value;l&&(A=A.trim()),w&&(A=yV(A)),i._assign(A)}),l&&m0(i,"change",()=>{i.value=i.value.trim()}),r||(m0(i,"compositionstart",zwe),m0(i,"compositionend",are),m0(i,"change",are))},mounted(i,{value:r}){i.value=r??""},beforeUpdate(i,{value:r,modifiers:{lazy:l,trim:h,number:y}},w){if(i._assign=mw(w),i.composing||document.activeElement===i&&i.type!=="range"&&(l||h&&i.value.trim()===r||(y||i.type==="number")&&yV(i.value)===r))return;const E=r??"";i.value!==E&&(i.value=E)}},hte={deep:!0,created(i,r,l){i._assign=mw(l),m0(i,"change",()=>{const h=i._modelValue,y=DO(i),w=i.checked,E=i._assign;if(Jn(h)){const A=ez(h,y),R=A!==-1;if(w&&!R)E(h.concat(y));else if(!w&&R){const H=[...h];H.splice(A,1),E(H)}}else if(g2(h)){const A=new Set(h);w?A.add(y):A.delete(y),E(A)}else E(ale(i,w))})},mounted:cre,beforeUpdate(i,r,l){i._assign=mw(l),cre(i,r,l)}};function cre(i,{value:r,oldValue:l},h){i._modelValue=r,Jn(r)?i.checked=ez(r,h.props.value)>-1:g2(r)?i.checked=r.has(h.props.value):r!==l&&(i.checked=cw(r,ale(i,!0)))}const pte={created(i,{value:r},l){i.checked=cw(r,l.props.value),i._assign=mw(l),m0(i,"change",()=>{i._assign(DO(i))})},beforeUpdate(i,{value:r,oldValue:l},h){i._assign=mw(h),r!==l&&(i.checked=cw(r,h.props.value))}},ile={deep:!0,created(i,{value:r,modifiers:{number:l}},h){const y=g2(r);m0(i,"change",()=>{const w=Array.prototype.filter.call(i.options,E=>E.selected).map(E=>l?yV(DO(E)):DO(E));i._assign(i.multiple?y?new Set(w):w:w[0])}),i._assign=mw(h)},mounted(i,{value:r}){lre(i,r)},beforeUpdate(i,r,l){i._assign=mw(l)},updated(i,{value:r}){lre(i,r)}};function lre(i,r){const l=i.multiple;if(!(l&&!Jn(r)&&!g2(r))){for(let h=0,y=i.options.length;h<y;h++){const w=i.options[h],E=DO(w);if(l)Jn(r)?w.selected=ez(r,E)>-1:w.selected=r.has(E);else if(cw(DO(w),r)){i.selectedIndex!==h&&(i.selectedIndex=h);return}}!l&&i.selectedIndex!==-1&&(i.selectedIndex=-1)}}function DO(i){return"_value"in i?i._value:i.value}function ale(i,r){const l=r?"_trueValue":"_falseValue";return l in i?i[l]:r}const cle={created(i,r,l){V8(i,r,l,null,"created")},mounted(i,r,l){V8(i,r,l,null,"mounted")},beforeUpdate(i,r,l,h){V8(i,r,l,h,"beforeUpdate")},updated(i,r,l,h){V8(i,r,l,h,"updated")}};function lle(i,r){switch(i){case"SELECT":return ile;case"TEXTAREA":return TV;default:switch(r){case"checkbox":return hte;case"radio":return pte;default:return TV}}}function V8(i,r,l,h,y){const E=lle(i.tagName,l.props&&l.props.type)[y];E&&E(i,r,l,h)}function Wwe(){TV.getSSRProps=({value:i})=>({value:i}),pte.getSSRProps=({value:i},r)=>{if(r.props&&cw(r.props.value,i))return{checked:!0}},hte.getSSRProps=({value:i},r)=>{if(Jn(i)){if(r.props&&ez(i,r.props.value)>-1)return{checked:!0}}else if(g2(i)){if(r.props&&i.has(r.props.value))return{checked:!0}}else if(i)return{checked:!0}},cle.getSSRProps=(i,r)=>{if(typeof r.type!="string")return;const l=lle(r.type.toUpperCase(),r.props&&r.props.type);if(l.getSSRProps)return l.getSSRProps(i,r)}}const Uwe=["ctrl","shift","alt","meta"],jwe={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,r)=>Uwe.some(l=>i[`${l}Key`]&&!r.includes(l))},ule=(i,r)=>(l,...h)=>{for(let y=0;y<r.length;y++){const w=jwe[r[y]];if(w&&w(l,r))return}return i(l,...h)},Zwe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kwe=(i,r)=>l=>{if(!("key"in l))return;const h=Vm(l.key);if(r.some(y=>y===h||Zwe[y]===h))return i(l)},gte={beforeMount(i,{value:r},{transition:l}){i._vod=i.style.display==="none"?"":i.style.display,l&&r?l.beforeEnter(i):p$(i,r)},mounted(i,{value:r},{transition:l}){l&&r&&l.enter(i)},updated(i,{value:r,oldValue:l},{transition:h}){!r!=!l&&(h?r?(h.beforeEnter(i),p$(i,!0),h.enter(i)):h.leave(i,()=>{p$(i,!1)}):p$(i,r))},beforeUnmount(i,{value:r}){p$(i,r)}};function p$(i,r){i.style.display=r?i._vod:"none"}function qwe(){gte.getSSRProps=({value:i})=>{if(!i)return{style:{display:"none"}}}}const dle=Mr({patchProp:kwe},hwe);let R$,ure=!1;function fle(){return R$||(R$=Ace(dle))}function mle(){return R$=ure?R$:Oce(dle),ure=!0,R$}const GQ=(...i)=>{fle().render(...i)},hle=(...i)=>{mle().hydrate(...i)},ple=(...i)=>{const r=fle().createApp(...i),{mount:l}=r;return r.mount=h=>{const y=gle(h);if(!y)return;const w=r._component;!rs(w)&&!w.render&&!w.template&&(w.template=y.innerHTML),y.innerHTML="";const E=l(y,!1,y instanceof SVGElement);return y instanceof Element&&(y.removeAttribute("v-cloak"),y.setAttribute("data-v-app","")),E},r},Gwe=(...i)=>{const r=mle().createApp(...i),{mount:l}=r;return r.mount=h=>{const y=gle(h);if(y)return l(y,!0,y instanceof SVGElement)},r};function gle(i){return ps(i)?document.querySelector(i):i}let dre=!1;const Ywe=()=>{dre||(dre=!0,Wwe(),qwe())},Xwe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ote,Comment:ed,EffectScope:Vee,Fragment:ul,KeepAlive:g_e,ReactiveEffect:cP,Static:o2,Suspense:r_e,Teleport:W_e,Text:u2,Transition:mte,TransitionGroup:Iwe,VueElement:yz,assertNumber:jye,callWithAsyncErrorHandling:Wm,callWithErrorHandling:y0,camelize:Ll,capitalize:b2,cloneVNode:v1,compatUtils:fwe,computed:jce,createApp:ple,createBlock:dte,createCommentVNode:Ice,createElementBlock:h0,createElementVNode:bu,createHydrationRenderer:Oce,createPropsRestProxy:rwe,createRenderer:Ace,createSSRApp:Gwe,createSlots:C_e,createStaticVNode:Bce,createTextVNode:bz,createVNode:na,customRef:Fye,defineAsyncComponent:h_e,defineComponent:ste,defineCustomElement:Jce,defineEmits:Q_e,defineExpose:ewe,defineProps:J_e,defineSSRCustomElement:Owe,get devtools(){return oO},effect:rye,effectScope:tye,getCurrentInstance:vw,getCurrentScope:$ae,getTransitionRawChildren:dz,guardReactiveProps:Pce,h:Kce,handleError:v2,hydrate:hle,initCustomFormatter:awe,initDirectivesForSSR:Ywe,inject:k$,isMemoSame:Yce,isProxy:jee,isReactive:t2,isReadonly:c2,isRef:Il,isRuntimeOnly:G_e,isShallow:F$,isVNode:dw,markRaw:Zee,mergeDefaults:swe,mergeProps:Lce,nextTick:Xee,normalizeClass:aP,normalizeProps:I0e,normalizeStyle:iP,onActivated:lce,onBeforeMount:fce,onBeforeUnmount:hz,onBeforeUpdate:mce,onDeactivated:uce,onErrorCaptured:bce,onMounted:dP,onRenderTracked:gce,onRenderTriggered:pce,onScopeDispose:nye,onServerPrefetch:hce,onUnmounted:pz,onUpdated:mz,openBlock:qh,popScopeId:Jye,provide:rce,proxyRefs:Gee,pushScopeId:Xye,queuePostFlushCb:Jee,reactive:rz,readonly:Uee,ref:iV,registerRuntimeCompiler:zce,render:GQ,renderList:ate,renderSlot:S_e,resolveComponent:y_e,resolveDirective:w_e,resolveDynamicComponent:__e,resolveFilter:dwe,resolveTransitionHooks:AO,setBlockTracking:zQ,setDevtoolsHook:tce,setTransitionHooks:l2,shallowReactive:Kae,shallowReadonly:Mye,shallowRef:$ye,ssrContextKey:qce,ssrUtils:uwe,stop:iye,toDisplayString:Bee,toHandlerKey:uO,toHandlers:E_e,toRaw:or,toRef:Yae,toRefs:Hye,transformVNodeArgs:U_e,triggerRef:Bye,unref:Gae,useAttrs:owe,useCssModule:Nwe,useCssVars:Rwe,useSSRContext:Gce,useSlots:nwe,useTransitionState:nte,vModelCheckbox:hte,vModelDynamic:cle,vModelRadio:pte,vModelSelect:ile,vModelText:TV,vShow:gte,version:Xce,warn:Uye,watch:A$,watchEffect:u_e,watchPostEffect:ice,watchSyncEffect:d_e,withAsyncContext:iwe,withCtx:Qee,withDefaults:twe,withDirectives:vce,withKeys:Kwe,withMemo:cwe,withModifiers:ule,withScopeId:Qye},Symbol.toStringTag,{value:"Module"}));function bte(i){throw i}function ble(i){}function ga(i,r,l,h){const y=i,w=new SyntaxError(String(y));return w.code=i,w.loc=r,w}const j$=Symbol(""),M$=Symbol(""),vte=Symbol(""),kV=Symbol(""),vle=Symbol(""),f2=Symbol(""),yle=Symbol(""),_le=Symbol(""),yte=Symbol(""),_te=Symbol(""),fP=Symbol(""),wte=Symbol(""),wle=Symbol(""),Cte=Symbol(""),AV=Symbol(""),Ste=Symbol(""),Ete=Symbol(""),xte=Symbol(""),Tte=Symbol(""),Cle=Symbol(""),Sle=Symbol(""),_z=Symbol(""),OV=Symbol(""),kte=Symbol(""),Ate=Symbol(""),Z$=Symbol(""),mP=Symbol(""),Ote=Symbol(""),YQ=Symbol(""),Jwe=Symbol(""),XQ=Symbol(""),DV=Symbol(""),Qwe=Symbol(""),eCe=Symbol(""),Dte=Symbol(""),tCe=Symbol(""),nCe=Symbol(""),Nte=Symbol(""),Ele=Symbol(""),NO={[j$]:"Fragment",[M$]:"Teleport",[vte]:"Suspense",[kV]:"KeepAlive",[vle]:"BaseTransition",[f2]:"openBlock",[yle]:"createBlock",[_le]:"createElementBlock",[yte]:"createVNode",[_te]:"createElementVNode",[fP]:"createCommentVNode",[wte]:"createTextVNode",[wle]:"createStaticVNode",[Cte]:"resolveComponent",[AV]:"resolveDynamicComponent",[Ste]:"resolveDirective",[Ete]:"resolveFilter",[xte]:"withDirectives",[Tte]:"renderList",[Cle]:"renderSlot",[Sle]:"createSlots",[_z]:"toDisplayString",[OV]:"mergeProps",[kte]:"normalizeClass",[Ate]:"normalizeStyle",[Z$]:"normalizeProps",[mP]:"guardReactiveProps",[Ote]:"toHandlers",[YQ]:"camelize",[Jwe]:"capitalize",[XQ]:"toHandlerKey",[DV]:"setBlockTracking",[Qwe]:"pushScopeId",[eCe]:"popScopeId",[Dte]:"withCtx",[tCe]:"unref",[nCe]:"isRef",[Nte]:"withMemo",[Ele]:"isMemoSame"};function oCe(i){Object.getOwnPropertySymbols(i).forEach(r=>{NO[r]=i[r]})}const qm={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function sCe(i,r=qm){return{type:0,children:i,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:r}}function K$(i,r,l,h,y,w,E,A=!1,R=!1,H=!1,j=qm){return i&&(A?(i.helper(f2),i.helper($O(i.inSSR,H))):i.helper(MO(i.inSSR,H)),E&&i.helper(xte)),{type:13,tag:r,props:l,children:h,patchFlag:y,dynamicProps:w,directives:E,isBlock:A,disableTracking:R,isComponent:H,loc:j}}function hP(i,r=qm){return{type:17,loc:r,elements:i}}function Gh(i,r=qm){return{type:15,loc:r,properties:i}}function tc(i,r){return{type:16,loc:qm,key:ps(i)?Ms(i,!0):i,value:r}}function Ms(i,r=!1,l=qm,h=0){return{type:4,loc:l,content:i,isStatic:r,constType:r?3:h}}function yg(i,r=qm){return{type:8,loc:r,children:i}}function Ic(i,r=[],l=qm){return{type:14,loc:l,callee:i,arguments:r}}function RO(i,r=void 0,l=!1,h=!1,y=qm){return{type:18,params:i,returns:r,newline:l,isSlot:h,loc:y}}function JQ(i,r,l,h=!0){return{type:19,test:i,consequent:r,alternate:l,newline:h,loc:qm}}function rCe(i,r,l=!1){return{type:20,index:i,value:r,isVNode:l,loc:qm}}function iCe(i){return{type:21,body:i,loc:qm}}const Mf=i=>i.type===4&&i.isStatic,iO=(i,r)=>i===r||i===Vm(r);function xle(i){if(iO(i,"Teleport"))return M$;if(iO(i,"Suspense"))return vte;if(iO(i,"KeepAlive"))return kV;if(iO(i,"BaseTransition"))return vle}const aCe=/^\d|[^\$\w]/,Rte=i=>!aCe.test(i),cCe=/[A-Za-z_$\xA0-\uFFFF]/,lCe=/[\.\?\w$\xA0-\uFFFF]/,uCe=/\s+[.[]\s*|\s*[.[]\s+/g,dCe=i=>{i=i.trim().replace(uCe,E=>E.trim());let r=0,l=[],h=0,y=0,w=null;for(let E=0;E<i.length;E++){const A=i.charAt(E);switch(r){case 0:if(A==="[")l.push(r),r=1,h++;else if(A==="(")l.push(r),r=2,y++;else if(!(E===0?cCe:lCe).test(A))return!1;break;case 1:A==="'"||A==='"'||A==="`"?(l.push(r),r=3,w=A):A==="["?h++:A==="]"&&(--h||(r=l.pop()));break;case 2:if(A==="'"||A==='"'||A==="`")l.push(r),r=3,w=A;else if(A==="(")y++;else if(A===")"){if(E===i.length-1)return!1;--y||(r=l.pop())}break;case 3:A===w&&(r=l.pop(),w=null);break}}return!h&&!y},Tle=dCe;function kle(i,r,l){const y={source:i.source.slice(r,r+l),start:NV(i.start,i.source,r),end:i.end};return l!=null&&(y.end=NV(i.start,i.source,r+l)),y}function NV(i,r,l=r.length){return RV(Mr({},i),r,l)}function RV(i,r,l=r.length){let h=0,y=-1;for(let w=0;w<l;w++)r.charCodeAt(w)===10&&(h++,y=w);return i.offset+=l,i.line+=h,i.column=y===-1?i.column+l:l-y,i}function Kh(i,r,l=!1){for(let h=0;h<i.props.length;h++){const y=i.props[h];if(y.type===7&&(l||y.exp)&&(ps(r)?y.name===r:r.test(y.name)))return y}}function wz(i,r,l=!1,h=!1){for(let y=0;y<i.props.length;y++){const w=i.props[y];if(w.type===6){if(l)continue;if(w.name===r&&(w.value||h))return w}else if(w.name==="bind"&&(w.exp||h)&&YE(w.arg,r))return w}}function YE(i,r){return!!(i&&Mf(i)&&i.content===r)}function fCe(i){return i.props.some(r=>r.type===7&&r.name==="bind"&&(!r.arg||r.arg.type!==4||!r.arg.isStatic))}function fQ(i){return i.type===5||i.type===2}function mCe(i){return i.type===7&&i.name==="slot"}function MV(i){return i.type===1&&i.tagType===3}function $V(i){return i.type===1&&i.tagType===2}function MO(i,r){return i||r?yte:_te}function $O(i,r){return i||r?yle:_le}const hCe=new Set([Z$,mP]);function Ale(i,r=[]){if(i&&!ps(i)&&i.type===14){const l=i.callee;if(!ps(l)&&hCe.has(l))return Ale(i.arguments[0],r.concat(i))}return[i,r]}function PV(i,r,l){let h,y=i.type===13?i.props:i.arguments[2],w=[],E;if(y&&!ps(y)&&y.type===14){const A=Ale(y);y=A[0],w=A[1],E=w[w.length-1]}if(y==null||ps(y))h=Gh([r]);else if(y.type===14){const A=y.arguments[0];!ps(A)&&A.type===15?fre(r,A)||A.properties.unshift(r):y.callee===Ote?h=Ic(l.helper(OV),[Gh([r]),y]):y.arguments.unshift(Gh([r])),!h&&(h=y)}else y.type===15?(fre(r,y)||y.properties.unshift(r),h=y):(h=Ic(l.helper(OV),[Gh([r]),y]),E&&E.callee===mP&&(E=w[w.length-2]));i.type===13?E?E.arguments[0]=h:i.props=h:E?E.arguments[0]=h:i.arguments[2]=h}function fre(i,r){let l=!1;if(i.key.type===4){const h=i.key.content;l=r.properties.some(y=>y.key.type===4&&y.key.content===h)}return l}function q$(i,r){return`_${r}_${i.replace(/[^\w]/g,(l,h)=>l==="-"?"_":i.charCodeAt(h).toString())}`}function pCe(i){return i.type===14&&i.callee===Nte?i.arguments[1].returns:i}function Mte(i,{helper:r,removeHelper:l,inSSR:h}){i.isBlock||(i.isBlock=!0,l(MO(h,i.isComponent)),r(f2),r($O(h,i.isComponent)))}function mre(i,r){const l=r.options?r.options.compatConfig:r.compatConfig,h=l&&l[i];return i==="MODE"?h||3:h}function s2(i,r){const l=mre("MODE",r),h=mre(i,r);return l===3?h===!0:h!==!1}function G$(i,r,l,...h){return s2(i,r)}const gCe=/&(gt|lt|amp|apos|quot);/g,bCe={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},hre={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:rV,isPreTag:rV,isCustomElement:rV,decodeEntities:i=>i.replace(gCe,(r,l)=>bCe[l]),onError:bte,onWarn:ble,comments:!1};function vCe(i,r={}){const l=yCe(i,r),h=Um(l);return sCe($te(l,0,[]),tp(l,h))}function yCe(i,r){const l=Mr({},hre);let h;for(h in r)l[h]=r[h]===void 0?hre[h]:r[h];return{options:l,column:1,line:1,offset:0,originalSource:i,source:i,inPre:!1,inVPre:!1,onWarn:l.onWarn}}function $te(i,r,l){const h=Cz(l),y=h?h.ns:0,w=[];for(;!ACe(i,r,l);){const A=i.source;let R;if(r===0||r===1){if(!i.inVPre&&Qu(A,i.options.delimiters[0]))R=TCe(i,r);else if(r===0&&A[0]==="<")if(A.length===1)Gr(i,5,1);else if(A[1]==="!")Qu(A,"<!--")?R=wCe(i):Qu(A,"<!DOCTYPE")?R=g$(i):Qu(A,"<![CDATA[")?y!==0?R=_Ce(i,l):(Gr(i,1),R=g$(i)):(Gr(i,11),R=g$(i));else if(A[1]==="/")if(A.length===2)Gr(i,5,2);else if(A[2]===">"){Gr(i,14,2),dl(i,3);continue}else if(/[a-z]/i.test(A[2])){Gr(i,23),QQ(i,1,h);continue}else Gr(i,12,2),R=g$(i);else/[a-z]/i.test(A[1])?(R=CCe(i,l),s2("COMPILER_NATIVE_TEMPLATE",i)&&R&&R.tag==="template"&&!R.props.some(H=>H.type===7&&Ole(H.name))&&(R=R.children)):A[1]==="?"?(Gr(i,21,1),R=g$(i)):Gr(i,12,1)}if(R||(R=kCe(i,r)),Jn(R))for(let H=0;H<R.length;H++)pre(w,R[H]);else pre(w,R)}let E=!1;if(r!==2&&r!==1){const A=i.options.whitespace!=="preserve";for(let R=0;R<w.length;R++){const H=w[R];if(H.type===2)if(i.inPre)H.content=H.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(H.content))A&&(H.content=H.content.replace(/[\t\r\n\f ]+/g," "));else{const j=w[R-1],Q=w[R+1];!j||!Q||A&&(j.type===3&&Q.type===3||j.type===3&&Q.type===1||j.type===1&&Q.type===3||j.type===1&&Q.type===1&&/[\r\n]/.test(H.content))?(E=!0,w[R]=null):H.content=" "}else H.type===3&&!i.options.comments&&(E=!0,w[R]=null)}if(i.inPre&&h&&i.options.isPreTag(h.tag)){const R=w[0];R&&R.type===2&&(R.content=R.content.replace(/^\r?\n/,""))}}return E?w.filter(Boolean):w}function pre(i,r){if(r.type===2){const l=Cz(i);if(l&&l.type===2&&l.loc.end.offset===r.loc.start.offset){l.content+=r.content,l.loc.end=r.loc.end,l.loc.source+=r.loc.source;return}}i.push(r)}function _Ce(i,r){dl(i,9);const l=$te(i,3,r);return i.source.length===0?Gr(i,6):dl(i,3),l}function wCe(i){const r=Um(i);let l;const h=/--(\!)?>/.exec(i.source);if(!h)l=i.source.slice(4),dl(i,i.source.length),Gr(i,7);else{h.index<=3&&Gr(i,0),h[1]&&Gr(i,10),l=i.source.slice(4,h.index);const y=i.source.slice(0,h.index);let w=1,E=0;for(;(E=y.indexOf("<!--",w))!==-1;)dl(i,E-w+1),E+4<y.length&&Gr(i,16),w=E+1;dl(i,h.index+h[0].length-w+1)}return{type:3,content:l,loc:tp(i,r)}}function g$(i){const r=Um(i),l=i.source[1]==="?"?1:2;let h;const y=i.source.indexOf(">");return y===-1?(h=i.source.slice(l),dl(i,i.source.length)):(h=i.source.slice(l,y),dl(i,y+1)),{type:3,content:h,loc:tp(i,r)}}function CCe(i,r){const l=i.inPre,h=i.inVPre,y=Cz(r),w=QQ(i,0,y),E=i.inPre&&!l,A=i.inVPre&&!h;if(w.isSelfClosing||i.options.isVoidTag(w.tag))return E&&(i.inPre=!1),A&&(i.inVPre=!1),w;r.push(w);const R=i.options.getTextMode(w,y),H=$te(i,R,r);r.pop();{const j=w.props.find(Q=>Q.type===6&&Q.name==="inline-template");if(j&&G$("COMPILER_INLINE_TEMPLATE",i,j.loc)){const Q=tp(i,w.loc.end);j.value={type:2,content:Q.source,loc:Q}}}if(w.children=H,eee(i.source,w.tag))QQ(i,1,y);else if(Gr(i,24,0,w.loc.start),i.source.length===0&&w.tag.toLowerCase()==="script"){const j=H[0];j&&Qu(j.loc.source,"<!--")&&Gr(i,8)}return w.loc=tp(i,w.loc.start),E&&(i.inPre=!1),A&&(i.inVPre=!1),w}const Ole=If("if,else,else-if,for,slot");function QQ(i,r,l){const h=Um(i),y=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(i.source),w=y[1],E=i.options.getNamespace(w,l);dl(i,y[0].length),Y$(i);const A=Um(i),R=i.source;i.options.isPreTag(w)&&(i.inPre=!0);let H=gre(i,r);r===0&&!i.inVPre&&H.some(le=>le.type===7&&le.name==="pre")&&(i.inVPre=!0,Mr(i,A),i.source=R,H=gre(i,r).filter(le=>le.name!=="v-pre"));let j=!1;if(i.source.length===0?Gr(i,9):(j=Qu(i.source,"/>"),r===1&&j&&Gr(i,4),dl(i,j?2:1)),r===1)return;let Q=0;return i.inVPre||(w==="slot"?Q=2:w==="template"?H.some(le=>le.type===7&&Ole(le.name))&&(Q=3):SCe(w,H,i)&&(Q=1)),{type:1,ns:E,tag:w,tagType:Q,props:H,isSelfClosing:j,children:[],loc:tp(i,h),codegenNode:void 0}}function SCe(i,r,l){const h=l.options;if(h.isCustomElement(i))return!1;if(i==="component"||/^[A-Z]/.test(i)||xle(i)||h.isBuiltInComponent&&h.isBuiltInComponent(i)||h.isNativeTag&&!h.isNativeTag(i))return!0;for(let y=0;y<r.length;y++){const w=r[y];if(w.type===6){if(w.name==="is"&&w.value){if(w.value.content.startsWith("vue:"))return!0;if(G$("COMPILER_IS_ON_ELEMENT",l,w.loc))return!0}}else{if(w.name==="is")return!0;if(w.name==="bind"&&YE(w.arg,"is")&&G$("COMPILER_IS_ON_ELEMENT",l,w.loc))return!0}}}function gre(i,r){const l=[],h=new Set;for(;i.source.length>0&&!Qu(i.source,">")&&!Qu(i.source,"/>");){if(Qu(i.source,"/")){Gr(i,22),dl(i,1),Y$(i);continue}r===1&&Gr(i,3);const y=ECe(i,h);y.type===6&&y.value&&y.name==="class"&&(y.value.content=y.value.content.replace(/\s+/g," ").trim()),r===0&&l.push(y),/^[^\t\r\n\f />]/.test(i.source)&&Gr(i,15),Y$(i)}return l}function ECe(i,r){const l=Um(i),y=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(i.source)[0];r.has(y)&&Gr(i,2),r.add(y),y[0]==="="&&Gr(i,19);{const A=/["'<]/g;let R;for(;R=A.exec(y);)Gr(i,17,R.index)}dl(i,y.length);let w;/^[\t\r\n\f ]*=/.test(i.source)&&(Y$(i),dl(i,1),Y$(i),w=xCe(i),w||Gr(i,13));const E=tp(i,l);if(!i.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(y)){const A=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(y);let R=Qu(y,"."),H=A[1]||(R||Qu(y,":")?"bind":Qu(y,"@")?"on":"slot"),j;if(A[2]){const le=H==="slot",pe=y.lastIndexOf(A[2]),me=tp(i,bre(i,l,pe),bre(i,l,pe+A[2].length+(le&&A[3]||"").length));let ve=A[2],Ee=!0;ve.startsWith("[")?(Ee=!1,ve.endsWith("]")?ve=ve.slice(1,ve.length-1):(Gr(i,27),ve=ve.slice(1))):le&&(ve+=A[3]||""),j={type:4,content:ve,isStatic:Ee,constType:Ee?3:0,loc:me}}if(w&&w.isQuoted){const le=w.loc;le.start.offset++,le.start.column++,le.end=NV(le.start,w.content),le.source=le.source.slice(1,-1)}const Q=A[3]?A[3].slice(1).split("."):[];return R&&Q.push("prop"),H==="bind"&&j&&Q.includes("sync")&&G$("COMPILER_V_BIND_SYNC",i,E,j.loc.source)&&(H="model",Q.splice(Q.indexOf("sync"),1)),{type:7,name:H,exp:w&&{type:4,content:w.content,isStatic:!1,constType:0,loc:w.loc},arg:j,modifiers:Q,loc:E}}return!i.inVPre&&Qu(y,"v-")&&Gr(i,26),{type:6,name:y,value:w&&{type:2,content:w.content,loc:w.loc},loc:E}}function xCe(i){const r=Um(i);let l;const h=i.source[0],y=h==='"'||h==="'";if(y){dl(i,1);const w=i.source.indexOf(h);w===-1?l=$$(i,i.source.length,4):(l=$$(i,w,4),dl(i,1))}else{const w=/^[^\t\r\n\f >]+/.exec(i.source);if(!w)return;const E=/["'<=`]/g;let A;for(;A=E.exec(w[0]);)Gr(i,18,A.index);l=$$(i,w[0].length,4)}return{content:l,isQuoted:y,loc:tp(i,r)}}function TCe(i,r){const[l,h]=i.options.delimiters,y=i.source.indexOf(h,l.length);if(y===-1){Gr(i,25);return}const w=Um(i);dl(i,l.length);const E=Um(i),A=Um(i),R=y-l.length,H=i.source.slice(0,R),j=$$(i,R,r),Q=j.trim(),le=j.indexOf(Q);le>0&&RV(E,H,le);const pe=R-(j.length-Q.length-le);return RV(A,H,pe),dl(i,h.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:Q,loc:tp(i,E,A)},loc:tp(i,w)}}function kCe(i,r){const l=r===3?["]]>"]:["<",i.options.delimiters[0]];let h=i.source.length;for(let E=0;E<l.length;E++){const A=i.source.indexOf(l[E],1);A!==-1&&h>A&&(h=A)}const y=Um(i);return{type:2,content:$$(i,h,r),loc:tp(i,y)}}function $$(i,r,l){const h=i.source.slice(0,r);return dl(i,r),l===2||l===3||!h.includes("&")?h:i.options.decodeEntities(h,l===4)}function Um(i){const{column:r,line:l,offset:h}=i;return{column:r,line:l,offset:h}}function tp(i,r,l){return l=l||Um(i),{start:r,end:l,source:i.originalSource.slice(r.offset,l.offset)}}function Cz(i){return i[i.length-1]}function Qu(i,r){return i.startsWith(r)}function dl(i,r){const{source:l}=i;RV(i,l,r),i.source=l.slice(r)}function Y$(i){const r=/^[\t\r\n\f ]+/.exec(i.source);r&&dl(i,r[0].length)}function bre(i,r,l){return NV(r,i.originalSource.slice(r.offset,l),l)}function Gr(i,r,l,h=Um(i)){l&&(h.offset+=l,h.column+=l),i.options.onError(ga(r,{start:h,end:h,source:""}))}function ACe(i,r,l){const h=i.source;switch(r){case 0:if(Qu(h,"</")){for(let y=l.length-1;y>=0;--y)if(eee(h,l[y].tag))return!0}break;case 1:case 2:{const y=Cz(l);if(y&&eee(h,y.tag))return!0;break}case 3:if(Qu(h,"]]>"))return!0;break}return!h}function eee(i,r){return Qu(i,"</")&&i.slice(2,2+r.length).toLowerCase()===r.toLowerCase()&&/[\t\r\n\f />]/.test(i[2+r.length]||">")}function OCe(i,r){lV(i,r,Dle(i,i.children[0]))}function Dle(i,r){const{children:l}=i;return l.length===1&&r.type===1&&!$V(r)}function lV(i,r,l=!1){const{children:h}=i,y=h.length;let w=0;for(let E=0;E<h.length;E++){const A=h[E];if(A.type===1&&A.tagType===0){const R=l?0:Yh(A,r);if(R>0){if(R>=2){A.codegenNode.patchFlag=-1+"",A.codegenNode=r.hoist(A.codegenNode),w++;continue}}else{const H=A.codegenNode;if(H.type===13){const j=$le(H);if((!j||j===512||j===1)&&Rle(A,r)>=2){const Q=Mle(A);Q&&(H.props=r.hoist(Q))}H.dynamicProps&&(H.dynamicProps=r.hoist(H.dynamicProps))}}}if(A.type===1){const R=A.tagType===1;R&&r.scopes.vSlot++,lV(A,r),R&&r.scopes.vSlot--}else if(A.type===11)lV(A,r,A.children.length===1);else if(A.type===9)for(let R=0;R<A.branches.length;R++)lV(A.branches[R],r,A.branches[R].children.length===1)}w&&r.transformHoist&&r.transformHoist(h,r,i),w&&w===y&&i.type===1&&i.tagType===0&&i.codegenNode&&i.codegenNode.type===13&&Jn(i.codegenNode.children)&&(i.codegenNode.children=r.hoist(hP(i.codegenNode.children)))}function Yh(i,r){const{constantCache:l}=r;switch(i.type){case 1:if(i.tagType!==0)return 0;const h=l.get(i);if(h!==void 0)return h;const y=i.codegenNode;if(y.type!==13||y.isBlock&&i.tag!=="svg"&&i.tag!=="foreignObject")return 0;if($le(y))return l.set(i,0),0;{let A=3;const R=Rle(i,r);if(R===0)return l.set(i,0),0;R<A&&(A=R);for(let H=0;H<i.children.length;H++){const j=Yh(i.children[H],r);if(j===0)return l.set(i,0),0;j<A&&(A=j)}if(A>1)for(let H=0;H<i.props.length;H++){const j=i.props[H];if(j.type===7&&j.name==="bind"&&j.exp){const Q=Yh(j.exp,r);if(Q===0)return l.set(i,0),0;Q<A&&(A=Q)}}if(y.isBlock){for(let H=0;H<i.props.length;H++)if(i.props[H].type===7)return l.set(i,0),0;r.removeHelper(f2),r.removeHelper($O(r.inSSR,y.isComponent)),y.isBlock=!1,r.helper(MO(r.inSSR,y.isComponent))}return l.set(i,A),A}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Yh(i.content,r);case 4:return i.constType;case 8:let E=3;for(let A=0;A<i.children.length;A++){const R=i.children[A];if(ps(R)||lw(R))continue;const H=Yh(R,r);if(H===0)return 0;H<E&&(E=H)}return E;default:return 0}}const DCe=new Set([kte,Ate,Z$,mP]);function Nle(i,r){if(i.type===14&&!ps(i.callee)&&DCe.has(i.callee)){const l=i.arguments[0];if(l.type===4)return Yh(l,r);if(l.type===14)return Nle(l,r)}return 0}function Rle(i,r){let l=3;const h=Mle(i);if(h&&h.type===15){const{properties:y}=h;for(let w=0;w<y.length;w++){const{key:E,value:A}=y[w],R=Yh(E,r);if(R===0)return R;R<l&&(l=R);let H;if(A.type===4?H=Yh(A,r):A.type===14?H=Nle(A,r):H=0,H===0)return H;H<l&&(l=H)}}return l}function Mle(i){const r=i.codegenNode;if(r.type===13)return r.props}function $le(i){const r=i.patchFlag;return r?parseInt(r,10):void 0}function NCe(i,{filename:r="",prefixIdentifiers:l=!1,hoistStatic:h=!1,cacheHandlers:y=!1,nodeTransforms:w=[],directiveTransforms:E={},transformHoist:A=null,isBuiltInComponent:R=Fd,isCustomElement:H=Fd,expressionPlugins:j=[],scopeId:Q=null,slotted:le=!0,ssr:pe=!1,inSSR:me=!1,ssrCssVars:ve="",bindingMetadata:Ee=Yr,inline:Me=!1,isTS:ce=!1,onError:q=bte,onWarn:ke=ble,compatConfig:ze}){const We=r.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),J={selfName:We&&b2(Ll(We[1])),prefixIdentifiers:l,hoistStatic:h,cacheHandlers:y,nodeTransforms:w,directiveTransforms:E,transformHoist:A,isBuiltInComponent:R,isCustomElement:H,expressionPlugins:j,scopeId:Q,slotted:le,ssr:pe,inSSR:me,ssrCssVars:ve,bindingMetadata:Ee,inline:Me,isTS:ce,onError:q,onWarn:ke,compatConfig:ze,root:i,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:i,childIndex:0,inVOnce:!1,helper(Te){const Ge=J.helpers.get(Te)||0;return J.helpers.set(Te,Ge+1),Te},removeHelper(Te){const Ge=J.helpers.get(Te);if(Ge){const Ue=Ge-1;Ue?J.helpers.set(Te,Ue):J.helpers.delete(Te)}},helperString(Te){return`_${NO[J.helper(Te)]}`},replaceNode(Te){J.parent.children[J.childIndex]=J.currentNode=Te},removeNode(Te){const Ge=J.parent.children,Ue=Te?Ge.indexOf(Te):J.currentNode?J.childIndex:-1;!Te||Te===J.currentNode?(J.currentNode=null,J.onNodeRemoved()):J.childIndex>Ue&&(J.childIndex--,J.onNodeRemoved()),J.parent.children.splice(Ue,1)},onNodeRemoved:()=>{},addIdentifiers(Te){},removeIdentifiers(Te){},hoist(Te){ps(Te)&&(Te=Ms(Te)),J.hoists.push(Te);const Ge=Ms(`_hoisted_${J.hoists.length}`,!1,Te.loc,2);return Ge.hoisted=Te,Ge},cache(Te,Ge=!1){return rCe(J.cached++,Te,Ge)}};return J.filters=new Set,J}function RCe(i,r){const l=NCe(i,r);Sz(i,l),r.hoistStatic&&OCe(i,l),r.ssr||MCe(i,l),i.helpers=new Set([...l.helpers.keys()]),i.components=[...l.components],i.directives=[...l.directives],i.imports=l.imports,i.hoists=l.hoists,i.temps=l.temps,i.cached=l.cached,i.filters=[...l.filters]}function MCe(i,r){const{helper:l}=r,{children:h}=i;if(h.length===1){const y=h[0];if(Dle(i,y)&&y.codegenNode){const w=y.codegenNode;w.type===13&&Mte(w,r),i.codegenNode=w}else i.codegenNode=y}else if(h.length>1){let y=64;i.codegenNode=K$(r,l(j$),void 0,i.children,y+"",void 0,void 0,!0,void 0,!1)}}function $Ce(i,r){let l=0;const h=()=>{l--};for(;l<i.children.length;l++){const y=i.children[l];ps(y)||(r.parent=i,r.childIndex=l,r.onNodeRemoved=h,Sz(y,r))}}function Sz(i,r){r.currentNode=i;const{nodeTransforms:l}=r,h=[];for(let w=0;w<l.length;w++){const E=l[w](i,r);if(E&&(Jn(E)?h.push(...E):h.push(E)),r.currentNode)i=r.currentNode;else return}switch(i.type){case 3:r.ssr||r.helper(fP);break;case 5:r.ssr||r.helper(_z);break;case 9:for(let w=0;w<i.branches.length;w++)Sz(i.branches[w],r);break;case 10:case 11:case 1:case 0:$Ce(i,r);break}r.currentNode=i;let y=h.length;for(;y--;)h[y]()}function Ple(i,r){const l=ps(i)?h=>h===i:h=>i.test(h);return(h,y)=>{if(h.type===1){const{props:w}=h;if(h.tagType===3&&w.some(mCe))return;const E=[];for(let A=0;A<w.length;A++){const R=w[A];if(R.type===7&&l(R.name)){w.splice(A,1),A--;const H=r(h,R,y);H&&E.push(H)}}return E}}}const Ez="/*#__PURE__*/",Ble=i=>`${NO[i]}: _${NO[i]}`;function vre(i,{mode:r="function",prefixIdentifiers:l=r==="module",sourceMap:h=!1,filename:y="template.vue.html",scopeId:w=null,optimizeImports:E=!1,runtimeGlobalName:A="Vue",runtimeModuleName:R="vue",ssrRuntimeModuleName:H="vue/server-renderer",ssr:j=!1,isTS:Q=!1,inSSR:le=!1}){const pe={mode:r,prefixIdentifiers:l,sourceMap:h,filename:y,scopeId:w,optimizeImports:E,runtimeGlobalName:A,runtimeModuleName:R,ssrRuntimeModuleName:H,ssr:j,isTS:Q,inSSR:le,source:i.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(ve){return`_${NO[ve]}`},push(ve,Ee){pe.code+=ve},indent(){me(++pe.indentLevel)},deindent(ve=!1){ve?--pe.indentLevel:me(--pe.indentLevel)},newline(){me(pe.indentLevel)}};function me(ve){pe.push(`
`+"  ".repeat(ve))}return pe}function PCe(i,r={}){const l=vre(i,r);r.onContextCreated&&r.onContextCreated(l);const{mode:h,push:y,prefixIdentifiers:w,indent:E,deindent:A,newline:R,scopeId:H,ssr:j}=l,Q=Array.from(i.helpers),le=Q.length>0,pe=!w&&h!=="module",me=!1,ve=me?vre(i,r):l;BCe(i,ve);const Ee=j?"ssrRender":"render",ce=(j?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(y(`function ${Ee}(${ce}) {`),E(),pe&&(y("with (_ctx) {"),E(),le&&(y(`const { ${Q.map(Ble).join(", ")} } = _Vue`),y(`
`),R())),i.components.length&&(mQ(i.components,"component",l),(i.directives.length||i.temps>0)&&R()),i.directives.length&&(mQ(i.directives,"directive",l),i.temps>0&&R()),i.filters&&i.filters.length&&(R(),mQ(i.filters,"filter",l),R()),i.temps>0){y("let ");for(let q=0;q<i.temps;q++)y(`${q>0?", ":""}_temp${q}`)}return(i.components.length||i.directives.length||i.temps)&&(y(`
`),R()),j||y("return "),i.codegenNode?td(i.codegenNode,l):y("null"),pe&&(A(),y("}")),A(),y("}"),{ast:i,code:l.code,preamble:me?ve.code:"",map:l.map?l.map.toJSON():void 0}}function BCe(i,r){const{ssr:l,prefixIdentifiers:h,push:y,newline:w,runtimeModuleName:E,runtimeGlobalName:A,ssrRuntimeModuleName:R}=r,H=A,j=Array.from(i.helpers);if(j.length>0&&(y(`const _Vue = ${H}
`),i.hoists.length)){const Q=[yte,_te,fP,wte,wle].filter(le=>j.includes(le)).map(Ble).join(", ");y(`const { ${Q} } = _Vue
`)}ICe(i.hoists,r),w(),y("return ")}function mQ(i,r,{helper:l,push:h,newline:y,isTS:w}){const E=l(r==="filter"?Ete:r==="component"?Cte:Ste);for(let A=0;A<i.length;A++){let R=i[A];const H=R.endsWith("__self");H&&(R=R.slice(0,-6)),h(`const ${q$(R,r)} = ${E}(${JSON.stringify(R)}${H?", true":""})${w?"!":""}`),A<i.length-1&&y()}}function ICe(i,r){if(!i.length)return;r.pure=!0;const{push:l,newline:h,helper:y,scopeId:w,mode:E}=r;h();for(let A=0;A<i.length;A++){const R=i[A];R&&(l(`const _hoisted_${A+1} = `),td(R,r),h())}r.pure=!1}function Pte(i,r){const l=i.length>3||!1;r.push("["),l&&r.indent(),pP(i,r,l),l&&r.deindent(),r.push("]")}function pP(i,r,l=!1,h=!0){const{push:y,newline:w}=r;for(let E=0;E<i.length;E++){const A=i[E];ps(A)?y(A):Jn(A)?Pte(A,r):td(A,r),E<i.length-1&&(l?(h&&y(","),w()):h&&y(", "))}}function td(i,r){if(ps(i)){r.push(i);return}if(lw(i)){r.push(r.helper(i));return}switch(i.type){case 1:case 9:case 11:td(i.codegenNode,r);break;case 2:LCe(i,r);break;case 4:Ile(i,r);break;case 5:FCe(i,r);break;case 12:td(i.codegenNode,r);break;case 8:Lle(i,r);break;case 3:VCe(i,r);break;case 13:zCe(i,r);break;case 14:UCe(i,r);break;case 15:jCe(i,r);break;case 17:ZCe(i,r);break;case 18:KCe(i,r);break;case 19:qCe(i,r);break;case 20:GCe(i,r);break;case 21:pP(i.body,r,!0,!1);break}}function LCe(i,r){r.push(JSON.stringify(i.content),i)}function Ile(i,r){const{content:l,isStatic:h}=i;r.push(h?JSON.stringify(l):l,i)}function FCe(i,r){const{push:l,helper:h,pure:y}=r;y&&l(Ez),l(`${h(_z)}(`),td(i.content,r),l(")")}function Lle(i,r){for(let l=0;l<i.children.length;l++){const h=i.children[l];ps(h)?r.push(h):td(h,r)}}function HCe(i,r){const{push:l}=r;if(i.type===8)l("["),Lle(i,r),l("]");else if(i.isStatic){const h=Rte(i.content)?i.content:JSON.stringify(i.content);l(h,i)}else l(`[${i.content}]`,i)}function VCe(i,r){const{push:l,helper:h,pure:y}=r;y&&l(Ez),l(`${h(fP)}(${JSON.stringify(i.content)})`,i)}function zCe(i,r){const{push:l,helper:h,pure:y}=r,{tag:w,props:E,children:A,patchFlag:R,dynamicProps:H,directives:j,isBlock:Q,disableTracking:le,isComponent:pe}=i;j&&l(h(xte)+"("),Q&&l(`(${h(f2)}(${le?"true":""}), `),y&&l(Ez);const me=Q?$O(r.inSSR,pe):MO(r.inSSR,pe);l(h(me)+"(",i),pP(WCe([w,E,A,R,H]),r),l(")"),Q&&l(")"),j&&(l(", "),td(j,r),l(")"))}function WCe(i){let r=i.length;for(;r--&&i[r]==null;);return i.slice(0,r+1).map(l=>l||"null")}function UCe(i,r){const{push:l,helper:h,pure:y}=r,w=ps(i.callee)?i.callee:h(i.callee);y&&l(Ez),l(w+"(",i),pP(i.arguments,r),l(")")}function jCe(i,r){const{push:l,indent:h,deindent:y,newline:w}=r,{properties:E}=i;if(!E.length){l("{}",i);return}const A=E.length>1||!1;l(A?"{":"{ "),A&&h();for(let R=0;R<E.length;R++){const{key:H,value:j}=E[R];HCe(H,r),l(": "),td(j,r),R<E.length-1&&(l(","),w())}A&&y(),l(A?"}":" }")}function ZCe(i,r){Pte(i.elements,r)}function KCe(i,r){const{push:l,indent:h,deindent:y}=r,{params:w,returns:E,body:A,newline:R,isSlot:H}=i;H&&l(`_${NO[Dte]}(`),l("(",i),Jn(w)?pP(w,r):w&&td(w,r),l(") => "),(R||A)&&(l("{"),h()),E?(R&&l("return "),Jn(E)?Pte(E,r):td(E,r)):A&&td(A,r),(R||A)&&(y(),l("}")),H&&(i.isNonScopedSlot&&l(", undefined, true"),l(")"))}function qCe(i,r){const{test:l,consequent:h,alternate:y,newline:w}=i,{push:E,indent:A,deindent:R,newline:H}=r;if(l.type===4){const Q=!Rte(l.content);Q&&E("("),Ile(l,r),Q&&E(")")}else E("("),td(l,r),E(")");w&&A(),r.indentLevel++,w||E(" "),E("? "),td(h,r),r.indentLevel--,w&&H(),w||E(" "),E(": ");const j=y.type===19;j||r.indentLevel++,td(y,r),j||r.indentLevel--,w&&R(!0)}function GCe(i,r){const{push:l,helper:h,indent:y,deindent:w,newline:E}=r;l(`_cache[${i.index}] || (`),i.isVNode&&(y(),l(`${h(DV)}(-1),`),E()),l(`_cache[${i.index}] = `),td(i.value,r),i.isVNode&&(l(","),E(),l(`${h(DV)}(1),`),E(),l(`_cache[${i.index}]`),w()),l(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const YCe=Ple(/^(if|else|else-if)$/,(i,r,l)=>XCe(i,r,l,(h,y,w)=>{const E=l.parent.children;let A=E.indexOf(h),R=0;for(;A-->=0;){const H=E[A];H&&H.type===9&&(R+=H.branches.length)}return()=>{if(w)h.codegenNode=_re(y,R,l);else{const H=JCe(h.codegenNode);H.alternate=_re(y,R+h.branches.length-1,l)}}}));function XCe(i,r,l,h){if(r.name!=="else"&&(!r.exp||!r.exp.content.trim())){const y=r.exp?r.exp.loc:i.loc;l.onError(ga(28,r.loc)),r.exp=Ms("true",!1,y)}if(r.name==="if"){const y=yre(i,r),w={type:9,loc:i.loc,branches:[y]};if(l.replaceNode(w),h)return h(w,y,!0)}else{const y=l.parent.children;let w=y.indexOf(i);for(;w-->=-1;){const E=y[w];if(E&&E.type===3){l.removeNode(E);continue}if(E&&E.type===2&&!E.content.trim().length){l.removeNode(E);continue}if(E&&E.type===9){r.name==="else-if"&&E.branches[E.branches.length-1].condition===void 0&&l.onError(ga(30,i.loc)),l.removeNode();const A=yre(i,r);E.branches.push(A);const R=h&&h(E,A,!1);Sz(A,l),R&&R(),l.currentNode=null}else l.onError(ga(30,i.loc));break}}}function yre(i,r){const l=i.tagType===3;return{type:10,loc:i.loc,condition:r.name==="else"?void 0:r.exp,children:l&&!Kh(i,"for")?i.children:[i],userKey:wz(i,"key"),isTemplateIf:l}}function _re(i,r,l){return i.condition?JQ(i.condition,wre(i,r,l),Ic(l.helper(fP),['""',"true"])):wre(i,r,l)}function wre(i,r,l){const{helper:h}=l,y=tc("key",Ms(`${r}`,!1,qm,2)),{children:w}=i,E=w[0];if(w.length!==1||E.type!==1)if(w.length===1&&E.type===11){const R=E.codegenNode;return PV(R,y,l),R}else{let R=64;return K$(l,h(j$),Gh([y]),w,R+"",void 0,void 0,!0,!1,!1,i.loc)}else{const R=E.codegenNode,H=pCe(R);return H.type===13&&Mte(H,l),PV(H,y,l),R}}function JCe(i){for(;;)if(i.type===19)if(i.alternate.type===19)i=i.alternate;else return i;else i.type===20&&(i=i.value)}const QCe=Ple("for",(i,r,l)=>{const{helper:h,removeHelper:y}=l;return eSe(i,r,l,w=>{const E=Ic(h(Tte),[w.source]),A=MV(i),R=Kh(i,"memo"),H=wz(i,"key"),j=H&&(H.type===6?Ms(H.value.content,!0):H.exp),Q=H?tc("key",j):null,le=w.source.type===4&&w.source.constType>0,pe=le?64:H?128:256;return w.codegenNode=K$(l,h(j$),void 0,E,pe+"",void 0,void 0,!0,!le,!1,i.loc),()=>{let me;const{children:ve}=w,Ee=ve.length!==1||ve[0].type!==1,Me=$V(i)?i:A&&i.children.length===1&&$V(i.children[0])?i.children[0]:null;if(Me?(me=Me.codegenNode,A&&Q&&PV(me,Q,l)):Ee?me=K$(l,h(j$),Q?Gh([Q]):void 0,i.children,64+"",void 0,void 0,!0,void 0,!1):(me=ve[0].codegenNode,A&&Q&&PV(me,Q,l),me.isBlock!==!le&&(me.isBlock?(y(f2),y($O(l.inSSR,me.isComponent))):y(MO(l.inSSR,me.isComponent))),me.isBlock=!le,me.isBlock?(h(f2),h($O(l.inSSR,me.isComponent))):h(MO(l.inSSR,me.isComponent))),R){const ce=RO(tee(w.parseResult,[Ms("_cached")]));ce.body=iCe([yg(["const _memo = (",R.exp,")"]),yg(["if (_cached",...j?[" && _cached.key === ",j]:[],` && ${l.helperString(Ele)}(_cached, _memo)) return _cached`]),yg(["const _item = ",me]),Ms("_item.memo = _memo"),Ms("return _item")]),E.arguments.push(ce,Ms("_cache"),Ms(String(l.cached++)))}else E.arguments.push(RO(tee(w.parseResult),me,!0))}})});function eSe(i,r,l,h){if(!r.exp){l.onError(ga(31,r.loc));return}const y=Fle(r.exp);if(!y){l.onError(ga(32,r.loc));return}const{addIdentifiers:w,removeIdentifiers:E,scopes:A}=l,{source:R,value:H,key:j,index:Q}=y,le={type:11,loc:r.loc,source:R,valueAlias:H,keyAlias:j,objectIndexAlias:Q,parseResult:y,children:MV(i)?i.children:[i]};l.replaceNode(le),A.vFor++;const pe=h&&h(le);return()=>{A.vFor--,pe&&pe()}}const tSe=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Cre=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,nSe=/^\(|\)$/g;function Fle(i,r){const l=i.loc,h=i.content,y=h.match(tSe);if(!y)return;const[,w,E]=y,A={source:z8(l,E.trim(),h.indexOf(E,w.length)),value:void 0,key:void 0,index:void 0};let R=w.trim().replace(nSe,"").trim();const H=w.indexOf(R),j=R.match(Cre);if(j){R=R.replace(Cre,"").trim();const Q=j[1].trim();let le;if(Q&&(le=h.indexOf(Q,H+R.length),A.key=z8(l,Q,le)),j[2]){const pe=j[2].trim();pe&&(A.index=z8(l,pe,h.indexOf(pe,A.key?le+Q.length:H+R.length)))}}return R&&(A.value=z8(l,R,H)),A}function z8(i,r,l){return Ms(r,!1,kle(i,l,r.length))}function tee({value:i,key:r,index:l},h=[]){return oSe([i,r,l,...h])}function oSe(i){let r=i.length;for(;r--&&!i[r];);return i.slice(0,r+1).map((l,h)=>l||Ms("_".repeat(h+1),!1))}const Sre=Ms("undefined",!1),sSe=(i,r)=>{if(i.type===1&&(i.tagType===1||i.tagType===3)){const l=Kh(i,"slot");if(l)return l.exp,r.scopes.vSlot++,()=>{r.scopes.vSlot--}}},rSe=(i,r,l)=>RO(i,r,!1,!0,r.length?r[0].loc:l);function iSe(i,r,l=rSe){r.helper(Dte);const{children:h,loc:y}=i,w=[],E=[];let A=r.scopes.vSlot>0||r.scopes.vFor>0;const R=Kh(i,"slot",!0);if(R){const{arg:Ee,exp:Me}=R;Ee&&!Mf(Ee)&&(A=!0),w.push(tc(Ee||Ms("default",!0),l(Me,h,y)))}let H=!1,j=!1;const Q=[],le=new Set;let pe=0;for(let Ee=0;Ee<h.length;Ee++){const Me=h[Ee];let ce;if(!MV(Me)||!(ce=Kh(Me,"slot",!0))){Me.type!==3&&Q.push(Me);continue}if(R){r.onError(ga(37,ce.loc));break}H=!0;const{children:q,loc:ke}=Me,{arg:ze=Ms("default",!0),exp:We,loc:J}=ce;let Te;Mf(ze)?Te=ze?ze.content:"default":A=!0;const Ge=l(We,q,ke);let Ue,ye,ie;if(Ue=Kh(Me,"if"))A=!0,E.push(JQ(Ue.exp,W8(ze,Ge,pe++),Sre));else if(ye=Kh(Me,/^else(-if)?$/,!0)){let Tt=Ee,vt;for(;Tt--&&(vt=h[Tt],vt.type===3););if(vt&&MV(vt)&&Kh(vt,"if")){h.splice(Ee,1),Ee--;let xt=E[E.length-1];for(;xt.alternate.type===19;)xt=xt.alternate;xt.alternate=ye.exp?JQ(ye.exp,W8(ze,Ge,pe++),Sre):W8(ze,Ge,pe++)}else r.onError(ga(30,ye.loc))}else if(ie=Kh(Me,"for")){A=!0;const Tt=ie.parseResult||Fle(ie.exp);Tt?E.push(Ic(r.helper(Tte),[Tt.source,RO(tee(Tt),W8(ze,Ge),!0)])):r.onError(ga(32,ie.loc))}else{if(Te){if(le.has(Te)){r.onError(ga(38,J));continue}le.add(Te),Te==="default"&&(j=!0)}w.push(tc(ze,Ge))}}if(!R){const Ee=(Me,ce)=>{const q=l(Me,ce,y);return r.compatConfig&&(q.isNonScopedSlot=!0),tc("default",q)};H?Q.length&&Q.some(Me=>Hle(Me))&&(j?r.onError(ga(39,Q[0].loc)):w.push(Ee(void 0,Q))):w.push(Ee(void 0,h))}const me=A?2:uV(i.children)?3:1;let ve=Gh(w.concat(tc("_",Ms(me+"",!1))),y);return E.length&&(ve=Ic(r.helper(Sle),[ve,hP(E)])),{slots:ve,hasDynamicSlots:A}}function W8(i,r,l){const h=[tc("name",i),tc("fn",r)];return l!=null&&h.push(tc("key",Ms(String(l),!0))),Gh(h)}function uV(i){for(let r=0;r<i.length;r++){const l=i[r];switch(l.type){case 1:if(l.tagType===2||uV(l.children))return!0;break;case 9:if(uV(l.branches))return!0;break;case 10:case 11:if(uV(l.children))return!0;break}}return!1}function Hle(i){return i.type!==2&&i.type!==12?!0:i.type===2?!!i.content.trim():Hle(i.content)}const Vle=new WeakMap,aSe=(i,r)=>function(){if(i=r.currentNode,!(i.type===1&&(i.tagType===0||i.tagType===1)))return;const{tag:h,props:y}=i,w=i.tagType===1;let E=w?cSe(i,r):`"${h}"`;const A=fi(E)&&E.callee===AV;let R,H,j,Q=0,le,pe,me,ve=A||E===M$||E===vte||!w&&(h==="svg"||h==="foreignObject");if(y.length>0){const Ee=zle(i,r,void 0,w,A);R=Ee.props,Q=Ee.patchFlag,pe=Ee.dynamicPropNames;const Me=Ee.directives;me=Me&&Me.length?hP(Me.map(ce=>uSe(ce,r))):void 0,Ee.shouldUseBlock&&(ve=!0)}if(i.children.length>0)if(E===kV&&(ve=!0,Q|=1024),w&&E!==M$&&E!==kV){const{slots:Me,hasDynamicSlots:ce}=iSe(i,r);H=Me,ce&&(Q|=1024)}else if(i.children.length===1&&E!==M$){const Me=i.children[0],ce=Me.type,q=ce===5||ce===8;q&&Yh(Me,r)===0&&(Q|=1),q||ce===2?H=Me:H=i.children}else H=i.children;Q!==0&&(j=String(Q),pe&&pe.length&&(le=dSe(pe))),i.codegenNode=K$(r,E,R,H,j,le,me,!!ve,!1,w,i.loc)};function cSe(i,r,l=!1){let{tag:h}=i;const y=nee(h),w=wz(i,"is");if(w)if(y||s2("COMPILER_IS_ON_ELEMENT",r)){const R=w.type===6?w.value&&Ms(w.value.content,!0):w.exp;if(R)return Ic(r.helper(AV),[R])}else w.type===6&&w.value.content.startsWith("vue:")&&(h=w.value.content.slice(4));const E=!y&&Kh(i,"is");if(E&&E.exp)return Ic(r.helper(AV),[E.exp]);const A=xle(h)||r.isBuiltInComponent(h);return A?(l||r.helper(A),A):(r.helper(Cte),r.components.add(h),q$(h,"component"))}function zle(i,r,l=i.props,h,y,w=!1){const{tag:E,loc:A,children:R}=i;let H=[];const j=[],Q=[],le=R.length>0;let pe=!1,me=0,ve=!1,Ee=!1,Me=!1,ce=!1,q=!1,ke=!1;const ze=[],We=Ge=>{H.length&&(j.push(Gh(Ere(H),A)),H=[]),Ge&&j.push(Ge)},J=({key:Ge,value:Ue})=>{if(Mf(Ge)){const ye=Ge.content,ie=p2(ye);if(ie&&(!h||y)&&ye.toLowerCase()!=="onclick"&&ye!=="onUpdate:modelValue"&&!QE(ye)&&(ce=!0),ie&&QE(ye)&&(ke=!0),Ue.type===20||(Ue.type===4||Ue.type===8)&&Yh(Ue,r)>0)return;ye==="ref"?ve=!0:ye==="class"?Ee=!0:ye==="style"?Me=!0:ye!=="key"&&!ze.includes(ye)&&ze.push(ye),h&&(ye==="class"||ye==="style")&&!ze.includes(ye)&&ze.push(ye)}else q=!0};for(let Ge=0;Ge<l.length;Ge++){const Ue=l[Ge];if(Ue.type===6){const{loc:ye,name:ie,value:Tt}=Ue;let vt=!0;if(ie==="ref"&&(ve=!0,r.scopes.vFor>0&&H.push(tc(Ms("ref_for",!0),Ms("true")))),ie==="is"&&(nee(E)||Tt&&Tt.content.startsWith("vue:")||s2("COMPILER_IS_ON_ELEMENT",r)))continue;H.push(tc(Ms(ie,!0,kle(ye,0,ie.length)),Ms(Tt?Tt.content:"",vt,Tt?Tt.loc:ye)))}else{const{name:ye,arg:ie,exp:Tt,loc:vt}=Ue,xt=ye==="bind",I=ye==="on";if(ye==="slot"){h||r.onError(ga(40,vt));continue}if(ye==="once"||ye==="memo"||ye==="is"||xt&&YE(ie,"is")&&(nee(E)||s2("COMPILER_IS_ON_ELEMENT",r))||I&&w)continue;if((xt&&YE(ie,"key")||I&&le&&YE(ie,"vue:before-update"))&&(pe=!0),xt&&YE(ie,"ref")&&r.scopes.vFor>0&&H.push(tc(Ms("ref_for",!0),Ms("true"))),!ie&&(xt||I)){if(q=!0,Tt)if(xt){if(We(),s2("COMPILER_V_BIND_OBJECT_ORDER",r)){j.unshift(Tt);continue}j.push(Tt)}else We({type:14,loc:vt,callee:r.helper(Ote),arguments:h?[Tt]:[Tt,"true"]});else r.onError(ga(xt?34:35,vt));continue}const ln=r.directiveTransforms[ye];if(ln){const{props:ot,needRuntime:Xn}=ln(Ue,i,r);!w&&ot.forEach(J),I&&ie&&!Mf(ie)?We(Gh(ot,A)):H.push(...ot),Xn&&(Q.push(Ue),lw(Xn)&&Vle.set(Ue,Xn))}else X0e(ye)||(Q.push(Ue),le&&(pe=!0))}}let Te;if(j.length?(We(),j.length>1?Te=Ic(r.helper(OV),j,A):Te=j[0]):H.length&&(Te=Gh(Ere(H),A)),q?me|=16:(Ee&&!h&&(me|=2),Me&&!h&&(me|=4),ze.length&&(me|=8),ce&&(me|=32)),!pe&&(me===0||me===32)&&(ve||ke||Q.length>0)&&(me|=512),!r.inSSR&&Te)switch(Te.type){case 15:let Ge=-1,Ue=-1,ye=!1;for(let vt=0;vt<Te.properties.length;vt++){const xt=Te.properties[vt].key;Mf(xt)?xt.content==="class"?Ge=vt:xt.content==="style"&&(Ue=vt):xt.isHandlerKey||(ye=!0)}const ie=Te.properties[Ge],Tt=Te.properties[Ue];ye?Te=Ic(r.helper(Z$),[Te]):(ie&&!Mf(ie.value)&&(ie.value=Ic(r.helper(kte),[ie.value])),Tt&&(Me||Tt.value.type===4&&Tt.value.content.trim()[0]==="["||Tt.value.type===17)&&(Tt.value=Ic(r.helper(Ate),[Tt.value])));break;case 14:break;default:Te=Ic(r.helper(Z$),[Ic(r.helper(mP),[Te])]);break}return{props:Te,directives:Q,patchFlag:me,dynamicPropNames:ze,shouldUseBlock:pe}}function Ere(i){const r=new Map,l=[];for(let h=0;h<i.length;h++){const y=i[h];if(y.key.type===8||!y.key.isStatic){l.push(y);continue}const w=y.key.content,E=r.get(w);E?(w==="style"||w==="class"||p2(w))&&lSe(E,y):(r.set(w,y),l.push(y))}return l}function lSe(i,r){i.value.type===17?i.value.elements.push(r.value):i.value=hP([i.value,r.value],i.loc)}function uSe(i,r){const l=[],h=Vle.get(i);h?l.push(r.helperString(h)):(r.helper(Ste),r.directives.add(i.name),l.push(q$(i.name,"directive")));const{loc:y}=i;if(i.exp&&l.push(i.exp),i.arg&&(i.exp||l.push("void 0"),l.push(i.arg)),Object.keys(i.modifiers).length){i.arg||(i.exp||l.push("void 0"),l.push("void 0"));const w=Ms("true",!1,y);l.push(Gh(i.modifiers.map(E=>tc(E,w)),y))}return hP(l,i.loc)}function dSe(i){let r="[";for(let l=0,h=i.length;l<h;l++)r+=JSON.stringify(i[l]),l<h-1&&(r+=", ");return r+"]"}function nee(i){return i==="component"||i==="Component"}const fSe=i=>{const r=Object.create(null);return l=>r[l]||(r[l]=i(l))},mSe=/-(\w)/g,xre=fSe(i=>i.replace(mSe,(r,l)=>l?l.toUpperCase():"")),hSe=(i,r)=>{if($V(i)){const{children:l,loc:h}=i,{slotName:y,slotProps:w}=pSe(i,r),E=[r.prefixIdentifiers?"_ctx.$slots":"$slots",y,"{}","undefined","true"];let A=2;w&&(E[2]=w,A=3),l.length&&(E[3]=RO([],l,!1,!1,h),A=4),r.scopeId&&!r.slotted&&(A=5),E.splice(A),i.codegenNode=Ic(r.helper(Cle),E,h)}};function pSe(i,r){let l='"default"',h;const y=[];for(let w=0;w<i.props.length;w++){const E=i.props[w];E.type===6?E.value&&(E.name==="name"?l=JSON.stringify(E.value.content):(E.name=xre(E.name),y.push(E))):E.name==="bind"&&YE(E.arg,"name")?E.exp&&(l=E.exp):(E.name==="bind"&&E.arg&&Mf(E.arg)&&(E.arg.content=xre(E.arg.content)),y.push(E))}if(y.length>0){const{props:w,directives:E}=zle(i,r,y,!1,!1);h=w,E.length&&r.onError(ga(36,E[0].loc))}return{slotName:l,slotProps:h}}const gSe=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Wle=(i,r,l,h)=>{const{loc:y,modifiers:w,arg:E}=i;!i.exp&&!w.length&&l.onError(ga(35,y));let A;if(E.type===4)if(E.isStatic){let Q=E.content;Q.startsWith("vue:")&&(Q=`vnode-${Q.slice(4)}`);const le=r.tagType!==0||Q.startsWith("vnode")||!/[A-Z]/.test(Q)?uO(Ll(Q)):`on:${Q}`;A=Ms(le,!0,E.loc)}else A=yg([`${l.helperString(XQ)}(`,E,")"]);else A=E,A.children.unshift(`${l.helperString(XQ)}(`),A.children.push(")");let R=i.exp;R&&!R.content.trim()&&(R=void 0);let H=l.cacheHandlers&&!R&&!l.inVOnce;if(R){const Q=Tle(R.content),le=!(Q||gSe.test(R.content)),pe=R.content.includes(";");(le||H&&Q)&&(R=yg([`${le?"$event":"(...args)"} => ${pe?"{":"("}`,R,pe?"}":")"]))}let j={props:[tc(A,R||Ms("() => {}",!1,y))]};return h&&(j=h(j)),H&&(j.props[0].value=l.cache(j.props[0].value)),j.props.forEach(Q=>Q.key.isHandlerKey=!0),j},bSe=(i,r,l)=>{const{exp:h,modifiers:y,loc:w}=i,E=i.arg;return E.type!==4?(E.children.unshift("("),E.children.push(') || ""')):E.isStatic||(E.content=`${E.content} || ""`),y.includes("camel")&&(E.type===4?E.isStatic?E.content=Ll(E.content):E.content=`${l.helperString(YQ)}(${E.content})`:(E.children.unshift(`${l.helperString(YQ)}(`),E.children.push(")"))),l.inSSR||(y.includes("prop")&&Tre(E,"."),y.includes("attr")&&Tre(E,"^")),!h||h.type===4&&!h.content.trim()?(l.onError(ga(34,w)),{props:[tc(E,Ms("",!0,w))]}):{props:[tc(E,h)]}},Tre=(i,r)=>{i.type===4?i.isStatic?i.content=r+i.content:i.content=`\`${r}\${${i.content}}\``:(i.children.unshift(`'${r}' + (`),i.children.push(")"))},vSe=(i,r)=>{if(i.type===0||i.type===1||i.type===11||i.type===10)return()=>{const l=i.children;let h,y=!1;for(let w=0;w<l.length;w++){const E=l[w];if(fQ(E)){y=!0;for(let A=w+1;A<l.length;A++){const R=l[A];if(fQ(R))h||(h=l[w]=yg([E],E.loc)),h.children.push(" + ",R),l.splice(A,1),A--;else{h=void 0;break}}}}if(!(!y||l.length===1&&(i.type===0||i.type===1&&i.tagType===0&&!i.props.find(w=>w.type===7&&!r.directiveTransforms[w.name])&&i.tag!=="template")))for(let w=0;w<l.length;w++){const E=l[w];if(fQ(E)||E.type===8){const A=[];(E.type!==2||E.content!==" ")&&A.push(E),!r.ssr&&Yh(E,r)===0&&A.push(1+""),l[w]={type:12,content:E,loc:E.loc,codegenNode:Ic(r.helper(wte),A)}}}}},kre=new WeakSet,ySe=(i,r)=>{if(i.type===1&&Kh(i,"once",!0))return kre.has(i)||r.inVOnce?void 0:(kre.add(i),r.inVOnce=!0,r.helper(DV),()=>{r.inVOnce=!1;const l=r.currentNode;l.codegenNode&&(l.codegenNode=r.cache(l.codegenNode,!0))})},Ule=(i,r,l)=>{const{exp:h,arg:y}=i;if(!h)return l.onError(ga(41,i.loc)),U8();const w=h.loc.source,E=h.type===4?h.content:w,A=l.bindingMetadata[w];if(A==="props"||A==="props-aliased")return l.onError(ga(44,h.loc)),U8();const R=!1;if(!E.trim()||!Tle(E)&&!R)return l.onError(ga(42,h.loc)),U8();const H=y||Ms("modelValue",!0),j=y?Mf(y)?`onUpdate:${Ll(y.content)}`:yg(['"onUpdate:" + ',y]):"onUpdate:modelValue";let Q;const le=l.isTS?"($event: any)":"$event";Q=yg([`${le} => ((`,h,") = $event)"]);const pe=[tc(H,i.exp),tc(j,Q)];if(i.modifiers.length&&r.tagType===1){const me=i.modifiers.map(Ee=>(Rte(Ee)?Ee:JSON.stringify(Ee))+": true").join(", "),ve=y?Mf(y)?`${y.content}Modifiers`:yg([y,' + "Modifiers"']):"modelModifiers";pe.push(tc(ve,Ms(`{ ${me} }`,!1,i.loc,2)))}return U8(pe)};function U8(i=[]){return{props:i}}const _Se=/[\w).+\-_$\]]/,wSe=(i,r)=>{s2("COMPILER_FILTER",r)&&(i.type===5&&BV(i.content,r),i.type===1&&i.props.forEach(l=>{l.type===7&&l.name!=="for"&&l.exp&&BV(l.exp,r)}))};function BV(i,r){if(i.type===4)Are(i,r);else for(let l=0;l<i.children.length;l++){const h=i.children[l];typeof h=="object"&&(h.type===4?Are(h,r):h.type===8?BV(i,r):h.type===5&&BV(h.content,r))}}function Are(i,r){const l=i.content;let h=!1,y=!1,w=!1,E=!1,A=0,R=0,H=0,j=0,Q,le,pe,me,ve=[];for(pe=0;pe<l.length;pe++)if(le=Q,Q=l.charCodeAt(pe),h)Q===39&&le!==92&&(h=!1);else if(y)Q===34&&le!==92&&(y=!1);else if(w)Q===96&&le!==92&&(w=!1);else if(E)Q===47&&le!==92&&(E=!1);else if(Q===124&&l.charCodeAt(pe+1)!==124&&l.charCodeAt(pe-1)!==124&&!A&&!R&&!H)me===void 0?(j=pe+1,me=l.slice(0,pe).trim()):Ee();else{switch(Q){case 34:y=!0;break;case 39:h=!0;break;case 96:w=!0;break;case 40:H++;break;case 41:H--;break;case 91:R++;break;case 93:R--;break;case 123:A++;break;case 125:A--;break}if(Q===47){let Me=pe-1,ce;for(;Me>=0&&(ce=l.charAt(Me),ce===" ");Me--);(!ce||!_Se.test(ce))&&(E=!0)}}me===void 0?me=l.slice(0,pe).trim():j!==0&&Ee();function Ee(){ve.push(l.slice(j,pe).trim()),j=pe+1}if(ve.length){for(pe=0;pe<ve.length;pe++)me=CSe(me,ve[pe],r);i.content=me}}function CSe(i,r,l){l.helper(Ete);const h=r.indexOf("(");if(h<0)return l.filters.add(r),`${q$(r,"filter")}(${i})`;{const y=r.slice(0,h),w=r.slice(h+1);return l.filters.add(y),`${q$(y,"filter")}(${i}${w!==")"?","+w:w}`}}const Ore=new WeakSet,SSe=(i,r)=>{if(i.type===1){const l=Kh(i,"memo");return!l||Ore.has(i)?void 0:(Ore.add(i),()=>{const h=i.codegenNode||r.currentNode.codegenNode;h&&h.type===13&&(i.tagType!==1&&Mte(h,r),i.codegenNode=Ic(r.helper(Nte),[l.exp,RO(void 0,h),"_cache",String(r.cached++)]))})}};function ESe(i){return[[ySe,YCe,SSe,QCe,wSe,hSe,aSe,sSe,vSe],{on:Wle,bind:bSe,model:Ule}]}function xSe(i,r={}){const l=r.onError||bte,h=r.mode==="module";r.prefixIdentifiers===!0?l(ga(47)):h&&l(ga(48));const y=!1;r.cacheHandlers&&l(ga(49)),r.scopeId&&!h&&l(ga(50));const w=ps(i)?vCe(i,r):i,[E,A]=ESe();return RCe(w,Mr({},r,{prefixIdentifiers:y,nodeTransforms:[...E,...r.nodeTransforms||[]],directiveTransforms:Mr({},A,r.directiveTransforms||{})})),PCe(w,Mr({},r,{prefixIdentifiers:y}))}const TSe=()=>({props:[]}),jle=Symbol(""),Zle=Symbol(""),Kle=Symbol(""),qle=Symbol(""),oee=Symbol(""),Gle=Symbol(""),Yle=Symbol(""),Xle=Symbol(""),Jle=Symbol(""),Qle=Symbol("");oCe({[jle]:"vModelRadio",[Zle]:"vModelCheckbox",[Kle]:"vModelText",[qle]:"vModelSelect",[oee]:"vModelDynamic",[Gle]:"withModifiers",[Yle]:"withKeys",[Xle]:"vShow",[Jle]:"Transition",[Qle]:"TransitionGroup"});let QA;function kSe(i,r=!1){return QA||(QA=document.createElement("div")),r?(QA.innerHTML=`<div foo="${i.replace(/"/g,"&quot;")}">`,QA.children[0].getAttribute("foo")):(QA.innerHTML=i,QA.textContent)}const ASe=If("style,iframe,script,noscript",!0),OSe={isVoidTag:W0e,isNativeTag:i=>V0e(i)||z0e(i),isPreTag:i=>i==="pre",decodeEntities:kSe,isBuiltInComponent:i=>{if(iO(i,"Transition"))return Jle;if(iO(i,"TransitionGroup"))return Qle},getNamespace(i,r){let l=r?r.ns:0;if(r&&l===2)if(r.tag==="annotation-xml"){if(i==="svg")return 1;r.props.some(h=>h.type===6&&h.name==="encoding"&&h.value!=null&&(h.value.content==="text/html"||h.value.content==="application/xhtml+xml"))&&(l=0)}else/^m(?:[ions]|text)$/.test(r.tag)&&i!=="mglyph"&&i!=="malignmark"&&(l=0);else r&&l===1&&(r.tag==="foreignObject"||r.tag==="desc"||r.tag==="title")&&(l=0);if(l===0){if(i==="svg")return 1;if(i==="math")return 2}return l},getTextMode({tag:i,ns:r}){if(r===0){if(i==="textarea"||i==="title")return 1;if(ASe(i))return 2}return 0}},DSe=i=>{i.type===1&&i.props.forEach((r,l)=>{r.type===6&&r.name==="style"&&r.value&&(i.props[l]={type:7,name:"bind",arg:Ms("style",!0,r.loc),exp:NSe(r.value.content,r.loc),modifiers:[],loc:r.loc})})},NSe=(i,r)=>{const l=Aae(i);return Ms(JSON.stringify(l),!1,r,3)};function _0(i,r){return ga(i,r)}const RSe=(i,r,l)=>{const{exp:h,loc:y}=i;return h||l.onError(_0(51,y)),r.children.length&&(l.onError(_0(52,y)),r.children.length=0),{props:[tc(Ms("innerHTML",!0,y),h||Ms("",!0))]}},MSe=(i,r,l)=>{const{exp:h,loc:y}=i;return h||l.onError(_0(53,y)),r.children.length&&(l.onError(_0(54,y)),r.children.length=0),{props:[tc(Ms("textContent",!0),h?Yh(h,l)>0?h:Ic(l.helperString(_z),[h],y):Ms("",!0))]}},$Se=(i,r,l)=>{const h=Ule(i,r,l);if(!h.props.length||r.tagType===1)return h;i.arg&&l.onError(_0(56,i.arg.loc));const{tag:y}=r,w=l.isCustomElement(y);if(y==="input"||y==="textarea"||y==="select"||w){let E=Kle,A=!1;if(y==="input"||w){const R=wz(r,"type");if(R){if(R.type===7)E=oee;else if(R.value)switch(R.value.content){case"radio":E=jle;break;case"checkbox":E=Zle;break;case"file":A=!0,l.onError(_0(57,i.loc));break}}else fCe(r)&&(E=oee)}else y==="select"&&(E=qle);A||(h.needRuntime=l.helper(E))}else l.onError(_0(55,i.loc));return h.props=h.props.filter(E=>!(E.key.type===4&&E.key.content==="modelValue")),h},PSe=If("passive,once,capture"),BSe=If("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),ISe=If("left,right"),eue=If("onkeyup,onkeydown,onkeypress",!0),LSe=(i,r,l,h)=>{const y=[],w=[],E=[];for(let A=0;A<r.length;A++){const R=r[A];R==="native"&&G$("COMPILER_V_ON_NATIVE",l)||PSe(R)?E.push(R):ISe(R)?Mf(i)?eue(i.content)?y.push(R):w.push(R):(y.push(R),w.push(R)):BSe(R)?w.push(R):y.push(R)}return{keyModifiers:y,nonKeyModifiers:w,eventOptionModifiers:E}},Dre=(i,r)=>Mf(i)&&i.content.toLowerCase()==="onclick"?Ms(r,!0):i.type!==4?yg(["(",i,`) === "onClick" ? "${r}" : (`,i,")"]):i,FSe=(i,r,l)=>Wle(i,r,l,h=>{const{modifiers:y}=i;if(!y.length)return h;let{key:w,value:E}=h.props[0];const{keyModifiers:A,nonKeyModifiers:R,eventOptionModifiers:H}=LSe(w,y,l,i.loc);if(R.includes("right")&&(w=Dre(w,"onContextmenu")),R.includes("middle")&&(w=Dre(w,"onMouseup")),R.length&&(E=Ic(l.helper(Gle),[E,JSON.stringify(R)])),A.length&&(!Mf(w)||eue(w.content))&&(E=Ic(l.helper(Yle),[E,JSON.stringify(A)])),H.length){const j=H.map(b2).join("");w=Mf(w)?Ms(`${w.content}${j}`,!0):yg(["(",w,`) + "${j}"`])}return{props:[tc(w,E)]}}),HSe=(i,r,l)=>{const{exp:h,loc:y}=i;return h||l.onError(_0(59,y)),{props:[],needRuntime:l.helper(Xle)}},VSe=(i,r)=>{i.type===1&&i.tagType===0&&(i.tag==="script"||i.tag==="style")&&(r.onError(_0(61,i.loc)),r.removeNode())},zSe=[DSe],WSe={cloak:TSe,html:RSe,text:MSe,model:$Se,on:FSe,show:HSe};function USe(i,r={}){return xSe(i,Mr({},OSe,r,{nodeTransforms:[VSe,...zSe,...r.nodeTransforms||[]],directiveTransforms:Mr({},WSe,r.directiveTransforms||{}),transformHoist:null}))}const Nre=Object.create(null);function jSe(i,r){if(!ps(i))if(i.nodeType)i=i.innerHTML;else return Fd;const l=i,h=Nre[l];if(h)return h;if(i[0]==="#"){const A=document.querySelector(i);i=A?A.innerHTML:""}const y=Mr({hoistStatic:!0,onError:void 0,onWarn:Fd},r);!y.isCustomElement&&typeof customElements<"u"&&(y.isCustomElement=A=>!!customElements.get(A));const{code:w}=USe(i,y),E=new Function("Vue",w)(Xwe);return E._rc=!0,Nre[l]=E}zce(jSe);const Bte=(i,r)=>{const l=i.__vccOpts||i;for(const[h,y]of r)l[h]=y;return l},ZSe={props:["title"],mounted(){console.log("Component mounted.")}},KSe={class:"flex border-b mb-10 pb-10"},qSe={class:"flex w-1/4 flex-col"},GSe={class:"font-semibold text-gray-900 leading-6 mb-2"},YSe=bu("p",{class:"text-xs from-gray-700"},"Edit homepage content here",-1),XSe=Bce('<div class="w-3/4"><div class="flex mb-5"><div class="w-full flex gap-5 px-2"><div class="flex items-center"><input checked id="default-radio-1" type="radio" value="1" name="slider" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for="default-radio-1" class="ml-2 font-semibold text-gray-900 leading-6">Single image</label></div><div class="flex items-center"><input id="default-radio-2" type="radio" value="2" name="slider" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for="default-radio-2" class="ml-2 font-semibold text-gray-900 leading-6">Slider</label></div></div></div><div class="flex border-b mb-5"><div class="w-full flex px-2 mb-5 gap-5"><div class="flex flex-col"><label for="">H1 title</label><input type="text" name="h1_title" class="border rounded p-2"></div><div class="flex flex-col"><label for="">Subtitle content</label><input type="text" name="sub_content" class="border rounded p-2"></div></div></div><div class="flex mb-5"><div class="w-full flex flex-col px-2 gap-5"><div class="flex gap-5"><div class="flex flex-col"><label for="">Button 1 text</label><input type="text" name="button1_text" class="border rounded p-2"></div><div class="flex flex-col"><label for="">Button 1 Url</label><input type="text" name="button1_url" class="border rounded p-2"></div></div><div class="flex gap-5"><div class="flex flex-col"><label for="">Button 2 text</label><input type="text" name="button2_text" class="border rounded p-2"></div><div class="flex flex-col"><label for="">Button 2 Url</label><input type="text" name="button2_url" class="border rounded p-2"><small>Leave empty if there is no button 2</small></div></div><div><input type="file" name="hero_photo" id=""></div></div></div></div>',1);function JSe(i,r,l,h,y,w){return qh(),h0("div",KSe,[bu("div",qSe,[bu("h2",GSe,Bee(l.title),1),YSe]),XSe])}const QSe=Bte(ZSe,[["render",JSe]]),eEe={props:["project"],data(){return{isOpen:!1}},methods:{collapse(){this.isOpen=!this.isOpen}},mounted(){console.log(this.project)}},tEe={class:"container max-w-7xl mx-auto"},nEe=bu("p",{class:"font-semibold tracking-wide flex flex-row items-center"},[bu("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-8 w-8 mr-5"},[bu("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),bz(" BAUSTELLENINFORMATION ")],-1),oEe=[nEe],sEe={class:"prose mb-5"},rEe=["innerHTML"],iEe={"data-te-lightbox-init":"",class:"flex flex-wrap columns-6"},aEe={class:"h-full w-1/3 md:w-1/6 p-1"},cEe=["src","data-te-img","alt"];function lEe(i,r,l,h,y,w){return qh(),h0("div",tEe,[bu("div",{class:"bg-primary p-3 text-white hover:text-secondary flex justify-between hover:cursor-pointer",onClick:r[0]||(r[0]=(...E)=>w.collapse&&w.collapse(...E))},oEe),bu("div",sEe,[vce(bu("p",{innerHTML:l.project.project_details},null,8,rEe),[[gte,y.isOpen]])]),bu("div",iEe,[(qh(!0),h0(ul,null,ate(l.project.photos,E=>(qh(),h0("div",aEe,[bu("img",{src:"../storage/projects/thumbnails/"+E.photo_name,"data-te-img":"../storage/projects/"+E.photo_name,alt:l.project.project_name,class:"w-full cursor-zoom-in data-[te-lightbox-disabled]:cursor-auto"},null,8,cEe)]))),256))])])}const uEe=Bte(eEe,[["render",lEe]]),dEe={props:["id"],data(){return{photos:[],message:""}},methods:{getPhotos(){axios.get("/api/admin/getphotos/"+this.id).then(i=>{this.photos=i.data}).catch(function(i){alert(i)})},deletePhoto(i){axios.post("/api/admin/deletephoto/"+i).then(r=>{console.log(r.data),this.message=r.data.message,this.getPhotos()}).catch(function(r){alert(r)})}},mounted(){this.getPhotos()}},fEe={class:"container max-w-7xl mx-auto"},mEe={key:0,class:"text-white bg-orange-700 text-center my-5 p-3 w-32"},hEe={"data-te-lightbox-init":"",class:"flex flex-wrap columns-6"},pEe={class:"h-full w-1/3 md:w-1/6 p-1"},gEe=["src","data-te-img","alt"],bEe=["onClick"];function vEe(i,r,l,h,y,w){return qh(),h0("div",fEe,[y.message?(qh(),h0("p",mEe,Bee(y.message),1)):Ice("",!0),bu("div",hEe,[(qh(!0),h0(ul,null,ate(y.photos,E=>(qh(),h0("div",pEe,[bu("img",{src:"/storage/projects/thumbnails/"+E.photo_name,"data-te-img":"/storage/projects/"+E.photo_name,alt:E.photo_name,class:"w-full cursor-zoom-in data-[te-lightbox-disabled]:cursor-auto"},null,8,gEe),bu("button",{class:"bg-red-900 p-3 text-white rounded mt-2",onClick:ule(A=>w.deletePhoto(E.id),["prevent"])},"Delete ",8,bEe)]))),256))])])}const yEe=Bte(dEe,[["render",vEe]]),xz=ple({});xz.component("slider-component",QSe);xz.component("project-component",uEe);xz.component("photo-component",yEe);xz.mount("#app");N0e({Datepicker:Xve,Input:pa,Lightbox:T$});window.addEventListener("DOMContentLoaded",()=>{tinymce.init({selector:"textarea.tinyMce",skin:!1,theme:"silver",branding:!1,content_css:!1,plugins:"code link table lists",toolbar:"undo redo | blocks | bold italic | alignleft aligncenter alignright | indent outdent | bullist numlist | code | table"})});
